(()=>{var e,t,n,r,i={611:(e,t,n)=>{"use strict";n.d(t,{qZ:()=>Ae,fL:()=>We,kJ:()=>pe,$t:()=>Ye,Sy:()=>me,u0:()=>Le,yk:()=>Ee,Vy:()=>he,ae:()=>ue});n(8668),n(7293),n(4401),n(2271),n(5745),n(8116),n(3122),n(4233),n(1557),n(2358),n(9419),n(3395),n(5544),n(135),n(7863),n(5506),n(1399),n(2472),n(8898),n(3642),n(509),n(6986),n(1433),n(1e3),n(9020),n(752),n(2932),n(8956),n(8492),n(9837),n(4924);var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function a(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var s="3.4.2";function l(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function u(e){return!!e&&"function"==typeof e.then}function c(e,t){try{var n=e();u(n)?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}}function d(e,t,n){return void 0===n&&(n=16),i(this,void 0,void 0,(function(){var r,i,a,s;return o(this,(function(o){switch(o.label){case 0:r=Array(e.length),i=Date.now(),a=0,o.label=1;case 1:return a<e.length?(r[a]=t(e[a],a),(s=Date.now())>=i+n?(i=s,[4,l(0)]):[3,3]):[3,4];case 2:o.sent(),o.label=3;case 3:return++a,[3,1];case 4:return[2,r]}}))}))}function h(e){e.then(void 0,(function(){}))}function p(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function m(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function v(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function _(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function f(e,t){return[e[0]^t[0],e[1]^t[1]]}function g(e){return e=f(e,[0,e[0]>>>1]),e=f(e=m(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=f(e=m(e,[3301882366,444984403]),[0,e[0]>>>1])}function b(e,t){t=t||0;var n,r=(e=e||"").length%16,i=e.length-r,o=[0,t],a=[0,t],s=[0,0],l=[0,0],u=[2277735313,289559509],c=[1291169091,658871167];for(n=0;n<i;n+=16)s=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],l=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],s=v(s=m(s,u),31),o=p(o=v(o=f(o,s=m(s,c)),27),a),o=p(m(o,[0,5]),[0,1390208809]),l=v(l=m(l,c),33),a=p(a=v(a=f(a,l=m(l,u)),31),o),a=p(m(a,[0,5]),[0,944331445]);switch(s=[0,0],l=[0,0],r){case 15:l=f(l,_([0,e.charCodeAt(n+14)],48));case 14:l=f(l,_([0,e.charCodeAt(n+13)],40));case 13:l=f(l,_([0,e.charCodeAt(n+12)],32));case 12:l=f(l,_([0,e.charCodeAt(n+11)],24));case 11:l=f(l,_([0,e.charCodeAt(n+10)],16));case 10:l=f(l,_([0,e.charCodeAt(n+9)],8));case 9:l=m(l=f(l,[0,e.charCodeAt(n+8)]),c),a=f(a,l=m(l=v(l,33),u));case 8:s=f(s,_([0,e.charCodeAt(n+7)],56));case 7:s=f(s,_([0,e.charCodeAt(n+6)],48));case 6:s=f(s,_([0,e.charCodeAt(n+5)],40));case 5:s=f(s,_([0,e.charCodeAt(n+4)],32));case 4:s=f(s,_([0,e.charCodeAt(n+3)],24));case 3:s=f(s,_([0,e.charCodeAt(n+2)],16));case 2:s=f(s,_([0,e.charCodeAt(n+1)],8));case 1:s=m(s=f(s,[0,e.charCodeAt(n)]),u),o=f(o,s=m(s=v(s,31),c))}return o=p(o=f(o,[0,e.length]),a=f(a,[0,e.length])),a=p(a,o),o=p(o=g(o),a=g(a)),a=p(a,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}function y(e){return parseInt(e)}function E(e){return parseFloat(e)}function w(e,t){return"number"==typeof e&&isNaN(e)?t:e}function S(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function A(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function C(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function k(e){return"function"!=typeof e}function P(e,t,n){var r=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(n,e)})),a=d(r,(function(n){return function(e,t){var n=new Promise((function(n){var r=Date.now();c(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Date.now()-r;if(!e[0])return n((function(){return{error:C(e[1]),duration:i}}));var o=e[1];if(k(o))return n((function(){return{value:o,duration:i}}));n((function(){return new Promise((function(e){var t=Date.now();c(o,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=i+Date.now()-t;if(!n[0])return e({error:C(n[1]),duration:o});e({value:n[1],duration:o})}))}))}))}))}));return h(n),function(){return n.then((function(e){return e()}))}}(e[n],t)}));return h(a),function(){return i(this,void 0,void 0,(function(){var e,t,n,i;return o(this,(function(o){switch(o.label){case 0:return[4,a];case 1:return[4,d(o.sent(),(function(e){var t=e();return h(t),t}))];case 2:return e=o.sent(),[4,Promise.all(e)];case 3:for(t=o.sent(),n={},i=0;i<r.length;++i)n[r[i]]=t[i];return[2,n]}}))}))}}function I(){var e=window,t=navigator;return S(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function T(){var e=window,t=navigator;return S(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function x(){var e=window,t=navigator;return S(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function R(){var e=window;return S(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function L(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function O(){var e=T(),t=function(){var e,t,n=window;return S(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}();if(!e&&!t)return!1;var n=window;return S(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function N(e){var t=new Error(e);return t.name=e,t}function M(e,t,n){var r,a,s;return void 0===n&&(n=50),i(this,void 0,void 0,(function(){var i,u;return o(this,(function(o){switch(o.label){case 0:i=document,o.label=1;case 1:return i.body?[3,3]:[4,l(n)];case 2:return o.sent(),[3,1];case 3:u=i.createElement("iframe"),o.label=4;case 4:return o.trys.push([4,,10,11]),[4,new Promise((function(e,n){var r=!1,o=function(){r=!0,e()};u.onload=o,u.onerror=function(e){r=!0,n(e)};var a=u.style;a.setProperty("display","block","important"),a.position="absolute",a.top="0",a.left="0",a.visibility="hidden",t&&"srcdoc"in u?u.srcdoc=t:u.src="about:blank",i.body.appendChild(u);var s=function(){var e,t;r||("complete"===(null===(t=null===(e=u.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?o():setTimeout(s,10))};s()}))];case 5:o.sent(),o.label=6;case 6:return(null===(a=null===(r=u.contentWindow)||void 0===r?void 0:r.document)||void 0===a?void 0:a.body)?[3,8]:[4,l(n)];case 7:return o.sent(),[3,6];case 8:return[4,e(u,u.contentWindow)];case 9:return[2,o.sent()];case 10:return null===(s=u.parentNode)||void 0===s||s.removeChild(u),[7];case 11:return[2]}}))}))}function D(e){for(var t=function(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),i=/^\s*([a-z-]*)(.*)$/i.exec(e),o=i[1]||void 0,a={},s=/([.:#][\w-]+|\[.+?\])/gi,l=function(e,t){a[e]=a[e]||[],a[e].push(t)};;){var u=s.exec(i[2]);if(!u)break;var c=u[0];switch(c[0]){case".":l("class",c.slice(1));break;case"#":l("id",c.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(c);if(!d)throw new Error(r);l(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[o,a]}(e),n=t[0],r=t[1],i=document.createElement(null!=n?n:"div"),o=0,a=Object.keys(r);o<a.length;o++){var s=a[o],l=r[s].join(" ");"style"===s?B(i.style,l):i.setAttribute(s,l)}return i}function B(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(i);if(o){var a=o[1],s=o[2],l=o[4];e.setProperty(a,s,l||"")}}}var F=["monospace","sans-serif","serif"],H=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function V(e){return e.toDataURL()}var U,j;function W(){var e=this;return function(){if(void 0===j){var e=function(){var t=z();G(t)?j=setTimeout(e,2500):(U=t,j=void 0)};e()}}(),function(){return i(e,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return G(e=z())?U?[2,a([],U,!0)]:(n=document).fullscreenElement||n.msFullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement?[4,L()]:[3,2]:[3,2];case 1:t.sent(),e=z(),t.label=2;case 2:return G(e)||(U=e),[2,e]}var n}))}))}}function z(){var e=screen;return[w(E(e.availTop),null),w(E(e.width)-E(e.availWidth)-w(E(e.availLeft),0),null),w(E(e.height)-E(e.availHeight)-w(E(e.availTop),0),null),w(E(e.availLeft),null)]}function G(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function q(e){var t;return i(this,void 0,void 0,(function(){var n,r,i,a,s,u,c;return o(this,(function(o){switch(o.label){case 0:for(n=document,r=n.createElement("div"),i=new Array(e.length),a={},K(r),c=0;c<e.length;++c)"DIALOG"===(s=D(e[c])).tagName&&s.show(),K(u=n.createElement("div")),u.appendChild(s),r.appendChild(u),i[c]=s;o.label=1;case 1:return n.body?[3,3]:[4,l(50)];case 2:return o.sent(),[3,1];case 3:n.body.appendChild(r);try{for(c=0;c<e.length;++c)i[c].offsetParent||(a[e[c]]=!0)}finally{null===(t=r.parentNode)||void 0===t||t.removeChild(r)}return[2,a]}}))}))}function K(e){e.style.setProperty("display","block","important")}function Y(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function X(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function Q(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function Z(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function J(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var $=Math,ee=function(){return 0};var te={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var ne={fonts:function(){return M((function(e,t){var n=t.document,r=n.body;r.style.fontSize="48px";var i=n.createElement("div"),o={},a={},s=function(e){var t=n.createElement("span"),r=t.style;return r.position="absolute",r.top="0",r.left="0",r.fontFamily=e,t.textContent="mmMwWLliI0O&1",i.appendChild(t),t},l=F.map(s),u=function(){for(var e={},t=function(t){e[t]=F.map((function(e){return function(e,t){return s("'".concat(e,"',").concat(t))}(t,e)}))},n=0,r=H;n<r.length;n++){t(r[n])}return e}();r.appendChild(i);for(var c=0;c<F.length;c++)o[F[c]]=l[c].offsetWidth,a[F[c]]=l[c].offsetHeight;return H.filter((function(e){return t=u[e],F.some((function(e,n){return t[n].offsetWidth!==o[e]||t[n].offsetHeight!==a[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return i(this,void 0,void 0,(function(){var e,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return x()||O()?(s=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',s("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",s("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",s("LnNwb25zb3JpdA=="),".ylamainos",s("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",s("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",s("LmhlYWRlci1ibG9ja2VkLWFk"),s("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",s("I2FkXzMwMFgyNTA="),s("I2Jhbm5lcmZsb2F0MjI="),s("I2NhbXBhaWduLWJhbm5lcg=="),s("I0FkLUNvbnRlbnQ=")],adGuardChinese:[s("LlppX2FkX2FfSA=="),s("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",s("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),s("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",s("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",s("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",s("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),s("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),s("LmFkZ29vZ2xl"),s("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[s("YW1wLWF1dG8tYWRz"),s("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",s("I2FkX2ludmlld19hcmVh")],adGuardRussian:[s("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),s("LnJlY2xhbWE="),'div[id^="smi2adblock"]',s("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[s("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),s("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",s("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),s("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),s("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",s("I3Jla2xhbWk="),s("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),s("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),s("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[s("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",s("LndpZGdldF9wb19hZHNfd2lkZ2V0"),s("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",s("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[s("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),s("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",s("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",s("I3Jla2xhbW5pLWJveA=="),s("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",s("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[s("I2FkdmVydGVudGll"),s("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",s("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",s("LnNwb25zb3JsaW5rZ3J1ZW4="),s("I3dlcmJ1bmdza3k="),s("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),s("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[s("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",s("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[s("LnJla2xhbW9zX3RhcnBhcw=="),s("LnJla2xhbW9zX251b3JvZG9z"),s("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),s("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),s("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[s("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[s("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),s("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",s("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[s("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),s("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),s("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",s("LmFkX19tYWlu"),s("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[s("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[s("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),s("I2xpdmVyZUFkV3JhcHBlcg=="),s("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),s("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[s("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",s("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),s("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),s("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[s("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),s("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),s("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",s("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),s("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),s("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),s("ZGl2I3NrYXBpZWNfYWQ=")],ro:[s("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),s("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[s("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),s("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),s("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",s("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),s("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",s("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,q((a=[]).concat.apply(a,n.map((function(t){return e[t]}))))]):[2,void 0];case 1:return r=o.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];n+="\n".concat(o,":");for(var a=0,s=e[o];a<s.length;a++){var l=s[a];n+="\n  ".concat(t[l]?"ðŸš«":"âž¡ï¸"," ").concat(l)}}console.log("".concat(n,"\n```"))}(e,r),(i=n.filter((function(t){var n=e[t];return S(n.map((function(e){return r[e]})))>.6*n.length}))).sort(),[2,i]}var s}))}))},fontPreferences:function(){return function(e,t){void 0===t&&(t=4e3);return M((function(n,r){var i=r.document,o=i.body,s=o.style;s.width="".concat(t,"px"),s.webkitTextSizeAdjust=s.textSizeAdjust="none",T()?o.style.zoom="".concat(1/r.devicePixelRatio):x()&&(o.style.zoom="reset");var l=i.createElement("div");return l.textContent=a([],Array(t/20|0),!0).map((function(){return"word"})).join(" "),o.appendChild(l),e(i,o)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}((function(e,t){for(var n={},r={},i=0,o=Object.keys(te);i<o.length;i++){var a=o[i],s=te[a],l=s[0],u=void 0===l?{}:l,c=s[1],d=void 0===c?"mmMwWLliI0fiflO&1":c,h=e.createElement("span");h.textContent=d,h.style.whiteSpace="nowrap";for(var p=0,m=Object.keys(u);p<m.length;p++){var v=m[p],_=u[v];void 0!==_&&(h.style[v]=_)}n[a]=h,t.appendChild(e.createElement("br")),t.appendChild(h)}for(var f=0,g=Object.keys(te);f<g.length;f++){r[a=g[f]]=n[a].getBoundingClientRect().width}return r}))},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(x()&&!R()&&!function(){var e=window;return S(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),r=n.createOscillator();r.type="triangle",r.frequency.value=1e4;var i=n.createDynamicsCompressor();i.threshold.value=-50,i.knee.value=40,i.ratio.value=12,i.attack.value=0,i.release.value=.25,r.connect(i),i.connect(n.destination),r.start(0);var o=function(e){var t=3,n=500,r=500,i=5e3,o=function(){},a=new Promise((function(a,s){var l=!1,c=0,d=0;e.oncomplete=function(e){return a(e.renderedBuffer)};var p=function(){setTimeout((function(){return s(N("timeout"))}),Math.min(r,d+i-Date.now()))},m=function(){try{var r=e.startRendering();switch(u(r)&&h(r),e.state){case"running":d=Date.now(),l&&p();break;case"suspended":document.hidden||c++,l&&c>=t?s(N("suspended")):setTimeout(m,n)}}catch(e){s(e)}};m(),o=function(){l||(l=!0,d>0&&p())}}));return[a,o]}(n),a=o[0],s=o[1],l=a.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return h(l),function(){return s(),l}},screenFrame:function(){var e=this,t=W();return function(){return i(e,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,[(n=function(e){return null===e?null:A(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],r=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==r&&n.push([r]),Array.isArray(t.languages))T()&&S([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var i=t.languages;i&&n.push(i.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return w(E(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return w(y(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return w(y(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,i=(r=(new Date).getFullYear(),-Math.max(E(new Date(r,0,1).getTimezoneOffset()),E(new Date(r,6,1).getTimezoneOffset())));return"UTC".concat(i>=0?"+":"").concat(Math.abs(i))},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){var e,t;if(!(I()||(e=window,t=navigator,S(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!I())))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&x()&&!R()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return S(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var i=[],o=0;o<r.length;++o){var a=r[o];i.push({type:a.type,suffixes:a.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:i})}}return t}},canvas:function(){var e,t,n=!1,r=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),i=r[0],o=r[1];if(function(e,t){return!(!t||!e.toDataURL)}(i,o)){n=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(o),function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(i,o);var a=V(i);a!==V(i)?e=t="unstable":(t=a,function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var i=r[n],o=i[0],a=i[1],s=i[2];t.fillStyle=o,t.beginPath(),t.arc(a,s,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(i,o),e=V(i))}else e=t="";return{winding:n,geometry:e,text:t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=y(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],i=window[r];i&&"object"==typeof i&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!Y("inverted")||!Y("none")&&void 0},forcedColors:function(){return!!X("active")||!X("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return Q("no-preference")?0:Q("high")||Q("more")?1:Q("low")||Q("less")?-1:Q("forced")?10:void 0},reducedMotion:function(){return!!Z("reduce")||!Z("no-preference")&&void 0},hdr:function(){return!!J("high")||!J("standard")&&void 0},math:function(){var e,t=$.acos||ee,n=$.acosh||ee,r=$.asin||ee,i=$.asinh||ee,o=$.atanh||ee,a=$.atan||ee,s=$.sin||ee,l=$.sinh||ee,u=$.cos||ee,c=$.cosh||ee,d=$.tan||ee,h=$.tanh||ee,p=$.exp||ee,m=$.expm1||ee,v=$.log1p||ee;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,$.log(e+$.sqrt(e*e-1))),asin:r(.12312423423423424),asinh:i(1),asinhPf:function(e){return $.log(e+$.sqrt(e*e+1))}(1),atanh:o(.5),atanhPf:function(e){return $.log((1+e)/(1-e))/2}(.5),atan:a(.5),sin:s(-1e300),sinh:l(1),sinhPf:function(e){return $.exp(e)-1/$.exp(e)/2}(1),cos:u(10.000000000123),cosh:c(1),coshPf:function(e){return($.exp(e)+1/$.exp(e))/2}(1),tan:d(-1e300),tanh:h(1),tanhPf:function(e){return($.exp(2*e)-1)/($.exp(2*e)+1)}(1),exp:p(1),expm1:m(1),expm1Pf:function(e){return $.exp(e)-1}(1),log1p:v(10),log1pPf:function(e){return $.log(1+e)}(10),powPI:function(e){return $.pow($.PI,e)}(-100)}},videoCard:function(){var e,t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getExtension"in n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r)return{vendor:(n.getParameter(r.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}};function re(e){var t=function(e){if(O())return.4;if(x())return R()?.5:.3;var t=e.platform.value||"";if(/^Win/.test(t))return.6;if(/^Mac/.test(t))return.5;return.7}(e),n=function(e){return A(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,"".concat(n))}}function ie(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?r({name:(n=t).name,message:n.message,stack:null===(i=n.stack)||void 0===i?void 0:i.split("\n")},n):t;var n,i}),2)}function oe(e){return b(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var i=r[n],o=e[i],a=o.error?"error":JSON.stringify(o.value);t+="".concat(t?"|":"").concat(i.replace(/([:|\\])/g,"\\$1"),":").concat(a)}return t}(e))}function ae(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):l(Math.min(e,t))}(e,2*e)}function se(e,t){var n=Date.now();return{get:function(r){return i(this,void 0,void 0,(function(){var i,a,l;return o(this,(function(o){switch(o.label){case 0:return i=Date.now(),[4,e()];case 1:return a=o.sent(),l=function(e){var t,n=re(e);return{get visitorId(){return void 0===t&&(t=oe(this.components)),t},set visitorId(e){t=e},confidence:n,components:e,version:s}}(a),(t||(null==r?void 0:r.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(l.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(i-n,"\nvisitorId: ").concat(l.visitorId,"\ncomponents: ").concat(ie(a),"\n```")),[2,l]}}))}))}}}var le={load:function(e){var t=void 0===e?{}:e,n=t.delayFallback,r=t.debug,a=t.monitoring,l=void 0===a||a;return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return l&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(s,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),[4,ae(n)];case 1:return e.sent(),[2,se(P(ne,{debug:r},[]),r)]}}))}))},hashComponents:oe,componentsToDebugString:ie};const ue={getItem:e=>{try{return localStorage.getItem(e)}catch(e){console.error(e)}},setItem:(e,t)=>{try{return localStorage.setItem(e,String(t))}catch(e){console.error(e)}}},ce="fingerprintId";let de="fingerprint-not-initialized";const he=async()=>{const e=ue.getItem(ce);if(e)return void(de=e);const t=await le.load(),n=await t.get();de=n.visitorId,ue.setItem(ce,de)},pe=()=>ue.getItem(ce)||de;n(8471);const me=e=>{if(!e)return 0;const[t,n,r]=e.trim().split(":").reverse();return+t+60*+n+(r?3600*+r:0)};var ve=n(7180),_e=n(4766);const fe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rutube.ru";const t="undefined"!=typeof location&&location.hostname?location.hostname:e,n=t.split(".");return n.length>2?["",...n.slice(-2)].join("."):".".concat(t)},ge=e=>{let t=!1;return function(){t||(t=!0,e(...arguments))}},be=e=>{const t=fe(),n=!0;ve.A.set("uuid",e,{expires:400,path:"/",secure:n,sameSite:"none",domain:t})},ye=ge(be),Ee=()=>{let e=ve.A.get("uuid");return e?(ye(e),e):(e=(0,_e.A)(),be(e),e)},we=["pub_300x250","pub_300x250m","pub_728x90","text-ad","textAd","text_ad","text_ads","text-ads","text-ad-links","ad-text","adSense","adBlock","adContent","adBanner"],Se=()=>{const e=(()=>{const e=document.createElement("div");return e.setAttribute("class",we.join(" ")),e.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),e})();window.document.body.appendChild(e);const t=(e=>{if(null===e.offsetParent||0===e.offsetHeight||0===e.offsetLeft||0===e.offsetTop||0===e.offsetWidth||0===e.clientHeight||0===e.clientWidth)return!0;if(void 0!==window.getComputedStyle){const t=window.getComputedStyle(e,null);if(t&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility")))return!0}return!1})(e);return window.document.body.removeChild(e),t},Ae=async e=>{const t=Se();return t||function(){return fetch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/static/img/png/adsdkbanner.png").then((function(){return!1})).catch((function(){return!0}))}(e)};var Ce=n(2412),ke=n.n(Ce);class Pe{constructor(e){this.name=e}read(){return ve.A.get(this.name)}write(e,t){const n=fe();ve.A.set(this.name,e,{expires:t,sameSite:"None",secure:!0,domain:n})}}class Ie{constructor(e){this.name=e}static parseValue(e){if(null==e)return null;try{const t=JSON.parse(e);return null!=t&&"string"==typeof t.value&&"string"==typeof t.expires?{value:t.value,expires:t.expires}:null}catch(e){return null}}static stringifyValue(e){return JSON.stringify(e)}safeGet(){try{return localStorage.getItem(this.name)}catch(e){return null}}read(){const e=Ie.parseValue(this.safeGet());if(null==e)return;const t=ke()(e.expires);return!t.isValid()||t.isBefore(new Date)?void 0:e.value}write(e,t){ue.setItem(this.name,Ie.stringifyValue({value:e,expires:t.toISOString()}))}getExpires(){var e;return null===(e=Ie.parseValue(this.safeGet()))||void 0===e?void 0:e.expires}}class Te{constructor(e){this._value=void 0,this._expires=null,this.name=e}read(){const e=ke()(this._expires);if(!(!e.isValid()||e.isBefore(new Date)))return this._value}write(e,t){this._value=e,this._expires=t}}const xe=(e,t)=>{const n=(e=>"".concat(e,"_").concat(Date.now()))(e);return t(n),n},Re="session_id",Le=(()=>{const e=new Te(Re);return(t,n)=>{const r=[new Pe(Re),new Ie(Re),e],i=r.map((e=>e.read())).find((e=>e)),o=null!=i?i:xe(t,n),a=(s=1800,ke()().add(s,"second").toDate());var s;return r.forEach((e=>{e.write(o,a)})),o}})(),Oe="cid",Ne=/^\d{20}$/,Me=()=>{const e="undefined"!=typeof document&&document.cookie||"",t=e.split("; ").filter((e=>e.trim().startsWith("".concat(Oe,"=")))).map((e=>e.split("=")[1])).filter((e=>Ne.test(e)));if(t.length){const e=fe(),n=e.substring(1);if(ve.A.remove(Oe),ve.A.remove(Oe,{domain:n}),t.length>1){const n=(e=>e.reduce(((e,t)=>{const n=Number(e.substring(e.length-10));return Number(t.substring(t.length-10))<n?t:e})))(t);ve.A.set(Oe,n,{expires:400,sameSite:"None",secure:!0,domain:e})}}},De="cid";class Be{constructor(e){this.name=e}read(){return ve.A.get(this.name)}write(e){const t=fe();ve.A.set(this.name,e,{expires:400,sameSite:"None",secure:!0,domain:t})}}class Fe{constructor(e){this.name=e}read(){var e;return null!==(e=ue.getItem(this.name))&&void 0!==e?e:void 0}write(e){ue.setItem(this.name,e)}}class He{constructor(e){this._value=void 0,this.name=e}read(){var e;return null!==(e=this._value)&&void 0!==e?e:void 0}write(e){this._value=e}}const Ve=e=>{const t=[Math.trunc(Math.random()*Math.pow(10,10)),Math.trunc(Date.now()/1e3)].join("");return"function"==typeof e&&e(t),t},Ue=(()=>{const e=new He(De);return t=>{Me();const n=new Be(De),r=new Fe(De),i=n.read(),o=r.read(),a=e.read();if(!i&&!o&&!a){const i=Ve(t);return r.write(i),n.write(i),e.write(i),i}return!a||i||o?i&&o&&i!==o?(r.write(i),e.write(i),i):o&&!i?(n.write(o),e.write(o),o):i&&!o?(r.write(i),e.write(i),i):i:a}})(),je=ge((e=>{const t=fe();ve.A.set(De,e,{expires:400,sameSite:"None",secure:!0,domain:t})})),We=()=>{const e=Ue();return je(e),e};n(9067),n(8717);class ze{constructor(e){this.name=e}read(){try{return this.storage.getItem(this.name)}catch(e){return console.error("Can't read ".concat(this.name," from ").concat(this.type,"Storage")),null}}write(e){try{this.storage.setItem(this.name,e)}catch(e){console.error("Can't write ".concat(this.name," to ").concat(this.type,"Storage"))}}remove(){try{this.storage.removeItem(this.name)}catch(e){console.error("Can't remove ".concat(this.name," from ").concat(this.type,"Storage"))}}}class Ge extends ze{get storage(){return localStorage}constructor(e){super(e),this.type="local",this.name=e}}class qe extends ze{get storage(){return sessionStorage}constructor(e){super(e),this.type="session",this.name=e}}const Ke=new class{constructor(){this.get=()=>{const e=this.read(),t=this.pageLoadInitialized.read()?e:e+1;return Math.max(t,0).toString()},this.increase=()=>{this.pageLoadInitialized.write("1"),this.write("".concat(this.read()+1))},this.reset=()=>{this.pageLoadInitialized.remove()},this.read=()=>(this.refreshSession(),Number(this.pageLoadCountItem.read()||"-1")),this.write=e=>{this.pageLoadCountItem.write(e)},this.refreshSession=()=>{const e=We(),t=Le(e,(e=>console.info("New session_id generated. sessionId: '".concat(e,"'"))));this.pageLoadSessionIdItem.read()!==t&&(this.pageLoadSessionIdItem.write(t),this.write(this.pageLoadInitialized.read()?"0":"-1"))},this.pageLoadSessionIdItem=new Ge("pageLoadSessionId"),this.pageLoadCountItem=new Ge("pageLoadCount"),this.pageLoadInitialized=new qe("pageLoadInitialized")}},Ye=()=>Ke.get()},1871:(e,t,n)=>{"use strict";n.d(t,{e0:()=>Be,m0:()=>Re});var r=n(9067),i=(n(7293),n(752),n(9845)),o=n(451),a=n.n(o),s=n(8717),l=n(8572);n(4401);function u(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function c(e){return e instanceof u(e).Element||e instanceof Element}function d(e){return e instanceof u(e).HTMLElement||e instanceof HTMLElement}function h(e){return"undefined"!=typeof ShadowRoot&&(e instanceof u(e).ShadowRoot||e instanceof ShadowRoot)}var p=Math.max,m=Math.min,v=Math.round;n(2358);function _(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function f(){return!/^((?!chrome|android).)*safari/i.test(_())}function g(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&d(e)&&(i=e.offsetWidth>0&&v(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&v(r.height)/e.offsetHeight||1);var a=(c(e)?u(e):window).visualViewport,s=!f()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/i,h=(r.top+(s&&a?a.offsetTop:0))/o,p=r.width/i,m=r.height/o;return{width:p,height:m,top:h,right:l+p,bottom:h+m,left:l,x:l,y:h}}function b(e){var t=u(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function y(e){return e?(e.nodeName||"").toLowerCase():null}function E(e){return((c(e)?e.ownerDocument:e.document)||window.document).documentElement}function w(e){return g(E(e)).left+b(e).scrollLeft}function S(e){return u(e).getComputedStyle(e)}function A(e){var t=S(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function C(e,t,n){void 0===n&&(n=!1);var r,i,o=d(t),a=d(t)&&function(e){var t=e.getBoundingClientRect(),n=v(t.width)/e.offsetWidth||1,r=v(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=E(t),l=g(e,a,n),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!n)&&(("body"!==y(t)||A(s))&&(c=(r=t)!==u(r)&&d(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:b(r)),d(t)?((h=g(t,!0)).x+=t.clientLeft,h.y+=t.clientTop):s&&(h.x=w(s))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function k(e){var t=g(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function P(e){return"html"===y(e)?e:e.assignedSlot||e.parentNode||(h(e)?e.host:null)||E(e)}function I(e){return["html","body","#document"].indexOf(y(e))>=0?e.ownerDocument.body:d(e)&&A(e)?e:I(P(e))}function T(e,t){var n;void 0===t&&(t=[]);var r=I(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=u(r),a=i?[o].concat(o.visualViewport||[],A(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(T(P(a)))}function x(e){return["table","td","th"].indexOf(y(e))>=0}function R(e){return d(e)&&"fixed"!==S(e).position?e.offsetParent:null}function L(e){for(var t=u(e),n=R(e);n&&x(n)&&"static"===S(n).position;)n=R(n);return n&&("html"===y(n)||"body"===y(n)&&"static"===S(n).position)?t:n||function(e){var t=/firefox/i.test(_());if(/Trident/i.test(_())&&d(e)&&"fixed"===S(e).position)return null;var n=P(e);for(h(n)&&(n=n.host);d(n)&&["html","body"].indexOf(y(n))<0;){var r=S(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446);var O="top",N="bottom",M="right",D="left",B="auto",F=[O,N,M,D],H="start",V="end",U="viewport",j="popper",W=F.reduce((function(e,t){return e.concat([t+"-"+H,t+"-"+V])}),[]),z=[].concat(F,[B]).reduce((function(e,t){return e.concat([t,t+"-"+H,t+"-"+V])}),[]),G=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function q(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var K={placement:"bottom",modifiers:[],strategy:"absolute"};function Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function X(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?K:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},K,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,d={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;h(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:c(e)?T(e):e.contextElement?T(e.contextElement):[],popper:T(t)};var a,u,p=function(e){var t=q(e);return G.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(r,s.options.modifiers),u=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return s.orderedModifiers=p.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:d,options:r}),a=function(){};l.push(o||a)}})),d.update()},forceUpdate:function(){if(!u){var e=s.elements,t=e.reference,n=e.popper;if(Y(t,n)){s.rects={reference:C(t,L(n),"fixed"===s.options.strategy),popper:k(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,l=void 0===a?{}:a,c=i.name;"function"==typeof o&&(s=o({state:s,options:l,name:c,instance:d})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){h(),u=!0}};if(!Y(e,t))return d;function h(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var Q={passive:!0};const Z={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=u(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Q)})),s&&l.addEventListener("resize",n.update,Q),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Q)})),s&&l.removeEventListener("resize",n.update,Q)}},data:{}};function J(e){return e.split("-")[0]}function $(e){return e.split("-")[1]}function ee(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function te(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?J(i):null,a=i?$(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case O:t={x:s,y:n.y-r.height};break;case N:t={x:s,y:n.y+n.height};break;case M:t={x:n.x+n.width,y:l};break;case D:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?ee(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case H:t[u]=t[u]-(n[c]/2-r[c]/2);break;case V:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}const ne={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=te({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var re={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ie(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,h=e.isFixed,p=a.x,m=void 0===p?0:p,_=a.y,f=void 0===_?0:_,g="function"==typeof d?d({x:m,y:f}):{x:m,y:f};m=g.x,f=g.y;var b=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),w=D,A=O,C=window;if(c){var k=L(n),P="clientHeight",I="clientWidth";if(k===u(n)&&"static"!==S(k=E(n)).position&&"absolute"===s&&(P="scrollHeight",I="scrollWidth"),i===O||(i===D||i===M)&&o===V)A=N,f-=(h&&k===C&&C.visualViewport?C.visualViewport.height:k[P])-r.height,f*=l?1:-1;if(i===D||(i===O||i===N)&&o===V)w=M,m-=(h&&k===C&&C.visualViewport?C.visualViewport.width:k[I])-r.width,m*=l?1:-1}var T,x=Object.assign({position:s},c&&re),R=!0===d?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:v(n*i)/i||0,y:v(r*i)/i||0}}({x:m,y:f},u(n)):{x:m,y:f};return m=R.x,f=R.y,l?Object.assign({},x,((T={})[A]=y?"0":"",T[w]=b?"0":"",T.transform=(C.devicePixelRatio||1)<=1?"translate("+m+"px, "+f+"px)":"translate3d("+m+"px, "+f+"px, 0)",T)):Object.assign({},x,((t={})[A]=y?f+"px":"",t[w]=b?m+"px":"",t.transform="",t))}const oe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:J(t.placement),variation:$(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ie(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ie(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const ae={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];d(i)&&y(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});d(r)&&y(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const se={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=z.reduce((function(e,n){return e[n]=function(e,t,n){var r=J(e),i=[D,O].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[D,M].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}};n(9419);var le={left:"right",right:"left",bottom:"top",top:"bottom"};function ue(e){return e.replace(/left|right|bottom|top/g,(function(e){return le[e]}))}var ce={start:"end",end:"start"};function de(e){return e.replace(/start|end/g,(function(e){return ce[e]}))}function he(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&h(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function pe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function me(e,t,n){return t===U?pe(function(e,t){var n=u(e),r=E(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=f();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+w(e),y:l}}(e,n)):c(t)?function(e,t){var n=g(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):pe(function(e){var t,n=E(e),r=b(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=p(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=p(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+w(e),l=-r.scrollTop;return"rtl"===S(i||n).direction&&(s+=p(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(E(e)))}function ve(e,t,n,r){var i="clippingParents"===t?function(e){var t=T(P(e)),n=["absolute","fixed"].indexOf(S(e).position)>=0&&d(e)?L(e):e;return c(n)?t.filter((function(e){return c(e)&&he(e,n)&&"body"!==y(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=me(e,n,r);return t.top=p(i.top,t.top),t.right=m(i.right,t.right),t.bottom=m(i.bottom,t.bottom),t.left=p(i.left,t.left),t}),me(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function _e(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function fe(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ge(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?"clippingParents":s,u=n.rootBoundary,d=void 0===u?U:u,h=n.elementContext,p=void 0===h?j:h,m=n.altBoundary,v=void 0!==m&&m,_=n.padding,f=void 0===_?0:_,b=_e("number"!=typeof f?f:fe(f,F)),y=p===j?"reference":j,w=e.rects.popper,S=e.elements[v?y:p],A=ve(c(S)?S:S.contextElement||E(e.elements.popper),l,d,a),C=g(e.elements.reference),k=te({reference:C,element:w,strategy:"absolute",placement:i}),P=pe(Object.assign({},w,k)),I=p===j?P:C,T={top:A.top-I.top+b.top,bottom:I.bottom-A.bottom+b.bottom,left:A.left-I.left+b.left,right:I.right-A.right+b.right},x=e.modifiersData.offset;if(p===j&&x){var R=x[i];Object.keys(T).forEach((function(e){var t=[M,N].indexOf(e)>=0?1:-1,n=[O,N].indexOf(e)>=0?"y":"x";T[e]+=R[n]*t}))}return T}n(5745);function be(e,t,n){return p(e,m(t,n))}const ye={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,v=void 0===h||h,_=n.tetherOffset,f=void 0===_?0:_,g=ge(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),b=J(t.placement),y=$(t.placement),E=!y,w=ee(b),S="x"===w?"y":"x",A=t.modifiersData.popperOffsets,C=t.rects.reference,P=t.rects.popper,I="function"==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,T="number"==typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(A){if(o){var B,F="y"===w?O:D,V="y"===w?N:M,U="y"===w?"height":"width",j=A[w],W=j+g[F],z=j-g[V],G=v?-P[U]/2:0,q=y===H?C[U]:P[U],K=y===H?-P[U]:-C[U],Y=t.elements.arrow,X=v&&Y?k(Y):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Z=Q[F],te=Q[V],ne=be(0,C[U],X[U]),re=E?C[U]/2-G-ne-Z-T.mainAxis:q-ne-Z-T.mainAxis,ie=E?-C[U]/2+G+ne+te+T.mainAxis:K+ne+te+T.mainAxis,oe=t.elements.arrow&&L(t.elements.arrow),ae=oe?"y"===w?oe.clientTop||0:oe.clientLeft||0:0,se=null!=(B=null==x?void 0:x[w])?B:0,le=j+ie-se,ue=be(v?m(W,j+re-se-ae):W,j,v?p(z,le):z);A[w]=ue,R[w]=ue-j}if(s){var ce,de="x"===w?O:D,he="x"===w?N:M,pe=A[S],me="y"===S?"height":"width",ve=pe+g[de],_e=pe-g[he],fe=-1!==[O,D].indexOf(b),ye=null!=(ce=null==x?void 0:x[S])?ce:0,Ee=fe?ve:pe-C[me]-P[me]-ye+T.altAxis,we=fe?pe+C[me]+P[me]-ye-T.altAxis:_e,Se=v&&fe?function(e,t,n){var r=be(e,t,n);return r>n?n:r}(Ee,pe,we):be(v?Ee:ve,pe,v?we:_e);A[S]=Se,R[S]=Se-pe}t.modifiersData[r]=R}},requiresIfExists:["offset"]};const Ee={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=J(n.placement),l=ee(s),u=[D,M].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(e,t){return _e("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:fe(e,F))}(i.padding,n),d=k(o),h="y"===l?O:D,p="y"===l?N:M,m=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],v=a[l]-n.rects.reference[l],_=L(o),f=_?"y"===l?_.clientHeight||0:_.clientWidth||0:0,g=m/2-v/2,b=c[h],y=f-d[u]-c[p],E=f/2-d[u]/2+g,w=be(b,E,y),S=l;n.modifiersData[r]=((t={})[S]=w,t.centerOffset=w-E,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&he(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function we(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Se(e){return[O,M,N,D].some((function(t){return e[t]>=0}))}var Ae=X({defaultModifiers:[Z,ne,oe,ae,se,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=void 0===p||p,v=n.allowedAutoPlacements,_=t.options.placement,f=J(_),g=l||(f===_||!m?[ue(_)]:function(e){if(J(e)===B)return[];var t=ue(e);return[de(e),t,de(t)]}(_)),b=[_].concat(g).reduce((function(e,n){return e.concat(J(n)===B?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?z:l,c=$(r),d=c?s?W:W.filter((function(e){return $(e)===c})):F,h=d.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=ge(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[J(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:v}):n)}),[]),y=t.rects.reference,E=t.rects.popper,w=new Map,S=!0,A=b[0],C=0;C<b.length;C++){var k=b[C],P=J(k),I=$(k)===H,T=[O,N].indexOf(P)>=0,x=T?"width":"height",R=ge(t,{placement:k,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),L=T?I?M:D:I?N:O;y[x]>E[x]&&(L=ue(L));var V=ue(L),U=[];if(o&&U.push(R[P]<=0),s&&U.push(R[L]<=0,R[V]<=0),U.every((function(e){return e}))){A=k,S=!1;break}w.set(k,U)}if(S)for(var j=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return A=t,"break"},G=m?3:1;G>0;G--){if("break"===j(G))break}t.placement!==A&&(t.modifiersData[r]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},ye,Ee,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=ge(t,{elementContext:"reference"}),s=ge(t,{altBoundary:!0}),l=we(a,r),u=we(s,i,o),c=Se(l),d=Se(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),Ce=n(9712),ke=n.n(Ce),Pe=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},Ie="undefined"!=typeof window&&window.document&&window.document.createElement?s.useLayoutEffect:s.useEffect,Te=[],xe="freyja_char-popper-portal__popperWrapper_LgNXT";const Re={dropdown:"dropdown",tooltip:"tooltip"},Le={dropdown:200,tooltip:300},Oe={charPopperZIndexMap:Le,visibleTooltip:{},showTooltip:e=>{},hideTooltip:e=>{}},Ne=s.createContext(Oe),Me={position:"fixed",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"space-around",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.7)"},De=e=>{let{children:t,container:n}=e;const r=(0,s.useMemo)((()=>document.createElement("div")),[]);return(0,s.useEffect)((()=>{const e=n||document.body;return e.appendChild(r),()=>{e.removeChild(r)}}),[r,n]),(0,l.createPortal)(t,r)},Be=e=>{let{renderPopperElements:t,popperElements:n,isPopperShown:o,children:u,popperOptions:c,hidePopperOnHidingElement:d=!0,popperKey:h,customPopperZIndex:p,anchorRef:m,anchorElement:v,portal:_=!0,portalContainer:f,instanceRef:g,centered:b}=e;const[y,E]=(0,s.useState)(null),w=function(e,t,n){void 0===n&&(n={});var r=s.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Te},o=s.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],u=o[1],c=s.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);l.flushSync((function(){u({styles:Pe(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Pe(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),d=s.useMemo((function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[c,{name:"applyStyles",enabled:!1}])};return ke()(r.current,e)?r.current||e:(r.current=e,e)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,c]),h=s.useRef();return Ie((function(){h.current&&h.current.setOptions(d)}),[d]),Ie((function(){if(null!=e&&null!=t){var r=(n.createPopper||Ae)(e,t,d);return h.current=r,function(){r.destroy(),h.current=null}}}),[e,t,n.createPopper]),{state:h.current?h.current.state:null,styles:a.styles,attributes:a.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}}(v||(null==m?void 0:m.current),y,c),{styles:S,attributes:A}=w,{charPopperZIndexMap:C}=(0,s.useContext)(Ne);(0,s.useImperativeHandle)(g,(()=>w),[w]);let k=(0,r.A)((0,r.A)({},S.popper),{},{zIndex:null!=p?p:null==C?void 0:C[h]});b&&(k=(0,r.A)((0,r.A)({},k),Me));const P=()=>{var e;return s.createElement("div",(0,i.A)({className:a()({[xe]:d}),ref:E,style:k},A.popper),!!n&&n,!!t&&t({placement:null===(e=w.state)||void 0===e?void 0:e.placement,styles:S,attributes:A}))};return s.createElement(s.Fragment,null,u,o&&(_?s.createElement(De,{container:f},P()):P()))}},7283:(e,t,n)=>{"use strict";n.d(t,{a3:()=>l,fU:()=>s});n(4401),n(2358),n(9419),n(8471);var r=n(2412),i=n.n(r),o=n(6187),a=n.n(o);i().extend(a());const s=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t?"".concat(t," Ñ‡. ").concat(n," Ð¼Ð¸Ð½."):"".concat(n," Ð¼Ð¸Ð½.")};const l=e=>{let{value:t}=e;const n=t>=0?t:0,r=[1,60,3600];let i=Math.floor(n);const o=[0,0,0];for(let e=r.length-1;e>=0;e--)o[e]=Math.floor(i/r[e]),i%=r[e];return 0===o[2]&&o.pop(),o.reduceRight(((e,t)=>(e.push((e=>e>9?e.toString():"0".concat(e))(t)),e)),[]).join(":")}},3052:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});n(2358);const r=new class{constructor(e){this.externalUserAgent=e}get userAgent(){return this.externalUserAgent?this.externalUserAgent:"object"==typeof window?navigator.userAgent:""}get isAndroid(){return/Android/i.test(this.userAgent)}get isBlackBerry(){return/BlackBerry/i.test(this.userAgent)}get isiOSMobile(){const e="object"==typeof window&&navigator.maxTouchPoints>2;return/iPhone|iPad|iPod/i.test(this.userAgent)||/Macintosh/i.test(this.userAgent)&&e}get isOperaMini(){return/Opera Mini/i.test(this.userAgent)}get isHarmony(){return/HarmonyOS|Harmony|Huawei|HUAWEI|HuaweiBrowser|haowangzhi/i.test(this.userAgent)}get isFirefox(){return/Firefox/i.test(this.userAgent)}get isMobile(){return this.isAndroid||this.isBlackBerry||this.isiOSMobile||this.isHarmony||this.isOperaMini}}},5126:(e,t,n)=>{"use strict";n.d(t,{L0:()=>a,Ju:()=>o,Qf:()=>i,Wr:()=>s,cV:()=>l});n(752);var r=n(8717);const i=e=>{const t=e=>"object"==typeof window&&window.matchMedia(e).matches,[n,i]=(0,r.useState)(t(e));return(0,r.useEffect)((()=>{const n=()=>{i(t(e))};if(n(),"object"==typeof window)return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[e]),n},o=()=>(0,r.useMemo)((()=>"ontouchstart"in window||navigator.maxTouchPoints>0),[]),a=()=>i("(max-width: ".concat(1023,"px)"));function s(e,t,n){r.useEffect((()=>{const r=r=>{!e.current||e.current.contains(r.target)||null!=n&&n(r)||t(r)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}}),[e,t,n])}const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const n=(0,r.useRef)(),[i,o]=(0,r.useState)(e);(0,r.useEffect)((()=>()=>(null==n?void 0:n.current)&&clearTimeout(n.current)),[]);return[i,r=>(null!=n&&n.current&&clearTimeout(n.current),n.current=setTimeout((()=>o(e)),t),o(r))]}},5252:(e,t,n)=>{"use strict";n.d(t,{Jo:()=>p,bJ:()=>h});var r=n(9067),i=(n(7293),n(5745),n(1631),n(914),n(2358),n(9419),n(752),n(8717));const o={collectIcon:()=>null},a=(0,i.createContext)(o),s="__RUTUBE_SVG_STORE",l={height:"0px",position:"absolute"},u="undefined"==typeof window,c=e=>Object.keys(e).sort().map((t=>'<symbol key="'.concat(t,'" id="').concat(t,'">').concat(null==e?void 0:e[t],"</symbol>"))).join(""),d=e=>'<svg id="'.concat(s,'" style="height:0px;position:absolute">').concat(c(e),"</svg>"),h=e=>{let{SSRIconsCache:t,children:n}=e;const[o,d]=(0,i.useState)((()=>!u&&(()=>{const e=document.getElementById(s);return e?Array.from(e.childNodes).reduce(((e,t)=>{const n=t.getAttribute("id");return n&&(e[n]=t.innerHTML),e}),{}):{}})()||{})),h=u?t||{}:o,p=(0,i.useMemo)((()=>({collectIcon:(e,n)=>{u&&t?t[e]=n:o[e]||d((t=>(0,r.A)((0,r.A)({},t),{},{[e]:n})))}})),[]),m=(0,i.useMemo)((()=>c(h)),[h]);return i.createElement(a.Provider,{value:p},i.createElement("svg",{id:s,style:l,dangerouslySetInnerHTML:{__html:m}}),n)},p=()=>{const e=(0,i.useContext)(a);if(!e)throw new Error("IconsContext must be used within IconsRoot.");return e};new RegExp(d({}))},2540:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(9067),i=n(1824),o=n(451),a=n.n(o),s=n(8717),l=n(5252);const u=["__value","color","style","type","name","size","noHover","className"],c="undefined"==typeof window,d={giant:32,extralarge:28,large:24,middle:18,middlesmall:16,small:15,smaller:12,extrasmall:9},h=(0,s.forwardRef)(((e,t)=>{const{__value:n,color:o=null,style:h,type:p,name:m,size:v="large",noHover:_,className:f}=e,g=(0,i.A)(e,u),{collectIcon:b}=(0,l.Jo)(),y=m.startsWith("IconDs"),E=a()("svg-ds-icon","svg-icon--".concat(m),"svg-icon--size",f),w=a()("svg-icon","svg-icon--".concat(m),"svg-icon--size",f,{"svg-icon--no-hover":!!_,["svg-icon--type-".concat(p)]:p}),S=y?E:w,A=(0,s.useMemo)((()=>{const e=(0,r.A)({},null!=h?h:{});switch(o&&(e.color=o),!0){case v in d:e["--rutube-icon-custom-size"]="".concat(d[v],"px");break;case"number"==typeof v:e["--rutube-icon-custom-size"]="".concat(v,"px");break;case"string"==typeof v&&isNaN(Number(v)):e["--rutube-icon-custom-size"]=String(v)}return e}),[o,h,v]);return c&&b(m,n),(0,s.useEffect)((()=>{b(m,n)}),[m]),s.createElement("svg",(0,r.A)((0,r.A)({style:A,className:S},g),{},{ref:t}),s.createElement("use",{xlinkHref:"#".concat(m)}))}))},9826:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var r=n(9067),i=n(8717),o=n(2540);const a=(e,t)=>i.createElement(o.A,(0,r.A)((0,r.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:t,name:"IconDsPlayerVolumeMute",__value:'<path fill="currentColor" fill-rule="evenodd" d="m10 5.414-2.86 2.86a2.8 2.8 0 0 1-.51.431 2 2 0 0 1-.577.24C5.817 9 5.578 9 5.388 9H3.6a8 8 0 0 0-.589.011C3.001 9.128 3 9.303 3 9.6v4.8c0 .297.002.472.011.588.117.01.292.012.589.012h1.788c.19 0 .43-.001.665.055q.308.075.578.24c.206.126.375.296.509.43l2.86 2.86zm.382-2.702a1.5 1.5 0 0 1 1.259.52c.279.328.323.721.34.912.02.214.019.48.019.75v14.212c0 .27 0 .536-.019.75-.017.19-.061.584-.34.911a1.5 1.5 0 0 1-1.259.521c-.428-.034-.738-.28-.885-.403a9 9 0 0 1-.543-.517l-3.192-3.192a6 6 0 0 0-.175-.171S5.468 17 5.337 17H3.568c-.252 0-.498 0-.706-.017a2 2 0 0 1-.77-.201 2 2 0 0 1-.874-.874 2 2 0 0 1-.201-.77C1 14.93 1 14.684 1 14.432V9.568c0-.252 0-.498.017-.706a2 2 0 0 1 .201-.77 2 2 0 0 1 .874-.874 2 2 0 0 1 .77-.201C3.07 7 3.316 7 3.568 7h1.77a5 5 0 0 0 .25-.005l.174-.17 3.192-3.193c.19-.191.379-.379.543-.517.147-.123.457-.37.885-.403m4.91 5.58a1 1 0 0 1 1.415 0L19 10.587l2.293-2.293a1 1 0 1 1 1.414 1.414L20.414 12l2.293 2.293a1 1 0 0 1-1.414 1.414L19 13.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L17.586 12l-2.293-2.293a1 1 0 0 1 0-1.414" clip-rule="evenodd" />'})),s=(0,i.forwardRef)(a)},2412:function(e,t,n){n(9928),n(2358),n(9419),e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",l="week",u="month",c="quarter",d="year",h="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+f(r,2,"0")+":"+f(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,u),o=n-i<0,a=t.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:s,D:h,h:a,m:o,s:i,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",y={};y[b]=_;var E=function(e){return e instanceof C},w=function(e,t,n){var r;if(!e)return b;if("string"==typeof e)y[e]&&(r=e),t&&(y[e]=t,r=e);else{var i=e.name;y[i]=e,r=i}return!n&&r&&(b=r),r||!n&&b},S=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},A=g;A.l=w,A.i=E,A.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function _(e){this.$L=w(e.locale,null,!0),this.parse(e)}var f=_.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(A.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return A},f.isValid=function(){return!(this.$d.toString()===p)},f.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},f.isAfter=function(e,t){return S(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<S(e)},f.$g=function(e,t,n){return A.u(e)?this[t]:this.set(n,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,t){var n=this,r=!!A.u(t)||t,c=A.p(e),p=function(e,t){var i=A.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},m=function(e,t){return A.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,_=this.$M,f=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case d:return r?p(1,0):p(31,11);case u:return r?p(1,_):p(0,_+1);case l:var b=this.$locale().weekStart||0,y=(v<b?v+7:v)-b;return p(r?f-y:f+(6-y),_);case s:case h:return m(g+"Hours",0);case a:return m(g+"Minutes",1);case o:return m(g+"Seconds",2);case i:return m(g+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(e,t){var n,l=A.p(e),c="set"+(this.$u?"UTC":""),p=(n={},n[s]=c+"Date",n[h]=c+"Date",n[u]=c+"Month",n[d]=c+"FullYear",n[a]=c+"Hours",n[o]=c+"Minutes",n[i]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],m=l===s?this.$D+(t-this.$W):t;if(l===u||l===d){var v=this.clone().set(h,1);v.$d[p](m),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[A.p(e)]()},f.add=function(r,c){var h,p=this;r=Number(r);var m=A.p(c),v=function(e){var t=S(p);return A.w(t.date(t.date()+Math.round(e*r)),p)};if(m===u)return this.set(u,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===s)return v(1);if(m===l)return v(7);var _=(h={},h[o]=t,h[a]=n,h[i]=e,h)[m]||1,f=this.$d.getTime()+r*_;return A.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this;if(!this.isValid())return p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=A.z(this),i=this.$locale(),o=this.$H,a=this.$m,s=this.$M,l=i.weekdays,u=i.months,c=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].substr(0,o)},d=function(e){return A.s(o%12||12,e,"0")},h=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:A.s(s+1,2,"0"),MMM:c(i.monthsShort,s,u,3),MMMM:c(u,s),D:this.$D,DD:A.s(this.$D,2,"0"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,l,2),ddd:c(i.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:A.s(o,2,"0"),h:d(1),hh:d(2),a:h(o,a,!0),A:h(o,a,!1),m:String(a),mm:A.s(a,2,"0"),s:String(this.$s),ss:A.s(this.$s,2,"0"),SSS:A.s(this.$ms,3,"0"),Z:r};return n.replace(v,(function(e,t){return t||m[e]||r.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(r,h,p){var m,v=A.p(h),_=S(r),f=(_.utcOffset()-this.utcOffset())*t,g=this-_,b=A.m(this,_);return b=(m={},m[d]=b/12,m[u]=b,m[c]=b/3,m[l]=(g-f)/6048e5,m[s]=(g-f)/864e5,m[a]=g/n,m[o]=g/t,m[i]=g/e,m)[v]||g,p?b:A.a(b)},f.daysInMonth=function(){return this.endOf(u).$D},f.$locale=function(){return y[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},f.clone=function(){return A.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},_}(),k=C.prototype;return S.prototype=k,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",u],["$y",d],["$D",h]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,C,S),e.$i=!0),S},S.locale=w,S.isDayjs=E,S.unix=function(e){return S(1e3*e)},S.en=y[b],S.Ls=y,S.p={},S}()},6187:function(e,t,n){n(9928),n(2358),n(9419),e.exports=function(){"use strict";var e,t,n=1e3,r=6e4,i=36e5,o=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,s=31536e6,l=2592e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,c={years:s,months:l,days:o,hours:i,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},d=function(e){return e instanceof g},h=function(e,t,n){return new g(e,n,t.$l)},p=function(e){return t.p(e)+"s"},m=function(e){return e<0},v=function(e){return m(e)?Math.ceil(e):Math.floor(e)},_=function(e){return Math.abs(e)},f=function(e,t){return e?m(e)?{negative:!0,format:""+_(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},g=function(){function m(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return h(e*c[p(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[p(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var i=e.match(u);if(i){var o=i.slice(2).map((function(e){return Number(e)}));return this.$d.years=o[0],this.$d.months=o[1],this.$d.weeks=o[2],this.$d.days=o[3],this.$d.hours=o[4],this.$d.minutes=o[5],this.$d.seconds=o[6],this.calMilliseconds(),this}}return this}var _=m.prototype;return _.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*c[n]}),0)},_.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=v(e/s),e%=s,this.$d.months=v(e/l),e%=l,this.$d.days=v(e/o),e%=o,this.$d.hours=v(e/i),e%=i,this.$d.minutes=v(e/r),e%=r,this.$d.seconds=v(e/n),e%=n,this.$d.milliseconds=e},_.toISOString=function(){var e=f(this.$d.years,"Y"),t=f(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=f(n,"D"),i=f(this.$d.hours,"H"),o=f(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3);var s=f(a,"S"),l=e.negative||t.negative||r.negative||i.negative||o.negative||s.negative,u=i.format||o.format||s.format?"T":"",c=(l?"-":"")+"P"+e.format+t.format+r.format+u+i.format+o.format+s.format;return"P"===c||"-P"===c?"P0D":c},_.toJSON=function(){return this.toISOString()},_.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(a,(function(e,t){return t||String(r[e])}))},_.as=function(e){return this.$ms/c[p(e)]},_.get=function(e){var t=this.$ms,n=p(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?v(t/c[n]):this.$d[n],0===t?0:t},_.add=function(e,t,n){var r;return r=t?e*c[p(t)]:d(e)?e.$ms:h(e,this).$ms,h(this.$ms+r*(n?-1:1),this)},_.subtract=function(e,t){return this.add(e,t,!0)},_.locale=function(e){var t=this.clone();return t.$l=e,t},_.clone=function(){return h(this.$ms,this)},_.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},_.milliseconds=function(){return this.get("milliseconds")},_.asMilliseconds=function(){return this.as("milliseconds")},_.seconds=function(){return this.get("seconds")},_.asSeconds=function(){return this.as("seconds")},_.minutes=function(){return this.get("minutes")},_.asMinutes=function(){return this.as("minutes")},_.hours=function(){return this.get("hours")},_.asHours=function(){return this.as("hours")},_.days=function(){return this.get("days")},_.asDays=function(){return this.as("days")},_.weeks=function(){return this.get("weeks")},_.asWeeks=function(){return this.as("weeks")},_.months=function(){return this.get("months")},_.asMonths=function(){return this.as("months")},_.years=function(){return this.get("years")},_.asYears=function(){return this.as("years")},m}();return function(n,r,i){e=i,t=i().$utils(),i.duration=function(e,t){var n=i.locale();return h(e,{$l:n},t)},i.isDuration=d;var o=r.prototype.add,a=r.prototype.subtract;r.prototype.add=function(e,t){return d(e)&&(e=e.asMilliseconds()),o.bind(this)(e,t)},r.prototype.subtract=function(e,t){return d(e)&&(e=e.asMilliseconds()),a.bind(this)(e,t)}}}()},5374:function(e,t,n){var r;e=n.nmd(e),n(9024),n(9139),n(2946),n(7877),n(4401),n(2271),n(5745),n(1086),n(8116),n(3122),n(1631),n(914),n(2358),n(4),n(9419),n(8471),n(3923),n(4270),n(1433),n(1e3),n(9020),n(752),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,d=128,h=256,p=1/0,m=9007199254740991,v=NaN,_=4294967295,f=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",h]],g="[object Arguments]",b="[object Array]",y="[object Boolean]",E="[object Date]",w="[object Error]",S="[object Function]",A="[object GeneratorFunction]",C="[object Map]",k="[object Number]",P="[object Object]",I="[object Promise]",T="[object RegExp]",x="[object Set]",R="[object String]",L="[object Symbol]",O="[object WeakMap]",N="[object ArrayBuffer]",M="[object DataView]",D="[object Float32Array]",B="[object Float64Array]",F="[object Int8Array]",H="[object Int16Array]",V="[object Int32Array]",U="[object Uint8Array]",j="[object Uint8ClampedArray]",W="[object Uint16Array]",z="[object Uint32Array]",G=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,Q=RegExp(Y.source),Z=RegExp(X.source),J=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,_e=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ae="\\ud800-\\udfff",Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Ie="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Re="['â€™]",Le="["+Ae+"]",Oe="["+xe+"]",Ne="["+Ce+"]",Me="\\d+",De="["+ke+"]",Be="["+Pe+"]",Fe="[^"+Ae+xe+Me+ke+Pe+Ie+"]",He="\\ud83c[\\udffb-\\udfff]",Ve="[^"+Ae+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Ie+"]",ze="\\u200d",Ge="(?:"+Be+"|"+Fe+")",qe="(?:"+We+"|"+Fe+")",Ke="(?:['â€™](?:d|ll|m|re|s|t|ve))?",Ye="(?:['â€™](?:D|LL|M|RE|S|T|VE))?",Xe="(?:"+Ne+"|"+He+")"+"?",Qe="["+Te+"]?",Ze=Qe+Xe+("(?:"+ze+"(?:"+[Ve,Ue,je].join("|")+")"+Qe+Xe+")*"),Je="(?:"+[De,Ue,je].join("|")+")"+Ze,$e="(?:"+[Ve+Ne+"?",Ne,Ue,je,Le].join("|")+")",et=RegExp(Re,"g"),tt=RegExp(Ne,"g"),nt=RegExp(He+"(?="+He+")|"+$e+Ze,"g"),rt=RegExp([We+"?"+Be+"+"+Ke+"(?="+[Oe,We,"$"].join("|")+")",qe+"+"+Ye+"(?="+[Oe,We+Ge,"$"].join("|")+")",We+"?"+Ge+"+"+Ke,We+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Je].join("|"),"g"),it=RegExp("["+ze+Ae+Ce+Te+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,lt={};lt[D]=lt[B]=lt[F]=lt[H]=lt[V]=lt[U]=lt[j]=lt[W]=lt[z]=!0,lt[g]=lt[b]=lt[N]=lt[y]=lt[M]=lt[E]=lt[w]=lt[S]=lt[C]=lt[k]=lt[P]=lt[T]=lt[x]=lt[R]=lt[O]=!1;var ut={};ut[g]=ut[b]=ut[N]=ut[M]=ut[y]=ut[E]=ut[D]=ut[B]=ut[F]=ut[H]=ut[V]=ut[C]=ut[k]=ut[P]=ut[T]=ut[x]=ut[R]=ut[L]=ut[U]=ut[j]=ut[W]=ut[z]=!0,ut[w]=ut[S]=ut[O]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,mt="object"==typeof self&&self&&self.Object===Object&&self,vt=pt||mt||Function("return this")(),_t=t&&!t.nodeType&&t,ft=_t&&e&&!e.nodeType&&e,gt=ft&&ft.exports===_t,bt=gt&&pt.process,yt=function(){try{var e=ft&&ft.require&&ft.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),Et=yt&&yt.isArrayBuffer,wt=yt&&yt.isDate,St=yt&&yt.isMap,At=yt&&yt.isRegExp,Ct=yt&&yt.isSet,kt=yt&&yt.isTypedArray;function Pt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function It(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Ot(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Bt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ht(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=Kt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function jt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Wt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,Gt,n)}function zt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Gt(e){return e!=e}function qt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:v}function Kt(e){return function(t){return null==t?i:t[e]}}function Yt(e){return function(t){return null==e?i:e[t]}}function Xt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,_n(e)+1).replace(ae,""):e}function $t(e){return function(t){return e(t)}}function en(e,t){return Mt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}var on=Yt({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),an=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ct[e]}function ln(e){return it.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function mn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Vt(e)}function vn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function _n(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var fn=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n,r=(t=null==t?vt:gn.defaults(vt.Object(),t,gn.pick(vt,at))).Array,se=t.Date,Ae=t.Error,Ce=t.Function,ke=t.Math,Pe=t.Object,Ie=t.RegExp,Te=t.String,xe=t.TypeError,Re=r.prototype,Le=Ce.prototype,Oe=Pe.prototype,Ne=t["__core-js_shared__"],Me=Le.toString,De=Oe.hasOwnProperty,Be=0,Fe=(n=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",He=Oe.toString,Ve=Me.call(Pe),Ue=vt._,je=Ie("^"+Me.call(De).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=gt?t.Buffer:i,ze=t.Symbol,Ge=t.Uint8Array,qe=We?We.allocUnsafe:i,Ke=cn(Pe.getPrototypeOf,Pe),Ye=Pe.create,Xe=Oe.propertyIsEnumerable,Qe=Re.splice,Ze=ze?ze.isConcatSpreadable:i,Je=ze?ze.iterator:i,$e=ze?ze.toStringTag:i,nt=function(){try{var e=po(Pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),it=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,ct=se&&se.now!==vt.Date.now&&se.now,pt=t.setTimeout!==vt.setTimeout&&t.setTimeout,mt=ke.ceil,_t=ke.floor,ft=Pe.getOwnPropertySymbols,bt=We?We.isBuffer:i,yt=t.isFinite,Vt=Re.join,Yt=cn(Pe.keys,Pe),bn=ke.max,yn=ke.min,En=se.now,wn=t.parseInt,Sn=ke.random,An=Re.reverse,Cn=po(t,"DataView"),kn=po(t,"Map"),Pn=po(t,"Promise"),In=po(t,"Set"),Tn=po(t,"WeakMap"),xn=po(Pe,"create"),Rn=Tn&&new Tn,Ln={},On=Ho(Cn),Nn=Ho(kn),Mn=Ho(Pn),Dn=Ho(In),Bn=Ho(Tn),Fn=ze?ze.prototype:i,Hn=Fn?Fn.valueOf:i,Vn=Fn?Fn.toString:i;function Un(e){if(ns(e)&&!Ga(e)&&!(e instanceof Gn)){if(e instanceof zn)return e;if(De.call(e,"__wrapped__"))return Vo(e)}return new zn(e)}var jn=function(){function e(){}return function(t){if(!ts(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Wn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new Kn(e);this.size=t.size}function Zn(e,t){var n=Ga(e),r=!n&&za(e),i=!n&&!r&&Xa(e),o=!n&&!r&&!i&&cs(e),a=n||r||i||o,s=a?Zt(e.length,Te):[],l=s.length;for(var u in e)!t&&!De.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||yo(u,l))||s.push(u);return s}function Jn(e){var t=e.length;return t?e[Xr(0,t-1)]:i}function $n(e,t){return Do(xi(e),lr(t,0,e.length))}function er(e){return Do(xi(e))}function tr(e,t,n){(n!==i&&!Ua(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];De.call(e,t)&&Ua(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ua(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Ri(t,Ls(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:Ps(e,t[n]);return a}function lr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ur(e,t,n,r,o,a){var s,l=1&t,u=2&t,c=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ts(e))return e;var d=Ga(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return xi(e,s)}else{var h=_o(e),p=h==S||h==A;if(Xa(e))return Ai(e,l);if(h==P||h==g||p&&!o){if(s=u||p?{}:go(e),!l)return u?function(e,t){return Ri(e,vo(e),t)}(e,function(e,t){return e&&Ri(t,Os(t),e)}(s,e)):function(e,t){return Ri(e,mo(e),t)}(e,or(s,e))}else{if(!ut[h])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case N:return Ci(e);case y:case E:return new r(+e);case M:return function(e,t){var n=t?Ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case B:case F:case H:case V:case U:case j:case W:case z:return ki(e,n);case C:return new r;case k:case R:return new r(e);case T:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case x:return new r;case L:return i=e,Hn?Pe(Hn.call(i)):{}}var i}(e,h,l)}}a||(a=new Qn);var m=a.get(e);if(m)return m;a.set(e,s),ss(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):rs(e)&&e.forEach((function(r,i){s.set(i,ur(r,t,n,i,e,a))}));var v=d?i:(c?u?oo:io:u?Os:Ls)(e);return Tt(v||e,(function(r,i){v&&(r=e[i=r]),nr(s,i,ur(r,t,n,i,e,a))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Pe(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new xe(o);return Lo((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,o=Ot,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Mt(t,$t(n))),r?(o=Nt,a=!1):t.length>=200&&(o=tn,a=!1,t=new Xn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d==d){for(var h=u;h--;)if(t[h]===d)continue e;l.push(c)}else o(t,d,r)||l.push(c)}return l}Un.templateSettings={escape:J,evaluate:$,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Wn.prototype,Un.prototype.constructor=Un,zn.prototype=jn(Wn.prototype),zn.prototype.constructor=zn,Gn.prototype=jn(Wn.prototype),Gn.prototype.constructor=Gn,qn.prototype.clear=function(){this.__data__=xn?xn(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(xn){var n=t[e];return n===a?i:n}return De.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return xn?t[e]!==i:De.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xn&&t===i?a:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return rr(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(kn||Kn),string:new qn}},Yn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return co(this,e).get(e)},Yn.prototype.has=function(e){return co(this,e).has(e)},Yn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,a),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var pr=Ni(Er),mr=Ni(wr,!0);function vr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function _r(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(l===i?s==s&&!us(s):n(s,l)))var l=s,u=a}return u}function fr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?gr(s,t-1,n,r,i):Dt(i,s):r||(i[i.length]=s)}return i}var br=Mi(),yr=Mi(!0);function Er(e,t){return e&&br(e,t,Ls)}function wr(e,t){return e&&yr(e,t,Ls)}function Sr(e,t){return Lt(t,(function(t){return Ja(e[t])}))}function Ar(e,t){for(var n=0,r=(t=yi(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:i}function Cr(e,t,n){var r=t(e);return Ga(e)?r:Dt(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":$e&&$e in Pe(e)?function(e){var t=De.call(e,$e),n=e[$e];try{e[$e]=i;var r=!0}catch(e){}var o=He.call(e);r&&(t?e[$e]=n:delete e[$e]);return o}(e):function(e){return He.call(e)}(e)}function Pr(e,t){return e>t}function Ir(e,t){return null!=e&&De.call(e,t)}function Tr(e,t){return null!=e&&t in Pe(e)}function xr(e,t,n){for(var o=n?Nt:Ot,a=e[0].length,s=e.length,l=s,u=r(s),c=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Mt(h,$t(t))),c=yn(h.length,c),u[l]=!n&&(t||a>=120&&h.length>=120)?new Xn(l&&h):i}h=e[0];var p=-1,m=u[0];e:for(;++p<a&&d.length<c;){var v=h[p],_=t?t(v):v;if(v=n||0!==v?v:0,!(m?tn(m,_):o(d,_,n))){for(l=s;--l;){var f=u[l];if(!(f?tn(f,_):o(e[l],_,n)))continue e}m&&m.push(_),d.push(v)}}return d}function Rr(e,t,n){var r=null==(e=To(e,t=yi(t,e)))?e:e[Fo(Zo(t))];return null==r?i:Pt(r,e,n)}function Lr(e){return ns(e)&&kr(e)==g}function Or(e,t,n,r,o){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var s=Ga(e),l=Ga(t),u=s?b:_o(e),c=l?b:_o(t),d=(u=u==g?P:u)==P,h=(c=c==g?P:c)==P,p=u==c;if(p&&Xa(e)){if(!Xa(t))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new Qn),s||cs(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!o(new Ge(e),new Ge(t)));case y:case E:case k:return Ua(+e,+t);case w:return e.name==t.name&&e.message==t.message;case T:case R:return e==t+"";case C:var s=un;case x:var l=1&r;if(s||(s=hn),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=no(s(e),s(t),r,i,o,a);return a.delete(e),c;case L:if(Hn)return Hn.call(e)==Hn.call(t)}return!1}(e,t,u,n,r,o,a);if(!(1&n)){var m=d&&De.call(e,"__wrapped__"),v=h&&De.call(t,"__wrapped__");if(m||v){var _=m?e.value():e,f=v?t.value():t;return a||(a=new Qn),o(_,f,n,r,a)}}if(!p)return!1;return a||(a=new Qn),function(e,t,n,r,o,a){var s=1&n,l=io(e),u=l.length,c=io(t),d=c.length;if(u!=d&&!s)return!1;var h=u;for(;h--;){var p=l[h];if(!(s?p in t:De.call(t,p)))return!1}var m=a.get(e),v=a.get(t);if(m&&v)return m==t&&v==e;var _=!0;a.set(e,t),a.set(t,e);var f=s;for(;++h<u;){var g=e[p=l[h]],b=t[p];if(r)var y=s?r(b,g,p,t,e,a):r(g,b,p,e,t,a);if(!(y===i?g===b||o(g,b,n,r,a):y)){_=!1;break}f||(f="constructor"==p)}if(_&&!f){var E=e.constructor,w=t.constructor;E==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof w&&w instanceof w||(_=!1)}return a.delete(e),a.delete(t),_}(e,t,n,r,o,a)}(e,t,n,r,Or,o))}function Nr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Pe(e);o--;){var l=n[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var u=(l=n[o])[0],c=e[u],d=l[1];if(s&&l[2]){if(c===i&&!(u in e))return!1}else{var h=new Qn;if(r)var p=r(c,d,u,e,t,h);if(!(p===i?Or(d,c,3,r,h):p))return!1}}return!0}function Mr(e){return!(!ts(e)||(t=e,Fe&&Fe in t))&&(Ja(e)?je:ge).test(Ho(e));var t}function Dr(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Ga(e)?jr(e[0],e[1]):Ur(e):pl(e)}function Br(e){if(!Co(e))return Yt(e);var t=[];for(var n in Pe(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Pe(e))t.push(n);return t}(e);var t=Co(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}function Hr(e,t){return e<t}function Vr(e,t){var n=-1,i=Ka(e)?r(e.length):[];return pr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Ur(e){var t=ho(e);return 1==t.length&&t[0][2]?Po(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function jr(e,t){return wo(e)&&ko(t)?Po(Fo(e),t):function(n){var r=Ps(n,e);return r===i&&r===t?Is(n,e):Or(t,r,3)}}function Wr(e,t,n,r,o){e!==t&&br(t,(function(a,s){if(o||(o=new Qn),ts(a))!function(e,t,n,r,o,a,s){var l=xo(e,n),u=xo(t,n),c=s.get(u);if(c)return void tr(e,n,c);var d=a?a(l,u,n+"",e,t,s):i,h=d===i;if(h){var p=Ga(u),m=!p&&Xa(u),v=!p&&!m&&cs(u);d=u,p||m||v?Ga(l)?d=l:Ya(l)?d=xi(l):m?(h=!1,d=Ai(u,!0)):v?(h=!1,d=ki(u,!0)):d=[]:os(u)||za(u)?(d=l,za(l)?d=gs(l):ts(l)&&!Ja(l)||(d=go(u))):h=!1}h&&(s.set(u,d),o(d,u,r,a,s),s.delete(u));tr(e,n,d)}(e,t,s,n,Wr,r,o);else{var l=r?r(xo(e,s),a,s+"",e,t,o):i;l===i&&(l=a),tr(e,s,l)}}),Os)}function zr(e,t){var n=e.length;if(n)return yo(t+=t<0?n:0,n)?e[t]:i}function Gr(e,t,n){t=t.length?Mt(t,(function(e){return Ga(e)?function(t){return Ar(t,1===e.length?e[0]:e)}:e})):[il];var r=-1;t=Mt(t,$t(uo()));var i=Vr(e,(function(e,n,i){var o=Mt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var l=Pi(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function qr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Ar(e,a);n(s,a)&&ei(o,yi(a,e),s)}return o}function Kr(e,t,n,r){var i=r?zt:Wt,o=-1,a=t.length,s=e;for(e===t&&(t=xi(t)),n&&(s=Mt(e,$t(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Qe.call(s,l,1),Qe.call(e,l,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;yo(i)?Qe.call(e,i,1):hi(e,i)}}return e}function Xr(e,t){return e+_t(Sn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>m)return n;do{t%2&&(n+=e),(t=_t(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Oo(Io(e,t,il),e+"")}function Jr(e){return Jn(Us(e))}function $r(e,t){var n=Us(e);return Do(n,lr(t,0,n.length))}function ei(e,t,n,r){if(!ts(e))return e;for(var o=-1,a=(t=yi(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var u=Fo(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var d=l[u];(c=r?r(d,u,l):i)===i&&(c=ts(d)?d:yo(t[o+1])?[]:{})}nr(l,u,c),l=l[u]}return e}var ti=Rn?function(e,t){return Rn.set(e,t),e}:il,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:il;function ri(e){return Do(Us(e))}function ii(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!us(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,il,n)}function si(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,l=null===t,u=us(t),c=t===i;o<a;){var d=_t((o+a)/2),h=n(e[d]),p=h!==i,m=null===h,v=h==h,_=us(h);if(s)var f=r||v;else f=c?v&&(r||p):l?v&&p&&(r||!m):u?v&&p&&!m&&(r||!_):!m&&!_&&(r?h<=t:h<t);f?o=d+1:a=d}return yn(a,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ua(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:us(e)?v:+e}function ci(e){if("string"==typeof e)return e;if(Ga(e))return Mt(e,ci)+"";if(us(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=Ot,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Nt;else if(o>=200){var u=t?null:Qi(e);if(u)return hn(u);a=!1,i=tn,l=new Xn}else l=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function hi(e,t){return null==(e=To(e,t=yi(t,e)))||delete e[Fo(Zo(t))]}function pi(e,t,n,r){return ei(e,t,n(Ar(e,t)),r)}function mi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function vi(e,t){var n=e;return n instanceof Gn&&(n=n.value()),Bt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function _i(e,t,n){var i=e.length;if(i<2)return i?di(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],l=-1;++l<i;)l!=o&&(a[o]=hr(a[o]||s,e[l],t,n));return di(gr(a,1),t,n)}function fi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var l=r<a?t[r]:i;n(s,e[r],l)}return s}function gi(e){return Ya(e)?e:[]}function bi(e){return"function"==typeof e?e:il}function yi(e,t){return Ga(e)?e:wo(e,t)?[e]:Bo(bs(e))}var Ei=Zr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Si=it||function(e){return vt.clearTimeout(e)};function Ai(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function Ci(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function ki(e,t){var n=t?Ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Pi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=us(e),s=t!==i,l=null===t,u=t==t,c=us(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}function Ii(e,t,n,i){for(var o=-1,a=e.length,s=n.length,l=-1,u=t.length,c=bn(a-s,0),d=r(u+c),h=!i;++l<u;)d[l]=t[l];for(;++o<s;)(h||o<a)&&(d[n[o]]=e[o]);for(;c--;)d[l++]=e[o++];return d}function Ti(e,t,n,i){for(var o=-1,a=e.length,s=-1,l=n.length,u=-1,c=t.length,d=bn(a-l,0),h=r(d+c),p=!i;++o<d;)h[o]=e[o];for(var m=o;++u<c;)h[m+u]=t[u];for(;++s<l;)(p||o<a)&&(h[m+n[s]]=e[o++]);return h}function xi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ri(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),o?ar(n,l,u):nr(n,l,u)}return n}function Li(e,t){return function(n,r){var i=Ga(n)?It:ir,o=t?t():{};return i(n,e,uo(r,2),o)}}function Oi(e){return Zr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&Eo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Pe(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}function Ni(e,t){return function(n,r){if(null==n)return n;if(!Ka(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Pe(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Mi(e){return function(t,n,r){for(var i=-1,o=Pe(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function Di(e){return function(t){var n=ln(t=bs(t))?vn(t):i,r=n?n[0]:t.charAt(0),o=n?wi(n,1).join(""):t.slice(1);return r[e]()+o}}function Bi(e){return function(t){return Bt(Js(zs(t).replace(et,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Hi(e){return function(t,n,r){var o=Pe(t);if(!Ka(t)){var a=uo(n,3);t=Ls(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Vi(e){return ro((function(t){var n=t.length,r=n,a=zn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new xe(o);if(a&&!l&&"wrapper"==so(s))var l=new zn([],!0)}for(r=l?r:n;++r<n;){var u=so(s=t[r]),c="wrapper"==u?ao(s):i;l=c&&So(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[so(c[0])].apply(l,c[3]):1==s.length&&So(s)?l[u]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Ga(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ui(e,t,n,o,a,s,l,u,c,h){var p=t&d,m=1&t,v=2&t,_=24&t,f=512&t,g=v?i:Fi(e);return function d(){for(var b=arguments.length,y=r(b),E=b;E--;)y[E]=arguments[E];if(_)var w=lo(d),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,w);if(o&&(y=Ii(y,o,a,_)),s&&(y=Ti(y,s,l,_)),b-=S,_&&b<h){var A=dn(y,w);return Yi(e,t,Ui,d.placeholder,n,y,A,u,c,h-b)}var C=m?n:this,k=v?C[e]:e;return b=y.length,u?y=function(e,t){var n=e.length,r=yn(t.length,n),o=xi(e);for(;r--;){var a=t[r];e[r]=yo(a,n)?o[a]:i}return e}(y,u):f&&b>1&&y.reverse(),p&&c<b&&(y.length=c),this&&this!==vt&&this instanceof d&&(k=g||Fi(k)),k.apply(C,y)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return Er(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Wi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=ui(n),r=ui(r)),o=e(n,r)}return o}}function zi(e){return ro((function(t){return t=Mt(t,$t(uo())),Zr((function(n){var r=this;return e(t,(function(e){return Pt(e,r,n)}))}))}))}function Gi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,mt(e/mn(t)));return ln(t)?wi(vn(r),0,e).join(""):r.slice(0,e)}function qi(e){return function(t,n,o){return o&&"number"!=typeof o&&Eo(t,n,o)&&(n=o=i),t=ms(t),n===i?(n=t,t=0):n=ms(n),function(e,t,n,i){for(var o=-1,a=bn(mt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:ms(o),e)}}function Ki(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=fs(t),n=fs(n)),e(t,n)}}function Yi(e,t,n,r,o,a,s,l,d,h){var p=8&t;t|=p?u:c,4&(t&=~(p?c:u))||(t&=-4);var m=[e,t,o,p?a:i,p?s:i,p?i:a,p?i:s,l,d,h],v=n.apply(i,m);return So(e)&&Ro(v,m),v.placeholder=r,No(v,e,t)}function Xi(e){var t=ke[e];return function(e,n){if(e=fs(e),(n=null==n?0:yn(vs(n),292))&&yt(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=In&&1/hn(new In([,-0]))[1]==p?function(e){return new In(e)}:ul;function Zi(e){return function(t){var n=_o(t);return n==C?un(t):n==x?pn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,a,p,m,v,_){var f=2&t;if(!f&&"function"!=typeof e)throw new xe(o);var g=a?a.length:0;if(g||(t&=-97,a=p=i),v=v===i?v:bn(vs(v),0),_=_===i?_:vs(_),g-=p?p.length:0,t&c){var b=a,y=p;a=p=i}var E=f?i:ao(e),w=[e,t,n,a,p,b,y,m,v,_];if(E&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Ii(u,l,t[4]):l,e[4]=u?dn(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Ti(u,l,t[6]):l,e[6]=u?dn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,E),e=w[0],t=w[1],n=w[2],a=w[3],p=w[4],!(_=w[9]=w[9]===i?f?0:e.length:bn(w[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==l?function(e,t,n){var o=Fi(e);return function a(){for(var s=arguments.length,l=r(s),u=s,c=lo(a);u--;)l[u]=arguments[u];var d=s<3&&l[0]!==c&&l[s-1]!==c?[]:dn(l,c);return(s-=d.length)<n?Yi(e,t,Ui,a.placeholder,i,l,d,i,i,n-s):Pt(this&&this!==vt&&this instanceof a?o:e,this,l)}}(e,t,_):t!=u&&33!=t||p.length?Ui.apply(i,w):function(e,t,n,i){var o=1&t,a=Fi(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=i.length,d=r(c+l),h=this&&this!==vt&&this instanceof t?a:e;++u<c;)d[u]=i[u];for(;l--;)d[u++]=arguments[++s];return Pt(h,o?n:this,d)}}(e,t,n,a);else var S=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return No((E?ti:Ro)(S,w),e,t)}function $i(e,t,n,r){return e===i||Ua(e,Oe[n])&&!De.call(r,n)?t:e}function eo(e,t,n,r,o,a){return ts(e)&&ts(t)&&(a.set(t,e),Wr(e,t,i,eo,a),a.delete(t)),e}function to(e){return os(e)?i:e}function no(e,t,n,r,o,a){var s=1&n,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var h=-1,p=!0,m=2&n?new Xn:i;for(a.set(e,t),a.set(t,e);++h<l;){var v=e[h],_=t[h];if(r)var f=s?r(_,v,h,t,e,a):r(v,_,h,e,t,a);if(f!==i){if(f)continue;p=!1;break}if(m){if(!Ht(t,(function(e,t){if(!tn(m,t)&&(v===e||o(v,e,n,r,a)))return m.push(t)}))){p=!1;break}}else if(v!==_&&!o(v,_,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function ro(e){return Oo(Io(e,i,qo),e+"")}function io(e){return Cr(e,Ls,mo)}function oo(e){return Cr(e,Os,vo)}var ao=Rn?function(e){return Rn.get(e)}:ul;function so(e){for(var t=e.name+"",n=Ln[t],r=De.call(Ln,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function lo(e){return(De.call(Un,"placeholder")?Un:e).placeholder}function uo(){var e=Un.iteratee||ol;return e=e===ol?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ho(e){for(var t=Ls(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ko(i)]}return t}function po(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var mo=ft?function(e){return null==e?[]:(e=Pe(e),Lt(ft(e),(function(t){return Xe.call(e,t)})))}:_l,vo=ft?function(e){for(var t=[];e;)Dt(t,mo(e)),e=Ke(e);return t}:_l,_o=kr;function fo(e,t,n){for(var r=-1,i=(t=yi(t,e)).length,o=!1;++r<i;){var a=Fo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&es(i)&&yo(a,i)&&(Ga(e)||za(e))}function go(e){return"function"!=typeof e.constructor||Co(e)?{}:jn(Ke(e))}function bo(e){return Ga(e)||za(e)||!!(Ze&&e&&e[Ze])}function yo(e,t){var n=typeof e;return!!(t=null==t?m:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function Eo(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?Ka(n)&&yo(t,n.length):"string"==r&&t in n)&&Ua(n[t],e)}function wo(e,t){if(Ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Pe(t))}function So(e){var t=so(e),n=Un[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(Cn&&_o(new Cn(new ArrayBuffer(1)))!=M||kn&&_o(new kn)!=C||Pn&&_o(Pn.resolve())!=I||In&&_o(new In)!=x||Tn&&_o(new Tn)!=O)&&(_o=function(e){var t=kr(e),n=t==P?e.constructor:i,r=n?Ho(n):"";if(r)switch(r){case On:return M;case Nn:return C;case Mn:return I;case Dn:return x;case Bn:return O}return t});var Ao=Ne?Ja:fl;function Co(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function ko(e){return e==e&&!ts(e)}function Po(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Pe(n)))}}function Io(e,t,n){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=bn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(s),Pt(e,this,l)}}function To(e,t){return t.length<2?e:Ar(e,ii(t,0,-1))}function xo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ro=Mo(ti),Lo=pt||function(e,t){return vt.setTimeout(e,t)},Oo=Mo(ni);function No(e,t,n){var r=t+"";return Oo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(f,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(r),n)))}function Mo(e){var t=0,n=0;return function(){var r=En(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Do(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Xr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Bo=function(e){var t=Ma(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(pe,"$1"):n||e)})),t}));function Fo(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ho(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Vo(e){if(e instanceof Gn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=xi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Uo=Zr((function(e,t){return Ya(e)?hr(e,gr(t,1,Ya,!0)):[]})),jo=Zr((function(e,t){var n=Zo(t);return Ya(n)&&(n=i),Ya(e)?hr(e,gr(t,1,Ya,!0),uo(n,2)):[]})),Wo=Zr((function(e,t){var n=Zo(t);return Ya(n)&&(n=i),Ya(e)?hr(e,gr(t,1,Ya,!0),i,n):[]}));function zo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=bn(r+i,0)),jt(e,uo(t,3),i)}function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=vs(n),o=n<0?bn(r+o,0):yn(o,r-1)),jt(e,uo(t,3),o,!0)}function qo(e){return(null==e?0:e.length)?gr(e,1):[]}function Ko(e){return e&&e.length?e[0]:i}var Yo=Zr((function(e){var t=Mt(e,gi);return t.length&&t[0]===e[0]?xr(t):[]})),Xo=Zr((function(e){var t=Zo(e),n=Mt(e,gi);return t===Zo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?xr(n,uo(t,2)):[]})),Qo=Zr((function(e){var t=Zo(e),n=Mt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?xr(n,i,t):[]}));function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=Zr($o);function $o(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var ea=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Yr(e,Mt(t,(function(e){return yo(e,n)?+e:e})).sort(Pi)),r}));function ta(e){return null==e?e:An.call(e)}var na=Zr((function(e){return di(gr(e,1,Ya,!0))})),ra=Zr((function(e){var t=Zo(e);return Ya(t)&&(t=i),di(gr(e,1,Ya,!0),uo(t,2))})),ia=Zr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,di(gr(e,1,Ya,!0),i,t)}));function oa(e){if(!e||!e.length)return[];var t=0;return e=Lt(e,(function(e){if(Ya(e))return t=bn(e.length,t),!0})),Zt(t,(function(t){return Mt(e,Kt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=oa(e);return null==t?n:Mt(n,(function(e){return Pt(t,i,e)}))}var sa=Zr((function(e,t){return Ya(e)?hr(e,t):[]})),la=Zr((function(e){return _i(Lt(e,Ya))})),ua=Zr((function(e){var t=Zo(e);return Ya(t)&&(t=i),_i(Lt(e,Ya),uo(t,2))})),ca=Zr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,_i(Lt(e,Ya),i,t)})),da=Zr(oa);var ha=Zr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,aa(e,n)}));function pa(e){var t=Un(e);return t.__chain__=!0,t}function ma(e,t){return t(e)}var va=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Gn&&yo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ma,args:[o],thisArg:i}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var _a=Li((function(e,t,n){De.call(e,n)?++e[n]:ar(e,n,1)}));var fa=Hi(zo),ga=Hi(Go);function ba(e,t){return(Ga(e)?Tt:pr)(e,uo(t,3))}function ya(e,t){return(Ga(e)?xt:mr)(e,uo(t,3))}var Ea=Li((function(e,t,n){De.call(e,n)?e[n].push(t):ar(e,n,[t])}));var wa=Zr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ka(e)?r(e.length):[];return pr(e,(function(e){a[++i]=o?Pt(t,e,n):Rr(e,t,n)})),a})),Sa=Li((function(e,t,n){ar(e,n,t)}));function Aa(e,t){return(Ga(e)?Mt:Vr)(e,uo(t,3))}var Ca=Li((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ka=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Eo(e,t[0],t[1])?t=[]:n>2&&Eo(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,gr(t,1),[])})),Pa=ct||function(){return vt.Date.now()};function Ia(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,d,i,i,i,i,t)}function Ta(e,t){var n;if("function"!=typeof t)throw new xe(o);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var xa=Zr((function(e,t,n){var r=1;if(n.length){var i=dn(n,lo(xa));r|=u}return Ji(e,r,t,n,i)})),Ra=Zr((function(e,t,n){var r=3;if(n.length){var i=dn(n,lo(Ra));r|=u}return Ji(t,r,e,n,i)}));function La(e,t,n){var r,a,s,l,u,c,d=0,h=!1,p=!1,m=!0;if("function"!=typeof e)throw new xe(o);function v(t){var n=r,o=a;return r=a=i,d=t,l=e.apply(o,n)}function _(e){var n=e-c;return c===i||n>=t||n<0||p&&e-d>=s}function f(){var e=Pa();if(_(e))return g(e);u=Lo(f,function(e){var n=t-(e-c);return p?yn(n,s-(e-d)):n}(e))}function g(e){return u=i,m&&r?v(e):(r=a=i,l)}function b(){var e=Pa(),n=_(e);if(r=arguments,a=this,c=e,n){if(u===i)return function(e){return d=e,u=Lo(f,t),h?v(e):l}(c);if(p)return Si(u),u=Lo(f,t),v(c)}return u===i&&(u=Lo(f,t)),l}return t=fs(t)||0,ts(n)&&(h=!!n.leading,s=(p="maxWait"in n)?bn(fs(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m),b.cancel=function(){u!==i&&Si(u),d=0,r=c=a=u=i},b.flush=function(){return u===i?l:g(Pa())},b}var Oa=Zr((function(e,t){return dr(e,1,t)})),Na=Zr((function(e,t,n){return dr(e,fs(t)||0,n)}));function Ma(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ma.Cache||Yn),n}function Da(e){if("function"!=typeof e)throw new xe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ma.Cache=Yn;var Ba=Ei((function(e,t){var n=(t=1==t.length&&Ga(t[0])?Mt(t[0],$t(uo())):Mt(gr(t,1),$t(uo()))).length;return Zr((function(r){for(var i=-1,o=yn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Pt(e,this,r)}))})),Fa=Zr((function(e,t){var n=dn(t,lo(Fa));return Ji(e,u,i,t,n)})),Ha=Zr((function(e,t){var n=dn(t,lo(Ha));return Ji(e,c,i,t,n)})),Va=ro((function(e,t){return Ji(e,h,i,i,i,t)}));function Ua(e,t){return e===t||e!=e&&t!=t}var ja=Ki(Pr),Wa=Ki((function(e,t){return e>=t})),za=Lr(function(){return arguments}())?Lr:function(e){return ns(e)&&De.call(e,"callee")&&!Xe.call(e,"callee")},Ga=r.isArray,qa=Et?$t(Et):function(e){return ns(e)&&kr(e)==N};function Ka(e){return null!=e&&es(e.length)&&!Ja(e)}function Ya(e){return ns(e)&&Ka(e)}var Xa=bt||fl,Qa=wt?$t(wt):function(e){return ns(e)&&kr(e)==E};function Za(e){if(!ns(e))return!1;var t=kr(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function Ja(e){if(!ts(e))return!1;var t=kr(e);return t==S||t==A||"[object AsyncFunction]"==t||"[object Proxy]"==t}function $a(e){return"number"==typeof e&&e==vs(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=m}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=St?$t(St):function(e){return ns(e)&&_o(e)==C};function is(e){return"number"==typeof e||ns(e)&&kr(e)==k}function os(e){if(!ns(e)||kr(e)!=P)return!1;var t=Ke(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Ve}var as=At?$t(At):function(e){return ns(e)&&kr(e)==T};var ss=Ct?$t(Ct):function(e){return ns(e)&&_o(e)==x};function ls(e){return"string"==typeof e||!Ga(e)&&ns(e)&&kr(e)==R}function us(e){return"symbol"==typeof e||ns(e)&&kr(e)==L}var cs=kt?$t(kt):function(e){return ns(e)&&es(e.length)&&!!lt[kr(e)]};var ds=Ki(Hr),hs=Ki((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Ka(e))return ls(e)?vn(e):xi(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=_o(e);return(t==C?un:t==x?hn:Us)(e)}function ms(e){return e?(e=fs(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=ms(e),n=t%1;return t==t?n?t-n:t:0}function _s(e){return e?lr(vs(e),0,_):0}function fs(e){if("number"==typeof e)return e;if(us(e))return v;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=fe.test(e);return n||be.test(e)?ht(e.slice(2),n?2:8):_e.test(e)?v:+e}function gs(e){return Ri(e,Os(e))}function bs(e){return null==e?"":ci(e)}var ys=Oi((function(e,t){if(Co(t)||Ka(t))Ri(t,Ls(t),e);else for(var n in t)De.call(t,n)&&nr(e,n,t[n])})),Es=Oi((function(e,t){Ri(t,Os(t),e)})),ws=Oi((function(e,t,n,r){Ri(t,Os(t),e,r)})),Ss=Oi((function(e,t,n,r){Ri(t,Ls(t),e,r)})),As=ro(sr);var Cs=Zr((function(e,t){e=Pe(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&Eo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Os(a),l=-1,u=s.length;++l<u;){var c=s[l],d=e[c];(d===i||Ua(d,Oe[c])&&!De.call(e,c))&&(e[c]=a[c])}return e})),ks=Zr((function(e){return e.push(i,eo),Pt(Ms,i,e)}));function Ps(e,t,n){var r=null==e?i:Ar(e,t);return r===i?n:r}function Is(e,t){return null!=e&&fo(e,t,Tr)}var Ts=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=He.call(t)),e[t]=n}),tl(il)),xs=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=He.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Rs=Zr(Rr);function Ls(e){return Ka(e)?Zn(e):Br(e)}function Os(e){return Ka(e)?Zn(e,!0):Fr(e)}var Ns=Oi((function(e,t,n){Wr(e,t,n)})),Ms=Oi((function(e,t,n,r){Wr(e,t,n,r)})),Ds=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=yi(t,e),r||(r=t.length>1),t})),Ri(e,oo(e),n),r&&(n=ur(n,7,to));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Bs=ro((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return Is(e,n)}))}(e,t)}));function Fs(e,t){if(null==e)return{};var n=Mt(oo(e),(function(e){return[e]}));return t=uo(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var Hs=Zi(Ls),Vs=Zi(Os);function Us(e){return null==e?[]:en(e,Ls(e))}var js=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return Zs(bs(e).toLowerCase())}function zs(e){return(e=bs(e))&&e.replace(Ee,on).replace(tt,"")}var Gs=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),qs=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ks=Di("toLowerCase");var Ys=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Xs=Bi((function(e,t,n){return e+(n?" ":"")+Zs(t)}));var Qs=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zs=Di("toUpperCase");function Js(e,t,n){return e=bs(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var $s=Zr((function(e,t){try{return Pt(e,i,t)}catch(e){return Za(e)?e:new Ae(e)}})),el=ro((function(e,t){return Tt(t,(function(t){t=Fo(t),ar(e,t,xa(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=Vi(),rl=Vi(!0);function il(e){return e}function ol(e){return Dr("function"==typeof e?e:ur(e,1))}var al=Zr((function(e,t){return function(n){return Rr(n,e,t)}})),sl=Zr((function(e,t){return function(n){return Rr(e,n,t)}}));function ll(e,t,n){var r=Ls(t),i=Sr(t,r);null!=n||ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Ls(t)));var o=!(ts(n)&&"chain"in n&&!n.chain),a=Ja(e);return Tt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=xi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function ul(){}var cl=zi(Mt),dl=zi(Rt),hl=zi(Ht);function pl(e){return wo(e)?Kt(Fo(e)):function(e){return function(t){return Ar(t,e)}}(e)}var ml=qi(),vl=qi(!0);function _l(){return[]}function fl(){return!1}var gl=Wi((function(e,t){return e+t}),0),bl=Xi("ceil"),yl=Wi((function(e,t){return e/t}),1),El=Xi("floor");var wl,Sl=Wi((function(e,t){return e*t}),1),Al=Xi("round"),Cl=Wi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new xe(o);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Ia,Un.assign=ys,Un.assignIn=Es,Un.assignInWith=ws,Un.assignWith=Ss,Un.at=As,Un.before=Ta,Un.bind=xa,Un.bindAll=el,Un.bindKey=Ra,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ga(e)?e:[e]},Un.chain=pa,Un.chunk=function(e,t,n){t=(n?Eo(e,t,n):t===i)?1:bn(vs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,l=r(mt(o/t));a<o;)l[s++]=ii(e,a,a+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Ga(n)?xi(n):[n],gr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new xe(o);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Pt(i[0],this,n))return Pt(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Ls(e);return function(n){return cr(n,e,t)}}(ur(e,1))},Un.constant=tl,Un.countBy=_a,Un.create=function(e,t){var n=jn(e);return null==t?n:or(n,t)},Un.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,r){var o=Ji(t,l,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.debounce=La,Un.defaults=Cs,Un.defaultsDeep=ks,Un.defer=Oa,Un.delay=Na,Un.difference=Uo,Un.differenceBy=jo,Un.differenceWith=Wo,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:vs(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:vs(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?mi(e,uo(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?mi(e,uo(t,3),!0):[]},Un.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Eo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:vs(r))<0&&(r+=o),r=n>r?0:_s(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Ga(e)?Lt:fr)(e,uo(t,3))},Un.flatMap=function(e,t){return gr(Aa(e,t),1)},Un.flatMapDeep=function(e,t){return gr(Aa(e,t),p)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:vs(n),gr(Aa(e,t),n)},Un.flatten=qo,Un.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,p):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===i?1:vs(t)):[]},Un.flip=function(e){return Ji(e,512)},Un.flow=nl,Un.flowRight=rl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:Sr(e,Ls(e))},Un.functionsIn=function(e){return null==e?[]:Sr(e,Os(e))},Un.groupBy=Ea,Un.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Un.intersection=Yo,Un.intersectionBy=Xo,Un.intersectionWith=Qo,Un.invert=Ts,Un.invertBy=xs,Un.invokeMap=wa,Un.iteratee=ol,Un.keyBy=Sa,Un.keys=Ls,Un.keysIn=Os,Un.map=Aa,Un.mapKeys=function(e,t){var n={};return t=uo(t,3),Er(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=uo(t,3),Er(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(ur(e,1))},Un.matchesProperty=function(e,t){return jr(e,ur(t,1))},Un.memoize=Ma,Un.merge=Ns,Un.mergeWith=Ms,Un.method=al,Un.methodOf=sl,Un.mixin=ll,Un.negate=Da,Un.nthArg=function(e){return e=vs(e),Zr((function(t){return zr(t,e)}))},Un.omit=Ds,Un.omitBy=function(e,t){return Fs(e,Da(uo(t)))},Un.once=function(e){return Ta(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Ga(t)||(t=null==t?[]:[t]),Ga(n=r?i:n)||(n=null==n?[]:[n]),Gr(e,t,n))},Un.over=cl,Un.overArgs=Ba,Un.overEvery=dl,Un.overSome=hl,Un.partial=Fa,Un.partialRight=Ha,Un.partition=Ca,Un.pick=Bs,Un.pickBy=Fs,Un.property=pl,Un.propertyOf=function(e){return function(t){return null==e?i:Ar(e,t)}},Un.pull=Jo,Un.pullAll=$o,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,uo(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Un.pullAt=ea,Un.range=ml,Un.rangeRight=vl,Un.rearg=Va,Un.reject=function(e,t){return(Ga(e)?Lt:fr)(e,Da(uo(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=uo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Yr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new xe(o);return Zr(e,t=t===i?t:vs(t))},Un.reverse=ta,Un.sampleSize=function(e,t,n){return t=(n?Eo(e,t,n):t===i)?1:vs(t),(Ga(e)?$n:$r)(e,t)},Un.set=function(e,t,n){return null==e?e:ei(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Un.shuffle=function(e){return(Ga(e)?er:ri)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Eo(e,t,n)?(t=0,n=r):(t=null==t?0:vs(t),n=n===i?r:vs(n)),ii(e,t,n)):[]},Un.sortBy=ka,Un.sortedUniq=function(e){return e&&e.length?li(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?li(e,uo(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&Eo(e,t,n)&&(t=n=i),(n=n===i?_:n>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=ci(t))&&ln(e)?wi(vn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new xe(o);return t=null==t?0:bn(vs(t),0),Zr((function(n){var r=n[t],i=wi(n,0,t);return r&&Dt(i,r),Pt(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:vs(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:vs(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?mi(e,uo(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?mi(e,uo(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new xe(o);return ts(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),La(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=ma,Un.toArray=ps,Un.toPairs=Hs,Un.toPairsIn=Vs,Un.toPath=function(e){return Ga(e)?Mt(e,Fo):us(e)?[e]:xi(Bo(bs(e)))},Un.toPlainObject=gs,Un.transform=function(e,t,n){var r=Ga(e),i=r||Xa(e)||cs(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ts(e)&&Ja(o)?jn(Ke(e)):{}}return(i?Tt:Er)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Ia(e,1)},Un.union=na,Un.unionBy=ra,Un.unionWith=ia,Un.uniq=function(e){return e&&e.length?di(e):[]},Un.uniqBy=function(e,t){return e&&e.length?di(e,uo(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?di(e,i,t):[]},Un.unset=function(e,t){return null==e||hi(e,t)},Un.unzip=oa,Un.unzipWith=aa,Un.update=function(e,t,n){return null==e?e:pi(e,t,bi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:pi(e,t,bi(n),r)},Un.values=Us,Un.valuesIn=function(e){return null==e?[]:en(e,Os(e))},Un.without=sa,Un.words=Js,Un.wrap=function(e,t){return Fa(bi(t),e)},Un.xor=la,Un.xorBy=ua,Un.xorWith=ca,Un.zip=da,Un.zipObject=function(e,t){return fi(e||[],t||[],nr)},Un.zipObjectDeep=function(e,t){return fi(e||[],t||[],ei)},Un.zipWith=ha,Un.entries=Hs,Un.entriesIn=Vs,Un.extend=Es,Un.extendWith=ws,ll(Un,Un),Un.add=gl,Un.attempt=$s,Un.camelCase=js,Un.capitalize=Ws,Un.ceil=bl,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=fs(n))==n?n:0),t!==i&&(t=(t=fs(t))==t?t:0),lr(fs(e),t,n)},Un.clone=function(e){return ur(e,4)},Un.cloneDeep=function(e){return ur(e,5)},Un.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||cr(e,t,Ls(t))},Un.deburr=zs,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=yl,Un.endsWith=function(e,t,n){e=bs(e),t=ci(t);var r=e.length,o=n=n===i?r:lr(vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=Ua,Un.escape=function(e){return(e=bs(e))&&Z.test(e)?e.replace(X,an):e},Un.escapeRegExp=function(e){return(e=bs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=Ga(e)?Rt:vr;return n&&Eo(e,t,n)&&(t=i),r(e,uo(t,3))},Un.find=fa,Un.findIndex=zo,Un.findKey=function(e,t){return Ut(e,uo(t,3),Er)},Un.findLast=ga,Un.findLastIndex=Go,Un.findLastKey=function(e,t){return Ut(e,uo(t,3),wr)},Un.floor=El,Un.forEach=ba,Un.forEachRight=ya,Un.forIn=function(e,t){return null==e?e:br(e,uo(t,3),Os)},Un.forInRight=function(e,t){return null==e?e:yr(e,uo(t,3),Os)},Un.forOwn=function(e,t){return e&&Er(e,uo(t,3))},Un.forOwnRight=function(e,t){return e&&wr(e,uo(t,3))},Un.get=Ps,Un.gt=ja,Un.gte=Wa,Un.has=function(e,t){return null!=e&&fo(e,t,Ir)},Un.hasIn=Is,Un.head=Ko,Un.identity=il,Un.includes=function(e,t,n,r){e=Ka(e)?e:Us(e),n=n&&!r?vs(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Wt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=bn(r+i,0)),Wt(e,t,i)},Un.inRange=function(e,t,n){return t=ms(t),n===i?(n=t,t=0):n=ms(n),function(e,t,n){return e>=yn(t,n)&&e<bn(t,n)}(e=fs(e),t,n)},Un.invoke=Rs,Un.isArguments=za,Un.isArray=Ga,Un.isArrayBuffer=qa,Un.isArrayLike=Ka,Un.isArrayLikeObject=Ya,Un.isBoolean=function(e){return!0===e||!1===e||ns(e)&&kr(e)==y},Un.isBuffer=Xa,Un.isDate=Qa,Un.isElement=function(e){return ns(e)&&1===e.nodeType&&!os(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Ka(e)&&(Ga(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||cs(e)||za(e)))return!e.length;var t=_o(e);if(t==C||t==x)return!e.size;if(Co(e))return!Br(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Or(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Or(e,t,i,n):!!r},Un.isError=Za,Un.isFinite=function(e){return"number"==typeof e&&yt(e)},Un.isFunction=Ja,Un.isInteger=$a,Un.isLength=es,Un.isMap=rs,Un.isMatch=function(e,t){return e===t||Nr(e,t,ho(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Nr(e,t,ho(t),n)},Un.isNaN=function(e){return is(e)&&e!=+e},Un.isNative=function(e){if(Ao(e))throw new Ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=is,Un.isObject=ts,Un.isObjectLike=ns,Un.isPlainObject=os,Un.isRegExp=as,Un.isSafeInteger=function(e){return $a(e)&&e>=-9007199254740991&&e<=m},Un.isSet=ss,Un.isString=ls,Un.isSymbol=us,Un.isTypedArray=cs,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ns(e)&&_o(e)==O},Un.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==kr(e)},Un.join=function(e,t){return null==e?"":Vt.call(e,t)},Un.kebabCase=Gs,Un.last=Zo,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=vs(n))<0?bn(r+o,0):yn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):jt(e,Gt,o,!0)},Un.lowerCase=qs,Un.lowerFirst=Ks,Un.lt=ds,Un.lte=hs,Un.max=function(e){return e&&e.length?_r(e,il,Pr):i},Un.maxBy=function(e,t){return e&&e.length?_r(e,uo(t,2),Pr):i},Un.mean=function(e){return qt(e,il)},Un.meanBy=function(e,t){return qt(e,uo(t,2))},Un.min=function(e){return e&&e.length?_r(e,il,Hr):i},Un.minBy=function(e,t){return e&&e.length?_r(e,uo(t,2),Hr):i},Un.stubArray=_l,Un.stubFalse=fl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Sl,Un.nth=function(e,t){return e&&e.length?zr(e,vs(t)):i},Un.noConflict=function(){return vt._===this&&(vt._=Ue),this},Un.noop=ul,Un.now=Pa,Un.pad=function(e,t,n){e=bs(e);var r=(t=vs(t))?mn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Gi(_t(i),n)+e+Gi(mt(i),n)},Un.padEnd=function(e,t,n){e=bs(e);var r=(t=vs(t))?mn(e):0;return t&&r<t?e+Gi(t-r,n):e},Un.padStart=function(e,t,n){e=bs(e);var r=(t=vs(t))?mn(e):0;return t&&r<t?Gi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(bs(e).replace(ae,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Eo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ms(e),t===i?(t=e,e=0):t=ms(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Sn();return yn(e+o*(t-e+dt("1e-"+((o+"").length-1))),t)}return Xr(e,t)},Un.reduce=function(e,t,n){var r=Ga(e)?Bt:Xt,i=arguments.length<3;return r(e,uo(t,4),n,i,pr)},Un.reduceRight=function(e,t,n){var r=Ga(e)?Ft:Xt,i=arguments.length<3;return r(e,uo(t,4),n,i,mr)},Un.repeat=function(e,t,n){return t=(n?Eo(e,t,n):t===i)?1:vs(t),Qr(bs(e),t)},Un.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,o=(t=yi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Fo(t[r])];a===i&&(r=o,a=n),e=Ja(a)?a.call(e):a}return e},Un.round=Al,Un.runInContext=e,Un.sample=function(e){return(Ga(e)?Jn:Jr)(e)},Un.size=function(e){if(null==e)return 0;if(Ka(e))return ls(e)?mn(e):e.length;var t=_o(e);return t==C||t==x?e.size:Br(e).length},Un.snakeCase=Ys,Un.some=function(e,t,n){var r=Ga(e)?Ht:oi;return n&&Eo(e,t,n)&&(t=i),r(e,uo(t,3))},Un.sortedIndex=function(e,t){return ai(e,t)},Un.sortedIndexBy=function(e,t,n){return si(e,t,uo(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Ua(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ai(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return si(e,t,uo(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Ua(e[n],t))return n}return-1},Un.startCase=Xs,Un.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:lr(vs(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Un.subtract=Cl,Un.sum=function(e){return e&&e.length?Qt(e,il):0},Un.sumBy=function(e,t){return e&&e.length?Qt(e,uo(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&Eo(e,t,n)&&(t=i),e=bs(e),t=ws({},t,r,$i);var o,a,s=ws({},t.imports,r.imports,$i),l=Ls(s),u=en(s,l),c=0,d=t.interpolate||we,h="__p += '",p=Ie((t.escape||we).source+"|"+d.source+"|"+(d===ee?me:we).source+"|"+(t.evaluate||we).source+"|$","g"),m="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(p,(function(t,n,r,i,s,l){return r||(r=i),h+=e.slice(c,l).replace(Se,sn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),h+="';\n";var v=De.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new Ae("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(G,""):h).replace(q,"$1").replace(K,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=$s((function(){return Ce(l,m+"return "+h).apply(i,u)}));if(_.source=h,Za(_))throw _;return _},Un.times=function(e,t){if((e=vs(e))<1||e>m)return[];var n=_,r=yn(e,_);t=uo(t),e-=_;for(var i=Zt(r,t);++n<e;)t(n);return i},Un.toFinite=ms,Un.toInteger=vs,Un.toLength=_s,Un.toLower=function(e){return bs(e).toLowerCase()},Un.toNumber=fs,Un.toSafeInteger=function(e){return e?lr(vs(e),-9007199254740991,m):0===e?e:0},Un.toString=bs,Un.toUpper=function(e){return bs(e).toUpperCase()},Un.trim=function(e,t,n){if((e=bs(e))&&(n||t===i))return Jt(e);if(!e||!(t=ci(t)))return e;var r=vn(e),o=vn(t);return wi(r,nn(r,o),rn(r,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.slice(0,_n(e)+1);if(!e||!(t=ci(t)))return e;var r=vn(e);return wi(r,0,rn(r,vn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var r=vn(e);return wi(r,nn(r,vn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(ts(t)){var o="separator"in t?t.separator:o;n="length"in t?vs(t.length):n,r="omission"in t?ci(t.omission):r}var a=(e=bs(e)).length;if(ln(e)){var s=vn(e);a=s.length}if(n>=a)return e;var l=n-mn(r);if(l<1)return r;var u=s?wi(s,0,l).join(""):e.slice(0,l);if(o===i)return u+r;if(s&&(l+=u.length-l),as(o)){if(e.slice(l).search(o)){var c,d=u;for(o.global||(o=Ie(o.source,bs(ve.exec(o))+"g")),o.lastIndex=0;c=o.exec(d);)var h=c.index;u=u.slice(0,h===i?l:h)}}else if(e.indexOf(ci(o),l)!=l){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+r},Un.unescape=function(e){return(e=bs(e))&&Q.test(e)?e.replace(Y,fn):e},Un.uniqueId=function(e){var t=++Be;return bs(e)+t},Un.upperCase=Qs,Un.upperFirst=Zs,Un.each=ba,Un.eachRight=ya,Un.first=Ko,ll(Un,(wl={},Er(Un,(function(e,t){De.call(Un.prototype,t)||(wl[t]=e)})),wl),{chain:!1}),Un.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Tt(["drop","take"],(function(e,t){Gn.prototype[e]=function(n){n=n===i?1:bn(vs(n),0);var r=this.__filtered__&&!t?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,_),type:e+(r.__dir__<0?"Right":"")}),r},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(il)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return Rr(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(Da(uo(e)))},Gn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(_)},Er(Gn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Un[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Gn,u=s[0],c=l||Ga(t),d=function(e){var t=o.apply(Un,Dt([e],s));return r&&h?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=this.__chain__,p=!!this.__actions__.length,m=a&&!h,v=l&&!p;if(!a&&c){t=v?t:new Gn(this);var _=e.apply(t,s);return _.__actions__.push({func:ma,args:[d],thisArg:i}),new zn(_,h)}return m&&v?e.apply(this,s):(_=this.thru(d),m?r?_.value()[0]:_.value():_)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ga(i)?i:[],e)}return this[n]((function(n){return t.apply(Ga(n)?n:[],e)}))}})),Er(Gn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";De.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:t,func:n})}})),Ln[Ui(i,2).name]=[{name:"wrapper",func:i}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=xi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xi(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ga(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=yn(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,h=0,p=yn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return vi(e,this.__actions__);var m=[];e:for(;l--&&h<p;){for(var v=-1,_=e[u+=t];++v<d;){var f=c[v],g=f.iteratee,b=f.type,y=g(_);if(2==b)_=y;else if(!y){if(1==b)continue e;break e}}m[h++]=_}return m},Un.prototype.at=va,Un.prototype.chain=function(){return pa(this)},Un.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var r=Vo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:ma,args:[ta],thisArg:i}),new zn(t,this.__chain__)}return this.thru(ta)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Je&&(Un.prototype[Je]=function(){return this}),Un}();vt._=gn,(r=function(){return gn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},8007:(e,t,n)=>{"use strict";n.d(t,{PA:()=>E});n(7293);var r=n(3590),i=n(8717);if(!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.Gn)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var o=n(8572);function a(e){e()}n(4401);n(8668);function s(e){return(0,r.yl)(e)}var l=!1;function u(){return l}n(752);var c,d,h=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,i){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(i))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),p=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:h)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),m=n(2583);function v(e){e.reaction=new r.qT("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}function _(e,t){if(void 0===t&&(t="observed"),u())return e();var n=i.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return p.unregister(r),r.onStoreChange=e,r.reaction||(v(r),r.stateVersion=Symbol()),function(){var e;r.onStoreChange=null,null===(e=r.reaction)||void 0===e||e.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var o,a,l=n.current;if(l.reaction||(v(l),p.register(n,l,l)),i.useDebugValue(l.reaction,s),(0,m.useSyncExternalStore)(l.subscribe,l.getSnapshot,l.getSnapshot),l.reaction.track((function(){try{o=e()}catch(e){a=e}})),a)throw a;return o}var f="function"==typeof Symbol&&Symbol.for,g=null!==(d=null===(c=Object.getOwnPropertyDescriptor((function(){}),"name"))||void 0===c?void 0:c.configurable)&&void 0!==d&&d,b=f?Symbol.for("react.forward_ref"):"function"==typeof i.forwardRef&&(0,i.forwardRef)((function(e){return null})).$$typeof,y=f?Symbol.for("react.memo"):"function"==typeof i.memo&&(0,i.memo)((function(e){return null})).$$typeof;function E(e,t){var n;if(y&&e.$$typeof===y)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(u())return e;var r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,o=e,a=e.displayName||e.name;if(b&&e.$$typeof===b&&(r=!0,"function"!=typeof(o=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s,l,c=function(e,t){return _((function(){return o(e,t)}),a)};return c.displayName=e.displayName,g&&Object.defineProperty(c,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(c.contextTypes=e.contextTypes),r&&(c=(0,i.forwardRef)(c)),s=e,l=c=(0,i.memo)(c),Object.keys(s).forEach((function(e){A[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(s,e))})),c}var w,S,A={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(S=o.unstable_batchedUpdates)||(S=a),(0,r.jK)({reactionScheduler:S});w=p.finalizeAllImmediately},3590:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>ee,BQ:()=>q,EW:()=>Ve,Es:()=>Jn,Fq:()=>Yn,Gn:()=>Dn,H8:()=>fn,HO:()=>An,HP:()=>yn,L3:()=>dn,MN:()=>X,Mr:()=>Ar,OB:()=>ur,Rn:()=>Cn,Tx:()=>ot,XI:()=>Ut,YQ:()=>_n,gP:()=>pn,h5:()=>Wt,jK:()=>nn,kt:()=>rn,lB:()=>En,m3:()=>Q,mJ:()=>Yt,q$:()=>Zt,qT:()=>Pt,sG:()=>bt,sH:()=>De,uz:()=>$n,ve:()=>zt,yl:()=>on,z7:()=>kn});n(8668),n(7293),n(4401),n(2271),n(5745),n(9928),n(6530),n(1557),n(2358),n(9419),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(752);function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var i={};function o(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:i}var a=Object.assign,s=Object.getOwnPropertyDescriptor,l=Object.defineProperty,u=Object.prototype,c=[];Object.freeze(c);var d={};Object.freeze(d);var h="undefined"!=typeof Proxy,p=Object.toString();function m(){h||r("Proxy not available")}function v(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var _=function(){};function f(e){return"function"==typeof e}function g(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function b(e){return null!==e&&"object"==typeof e}function y(e){if(!b(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===p}function E(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function w(e,t,n){l(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function S(e,t,n){l(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function A(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return b(e)&&!0===e[n]}}function C(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function k(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var P=void 0!==Object.getOwnPropertySymbols;var I="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:P?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function T(e){return null===e?null:"object"==typeof e?""+e:e}function x(e,t){return u.hasOwnProperty.call(e,t)}var R=Object.getOwnPropertyDescriptors||function(e){var t={};return I(e).forEach((function(n){t[n]=s(e,n)})),t};function L(e,t){return!!(e&t)}function O(e,t,n){return n?e|=t:e&=~t,e}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U(r.key),r)}}function D(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function B(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return N(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(null,arguments)}function H(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,V(e,t)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function U(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var j=Symbol("mobx-stored-annotations");function W(e){return Object.assign((function(t,n){if(G(n))return e.decorate_20223_(t,n);z(t,n,e)}),e)}function z(e,t,n){x(e,j)||w(e,j,F({},e[j])),function(e){return e.annotationType_===$}(n)||(e[j][t]=n)}function G(e){return"object"==typeof e&&"string"==typeof e.kind}var q=Symbol("mobx administration"),K=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=$e.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Ct(this)},t.reportChanged=function(){St(),kt(this),At()},t.toString=function(){return this.name_},D(e,[{key:"isBeingObserved",get:function(){return L(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=O(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return L(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=O(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return L(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=O(this.flags_,e.diffValueMask_,1===t)}}])}();K.isBeingObservedMask_=1,K.isPendingUnobservationMask_=2,K.diffValueMask_=4;var Y=A("Atom",K);function X(e,t,n){void 0===t&&(t=_),void 0===n&&(n=_);var r,i=new K(e);return t!==_&&Jt(Xt,i,t,r),n!==_&&Zt(i,n),i}var Q={identity:function(e,t){return e===t},structural:function(e,t){return Ir(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return Ir(e,t,1)}};function Z(e,t,n){return bn(e)?e:Array.isArray(e)?De.array(e,{name:n}):y(e)?De.object(e,void 0,{name:n}):C(e)?De.map(e,{name:n}):k(e)?De.set(e,{name:n}):"function"!=typeof e||zt(e)||mn(e)?e:E(e)?dn(e):jt(n,e)}function J(e){return e}var $="override",ee=W({annotationType_:$,make_:function(e,t){0;0;return 0},extend_:function(e,t,n,i){r("'"+this.annotationType_+"' can only be used with 'makeObservable'")},decorate_20223_:function(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}});function te(e,t){return{annotationType_:e,options_:t,make_:ne,extend_:re,decorate_20223_:ie}}function ne(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(zt(n.value))return 1;var o=oe(e,this,t,n,!1);return l(r,t,o),2}function re(e,t,n,r){var i=oe(e,this,t,n);return e.defineProperty_(t,i,r)}function ie(e,t){var n,i=t.kind,o=t.name,a=t.addInitializer,s=this,l=function(e){var t,n,r,i;return Ge(null!=(t=null==(n=s.options_)?void 0:n.name)?t:o.toString(),e,null!=(r=null==(i=s.options_)?void 0:i.autoAction)&&r)};return"field"==i?function(e){var t,n=e;return zt(n)||(n=l(n)),null!=(t=s.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==i?(zt(e)||(e=l(e)),null!=(n=this.options_)&&n.bound&&a((function(){var e=this,t=e[o].bind(e);t.isMobxAction=!0,e[o]=t})),e):void r("Cannot apply '"+s.annotationType_+"' to '"+String(o)+"' (kind: "+i+"):\n'"+s.annotationType_+"' can only be used on properties with a function value.")}function oe(e,t,n,r,i){var o,a,s,l,u,c,d,h;void 0===i&&(i=gt.safeDescriptors),h=r,t.annotationType_,h.value;var p,m=r.value;null!=(o=t.options_)&&o.bound&&(m=m.bind(null!=(p=e.proxy_)?p:e.target_));return{value:Ge(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),m,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function ae(e,t){return{annotationType_:e,options_:t,make_:se,extend_:le,decorate_20223_:ue}}function se(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!x(e.target_,t)||!mn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(mn(n.value))return 1;var o=ce(e,this,t,n,!1,!1);return l(r,t,o),2}function le(e,t,n,r){var i,o=ce(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function ue(e,t){var n;var r=t.name,i=t.addInitializer;return mn(e)||(e=dn(e)),null!=(n=this.options_)&&n.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobXFlow=!0,e[r]=t})),e}function ce(e,t,n,r,i,o){var a;void 0===o&&(o=gt.safeDescriptors),a=r,t.annotationType_,a.value;var s,l=r.value;(mn(l)||(l=dn(l)),i)&&((l=l.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0);return{value:l,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function de(e,t){return{annotationType_:e,options_:t,make_:he,extend_:pe,decorate_20223_:me}}function he(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function pe(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,F({},this.options_,{get:n.get,set:n.set}),r)}function me(e,t){var n=this,r=t.name;return(0,t.addInitializer)((function(){var t=ar(this)[q],i=F({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new Je(i))})),function(){return this[q].getObservablePropValue_(r)}}function ve(e,t){return{annotationType_:e,options_:t,make_:_e,extend_:fe,decorate_20223_:ge}}function _e(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function fe(e,t,n,r){var i,o;return function(e,t){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:Z,r)}function ge(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function a(e,t){var r,a,s=ar(e)[q],l=new Qe(t,null!=(r=null==(a=n.options_)?void 0:a.enhancer)?r:Z,"ObservableObject."+i.toString(),!1);s.values_.set(i,l),o.add(e)}if("accessor"==r)return{get:function(){return o.has(this)||a(this,e.get.call(this)),this[q].getObservablePropValue_(i)},set:function(e){return o.has(this)||a(this,e),this[q].setObservablePropValue_(i,e)},init:function(e){return o.has(this)||a(this,e),e}}}var be="true",ye=Ee();function Ee(e){return{annotationType_:be,options_:e,make_:we,extend_:Se,decorate_20223_:Ae}}function we(e,t,n,r){var i,o,a,s;if(n.get)return Ve.make_(e,t,n,r);if(n.set){var u=Ge(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!gt.safeDescriptors||e.isPlainObject_,set:u})?0:2:(l(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"==typeof n.value)return E(n.value)?(null!=(s=this.options_)&&s.autoBind?dn.bound:dn).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?jt.bound:jt).make_(e,t,n,r);var c,d=!1===(null==(i=this.options_)?void 0:i.deep)?De.ref:De;"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return d.make_(e,t,n,r)}function Se(e,t,n,r){var i,o,a;if(n.get)return Ve.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!gt.safeDescriptors||e.isPlainObject_,set:Ge(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?De.ref:De).extend_(e,t,n,r)}function Ae(e,t){r("'"+this.annotationType_+"' cannot be used as a decorator")}var Ce={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ke(e){return e||Ce}Object.freeze(Ce);var Pe=ve("observable"),Ie=ve("observable.ref",{enhancer:J}),Te=ve("observable.shallow",{enhancer:function(e,t,n){return null==e||ur(e)||Yn(e)||$n(e)||nr(e)?e:Array.isArray(e)?De.array(e,{name:n,deep:!1}):y(e)?De.object(e,void 0,{name:n,deep:!1}):C(e)?De.map(e,{name:n,deep:!1}):k(e)?De.set(e,{name:n,deep:!1}):void 0}}),xe=ve("observable.struct",{enhancer:function(e,t){return Ir(e,t)?t:e}}),Re=W(Pe);function Le(e){return!0===e.deep?Z:!1===e.deep?J:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:Z;var t,n,r}function Oe(e,t,n){return G(t)?Pe.decorate_20223_(e,t):g(t)?void z(e,t,Pe):bn(e)?e:y(e)?De.object(e,t,n):Array.isArray(e)?De.array(e,t):C(e)?De.map(e,t):k(e)?De.set(e,t):"object"==typeof e&&null!==e?e:De.box(e,t)}a(Oe,Re);var Ne,Me,De=a(Oe,{box:function(e,t){var n=ke(t);return new Qe(e,Le(n),n.name,!0,n.equals)},array:function(e,t){var n=ke(t);return(!1===gt.useProxies||!1===n.proxy?wr:Un)(e,Le(n),n.name)},map:function(e,t){var n=ke(t);return new Jn(e,Le(n),n.name)},set:function(e,t){var n=ke(t);return new tr(e,Le(n),n.name)},object:function(e,t,n){return kr((function(){return rn(!1===gt.useProxies||!1===(null==n?void 0:n.proxy)?ar({},n):function(e,t){var n,r;return m(),e=ar(e,t),null!=(r=(n=e[q]).proxy_)?r:n.proxy_=new Proxy(e,Tn)}({},n),e,t)}))},ref:W(Ie),shallow:W(Te),deep:Re,struct:W(xe)}),Be="computed",Fe=de(Be),He=de("computed.struct",{equals:Q.structural}),Ve=function(e,t){if(G(t))return Fe.decorate_20223_(e,t);if(g(t))return z(e,t,Fe);if(y(e))return W(de(Be,e));var n=y(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Je(n)};Object.assign(Ve,Fe),Ve.struct=W(He);var Ue=0,je=1,We=null!=(Ne=null==(Me=s((function(){}),"name"))?void 0:Me.configurable)&&Ne,ze={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ge(e,t,n,r){function i(){return qe(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},We&&(ze.value=e,l(i,"name",ze)),i}function qe(e,t,n,i,o){var a=function(e,t){var n=!1,r=0;0;var i=gt.trackingDerivation,o=!t||!i;St();var a=gt.allowStateChanges;o&&(ct(),a=Ye(!0));var s=ht(!0),l={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:a,prevAllowStateReads_:s,notifySpy_:n,startTime_:r,actionId_:je++,parentActionId_:Ue};return Ue=l.actionId_,l}(0,t);try{return n.apply(i,o)}catch(e){throw a.error_=e,e}finally{!function(e){Ue!==e.actionId_&&r(30);Ue=e.parentActionId_,void 0!==e.error_&&(gt.suppressReactionErrors=!0);Xe(e.prevAllowStateChanges_),pt(e.prevAllowStateReads_),At(),e.runAsAction_&&dt(e.prevDerivation_);0;gt.suppressReactionErrors=!1}(a)}}function Ke(e,t){var n=Ye(e);try{return t()}finally{Xe(n)}}function Ye(e){var t=gt.allowStateChanges;return gt.allowStateChanges=e,t}function Xe(e){gt.allowStateChanges=e}var Qe=function(e){function t(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=Q.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}H(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==gt.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(at(this),xn(this)){var t=Ln(this,{object:this,type:Fn,newValue:e});if(!t)return gt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?gt.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),On(this)&&Mn(this,{type:Fn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return Rn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Fn,newValue:this.value_,oldValue:void 0}),Nn(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return T(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(K),Ze=A("ObservableValue",Qe),Je=function(){function e(e){this.dependenciesState_=$e.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$e.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new nt(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=et.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||r(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Ge("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?Q.structural:Q.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==$e.UP_TO_DATE_)return;e.lowestObserverState_=$e.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===$e.UP_TO_DATE_&&(e.dependenciesState_=$e.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing&&r(32,this.name_,this.derivation),0!==gt.inBatch||0!==this.observers_.size||this.keepAlive_){if(Ct(this),it(this)){var e=gt.trackingContext;this.keepAlive_&&!e&&(gt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===$e.STALE_)return;e.lowestObserverState_=$e.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===$e.POSSIBLY_STALE_?t.dependenciesState_=$e.STALE_:t.dependenciesState_===$e.UP_TO_DATE_&&(e.lowestObserverState_=$e.UP_TO_DATE_)}))}(this),gt.trackingContext=e}}else it(this)&&(this.warnAboutUntrackedRead_(),St(),this.value_=this.computeValue_(!1),At());var t=this.value_;if(rt(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter&&r(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else r(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===$e.NOT_TRACKING_,n=this.computeValue_(!0),r=t||rt(e)||rt(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing=!0;var t,n=Ye(!1);if(e)t=st(this,this.derivation,this.scope_);else if(!0===gt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new nt(e)}return Xe(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(lt(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return Gt((function(){var o=n.get();if(!r||t){var a=ct();e({observableKind:"computed",debugObjectName:n.name_,type:Fn,object:n,newValue:o,oldValue:i}),dt(a)}r=!1,i=o}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return T(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},D(e,[{key:"isComputing",get:function(){return L(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=O(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return L(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=O(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return L(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=O(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return L(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=O(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return L(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=O(this.flags_,e.diffValueMask_,1===t)}}])}();Je.isComputingMask_=1,Je.isRunningSetterMask_=2,Je.isBeingObservedMask_=4,Je.isPendingUnobservationMask_=8,Je.diffValueMask_=16;var $e,et,tt=A("ComputedValue",Je);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}($e||($e={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(et||(et={}));var nt=function(e){this.cause=void 0,this.cause=e};function rt(e){return e instanceof nt}function it(e){switch(e.dependenciesState_){case $e.UP_TO_DATE_:return!1;case $e.NOT_TRACKING_:case $e.STALE_:return!0;case $e.POSSIBLY_STALE_:for(var t=ht(!0),n=ct(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(tt(a)){if(gt.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return dt(n),pt(t),!0}if(e.dependenciesState_===$e.STALE_)return dt(n),pt(t),!0}}return mt(e),dt(n),pt(t),!1}}function ot(){return null!==gt.trackingDerivation}function at(e){}function st(e,t,n){var r=ht(!0);mt(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++gt.runId;var i,o=gt.trackingDerivation;if(gt.trackingDerivation=e,gt.inBatch++,!0===gt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new nt(e)}return gt.inBatch--,gt.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=$e.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,e.newObserving_=null,o=t.length;for(;o--;){var l=t[o];0===l.diffValue&&Et(l,e),l.diffValue=0}for(;i--;){var u=n[i];1===u.diffValue&&(u.diffValue=0,yt(u,e))}r!==$e.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),pt(r),i}function lt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Et(t[n],e);e.dependenciesState_=$e.NOT_TRACKING_}function ut(e){var t=ct();try{return e()}finally{dt(t)}}function ct(){var e=gt.trackingDerivation;return gt.trackingDerivation=null,e}function dt(e){gt.trackingDerivation=e}function ht(e){var t=gt.allowStateReads;return gt.allowStateReads=e,t}function pt(e){gt.allowStateReads=e}function mt(e){if(e.dependenciesState_!==$e.UP_TO_DATE_){e.dependenciesState_=$e.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=$e.UP_TO_DATE_}}var vt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},_t=!0,ft=!1,gt=function(){var e=o();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(_t=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new vt).version&&(_t=!1),_t?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new vt):(setTimeout((function(){ft||r(35)}),1),new vt)}();function bt(){return gt}function yt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Et(e,t){e.observers_.delete(t),0===e.observers_.size&&wt(e)}function wt(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,gt.pendingUnobservations.push(e))}function St(){gt.inBatch++}function At(){if(0==--gt.inBatch){xt();for(var e=gt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Je&&n.suspend_())}gt.pendingUnobservations=[]}}function Ct(e){var t=gt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&gt.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&gt.inBatch>0&&wt(e),!1)}function kt(e){e.lowestObserverState_!==$e.STALE_&&(e.lowestObserverState_=$e.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===$e.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=$e.STALE_})))}var Pt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=$e.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=et.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,gt.pendingReactions.push(this),xt())},t.runReaction_=function(){if(!this.isDisposed){St(),this.isScheduled=!1;var e=gt.trackingContext;if(gt.trackingContext=this,it(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}gt.trackingContext=e,At()}},t.track=function(e){if(!this.isDisposed){St();0,this.isRunning=!0;var t=gt.trackingContext;gt.trackingContext=this;var n=st(this,e,void 0);gt.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&lt(this),rt(n)&&this.reportExceptionInDerivation_(n.cause),At()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(gt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";gt.suppressReactionErrors||console.error(n,e),gt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(St(),lt(this),At()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[q]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},D(e,[{key:"isDisposed",get:function(){return L(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=O(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return L(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=O(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return L(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=O(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return L(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=O(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return L(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=O(this.flags_,e.diffValueMask_,1===t)}}])}();Pt.isDisposedMask_=1,Pt.isScheduledMask_=2,Pt.isTrackPendingMask_=4,Pt.isRunningMask_=8,Pt.diffValueMask_=16;var It=100,Tt=function(e){return e()};function xt(){gt.inBatch>0||gt.isRunningReactions||Tt(Rt)}function Rt(){gt.isRunningReactions=!0;for(var e=gt.pendingReactions,t=0;e.length>0;){++t===It&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}gt.isRunningReactions=!1}var Lt=A("Reaction",Pt);var Ot="action",Nt="autoAction",Mt="<unnamed action>",Dt=te(Ot),Bt=te("action.bound",{bound:!0}),Ft=te(Nt,{autoAction:!0}),Ht=te("autoAction.bound",{autoAction:!0,bound:!0});function Vt(e){return function(t,n){return f(t)?Ge(t.name||Mt,t,e):f(n)?Ge(t,n,e):G(n)?(e?Ft:Dt).decorate_20223_(t,n):g(n)?z(t,n,e?Ft:Dt):g(t)?W(te(e?Nt:Ot,{name:t,autoAction:e})):void 0}}var Ut=Vt(!1);Object.assign(Ut,Dt);var jt=Vt(!0);function Wt(e){return qe(e.name,!1,e,this,void 0)}function zt(e){return f(e)&&!0===e.isMobxAction}function Gt(e,t){var n,r,i,o;void 0===t&&(t=d);var a,s=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)a=new Pt(s,(function(){this.track(c)}),t.onError,t.requiresObservable);else{var l=Kt(t),u=!1;a=new Pt(s,(function(){u||(u=!0,l((function(){u=!1,a.isDisposed||a.track(c)})))}),t.onError,t.requiresObservable)}function c(){e(a)}return null!=(i=t)&&null!=(i=i.signal)&&i.aborted||a.schedule_(),a.getDisposer_(null==(o=t)?void 0:o.signal)}Object.assign(jt,Ft),Ut.bound=W(Bt),jt.bound=W(Ht);var qt=function(e){return e()};function Kt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:qt}function Yt(e,t,n){var r,i,o;void 0===n&&(n=d);var a,s,l,u=null!=(r=n.name)?r:"Reaction",c=Ut(u,n.onError?(a=n.onError,s=t,function(){try{return s.apply(this,arguments)}catch(e){a.call(this,e)}}):t),h=!n.scheduler&&!n.delay,p=Kt(n),m=!0,v=!1,_=n.compareStructural?Q.structural:n.equals||Q.default,f=new Pt(u,(function(){m||h?g():v||(v=!0,p(g))}),n.onError,n.requiresObservable);function g(){if(v=!1,!f.isDisposed){var t=!1,r=l;f.track((function(){var n=Ke(!1,(function(){return e(f)}));t=m||!_(l,n),l=n})),(m&&n.fireImmediately||!m&&t)&&c(l,r,f),m=!1}}return null!=(i=n)&&null!=(i=i.signal)&&i.aborted||f.schedule_(),f.getDisposer_(null==(o=n)?void 0:o.signal)}var Xt="onBO",Qt="onBUO";function Zt(e,t,n){return Jt(Qt,e,t,n)}function Jt(e,t,n,r){var i="function"==typeof r?Sr(t,n):Sr(t),o=f(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var $t="never",en="always",tn="observed";function nn(e){!0===e.isolateGlobalState&&function(){if((gt.pendingReactions.length||gt.inBatch||gt.isRunningReactions)&&r(36),ft=!0,_t){var e=o();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),gt=new vt}}();var t,n,i=e.useProxies,a=e.enforceActions;if(void 0!==i&&(gt.useProxies=i===en||i!==$t&&"undefined"!=typeof Proxy),"ifavailable"===i&&(gt.verifyProxies=!0),void 0!==a){var s=a===en?en:a===tn;gt.enforceActions=s,gt.allowStateChanges=!0!==s&&s!==en}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(gt[t]=!!e[t])})),gt.allowStateReads=!gt.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=Tt,Tt=function(e){return t((function(){return n(e)}))})}function rn(e,t,n,r){var i=R(t);return kr((function(){var t=ar(e,r)[q];I(i).forEach((function(e){t.extend_(e,i[e],!n||(!(e in n)||n[e]))}))})),e}function on(e,t){return an(Sr(e,t))}function an(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(an)),n}var sn=0;function ln(){this.message="FLOW_CANCELLED"}ln.prototype=Object.create(Error.prototype);var un=ae("flow"),cn=ae("flow.bound",{bound:!0}),dn=Object.assign((function(e,t){if(G(t))return un.decorate_20223_(e,t);if(g(t))return z(e,t,un);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++sn,o=Ut(r+" - runid: "+i+" - init",n).apply(this,t),a=void 0,s=new Promise((function(t,n){var s=0;function l(e){var t;a=void 0;try{t=Ut(r+" - runid: "+i+" - yield "+s++,o.next).call(o,e)}catch(e){return n(e)}c(t)}function u(e){var t;a=void 0;try{t=Ut(r+" - runid: "+i+" - yield "+s++,o.throw).call(o,e)}catch(e){return n(e)}c(t)}function c(e){if(!f(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(l,u);e.then(c,n)}e=n,l(void 0)}));return s.cancel=Ut(r+" - runid: "+i+" - cancel",(function(){try{a&&hn(a);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(_,_),hn(n),e(new ln)}catch(t){e(t)}})),s};return i.isMobXFlow=!0,i}),un);function hn(e){f(e.cancel)&&e.cancel()}function pn(e){return e}function mn(e){return!0===(null==e?void 0:e.isMobXFlow)}function vn(e,t){if(void 0===t)return tt(e);if(!1===ur(e))return!1;if(!e[q].values_.has(t))return!1;var n=Sr(e,t);return tt(n)}function _n(e){return vn(e)}function fn(e,t){return vn(e,t)}function gn(e,t){return!!e&&(void 0!==t?!!ur(e)&&e[q].values_.has(t):ur(e)||!!e[q]||Y(e)||Lt(e)||tt(e))}function bn(e){return gn(e)}function yn(e){return ur(e)?e[q].keys_():$n(e)||nr(e)?Array.from(e.keys()):Yn(e)?e.map((function(e,t){return t})):void r(5)}function En(e,t,n,r){return f(n)?function(e,t,n,r){return Ar(e,t).observe_(n,r)}(e,t,n,r):function(e,t,n){return Ar(e).observe_(t,n)}(e,t,n)}function wn(e,t,n){return e.set(t,n),n}function Sn(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!bn(e))return e;if(Ze(e)||tt(e))return Sn(e.get(),t);if(t.has(e))return t.get(e);if(Yn(e)){var n=wn(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=Sn(e,t)})),n}if(nr(e)){var i=wn(t,e,new Set);return e.forEach((function(e){i.add(Sn(e,t))})),i}if($n(e)){var o=wn(t,e,new Map);return e.forEach((function(e,n){o.set(n,Sn(e,t))})),o}var a=wn(t,e,{});return function(e){if(ur(e))return e[q].ownKeys_();r(38)}(e).forEach((function(n){u.propertyIsEnumerable.call(e,n)&&(a[n]=Sn(e[n],t))})),a}function An(e,t){return Sn(e,new Map)}function Cn(e,t){void 0===t&&(t=void 0),St();try{return e.apply(t)}finally{At()}}function kn(e,t,n){return 1===arguments.length||t&&"object"==typeof t?function(e,t){var n,r,i;0;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var o=new Promise((function(n,o){var a,s=Pn(e,n,F({},t,{onError:o}));r=function(){s(),o(new Error("WHEN_CANCELLED"))},i=function(){s(),o(new Error("WHEN_ABORTED"))},null==t||null==(a=t.signal)||null==a.addEventListener||a.addEventListener("abort",i)})).finally((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",i)}));return o.cancel=r,o}(e,t):Pn(e,t,n||{})}function Pn(e,t,n){var r;if("number"==typeof n.timeout){var i=new Error("WHEN_TIMEOUT");r=setTimeout((function(){if(!a[q].isDisposed){if(a(),!n.onError)throw i;n.onError(i)}}),n.timeout)}n.name="When";var o=Ge("When-effect",t),a=Gt((function(t){Ke(!1,e)&&(t.dispose(),r&&clearTimeout(r),o())}),n);return a}function In(e){return e[q]}dn.bound=W(cn);var Tn={has:function(e,t){return In(e).has_(t)},get:function(e,t){return In(e).get_(t)},set:function(e,t,n){var r;return!!g(t)&&(null==(r=In(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!g(t)&&(null==(n=In(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=In(e).defineProperty_(t,n))||r},ownKeys:function(e){return In(e).ownKeys_()},preventExtensions:function(e){r(13)}};function xn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Rn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),v((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ln(e,t){var n=ct();try{for(var i=[].concat(e.interceptors_||[]),o=0,a=i.length;o<a&&((t=i[o](t))&&!t.type&&r(14),t);o++);return t}finally{dt(n)}}function On(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Nn(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),v((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Mn(e,t){var n=ct(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);dt(n)}}function Dn(e,t,n){return kr((function(){var r=ar(e,n)[q];null!=t||(t=function(e){return x(e,j)||w(e,j,F({},e[j])),e[j]}(e)),I(t).forEach((function(e){return r.make_(e,t[e])}))})),e}var Bn="splice",Fn="update",Hn={get:function(e,t){var n=e[q];return t===q?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?x(jn,t)?jn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[q];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){r(15)}},Vn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new K(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Rn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Nn(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&r("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&r(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Er(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=c),xn(this)){var o=Ln(this,{object:this.proxy_,type:Bn,index:e,removedCount:t,added:n});if(!o)return c;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=On(this),o=i||r?{observableKind:"array",object:this.proxy_,type:Fn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Mn(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=On(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Bn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Mn(this,o)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&r(17,e,n.length),e<n.length){this.atom_;var i=n[e];if(xn(this)){var o=Ln(this,{type:Fn,object:this.proxy_,index:e,newValue:t});if(!o)return;t=o.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var a=new Array(e+1-n.length),s=0;s<a.length-1;s++)a[s]=void 0;a[a.length-1]=t,this.spliceWithArray_(n.length,0,a)}},e}();function Un(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),m(),kr((function(){var i=new Vn(n,t,r,!1);S(i.values_,q,i);var o=new Proxy(i.values_,Hn);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o}))}var jn={clear:function(){return this.splice(0)},replace:function(e){var t=this[q];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[q];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[q].spliceWithArray_(e,t,n)},push:function(){for(var e=this[q],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[q].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[q],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return gt.trackingDerivation&&r(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){gt.trackingDerivation&&r(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[q],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Wn(e,t){"function"==typeof Array.prototype[e]&&(jn[e]=t(e))}function zn(e){return function(){var t=this[q];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Gn(e){return function(t,n){var r=this,i=this[q];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function qn(e){return function(){var t=this,n=this[q];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}Wn("at",zn),Wn("concat",zn),Wn("flat",zn),Wn("includes",zn),Wn("indexOf",zn),Wn("join",zn),Wn("lastIndexOf",zn),Wn("slice",zn),Wn("toString",zn),Wn("toLocaleString",zn),Wn("toSorted",zn),Wn("toSpliced",zn),Wn("with",zn),Wn("every",Gn),Wn("filter",Gn),Wn("find",Gn),Wn("findIndex",Gn),Wn("findLast",Gn),Wn("findLastIndex",Gn),Wn("flatMap",Gn),Wn("forEach",Gn),Wn("map",Gn),Wn("some",Gn),Wn("toReversed",Gn),Wn("reduce",qn),Wn("reduceRight",qn);var Kn=A("ObservableArrayAdministration",Vn);function Yn(e){return b(e)&&Kn(e[q])}var Xn={},Qn="add",Zn="delete",Jn=function(){function e(e,t,n){var i=this;void 0===t&&(t=Z),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[q]=Xn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,f(Map)||r(18),kr((function(){i.keysAtom_=X("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,e&&i.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!gt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Qe(this.has_(e),J,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Zt(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(xn(this)){var r=Ln(this,{type:n?Fn:Qn,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,xn(this))&&!Ln(this,{type:Zn,object:this,name:e}))return!1;if(this.has_(e)){var n=On(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Zn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return Cn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Mn(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==gt.UNCHANGED){var r=On(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Fn,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&Mn(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,Cn((function(){var r,i=new Qe(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=On(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Qn,object:this,name:e,newValue:t}:null;r&&Mn(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Rr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return Rr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=B(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return $n(e)&&(e=new Map(e)),Cn((function(){var n,i,o;y(e)?function(e){var t=Object.keys(e);if(!P)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return u.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):C(e)?(n=e,i=Object.getPrototypeOf(n),o=Object.getPrototypeOf(i),null!==Object.getPrototypeOf(o)&&r(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&r(20,e)})),this},t.clear=function(){var e=this;Cn((function(){ut((function(){for(var t,n=B(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return Cn((function(){for(var n,i=function(e){if(C(e)||$n(e))return e;if(Array.isArray(e))return new Map(e);if(y(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return r(21,e)}(e),o=new Map,a=!1,s=B(t.data_.keys());!(n=s()).done;){var l=n.value;if(!i.has(l))if(t.delete(l))a=!0;else{var u=t.data_.get(l);o.set(l,u)}}for(var c,d=B(i.entries());!(c=d()).done;){var h=c.value,p=h[0],m=h[1],v=t.data_.has(p);if(t.set(p,m),t.data_.has(p)){var _=t.data_.get(p);o.set(p,_),v||(a=!0)}}if(!a)if(t.data_.size!==o.size)t.keysAtom_.reportChanged();else for(var f=t.data_.keys(),g=o.keys(),b=f.next(),E=g.next();!b.done;){if(b.value!==E.value){t.keysAtom_.reportChanged();break}b=f.next(),E=g.next()}t.data_=o})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return Nn(this,e)},t.intercept_=function(e){return Rn(this,e)},D(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),$n=A("ObservableMap",Jn);var er={},tr=function(){function e(e,t,n){var i=this;void 0===t&&(t=Z),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[q]=er,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,f(Set)||r(22),this.enhancer_=function(e,r){return t(e,r,n)},kr((function(){i.atom_=X(i.name_),e&&i.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;Cn((function(){ut((function(){for(var t,n=B(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=B(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,xn(this))&&!Ln(this,{type:Qn,object:this,newValue:e}))return this;if(!this.has(e)){Cn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=On(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:Qn,object:this,newValue:e}:null;n,r&&Mn(this,i)}return this},t.delete=function(e){var t=this;if(xn(this)&&!Ln(this,{type:Zn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=On(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Zn,object:this,oldValue:e}:null;return Cn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Mn(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Rr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return Rr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.intersection=function(e){return k(e)&&!nr(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return k(e)&&!nr(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return k(e)&&!nr(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return k(e)&&!nr(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return nr(e)&&(e=new Set(e)),Cn((function(){Array.isArray(e)||k(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&r("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return Nn(this,e)},t.intercept_=function(e){return Rn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},D(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),nr=A("ObservableSet",tr),rr=Object.create(null),ir="remove",or=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=ye),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new K("ObservableObject.keys"),this.isPlainObject_=y(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Je)return n.set(t),!0;if(xn(this)){var r=Ln(this,{type:Fn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==gt.UNCHANGED){var i=On(this),o=i?{type:Fn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&Mn(this,o)}return!0},t.get_=function(e){return gt.trackingDerivation&&!x(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),x(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!gt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Qe(e in this.target_,J,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(dr(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[j])&&n[e])return;r(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==u;){var o=s(i,e);if(o){var a=t.make_(this,e,o,i);if(0===a)return;if(1===a)break}i=Object.getPrototypeOf(i)}cr(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);dr(this,n,e);var i=n.extend_(this,e,t,r);return i&&cr(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{St();var r=this.delete_(e);if(!r)return r;if(xn(this)){var i=Ln(this,{object:this.proxy_||this.target_,name:e,type:Qn,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=F({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else l(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{At()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{St();var i=this.delete_(e);if(!i)return i;if(xn(this)){var o=Ln(this,{object:this.proxy_||this.target_,name:e,type:Qn,newValue:t});if(!o)return null;t=o.newValue}var a=lr(e),s={configurable:!gt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else l(this.target_,e,s);var u=new Qe(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{At()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{St();var r=this.delete_(e);if(!r)return r;if(xn(this))if(!Ln(this,{object:this.proxy_||this.target_,name:e,type:Qn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=lr(e),o={configurable:!gt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else l(this.target_,e,o);this.values_.set(e,new Je(t)),this.notifyPropertyAddition_(e,void 0)}finally{At()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!x(this.target_,e))return!0;if(xn(this)&&!Ln(this,{object:this.proxy_||this.target_,name:e,type:ir}))return null;try{var n;St();var r,i=On(this),o=this.values_.get(e),a=void 0;if(!o&&i)a=null==(r=s(this.target_,e))?void 0:r.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof Qe&&(a=o.value_),kt(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),i){var l={type:ir,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};0,i&&Mn(this,l)}}finally{At()}return!0},t.observe_=function(e,t){return Nn(this,e)},t.intercept_=function(e){return Rn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r=On(this);if(r){var i=r?{type:Qn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,r&&Mn(this,i)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),I(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function ar(e,t){var n;if(x(e,q))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new or(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Ee(e):void 0}(t));return w(e,q,i),e}var sr=A("ObservableObjectAdministration",or);function lr(e){return rr[e]||(rr[e]={get:function(){return this[q].getObservablePropValue_(e)},set:function(t){return this[q].setObservablePropValue_(e,t)}})}function ur(e){return!!b(e)&&sr(e[q])}function cr(e,t,n){var r;null==(r=e.target_[j])||delete r[n]}function dr(e,t,n){}var hr,pr,mr=br(0),vr=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),_r=0,fr=function(){};hr=fr,pr=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(hr.prototype,pr):void 0!==hr.prototype.__proto__?hr.prototype.__proto__=pr:hr.prototype=pr;var gr=function(e){function t(t,n,r,i){var o;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this,kr((function(){var e=new Vn(r,n,i,!0);e.proxy_=o,S(o,q,e),t&&t.length&&o.spliceWithArray(0,0,t),vr&&Object.defineProperty(o,"0",mr)})),o}H(t,e);var n=t.prototype;return n.concat=function(){this[q].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Yn(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return Rr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},D(t,[{key:"length",get:function(){return this[q].getArrayLength_()},set:function(e){this[q].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(fr);function br(e){return{enumerable:!1,configurable:!0,get:function(){return this[q].get_(e)},set:function(t){this[q].set_(e,t)}}}function yr(e){l(gr.prototype,""+e,br(e))}function Er(e){if(e>_r){for(var t=_r;t<e+100;t++)yr(t);_r=e}}function wr(e,t,n){return new gr(e,t,n)}function Sr(e,t){if("object"==typeof e&&null!==e){if(Yn(e))return void 0!==t&&r(23),e[q].atom_;if(nr(e))return e.atom_;if($n(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||r(25,t,Cr(e)),n}if(ur(e)){if(!t)return r(26);var i=e[q].values_.get(t);return i||r(27,t,Cr(e)),i}if(Y(e)||tt(e)||Lt(e))return e}else if(f(e)&&Lt(e[q]))return e[q];r(28)}function Ar(e,t){return e||r(29),void 0!==t?Ar(Sr(e,t)):Y(e)||tt(e)||Lt(e)||$n(e)||nr(e)?e:e[q]?e[q]:void r(24,e)}function Cr(e,t){var n;if(void 0!==t)n=Sr(e,t);else{if(zt(e))return e.name;n=ur(e)||$n(e)||nr(e)?Ar(e):Sr(e)}return n.name_}function kr(e){var t=ct(),n=Ye(!0);St();try{return e()}finally{At(),Xe(n),dt(t)}}Object.entries(jn).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&w(gr.prototype,t,n)})),Er(1e3);var Pr=u.toString;function Ir(e,t,n){return void 0===n&&(n=-1),Tr(e,t,n)}function Tr(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=Pr.call(e);if(a!==Pr.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=xr(e),t=xr(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(f(l)&&l instanceof l&&f(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!Tr(e[c],t[c],n-1,r,i))return!1}else{var d,h=Object.keys(e);if(c=h.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!x(t,d=h[c])||!Tr(e[d],t[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function xr(e){return Yn(e)?e.slice():C(e)||$n(e)||k(e)||nr(e)?Array.from(e.entries()):e}function Rr(e){return e[Symbol.iterator]=Lr,e}function Lr(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===o()[e]&&r("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Cr},$mobx:q})},4823:(e,t,n)=>{n(7293),n(4401);var r,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,c=[],d=!1,h=-1;function p(){d&&u&&(d=!1,u.length?c=u.concat(c):h=-1,c.length&&m())}function m(){if(!d){var e=l(p);d=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function _(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new v(e,t)),1!==c.length||d||l(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},7588:(e,t,n)=>{"use strict";n(7293),n(4401),n(4924),n(4233),n(1557),n(2358),n(9420),n(9419),n(8471),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(752),n(8057);var r=n(8717),i=n(2875);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var f=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=_.hasOwnProperty(t)?_[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(f,g);_[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(f,g);_[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(f,g);_[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D,B=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var H=!1;function V(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case C:return"Profiler";case A:return"StrictMode";case T:return"Suspense";case x:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return j(e(t))}catch(e){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var fe=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ae=null;function Ce(e){if(e=bi(e)){if("function"!=typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),we(e.stateNode,e.type,t))}}function ke(e){Se?Ae?Ae.push(e):Ae=[e]:Se=e}function Pe(){if(Se){var e=Se,t=Ae;if(Ae=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Te(){}var xe=!1;function Re(e,t,n){if(xe)return e(t,n);xe=!0;try{return Ie(e,t,n)}finally{xe=!1,(null!==Se||null!==Ae)&&(Te(),Pe())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Oe=!1}function Me(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var De=!1,Be=null,Fe=!1,He=null,Ve={onError:function(e){De=!0,Be=e}};function Ue(e,t,n,r,i,o,a,s,l){De=!1,Be=null,Me.apply(Ve,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(je(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ze(i),e;if(a===r)return ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ze=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function _t(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ft(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Et,wt,St,At,Ct,kt=!1,Pt=[],It=null,Tt=null,xt=null,Rt=new Map,Lt=new Map,Ot=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=gi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Ht(e,t,n){Ft(e)&&n.delete(t)}function Vt(){kt=!1,null!==It&&Ft(It)&&(It=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==xt&&Ft(xt)&&(xt=null),Rt.forEach(Ht),Lt.forEach(Ht)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function jt(e){function t(t){return Ut(t,e)}if(0<Pt.length){Ut(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ut(It,e),null!==Tt&&Ut(Tt,e),null!==xt&&Ut(xt,e),Rt.forEach(t),Lt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Bt(n),null===n.blockedOn&&Ot.shift()}var Wt=y.ReactCurrentBatchConfig,zt=!0;function Gt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function qt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Kt(e,t,n,r){if(zt){var i=Xt(e,t,n,r);if(null===i)zr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Dt(It,e,t,n,r,i),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,i),!0;case"mouseover":return xt=Dt(xt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Dt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lt.set(o,Dt(Lt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Et(o),null===(o=Xt(e,t,n,r))&&zr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=gi(e=Ee(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=B({},un,{view:0,detail:0}),hn=on(dn),pn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),mn=on(pn),vn=on(B({},pn,{dataTransfer:0})),_n=on(B({},dn,{relatedTarget:0})),fn=on(B({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=B({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(gn),yn=on(B({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return An}var kn=B({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(kn),In=on(B({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),xn=on(B({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=B({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(Rn),On=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Mn,Bn=c&&(!Nn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Hn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){ke(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Yn(e){Fr(e,0)}function Xn(e){if(K(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Jn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"==typeof er.oninput}Jn=$n}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Gn(t,Kn,e,Ee(e)),Re(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,_r=null,fr=null,gr=null,br=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==_r||_r!==Y(r)||("selectionStart"in(r=_r)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=qr(fr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Sr={},Ar={};function Cr(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return Sr[e]=n[t];return e}c&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var kr=Cr("animationend"),Pr=Cr("animationiteration"),Ir=Cr("animationstart"),Tr=Cr("transitionend"),xr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){xr.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Nr=Rr[Or];Lr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Lr(kr,"onAnimationEnd"),Lr(Pr,"onAnimationIteration"),Lr(Ir,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Ue.apply(this,arguments),De){if(!De)throw Error(o(198));var c=Be;De=!1,Be=null,Fe||(Fe=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Br(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Br(i,s,u),o=l}}}if(Fe)throw e=He,Fe=!1,He=null,e}function Hr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=gi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=o,i=Ee(n),a=[];e:{var s=xr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=_n;break;case"focusout":u="blur",l=_n;break;case"beforeblur":case"afterblur":l=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case kr:case Pr:case Ir:l=fn;break;case Tr:l=xn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=!!(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var p,m=r;null!==m;){var v=(p=m).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==h&&(null!=(v=Le(m,h))&&c.push(Gr(m,v,p)))),d)break;m=m.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[mi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(d=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=mn,v="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?s:yi(l),p=null==u?s:yi(u),(s=new c(v,m+"leave",l,n,i)).target=d,s.relatedTarget=p,v=null,gi(i)===r&&((c=new c(h,m+"enter",u,n,i)).target=p,c.relatedTarget=d,v=c),d=v,l&&u)e:{for(h=u,m=0,p=c=l;p;p=Kr(p))m++;for(p=0,v=h;v;v=Kr(v))p++;for(;0<m-p;)c=Kr(c),m--;for(;0<p-m;)h=Kr(h),p--;for(;m--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==l&&Yr(a,s,l,c,!1),null!==u&&null!==d&&Yr(a,d,u,c,!0)}if("select"===(l=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var _=Qn;else if(zn(s))if(Zn)_=ar;else{_=ir;var f=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(_=or);switch(_&&(_=_(e,r))?Gn(a,_,n,i):(f&&f(e,s,r),"focusout"===e&&(f=s._wrapperState)&&f.controlled&&"number"===s.type&&ee(s,"number",s.value)),f=r?yi(r):window,e){case"focusin":(zn(f)||"true"===f.contentEditable)&&(_r=f,fr=r,gr=null);break;case"focusout":gr=fr=_r=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,yr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":yr(a,n,i)}var g;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(g=en()):(Jt="value"in(Zt=i)?Zt.value:Zt.textContent,jn=!0)),0<(f=qr(r,b)).length&&(b=new yn(b,e,null,n,i),a.push({event:b,listeners:f}),g?b.data=g:null!==(g=Un(n))&&(b.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Hn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Nn&&Vn(e,t)?(e=en(),$t=Jt=Zt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Le(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=Le(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Le(n,o))&&a.unshift(Gr(n,l,s)):i||null!=(l=Le(n,o))&&a.push(Gr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,mi="__reactContainer$"+di,vi="__reactEvents$"+di,_i="__reactListeners$"+di,fi="__reactHandles$"+di;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[pi]||null}var wi=[],Si=-1;function Ai(e){return{current:e}}function Ci(e){0>Si||(e.current=wi[Si],wi[Si]=null,Si--)}function ki(e,t){Si++,wi[Si]=e.current,e.current=t}var Pi={},Ii=Ai(Pi),Ti=Ai(!1),xi=Pi;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Li(e){return null!=(e=e.childContextTypes)}function Oi(){Ci(Ti),Ci(Ii)}function Ni(e,t,n){if(Ii.current!==Pi)throw Error(o(168));ki(Ii,t),ki(Ti,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return B({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,xi=Ii.current,ki(Ii,e),ki(Ti,Ti.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,xi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ti),Ci(Ii),ki(Ii,e)):Ci(Ti),ki(Ti,n)}var Fi=null,Hi=!1,Vi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function ji(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Hi=!1}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke($e,ji),t}finally{bt=t,Vi=!1}}return null}var Wi=[],zi=0,Gi=null,qi=0,Ki=[],Yi=0,Xi=null,Qi=1,Zi="";function Ji(e,t){Wi[zi++]=qi,Wi[zi++]=Gi,Gi=e,qi=t}function $i(e,t,n){Ki[Yi++]=Qi,Ki[Yi++]=Zi,Ki[Yi++]=Xi,Xi=e;var r=Qi;e=Zi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Zi=o+e}else Qi=1<<o|n<<i|r,Zi=e}function eo(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function to(e){for(;e===Gi;)Gi=Wi[--zi],Wi[zi]=null,qi=Wi[--zi],Wi[zi]=null;for(;e===Xi;)Xi=Ki[--Yi],Ki[Yi]=null,Zi=Ki[--Yi],Ki[Yi]=null,Qi=Ki[--Yi],Ki[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return!(!(1&e.mode)||128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ui(e.nextSibling)}function mo(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var _o=y.ReactCurrentBatchConfig;function fo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===L&&bo(o)===t.type)?((r=i(t,n.props)).ref=fo(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=fo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=fo(e,null,t),n.return=e,n;case w:return(t=Fu(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mu(t,e.mode,n,null)).return=e,t;go(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case L:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);go(e,n)}return null}function m(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);go(t,r)}return null}function v(i,o,s,l){for(var u=null,c=null,d=o,v=o=0,_=null;null!==d&&v<s.length;v++){d.index>v?(_=d,d=null):_=d.sibling;var f=p(i,d,s[v],l);if(null===f){null===d&&(d=_);break}e&&d&&null===f.alternate&&t(i,d),o=a(f,o,v),null===c?u=f:c.sibling=f,c=f,d=_}if(v===s.length)return n(i,d),io&&Ji(i,v),u;if(null===d){for(;v<s.length;v++)null!==(d=h(i,s[v],l))&&(o=a(d,o,v),null===c?u=d:c.sibling=d,c=d);return io&&Ji(i,v),u}for(d=r(i,d);v<s.length;v++)null!==(_=m(d,i,v,s[v],l))&&(e&&null!==_.alternate&&d.delete(null===_.key?v:_.key),o=a(_,o,v),null===c?u=_:c.sibling=_,c=_);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,v),u}function _(i,s,l,u){var c=M(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,v=s,_=s=0,f=null,g=l.next();null!==v&&!g.done;_++,g=l.next()){v.index>_?(f=v,v=null):f=v.sibling;var b=p(i,v,g.value,u);if(null===b){null===v&&(v=f);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,_),null===d?c=b:d.sibling=b,d=b,v=f}if(g.done)return n(i,v),io&&Ji(i,_),c;if(null===v){for(;!g.done;_++,g=l.next())null!==(g=h(i,g.value,u))&&(s=a(g,s,_),null===d?c=g:d.sibling=g,d=g);return io&&Ji(i,_),c}for(v=r(i,v);!g.done;_++,g=l.next())null!==(g=m(v,i,_,g.value,u))&&(e&&null!==g.alternate&&v.delete(null===g.key?_:g.key),s=a(g,s,_),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),io&&Ji(i,_),c}return function e(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===L&&bo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=fo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((o=Mu(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Nu(a.type,a.key,a.props,null,r.mode,l)).ref=fo(r,o,a),l.return=r,r=l)}return s(r);case w:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(a,r.mode,l)).return=r,r=o}return s(r);case L:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return v(r,o,a,l);if(M(a))return _(r,o,a,l);go(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Bu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Eo=yo(!0),wo=yo(!1),So=Ai(null),Ao=null,Co=null,ko=null;function Po(){ko=Co=Ao=null}function Io(e){var t=So.current;Ci(So),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xo(e,t){Ao=e,ko=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===Ao)throw Error(o(308));Co=e,Ao.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Lo=null;function Oo(e){null===Lo?Lo=[e]:Lo.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ho(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Il){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=n,v.tag){case 1:if("function"==typeof(m=v.payload)){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=v.payload)?m.call(p,d,h):m))break e;d=B({},d,h);break e;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Go={},qo=Ai(Go),Ko=Ai(Go),Yo=Ai(Go);function Xo(e){if(e===Go)throw Error(o(174));return e}function Qo(e,t){switch(ki(Yo,t),ki(Ko,e),ki(qo,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(qo),ki(qo,t)}function Zo(){Ci(qo),Ci(Ko),Ci(Yo)}function Jo(e){Xo(Yo.current);var t=Xo(qo.current),n=le(t,e.type);t!==n&&(ki(Ko,e),ki(qo,n))}function $o(e){Ko.current===e&&(Ci(qo),Ci(Ko))}var ea=Ai(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=y.ReactCurrentDispatcher,oa=y.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ua=null,ca=!1,da=!1,ha=0,pa=0;function ma(){throw Error(o(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?$a:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ua=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ua=la=sa=null,ca=!1,t)throw Error(o(300));return e}function fa(){var e=0!==ha;return ha=0,e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=e:ua=ua.next=e,ua}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ua?sa.memoizedState:ua.next;if(null!==t)ua=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?sa.memoizedState=ua=e:ua=ua.next=e}return ua}function ya(e,t){return"function"==typeof t?t(e):t}function Ea(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((aa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,sa.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Dl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Aa(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Da(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Ra(9,ka.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(o(349));30&aa||Ca(n,t,i)}return i}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&Ta(e)}function Pa(e,t,n){return n((function(){Ia(t)&&Ta(e)}))}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Ta(e){var t=Mo(e,1);null!==t&&nu(t,e,1,-1)}function xa(e){var t=ga();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(){return ba().memoizedState}function Oa(e,t,n,r){var i=ga();sa.flags|=e,i.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&va(r,a.deps))return void(i.memoizedState=Ra(t,n,o,r))}sa.flags|=e,i.memoizedState=Ra(1|t,n,o,r)}function Ma(e,t){return Oa(8390656,8,e,t)}function Da(e,t){return Na(2048,8,e,t)}function Ba(e,t){return Na(4,2,e,t)}function Fa(e,t){return Na(4,4,e,t)}function Ha(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!=n?n.concat([e]):null,Na(4,4,Ha.bind(null,t,e),n)}function Ua(){}function ja(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function za(e,t,n){return 21&aa?(sr(n,t)||(n=vt(),sa.lanes|=n,Dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function Ga(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function qa(){return ba().memoizedState}function Ka(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Qa(t,n);else if(null!==(n=No(e,t,n,r))){nu(n,e,r,eu()),Za(n,t,r)}}function Ya(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Qa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Oo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=No(e,t,i,r))&&(nu(n,e,r,i=eu()),Za(n,t,r))}}function Xa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Qa(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Ja={readContext:Ro,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},$a={readContext:Ro,useCallback:function(e,t){return ga().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Oa(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=ga();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ga();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ga().memoizedState=e},useState:xa,useDebugValue:Ua,useDeferredValue:function(e){return ga().memoizedState=e},useTransition:function(){var e=xa(!1),t=e[0];return e=Ga.bind(null,e[1]),ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ga();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tl)throw Error(o(349));30&aa||Ca(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ga(),t=Tl.identifierPrefix;if(io){var n=Zi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ro,useCallback:ja,useContext:Ro,useEffect:Da,useImperativeHandle:Va,useInsertionEffect:Ba,useLayoutEffect:Fa,useMemo:Wa,useReducer:Ea,useRef:La,useState:function(){return Ea(ya)},useDebugValue:Ua,useDeferredValue:function(e){return za(ba(),la.memoizedState,e)},useTransition:function(){return[Ea(ya)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Aa,useId:qa,unstable_isNewReconciler:!1},ts={readContext:Ro,useCallback:ja,useContext:Ro,useEffect:Da,useImperativeHandle:Va,useInsertionEffect:Ba,useLayoutEffect:Fa,useMemo:Wa,useReducer:wa,useRef:La,useState:function(){return wa(ya)},useDebugValue:Ua,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:za(t,la.memoizedState,e)},useTransition:function(){return[wa(ya)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Aa,useId:qa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Ho(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nu(t,e,i,r),Uo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Ho(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nu(t,e,i,r),Uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ho(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(nu(t,e,r,n),Uo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Pi,o=t.contextType;return"object"==typeof o&&null!==o?o=Ro(o):(i=Li(t)?xi:Ii.current,o=(r=null!=(r=t.contextTypes))?Ri(e,i):Pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Bo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ro(o):(o=Li(t)?xi:Ii.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ho(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,Gl=r),ds(0,t)},n}function ms(e,t,n){(n=Ho(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function _s(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fs(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ho(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e)}var gs=y.ReactCurrentOwner,bs=!1;function ys(e,t,n,r){t.child=null===e?wo(t,null,n,r):Eo(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var o=t.ref;return xo(t,i),r=_a(e,t,n,r,o,i),n=fa(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ys(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Lu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Ou(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,!(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);131072&e.flags&&(bs=!0)}}return ks(e,t,n,r,i)}function As(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ol,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Ol,Ll),Ll|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ol,Ll),Ll|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Ol,Ll),Ll|=r;return ys(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var o=Li(n)?xi:Ii.current;return o=Ri(t,o),xo(t,i),n=_a(e,t,n,r,o,i),r=fa(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ys(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Ps(e,t,n,r,i){if(Li(n)){var o=!0;Di(t)}else o=!1;if(xo(t,i),null===t.stateNode)Ws(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=Ro(u):u=Ri(t,u=Li(n)?xi:Ii.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,a,r,u),Do=!1;var h=t.memoizedState;a.state=h,Wo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ti.current||Do?("function"==typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Do||os(t,n,s,r,h,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),a.props=u,d=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ro(l):l=Ri(t,l=Li(n)?xi:Ii.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Do=!1,h=t.memoizedState,a.state=h,Wo(t,r,a,i);var m=t.memoizedState;s!==d||h!==m||Ti.current||Do?("function"==typeof p&&(rs(t,n,p,r),m=t.memoizedState),(u=Do||os(t,n,u,r,h,m,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,o,i)}function Is(e,t,n,r,i,o){Cs(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Bi(t,n,!1),zs(e,t,o);r=t.stateNode,gs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,s,o)):ys(e,t,s,o),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Qo(e,t.containerInfo)}function xs(e,t,n,r,i){return mo(),vo(i),t.flags|=256,ys(e,t,n,r),t.child}var Rs,Ls,Os,Ns,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(ea,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},1&i||null===s?s=Du(l,i,0,null):(s.childLanes=0,s.pendingProps=l),e=Mu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Hs(e,t,s,r=cs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Du({mode:"visible",children:r.children},i,0,null),(a=Mu(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&Eo(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ms,a);if(!(1&t.mode))return Hs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Hs(e,t,s,r=cs(a=Error(o(419)),r,void 0))}if(l=!!(s&e.childLanes),bs||l){if(null!==(r=Tl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|s)?0:i)&&i!==a.retryLane&&(a.retryLane=i,Mo(e,i),nu(r,e,i,-1))}return vu(),Hs(e,t,s,r=cs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Yi++]=Qi,Ki[Yi++]=Zi,Ki[Yi++]=Xi,Qi=e.id,Zi=e.overflow,Xi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 1&l||t.child===a?(i=Ou(a,u)).subtreeFlags=14680064&a.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null),null!==r?s=Ou(r,s):(s=Mu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Ou(s,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hs(e,t,n,r){return null!==r&&vo(r),Eo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function Us(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function js(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ys(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ea,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,o);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Ws(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Li(t.type)&&Oi(),qs(t),null;case 3:return r=t.stateNode,Zo(),Ci(Ti),Ci(Ii),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ls(e,t),qs(t),null;case 5:$o(t);var i=Xo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qs(t),null}if(e=Xo(qo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=!!(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Hr(Mr[i],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":Q(r,a),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Hr("invalid",r);break;case"textarea":ie(r,a),Hr("invalid",r)}for(var l in ge(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Hr("scroll",r)}switch(n){case"input":q(r),$(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),i=r;break;case"iframe":case"object":case"embed":Hr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Hr(Mr[i],e);i=r;break;case"source":Hr("error",e),i=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),i=r;break;case"details":Hr("toggle",e),i=r;break;case"input":Q(e,r),i=X(e,r),Hr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Hr("invalid",e)}for(a in ge(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?_e(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"==typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"==typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Hr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(Yo.current),Xo(qo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return qs(t),null;case 13:if(Ci(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&1&t.mode&&!(128&t.flags))po(),mo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else mo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Nl&&(Nl=3):vu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Zo(),Ls(e,t),null===e&&jr(t.stateNode.containerInfo),qs(t),null;case 10:return Io(t.type._context),qs(t),null;case 19:if(Ci(ea),null===(a=t.memoizedState))return qs(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)Gs(a,!1);else{if(0!==Nl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Gs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>jl&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return qs(t),null}else 2*Ze()-a.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ea.current,ki(ea,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ll)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Li(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zo(),Ci(Ti),Ci(Ii),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $o(t),null;case 13:if(Ci(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ea),null;case 4:return Zo(),null;case 10:return Io(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(qo.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=$r)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Hr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Qs=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Js=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Au(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Au(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[vi],delete t[_i],delete t[fi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Qs||$s(n,t);case 6:var r=cl,i=dl;cl=null,hl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),jt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&($s(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Au(n,t,e)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));pl(a,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){Au(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_l(t,e),t=t.sibling}function _l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),fl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Au(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Au(e,e.return,t)}}break;case 1:vl(t,e),fl(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vl(t,e),fl(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(t){Au(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(i,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];"style"===d?_e(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,c)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(i,!!a.multiple,m,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(t){Au(e,e.return,t)}}break;case 6:if(vl(t,e),fl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){Au(e,e.return,t)}}break;case 3:if(vl(t,e),fl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(t){Au(e,e.return,t)}break;case 4:default:vl(t,e),fl(e);break;case 13:vl(t,e),fl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Ze())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||d,vl(t,e),Qs=c):vl(t,e),fl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(m=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:$s(p,p.return);var v=p.stateNode;if("function"==typeof v.componentWillUnmount){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(e){Au(r,n,e)}}break;case 5:$s(p,p.return);break;case 22:if(null!==p.memoizedState){El(h);continue}}null!==m?(m.return=p,Js=m):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=null!=(u=h.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(t){Au(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(t){Au(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),fl(e),4&r&&ml(e);case 21:}}function fl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(t){Au(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Xs;var u=Qs;if(Xs=a,(Qs=l)&&!u)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?wl(i):null!==l?(l.return=a,Js=l):wl(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Xs=s,Qs=u}yl(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Js=o):yl(e)}}function yl(e){for(;null!==Js;){var t=Js;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&il(t)}catch(e){Au(t,t.return,e)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function El(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Au(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Au(t,i,e)}}var o=t.return;try{il(t)}catch(e){Au(t,o,e)}break;case 5:var a=t.return;try{il(t)}catch(e){Au(t,a,e)}}}catch(e){Au(t,t.return,e)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,Al=Math.ceil,Cl=y.ReactCurrentDispatcher,kl=y.ReactCurrentOwner,Pl=y.ReactCurrentBatchConfig,Il=0,Tl=null,xl=null,Rl=0,Ll=0,Ol=Ai(0),Nl=0,Ml=null,Dl=0,Bl=0,Fl=0,Hl=null,Vl=null,Ul=0,jl=1/0,Wl=null,zl=!1,Gl=null,ql=null,Kl=!1,Yl=null,Xl=0,Ql=0,Zl=null,Jl=-1,$l=0;function eu(){return 6&Il?Ze():-1!==Jl?Jl:Jl=Ze()}function tu(e){return 1&e.mode?2&Il&&0!==Rl?Rl&-Rl:null!==_o.transition?(0===$l&&($l=vt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type):1}function nu(e,t,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(o(185));ft(e,n,r),2&Il&&e===Tl||(e===Tl&&(!(2&Il)&&(Bl|=n),4===Nl&&su(e,Rl)),ru(e,r),1===n&&0===Il&&!(1&t.mode)&&(jl=Ze()+500,Hi&&ji()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?s&n&&!(s&r)||(i[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Tl?Rl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Hi=!0,Ui(e)}(lu.bind(null,e)):Ui(lu.bind(null,e)),ai((function(){!(6&Il)&&ji()})),n=null;else{switch(yt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,$l=0,6&Il)throw Error(o(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Rl:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=_u(e,r);else{t=r;var i=Il;Il|=2;var a=mu();for(Tl===e&&Rl===t||(Wl=null,jl=Ze()+500,hu(e,t));;)try{gu();break}catch(t){pu(e,t)}Po(),Cl.current=a,Il=i,null!==xl?t=0:(Tl=null,Rl=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Ml,hu(e,0),su(e,r),ru(e,Ze()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=_u(e,r),2===t&&(a=mt(e),0!==a&&(r=a,t=ou(e,a))),1!==t)))throw n=Ml,hu(e,0),su(e,r),ru(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Eu(e,Vl,Wl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Ul+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Eu.bind(null,e,Vl,Wl),t);break}Eu(e,Vl,Wl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=ri(Eu.bind(null,e,Vl,Wl),r);break}Eu(e,Vl,Wl);break;default:throw Error(o(329))}}}return ru(e,Ze()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=_u(e,t))&&(t=Vl,Vl=n,null!==t&&au(t)),e}function au(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function su(e,t){for(t&=~Fl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(6&Il)throw Error(o(327));wu();var t=ht(e,0);if(!(1&t))return ru(e,Ze()),null;var n=_u(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ml,hu(e,0),su(e,t),ru(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Vl,Wl),ru(e,Ze()),null}function uu(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(jl=Ze()+500,Hi&&ji())}}function cu(e){null!==Yl&&0===Yl.tag&&!(6&Il)&&wu();var t=Il;Il|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,!(6&(Il=t))&&ji()}}function du(){Ll=Ol.current,Ci(Ol)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==xl)for(n=xl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Oi();break;case 3:Zo(),Ci(Ti),Ci(Ii),ra();break;case 5:$o(r);break;case 4:Zo();break;case 13:case 19:Ci(ea);break;case 10:Io(r.type._context);break;case 22:case 23:du()}n=n.return}if(Tl=e,xl=e=Ou(e.current,null),Rl=Ll=t,Nl=0,Ml=null,Fl=Bl=Dl=0,Vl=Hl=null,null!==Lo){for(t=0;t<Lo.length;t++)if(null!==(r=(n=Lo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Lo=null}return e}function pu(e,t){for(;;){var n=xl;try{if(Po(),ia.current=Ja,ca){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,ua=la=sa=null,da=!1,ha=0,kl.current=null,null===n||null===n.return){Nl=1,Ml=t,xl=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_s(s);if(null!==m){m.flags&=-257,fs(m,s,l,0,t),1&m.mode&&vs(a,c,t),u=c;var v=(t=m).updateQueue;if(null===v){var _=new Set;_.add(u),t.updateQueue=_}else v.add(u);break e}if(!(1&t)){vs(a,c,t),vu();break e}u=Error(o(426))}else if(io&&1&l.mode){var f=_s(s);if(null!==f){!(65536&f.flags)&&(f.flags|=256),fs(f,s,l,0,t),vo(us(u,l));break e}}a=u=us(u,l),4!==Nl&&(Nl=2),null===Hl?Hl=[a]:Hl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ps(0,u,t));break e;case 1:l=u;var g=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof g.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==ql&&ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}yu(n)}catch(e){t=e,xl===n&&null!==n&&(xl=n=n.return);continue}break}}function mu(){var e=Cl.current;return Cl.current=Ja,null===e?Ja:e}function vu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Tl||!(268435455&Dl)&&!(268435455&Bl)||su(Tl,Rl)}function _u(e,t){var n=Il;Il|=2;var r=mu();for(Tl===e&&Rl===t||(Wl=null,hu(e,t));;)try{fu();break}catch(t){pu(e,t)}if(Po(),Il=n,Cl.current=r,null!==xl)throw Error(o(261));return Tl=null,Rl=0,Nl}function fu(){for(;null!==xl;)bu(xl)}function gu(){for(;null!==xl&&!Xe();)bu(xl)}function bu(e){var t=Sl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?yu(e):xl=t,kl.current=null}function yu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ys(n,t)))return n.flags&=32767,void(xl=n);if(null===e)return Nl=6,void(xl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ks(n,t,Ll)))return void(xl=n);if(null!==(t=t.sibling))return void(xl=t);xl=t=e}while(null!==t);0===Nl&&(Nl=5)}function Eu(e,t,n){var r=bt,i=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{wu()}while(null!==Yl);if(6&Il)throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Tl&&(xl=Tl=null,Rl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Kl||(Kl=!0,Tu(tt,(function(){return wu(),null}))),a=!!(15990&n.flags),!!(15990&n.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var s=bt;bt=1;var l=Il;Il|=4,kl.current=null,function(e,t){if(ei=zt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++c===i&&(l=s),p===a&&++d===r&&(u=s),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Js=t;null!==Js;)if(e=(t=Js).child,1028&t.subtreeFlags&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var _=v.memoizedProps,f=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:ns(t.type,_),f);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(o(163))}}catch(e){Au(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tl,tl=!1}(e,n),_l(n,e),mr(ti),zt=!!ei,ti=ei=null,e.current=n,gl(n,e,i),Qe(),Il=l,bt=s,Pl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Xl=i),a=e.pendingLanes,0===a&&(ql=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),ru(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zl)throw zl=!1,e=Gl,Gl=null,e;!!(1&Xl)&&0!==e.tag&&wu(),a=e.pendingLanes,1&a?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,ji()}(e,t,n,r)}finally{Pl.transition=i,bt=r}return null}function wu(){if(null!==Yl){var e=yt(Xl),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,6&Il)throw Error(o(331));var i=Il;for(Il|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(16&Js.flags){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,m=d.return;if(ol(d),d===c){Js=null;break}if(null!==p){p.return=m,Js=p;break}Js=m}}}var v=a.alternate;if(null!==v){var _=v.child;if(null!==_){v.child=null;do{var f=_.sibling;_.sibling=null,_=f}while(null!==_)}}Js=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(2048&(a=Js).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Js=g;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var y=(s=Js).child;if(2064&s.subtreeFlags&&null!==y)y.return=s,Js=y;else e:for(s=b;null!==Js;){if(2048&(l=Js).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Au(l,l.return,e)}if(l===s){Js=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Js=E;break e}Js=l.return}}if(Il=i,ji(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function Su(e,t,n){e=Vo(e,t=ps(0,t=us(n,t),1),1),t=eu(),null!==e&&(ft(e,1,t),ru(e,t))}function Au(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Vo(t,e=ms(t,e=us(n,e),1),1),e=eu(),null!==t&&(ft(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===Nl||3===Nl&&(130023424&Rl)===Rl&&500>Ze()-Ul?hu(e,0):Fl|=n),ru(e,t)}function ku(e,t){0===t&&(1&e.mode?(t=ct,!(130023424&(ct<<=1))&&(ct=4194304)):t=1);var n=eu();null!==(e=Mo(e,t))&&(ft(e,t,n),ru(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),ku(e,n)}function Tu(e,t){return Ke(e,t)}function xu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new xu(e,t,n,r)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Lu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Mu(n.children,i,a,t);case A:s=8,i|=8;break;case C:return(e=Ru(12,n,t,2|i)).elementType=C,e.lanes=a,e;case T:return(e=Ru(13,n,t,i)).elementType=T,e.lanes=a,e;case x:return(e=Ru(19,n,t,i)).elementType=x,e.lanes=a,e;case O:return Du(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case P:s=9;break e;case I:s=11;break e;case R:s=14;break e;case L:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_t(0),this.expirationTimes=_t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,o,a,s,l){return e=new Hu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ru(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(o),e}function Uu(e){if(!e)return Pi;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Li(n))return Mi(e,n,t)}return t}function ju(e,t,n,r,i,o,a,s,l){return(e=Vu(n,r,!0,e,0,o,0,s,l)).context=Uu(null),n=e.current,(o=Ho(r=eu(),i=tu(n))).callback=null!=t?t:null,Vo(n,o,i),e.current.lanes=i,ft(e,i,r),ru(e,r),e}function Wu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ho(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,a))&&(nu(e,i,a,o),Uo(e,i,a)),a}function zu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bs=!0;else{if(!(e.lanes&n||128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),mo();break;case 5:Jo(t);break;case 1:Li(t.type)&&Di(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ea,1&ea.current),t.flags|=128,null):n&t.child.childLanes?Bs(e,t,n):(ki(ea,1&ea.current),null!==(e=zs(e,t,n))?e.sibling:null);ki(ea,1&ea.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return js(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,As(e,t,n)}return zs(e,t,n)}(e,t,n);bs=!!(131072&e.flags)}else bs=!1,io&&1048576&t.flags&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ri(t,Ii.current);xo(t,n),i=_a(null,t,r,e,i,n);var a=fa();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ys(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Lu(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=ns(r,e),i){case 0:t=ks(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),Wo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=xs(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=xs(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mo(),r===i){t=zs(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Cs(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Bs(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ki(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){t=zs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Ho(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),To(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ys(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xo(t,n),r=r(i=Ro(i)),t.flags|=1,ys(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),ws(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Ws(e,t),t.tag=1,Li(r)?(e=!0,Di(t)):e=!1,xo(t,n),as(t,r,i),ls(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return js(e,t,n);case 22:return As(e,t,n)}throw Error(o(156,t.tag))};var Ku="function"==typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function $u(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=zu(a);s.call(e)}}Wu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=zu(a);o.call(e)}}var a=ju(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[mi]=a.current,jr(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=zu(l);s.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[mi]=l.current,jr(8===e.nodeType?e.parentNode:e),cu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return zu(a)}Xu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},Xu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Wu(null,e,null,null)})),t[mi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Bt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),ru(t,Ze()),!(6&Il)&&(jl=Ze()+500,ji()))}break;case 13:cu((function(){var t=Mo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},wt=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Mo(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},At=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uu,Te=cu;var ec={usingClientEntryPoint:!1,Events:[bi,yi,Ei,ke,Pe,uu]},tc={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(o(299));var n=!1,r="",i=Ku;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(o(200));return $u(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Ku;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ju(t,null,e,1,null!=n?n:null,i,0,a,s),e[mi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(o(200));return $u(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){$u(null,null,e,!1,(function(){e._reactRootContainer=null,e[mi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $u(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},3509:(e,t,n)=>{"use strict";var r=n(8572);t.H=r.createRoot,r.hydrateRoot},8572:(e,t,n)=>{"use strict";n(7293),function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(7588)},9712:(e,t,n)=>{n(8116),n(3122),n(1631),n(914),n(2358),n(9420),n(1433),n(1e3),n(9020),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(752);var r="undefined"!=typeof Element,i="function"==typeof Map,o="function"==typeof Set,a="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,l,u,c;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(l=n;0!=l--;)if(!s(e[l],t[l]))return!1;return!0}if(i&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!t.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!s(l.value[1],t.get(l.value[0])))return!1;return!0}if(o&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!t.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(l=n;0!=l--;)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(u=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(l=n;0!=l--;)if(!Object.prototype.hasOwnProperty.call(t,u[l]))return!1;if(r&&e instanceof Element)return!1;for(l=n;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!s(e[u[l]],t[u[l]]))return!1;return!0}return e!=e&&t!=t}e.exports=function(e,t){try{return s(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},5051:(e,t,n)=>{e.exports=n(7375)},7375:(e,t,n)=>{"use strict";n(7293),n(4401),n(1631),n(914),n(2358),n(9419);var r,i=(r=n(8717))&&"object"==typeof r&&"default"in r?r.default:r,o=n(8572);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e.prototype.constructor=e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}};function c(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}var d={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function h(e,t,n){var r="",i="",o=null,a=[];if(void 0===t&&(t="_"),null==n&&(n=d),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var s=!1;return e.split("").forEach((function(e){s=!s&&"\\"===e||(s||!n[e]?(a.push(r.length),r.length===a.length-1&&(i+=e)):o=r.length+1,r+=e,!1)})),{maskChar:t,formatChars:n,prefix:i,mask:r,lastEditablePosition:o,permanents:a}}function p(e,t){return-1!==e.permanents.indexOf(t)}function m(e,t,n){var r=e.mask,i=e.formatChars;if(!n)return!1;if(p(e,t))return r[t]===n;var o=i[r[t]];return new RegExp(o).test(n)}function v(e,t){return t.split("").every((function(t,n){return p(e,n)||!m(e,n,t)}))}function _(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&p(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var i=r.length,o=t.length;o>=r.length;o--){var a=t[o];if(!p(e,o)&&m(e,o,a)){i=o+1;break}}return i}function f(e,t){return _(e,t)===e.mask.length}function g(e,t){var n=e.maskChar,r=e.mask,i=e.prefix;if(!n){for((t=b(e,"",t,0)).length<i.length&&(t=i);t.length<r.length&&p(e,t.length);)t+=r[t.length];return t}if(t)return b(e,g(e,""),t,0);for(var o=0;o<r.length;o++)p(e,o)?t+=r[o]:t+=n;return t}function b(e,t,n,r){var i=e.mask,o=e.maskChar,a=e.prefix,s=n.split(""),l=f(e,t);return!o&&r>t.length&&(t+=i.slice(t.length,r)),s.every((function(n){for(;c=n,p(e,u=r)&&c!==i[u];){if(r>=t.length&&(t+=i[r]),s=n,o&&p(e,r)&&s===o)return!0;if(++r>=i.length)return!1}var s,u,c;return!m(e,r,n)&&n!==o||(r<t.length?t=o||l||r<a.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),g(e,t)):o||(t+=n),++r<i.length)})),t}function y(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!p(e,r))return r;return null}function E(e){return e||0===e?e+"":""}function w(e,t,n,r,i){var o=e.mask,a=e.prefix,s=e.lastEditablePosition,l=t,u="",c=0,d=0,h=Math.min(i.start,n.start);return n.end>i.start?d=(c=function(e,t,n,r){var i=e.mask,o=e.maskChar,a=n.split(""),s=r;return a.every((function(t){for(;a=t,p(e,n=r)&&a!==i[n];)if(++r>=i.length)return!1;var n,a;return(m(e,r,t)||t===o)&&r++,r<i.length})),r-s}(e,0,u=l.slice(i.start,n.end),h))?i.length:0:l.length<r.length&&(d=r.length-l.length),l=r,d&&(1!==d||i.length||(h=i.start===n.start?y(e,n.start):function(e,t){for(var n=t;0<=n;--n)if(!p(e,n))return n;return null}(e,n.start)),l=function(e,t,n,r){var i=n+r,o=e.maskChar,a=e.mask,s=e.prefix,l=t.split("");if(o)return l.map((function(t,r){return r<n||i<=r?t:p(e,r)?a[r]:o})).join("");for(var u=i;u<l.length;u++)p(e,u)&&(l[u]="");return n=Math.max(s.length,n),l.splice(n,i-n),t=l.join(""),g(e,t)}(e,l,h,d)),l=b(e,l,u,h),(h+=c)>=o.length?h=o.length:h<a.length&&!c?h=a.length:h>=a.length&&h<s&&c&&(h=y(e,h)),u||(u=null),{value:l=g(e,l),enteredString:u,selection:{start:h,end:h}}}function S(e){return"function"==typeof e}function A(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function C(e){return(A()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function k(e){(A()||clearTimeout)(e)}var P=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=C(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(k(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=o.findDOMNode(l(l(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=_(n.maskOptions,n.value),t=y(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var i=n.getInputDOMNode(),o=n.isFocused();i&&o&&(r.deferred||c(i,e,t),null!==n.selectionDeferId&&k(n.selectionDeferId),n.selectionDeferId=C((function(){n.selectionDeferId=null,c(i,e,t)})),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return function(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,i=e.permanents,o=e.formatChars;return{mask:t,maskChar:r,permanents:i,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:o}},n.isInputAutofilled=function(e,t,r,i){var o=n.getInputDOMNode();try{if(o.matches(":-webkit-autofill"))return!0}catch(e){}return!n.focused||i.end<r.length&&t.end===e.length},n.onChange=function(e){var t=l(l(n)).beforePasteState,r=l(l(n)).previousSelection,i=n.props.beforeMaskedValueChange,o=n.getInputValue(),a=n.value,s=n.getSelection();n.isInputAutofilled(o,s,a,r)&&(a=g(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,a=t.value,s={start:r.start+o.length,end:r.start+o.length,length:0},o=a.slice(0,r.start)+o+a.slice(r.end),n.beforePasteState=null);var u=w(n.maskOptions,o,s,a,r),c=u.enteredString,d=u.selection,h=u.value;if(S(i)){var p=i({value:h,selection:d},{value:a,selection:r},c,n.getBeforeMaskedValueChangeConfig());h=p.value,d=p.selection}n.setInputValue(h),S(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(d.start,d.end,{deferred:!0}):n.setSelection(d.start,d.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,i=r.mask,o=r.prefix;if(n.focused=!0,n.mounted=!0,i){if(n.value)_(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var a=g(n.maskOptions,o),s=g(n.maskOptions,a),l=_(n.maskOptions,s),u=y(n.maskOptions,l),c={start:u,end:u};if(S(t)){var d=t({value:s,selection:c},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());s=d.value,c=d.selection}var h=s!==n.getInputValue();h&&n.setInputValue(s),h&&S(n.props.onChange)&&n.props.onChange(e),n.setSelection(c.start,c.end)}n.runSaveSelectionLoop()}S(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&v(n.maskOptions,n.value)){var i="";S(t)&&(i=t({value:i,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var o=i!==n.getInputValue();o&&n.setInputValue(i),o&&S(n.props.onChange)&&n.props.onChange(e)}S(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),i=Math.abs(t.clientY-n.mouseDownY),o=Math.max(r,i),a=(new Date).getTime()-n.mouseDownTime;(o<=10&&a<=200||o<=5&&a<=300)&&n.setCursorToEnd()}}))}S(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){S(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&S(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,i=t.maskChar,a=t.formatChars,s=t.alwaysShowMask,u=t.beforeMaskedValueChange,d=t.defaultValue,p=t.value;n.maskOptions=h(r,i,a),null==d&&(d=""),null==p&&(p=d);var m=E(p);if(n.maskOptions.mask&&(s||m)&&(m=g(n.maskOptions,m),S(u))){var f=t.value;null==t.value&&(f=d),m=u({value:m,selection:null},{value:f=E(f),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=m,n}s(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,i=t.mask,o=t.maskChar,a=t.formatChars,s=this.maskOptions,l=r||this.isFocused(),u=null!=this.props.value,c=u?E(this.props.value):this.value,d=e?e.start:null;if(this.maskOptions=h(i,o,a),this.maskOptions.mask){!s.mask&&this.isFocused()&&this.runSaveSelectionLoop();var p=this.maskOptions.mask&&this.maskOptions.mask!==s.mask;if(s.mask||u||(c=this.getInputValue()),(p||this.maskOptions.mask&&(c||l))&&(c=g(this.maskOptions,c)),p){var m=_(this.maskOptions,c);(null===d||m<d)&&(d=f(this.maskOptions,c)?m:y(this.maskOptions,m))}!this.maskOptions.mask||!v(this.maskOptions,c)||l||u&&this.props.value||(c="");var b={start:d,end:d};if(S(n)){var w=n({value:c,selection:b},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());c=w.value,b=w.selection}this.value=c;var A=this.getInputValue()!==this.value;A?(this.setInputValue(this.value),this.forceUpdate()):p&&this.forceUpdate();var C=!1;null!=b.start&&null!=b.end&&(C=!e||e.start!==b.start||e.end!==b.end),(C||A)&&this.setSelection(b.start,b.end)}else s.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&k(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){S(n)||u(!1);var o=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],s=a({},r);o.forEach((function(e){return delete s[e]})),e=n(s),o.filter((function(t){return null!=e.props[t]&&e.props[t]!==r[t]})).length&&u(!1)}else e=i.createElement("input",a({ref:this.handleRef},r));var l={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(l.onChange=this.onChange,l.onPaste=this.onPaste,l.onMouseDown=this.onMouseDown),null!=r.value&&(l.value=this.value)),e=i.cloneElement(e,l)},t}(i.Component);e.exports=P},2594:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var r=n(9845),i=n(6292),o=n(6393);function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,o.A)(e,t)}n(1631),n(914),n(2358),n(9419);function s(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=n(8717),u=n(8572);const c=!1,d=l.createContext(null);var h=function(e){return e.scrollTop},p="unmounted",m="exited",v="entering",_="entered",f="exiting",g=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=m,r.appearStatus=v):i=_:i=t.unmountOnExit||t.mountOnEnter?p:m,r.state={status:i},r.nextCallback=null,r}a(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===p?{status:m}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==v&&n!==_&&(t=v):n!==v&&n!==_||(t=f)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===v){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this);n&&h(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===m&&this.setState({status:p})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[u.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:_},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:v},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:_},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.findDOMNode(this);t&&!c?(this.props.onExit(r),this.safeSetState({status:f},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:m},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:m},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===p)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(d.Provider,{value:null},"function"==typeof n?n(e,r):l.cloneElement(l.Children.only(n),r))},t}(l.Component);function b(){}g.contextType=d,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},g.UNMOUNTED=p,g.EXITED=m,g.ENTERING=v,g.ENTERED=_,g.EXITING=f;const y=g;var E=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=s(n.className,r):n.setAttribute("class",s(n.className&&n.className.baseVal||"",r)));var n,r}))},w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}a(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&h(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&E(e,r),i&&E(e,i),o&&E(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.A)(e,["classNames"]));return l.createElement(y,(0,r.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);w.defaultProps={classNames:""},w.propTypes={};const S=w},219:(e,t,n)=>{"use strict";var r=n(8717),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},4268:(e,t,n)=>{"use strict";n(7293),n(4401),n(2358),n(9419),n(752);var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,f={};function g(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||v}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||v}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var E=y.prototype=new b;E.constructor=y,_(E,g.prototype),E.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,A={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:A.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var I=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case i:l=!0}}if(l)return a=a(l=e),e=""===o?"."+T(l,0):o,w(a)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),x(a,t,n,"",(function(e){return e}))):null!=a&&(P(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+T(s=e[u],u);l+=x(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=x(s=s.value,t,n,c=o+T(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},N={transition:null},M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:N,ReactCurrentOwner:A};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=s,t.PureComponent=y,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=_({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=A.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:r,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},8717:(e,t,n)=>{"use strict";e.exports=n(4268)},3961:(e,t,n)=>{"use strict";e.exports=n(219)},132:(e,t,n)=>{"use strict";function r(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function i(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(n(4401),n(9679),"object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,p=null,m=3,v=!1,_=!1,f=!1,g="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=i(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,r(c,t)}t=i(d)}}function w(e){if(f=!1,E(e),!_)if(null!==i(c))_=!0,N(S);else{var t=i(d);null!==t&&M(w,t.startTime-e)}}function S(e,n){_=!1,f&&(f=!1,b(P),P=-1),v=!0;var r=m;try{for(E(n),p=i(c);null!==p&&(!(p.expirationTime>n)||e&&!x());){var a=p.callback;if("function"==typeof a){p.callback=null,m=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===i(c)&&o(c),E(n)}else o(c);p=i(c)}if(null!==p)var l=!0;else{var u=i(d);null!==u&&M(w,u.startTime-n),l=!1}return l}finally{p=null,m=r,v=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,C=!1,k=null,P=-1,I=5,T=-1;function x(){return!(t.unstable_now()-T<I)}function R(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?A():(C=!1,k=null)}}else C=!1}if("function"==typeof y)A=function(){y(R)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,O=L.port2;L.port1.onmessage=R,A=function(){O.postMessage(null)}}else A=function(){g(R,0)};function N(e){k=e,C||(C=!0,A())}function M(e,n){P=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,n,o){var a=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:n,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,r(d,e),null===i(c)&&e===i(d)&&(f?(b(P),P=-1):f=!0,M(w,o-a))):(e.sortIndex=s,r(c,e),_||v||(_=!0,N(S))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},2875:(e,t,n)=>{"use strict";e.exports=n(132)},3983:e=>{!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)o[n[0][r]]=e[r];return o}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},o={request:function(e,n){return new Promise(function(i,o){var a=function(){this.off("change",a),i()}.bind(this);this.on("change",a);var s=(e=e||t.documentElement)[r.requestFullscreen](n);s instanceof Promise&&s.then(a).catch(o)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var i=function(){this.off("change",i),e()}.bind(this);this.on("change",i);var o=t[r.exitFullscreen]();o instanceof Promise&&o.then(i).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=o:window.screenfull=o):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},7140:function(e,t,n){"use strict";n(8668),n(7293),n(4401),n(8116),n(3122),n(2358),n(9419),n(5544),n(135),n(7863),n(5506),n(1399),n(2472),n(8898),n(3642),n(509),n(6986),n(1433),n(1e3),n(9020),n(752),n(4175),n(5343),n(299),n(8578),n(9857),n(9972);var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.moduleName=void 0,t.moduleName="toWebVTT";var o=function(e,n){return new Promise((function(r,i){var o=new FileReader,a=function(e){var t=e.target.result;o.removeEventListener("loadend",a),r("string"!==n?new Uint8Array(t):t)},s=function(){o.removeEventListener("error",s),i(new Error(t.moduleName+": Error while reading the Blob object"))};o.addEventListener("loadend",a),o.addEventListener("error",s),"string"!==n?o.readAsArrayBuffer(e):o.readAsText(e)}))},a=function(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))},s=function(e){return e.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").concat("\r\n\r\n")};t.default=function(e){return r(void 0,void 0,void 0,(function(){var n,r,l,u;return i(this,(function(i){switch(i.label){case 0:if(!FileReader)throw new Error(t.moduleName+": No FileReader constructor found");if(!TextDecoder)throw new Error(t.moduleName+": No TextDecoder constructor found");if(!(e instanceof Blob))throw new Error(t.moduleName+": Expecting resource to be a Blob but something else found.");r="WEBVTT FILE\r\n\r\n",i.label=1;case 1:return i.trys.push([1,3,,5]),[4,o(e,"string")];case 2:return l=i.sent(),n=r.concat(s(l)),[3,5];case 3:return i.sent(),[4,o(e,"buffer")];case 4:return l=i.sent(),u=new TextDecoder("utf-8").decode(l),n=r.concat(s(u)),[3,5];case 5:return[2,Promise.resolve(a(n))]}}))}))}},4158:(e,t,n)=>{"use strict";var r=n(8717);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),a((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},2583:(e,t,n)=>{"use strict";e.exports=n(4158)},4766:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};n(7293),n(8116),n(3122),n(5544),n(135),n(7863),n(5506),n(1399),n(2472),n(8898),n(3642),n(509),n(6986),n(1433),n(1e3),n(9020);let i;const o=new Uint8Array(16);function a(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}n(4401);const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]}const u=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return l(i)}},3707:(e,t,n)=>{"use strict";n.d(t,{$y:()=>o,Me:()=>i,W1:()=>r});const r=100,i={HEIGHT:92,FULLSCREEN_HEIGHT:112},o={MIN_WIDTH_PX:233,MAX_WIDTH_PX:364,PLAYER_FOR_CHANNEL:163}},3016:(e,t,n)=>{"use strict";n.d(t,{K:()=>g});var r=n(9845),i=n(9067),o=n(8717),a=n(2540);const s=(e,t)=>o.createElement(a.A,(0,i.A)((0,i.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:t,name:"IconDsPlayerMinimize",__value:'<path fill="currentColor" fill-rule="evenodd" d="M20.293 2.293a1 1 0 1 1 1.414 1.414L16.414 9H20a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1V4a1 1 0 1 1 2 0v3.586zM3 14a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0v-3.586l-5.293 5.293a1 1 0 0 1-1.414-1.414L7.586 15H4a1 1 0 0 1-1-1" clip-rule="evenodd" />'})),l=(0,o.forwardRef)(s),u=(e,t)=>o.createElement(a.A,(0,i.A)((0,i.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:t,name:"IconDsPlayerFullscreenMaximize",__value:'<path fill="currentColor" fill-rule="evenodd" d="M8 2a1 1 0 1 1 0 2c-.857 0-1.639 0-2.089.038-.438.035-.663.1-.819.18a2 2 0 0 0-.874.874c-.08.156-.145.38-.18.819C4 6.361 4 7.143 4 8a1 1 0 1 1-2 0c0-.805 0-1.71.044-2.252.046-.562.145-1.079.392-1.564a4 4 0 0 1 1.748-1.748c.485-.247 1.002-.346 1.564-.392C6.29 2 7.195 2 8 2m10.089 2.038C17.639 4 16.857 4 16 4a1 1 0 1 1 0-2c.805 0 1.71 0 2.252.044.562.046 1.079.145 1.564.392a4 4 0 0 1 1.748 1.748c.247.485.346 1.002.392 1.564C22 6.29 22 7.195 22 8a1 1 0 1 1-2 0c0-.857 0-1.639-.038-2.089-.035-.438-.1-.663-.18-.819a2 2 0 0 0-.874-.874c-.156-.08-.38-.145-.819-.18M3 15a1 1 0 0 1 1 1c0 .857 0 1.639.038 2.089.035.438.1.663.18.819a2 2 0 0 0 .874.874c.156.08.38.145.819.18C6.361 20 7.143 20 8 20a1 1 0 1 1 0 2c-.805 0-1.71 0-2.252-.044-.562-.046-1.079-.145-1.564-.392a4 4 0 0 1-1.748-1.748c-.247-.485-.346-1.002-.392-1.564C2 17.71 2 16.805 2 16a1 1 0 0 1 1-1m18 0a1 1 0 0 1 1 1c0 .805 0 1.71-.044 2.252-.046.562-.145 1.079-.392 1.564a4 4 0 0 1-1.748 1.748c-.485.247-1.002.346-1.564.392C17.71 22 16.805 22 16 22a1 1 0 1 1 0-2c.857 0 1.639 0 2.089-.038.438-.035.663-.1.819-.18a2 2 0 0 0 .874-.874c.08-.156.145-.38.18-.819C20 17.639 20 16.857 20 16a1 1 0 0 1 1-1" clip-rule="evenodd" />'})),c=(0,o.forwardRef)(u);var d=n(3882),h=n(8007),p=n(2409),m=n(140),v=n(9346),_=n(4493),f=n(472);const g=(0,h.PA)((e=>{const{isFullscreen:t,handleFullscreen:n,iconSizeValue:i,tabIndex:a}=(0,p._)(),{getDataAttribute:s}=(0,m.f)();return o.createElement(_.S,(0,r.A)({"data-testid":"ui-fullscreen",tabIndex:a,"aria-label":(0,f.T)(t?"Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼Ð°":"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼","F",!0),role:"button",action:"fullscreen",onClick:n,tooltipTitle:t?d.m_.FullScreenOff:d.m_.FullScreenOn,size:i},s(t?v.R.EXIT_FULLSCREEN_BUTTON:v.R.FULLSCREEN_BUTTON)),t?o.createElement(l,null):o.createElement(c,null))}))},576:(e,t,n)=>{"use strict";n.d(t,{h:()=>F});var r=n(9845),i=(n(752),n(3052)),o=n(3882),a=n(451),s=n.n(a),l=n(8007),u=n(8717),c=n(2409);const d="volume-controls-module__wrapperControlsVolume___dPkJV",h="volume-controls-module__wrapperControlsVolumeBtn___CuWOd",p="volume-controls-module__volumeProgress___O5Dli",m="volume-controls-module__volumeProgressVisible___fIryz",v="volume-controls-module__progressBar___mvdEj",_="volume-controls-module__progressBarThumb___ehYke",f="volume-controls-module__progressBarFilled___WE7Gq",g="volume-controls-module__iconWrapper___afBpg",b="volume-controls-module__L___4X2DZ",y="volume-controls-module__mute___iC90p",E="volume-controls-module__min___Cwyx9";var w=n(9826),S=n(9067),A=n(2540);const C=(e,t)=>u.createElement(A.A,(0,S.A)((0,S.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:t,name:"IconDsPlayerVolumeMin",__value:'<path fill="currentColor" fill-rule="evenodd" d="m12.5 5.414-2.86 2.86a2.8 2.8 0 0 1-.51.431 2 2 0 0 1-.577.24C8.317 9 8.078 9 7.888 9H6.1a8 8 0 0 0-.589.011c-.01.117-.011.292-.011.589v4.8c0 .297.002.472.011.588.117.01.292.012.589.012h1.788c.19 0 .43-.001.665.055q.308.075.578.24c.206.126.375.296.509.43l2.86 2.86zm.382-2.702a1.5 1.5 0 0 1 1.259.52c.279.328.323.721.34.912.02.214.019.48.019.75v14.212c0 .27 0 .536-.019.75-.017.19-.061.584-.34.911a1.5 1.5 0 0 1-1.259.521c-.428-.034-.738-.28-.885-.403a9 9 0 0 1-.543-.517l-3.192-3.192a5 5 0 0 0-.18-.174S7.967 17 7.836 17H6.068c-.252 0-.498 0-.706-.017a2 2 0 0 1-.77-.201 2 2 0 0 1-.874-.874 2 2 0 0 1-.201-.77c-.017-.208-.017-.454-.017-.706V9.568c0-.252 0-.498.017-.706a2 2 0 0 1 .201-.77 2 2 0 0 1 .874-.874 2 2 0 0 1 .77-.201C5.57 7 5.816 7 6.068 7h1.77c.13 0 .2 0 .247-.003.035-.032.084-.08.177-.173l3.191-3.192c.192-.191.38-.379.544-.517.147-.123.457-.37.885-.403m4.791 4.468a1 1 0 0 1 1.392.248A7.97 7.97 0 0 1 20.5 12c0 1.698-.53 3.276-1.435 4.572a1 1 0 0 1-1.64-1.144A5.97 5.97 0 0 0 18.5 12a5.97 5.97 0 0 0-1.075-3.428 1 1 0 0 1 .248-1.392" clip-rule="evenodd" />'})),k=(0,u.forwardRef)(C),P=(e,t)=>u.createElement(A.A,(0,S.A)((0,S.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:t,name:"IconDsPlayerVolumeMax",__value:'<path fill="currentColor" fill-rule="evenodd" d="M11.64 4.233a1.5 1.5 0 0 0-1.258-.521c-.428.033-.738.28-.885.403-.164.138-.352.326-.543.517L5.762 7.824a6 6 0 0 1-.175.171 5 5 0 0 1-.25.005H3.568c-.252 0-.498 0-.706.017a2 2 0 0 0-.77.201 2 2 0 0 0-.874.874 2 2 0 0 0-.201.77C1 10.07 1 10.316 1 10.568v2.864c0 .252 0 .498.017.706.019.229.063.499.201.77a2 2 0 0 0 .874.874c.271.138.541.182.77.201.208.017.454.017.706.017h1.77c.13 0 .2 0 .247.003.035.032.084.08.177.173l3.192 3.192c.19.191.379.379.543.517.147.123.457.37.885.403a1.5 1.5 0 0 0 1.259-.52c.279-.328.323-.721.34-.912.02-.214.019-.48.019-.75V5.894c0-.27 0-.536-.019-.75-.017-.19-.061-.584-.34-.911M10 6.414l-2.86 2.86a2.8 2.8 0 0 1-.51.431 2 2 0 0 1-.577.24 2.8 2.8 0 0 1-.665.055H3.6c-.297 0-.472.002-.589.011-.01.117-.011.293-.011.589v2.8c0 .297.002.472.011.588.117.01.292.012.589.012h1.788c.19 0 .43-.001.665.055q.308.075.578.24c.206.126.375.296.509.43l2.86 2.86zm10.56-1.998a1 1 0 0 0-1.624 1.168A10.95 10.95 0 0 1 21 12c0 2.396-.765 4.61-2.064 6.416a1 1 0 0 0 1.624 1.168A12.95 12.95 0 0 0 23 12c0-2.829-.905-5.45-2.44-7.584m-3.994 3.012a1 1 0 0 0-1.64 1.144A5.97 5.97 0 0 1 16 12a5.97 5.97 0 0 1-1.075 3.428 1 1 0 0 0 1.64 1.144A7.97 7.97 0 0 0 18 12c0-1.698-.53-3.276-1.434-4.572" clip-rule="evenodd" />'})),I=(0,u.forwardRef)(P);var T=n(7516);const x=(0,l.PA)((e=>{let{muted:t,volume:n}=e;const{iconSizeValue:r}=(0,T.a)();return t||0===n?u.createElement("div",{className:s()(g,y,{[b]:"L"===r})},u.createElement(w.v,null)):n<=.5?u.createElement("div",{className:s()(g,E)},u.createElement(k,null)):u.createElement(I,null)}));var R=n(140),L=n(2065),O=n(4493),N=n(472),M=n(9346),D=n(9599),B=n(7163);const F=(0,l.PA)((e=>{let{panelRef:t}=e;const[n,a]=(0,u.useState)(!1),{playback:l,setIsVolumeShow:g,isVolumeShow:b,progressBarColor:y,iconSizeValue:E,tabIndex:w}=(0,c._)(),{getDataAttribute:S}=(0,R.f)(),A=i.B.isMobile,{muted:C,volume:k}=l,P=(0,u.useRef)(null),I=(0,u.useRef)(null),T=C?0:100*k,F=e=>{if(n){const t=(0,L.O)(e.nativeEvent,P,"horizontal");l.handleVolume(t)}},H=(0,u.useCallback)((()=>a(!0)),[]);(0,u.useEffect)((()=>{if(!t)return;const e=()=>a(!1),n=()=>{a(!1),g(!1)};return t.addEventListener("mouseup",e),t.addEventListener("mouseleave",n),()=>{t.removeEventListener("mouseup",e),t.removeEventListener("mouseleave",n)}}),[t,g]);const V=()=>g(!0);return u.createElement("div",{className:d,onPointerDown:i.B.isMobile?void 0:H,onPointerMove:i.B.isMobile?void 0:F,"data-testid":"ui-volume"},u.createElement(O.S,(0,r.A)({tabIndex:w,role:"button",color:"white",className:h,onClick:e=>{e.stopPropagation(),l.isInfoPrevented=!1,l.handleMuted()},"aria-label":(0,N.T)(!C&&k>0?"Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº":"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº","M",!0)+" ",onPointerEnter:V,onFocus:()=>{var e;A||b||(V(),null===(e=I.current)||void 0===e||e.focus({preventScroll:!0}))},onPointerDown:e=>e.stopPropagation(),tooltipTitle:C||0===k?o.m_.VolumeOn:o.m_.VolumeOff,size:E},S(C||0===k?M.R.ON_SOUND_BUTTON:M.R.OFF_SOUND_BUTTON)),u.createElement(x,{muted:C,volume:k})),!A&&u.createElement("div",(0,r.A)({tabIndex:0,id:D.v.VOLUME_BAR,ref:I,role:"slider","aria-label":"ÐŸÐ¾Ð»Ð·ÑƒÐ½Ð¾Ðº Ð³Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚Ð¸","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":C?0:Math.floor(100*k),"aria-valuetext":C?"0 (Ð—Ð²ÑƒÐº Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ñ‘Ð½)":"".concat(Math.floor(100*k)),className:s()(p,{[m]:b}),onClick:e=>{if(P.current){const t=(0,L.O)(e.nativeEvent,P,"horizontal");l.handleVolume(t)}}},S(M.R.VOLUME_CONTROLS_BUTTON)),u.createElement("div",(0,r.A)({"data-testid":"ui-progress",className:v,ref:P,onMouseDown:F,onTouchStart:F,onTouchMove:F},B.aQ),u.createElement("div",{className:f,style:{"--progress-value":"".concat(T,"%"),"--progress-color":y}}),u.createElement("div",{className:_,style:{"--thumb-left-shift":"".concat(T-10,"px")},onMouseDown:F,onTouchStart:F,onTouchMove:F}))))}))},2409:(e,t,n)=>{"use strict";n.d(t,{_:()=>i,x:()=>o});var r=n(3015);function i(){return(0,r.p5)().resolve("IControlsPlugin")}const o=()=>(0,r.ei)("INextVideoPlugin")},2189:(e,t,n)=>{"use strict";n.d(t,{o:()=>ne});var r=n(6270),i=(n(8668),n(7293),n(4401),n(752),n(3052)),o=n(3590),a=n(8007),s=n(8717),l=n(2409),u=n(451),c=n.n(u);const d="desktop-controls-layout-module__desktopControlsLayout___xkNb_",h="desktop-controls-layout-module__hidden___liPXA",p="desktop-controls-layout-module__desktopButtonsBlock___PSmVF",m="desktop-controls-layout-module__desktopButtonsBlockLeft___SKF_3",v="desktop-controls-layout-module__desktopButtonsBlockRight___MX5qU";var _=n(6545),f=n(1374);const g=(0,a.PA)((e=>{let{components:t,children:n}=e;const[r,i]=(0,s.useState)(null),o=(0,_.useControls)(),{data:a,onClickLogoStat:l,isHideControls:u,isShowProgressBar:g,desktopCustomClasses:b,iconSizeValue:y,isShowPreview:E}=o,{isLive:w}=a,S=(0,s.useRef)(null),[A,C]=(0,s.useState)(0),k=(0,s.useCallback)((()=>{var e,t;const n=null!==(e=null===(t=S.current)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0;n!==A&&(C(n),o.controlBlockHeight=n?n+16:0)}),[A,o]);return(0,s.useEffect)((()=>{k();const e=new ResizeObserver(k);return S.current&&e.observe(S.current),()=>e.disconnect()}),[k]),s.createElement(s.Fragment,null,s.createElement(_.ControlsOverlay,{isShowPreview:E}),t.headerComponent&&s.createElement(t.headerComponent,{shareButton:t.shareButtonComponent}),s.createElement("section",{"data-testid":"video-ui",ref:S,className:c()((null==b?void 0:b.desktopControlsLayout)||d,{[h]:u})},n,g&&t.progressBarComponent&&s.createElement(t.progressBarComponent,{margin:"0 12px"}),s.createElement("div",{className:c()((null==b?void 0:b.desktopButtonsBlock)||p),ref:i},s.createElement(f.R,{boundary:r},s.createElement("div",{className:c()((null==b?void 0:b.desktopButtonsBlockLeft)||m)},t.buttonsBlockComponent&&s.createElement(t.buttonsBlockComponent,null),s.createElement(_.VolumeControlsNew,{size:y,panelRef:null==S?void 0:S.current}),w?t.liveBadgeComponent&&s.createElement(t.liveBadgeComponent,{buttonSize:y}):null,t.chaptersButtonComponent&&s.createElement(t.chaptersButtonComponent,{buttonSize:y})),s.createElement("div",{className:c()((null==b?void 0:b.desktopButtonsBlockRight)||v)},t.logoButtonComponent&&s.createElement(t.logoButtonComponent,{onClick:l}),t.seasonsWidgetComponent&&s.createElement(t.seasonsWidgetComponent,{buttonSize:y}),t.captionsButtonComponent&&s.createElement(t.captionsButtonComponent,{size:y}),t.settingsComponent&&s.createElement(t.settingsComponent,{buttonsSize:y}),t.pictureInPictureButtonComponent&&s.createElement(t.pictureInPictureButtonComponent,{size:y,placement:"top",onboardingPlacement:"top"}),t.cinemaModeButtonComponent&&s.createElement(t.cinemaModeButtonComponent,{size:y}),s.createElement(_.FullScreenButtonNew,{size:y}))))))}));var b=n(9845),y=n(7283);const E="time-block-module__time___NQegY",w="time-block-module__currentTime___rknTp",S="time-block-module__duration___dobV6",A="time-block-module__separator___Rlvsx";var C=n(140),k=n(9346);const P=(0,a.PA)((e=>{let{children:t}=e;const n=(0,l._)(),{tempTime:r,playback:i}=n,{currentTime:o,duration:a}=i,{getDataAttribute:u}=(0,C.f)();return s.createElement("div",{className:c()(E)},s.createElement("div",(0,b.A)({className:w},u(k.R.CURRENT_TIME)),(0,y.a3)({value:r||o})),s.createElement("div",{className:A},"/"),s.createElement("div",(0,b.A)({className:S},u(k.R.DURATION_TIME)),(0,y.a3)({value:a})),t)}));var I=n(576),T=n(3016);const x="mobile-layout-module__mobileControlsLayout___xrB2W",R="mobile-layout-module__mobileControlsBottomBlock___z_hzx",L="mobile-layout-module__mobileControlsLine___azAxi",O="mobile-layout-module__mobileControlsLineLeft___PruLp",N="mobile-layout-module__disabled___kwSka",M="mobile-layout-module__mobileControlsLineRight___B5uig",D="mobile-layout-module__hidden___DoNe0",B="mobile-layout-module__fullScreen___XIbMC";var F=n(3707);const H=(0,a.PA)((e=>{let{components:t}=e;const n=(0,l._)(),{isShowControls:r,isHideControls:i,isShowProgressBar:o,onClickLogoStat:a,showControls:u,hideControls:d,setHideControlsTimer:h,mobileCustomClasses:p,playback:m,endScreen:v,data:_,isShowPreview:g,isTVPosterVisible:b,iconSizeValue:y,isFullscreen:E,isShowSettings:w}=n,{ended:S,isPlaying:A,waiting:C}=m,{isLive:k}=_,[H,V]=(0,s.useState)(null),U=C||g||b,j=(0,s.useRef)(null);(0,s.useEffect)((()=>{n.controlBlockHeight=E?F.Me.FULLSCREEN_HEIGHT:F.Me.HEIGHT}),[n,E]);return(0,s.useEffect)((()=>{!S||null!=v&&v.visible||r?null!=v&&v.visible&&d():u()}),[null==v?void 0:v.visible,r,S,u,d]),s.createElement(s.Fragment,null,s.createElement("section",{className:c()((null==p?void 0:p.mobileControlsLayout)||x,{[D]:i}),ref:V,onMouseDown:()=>{r||(u(),A&&h())},"aria-hidden":i},s.createElement(f.R,{boundary:H},t.headerComponent&&s.createElement(t.headerComponent,{shareButton:t.shareButtonComponent,settingsButton:w?t.settingsComponent:void 0,pipButton:t.pictureInPictureButtonComponent,snapshotButton:t.snapshotButtonComponent}),t.mobileButtonsBlockComponent&&s.createElement(t.mobileButtonsBlockComponent,{hidden:U}),s.createElement("section",{"data-testid":"video-ui",ref:j,className:c()((null==p?void 0:p.mobileControlsBottomBlock)||R,{[B]:E})},s.createElement("section",{className:c()((null==p?void 0:p.mobileControlsLine)||L,{[D]:g})},s.createElement("div",{className:c()((null==p?void 0:p.mobileControlsLineLeft)||O,{[N]:!r})},k?t.liveBadgeComponent&&s.createElement(t.liveBadgeComponent,{buttonSize:"XL"}):s.createElement(P,null,t.chaptersButtonComponent&&s.createElement(t.chaptersButtonComponent,{buttonSize:y}))),s.createElement("div",{className:c()((null==p?void 0:p.mobileControlsLineRight)||M)},t.logoButtonComponent&&s.createElement(t.logoButtonComponent,{isMobile:!0,onClick:a}),t.seasonsWidgetComponent&&s.createElement(t.seasonsWidgetComponent,{buttonSize:y}),t.captionsButtonComponent&&s.createElement(t.captionsButtonComponent,{size:y}),s.createElement(I.h,{size:y}),t.cinemaModeButtonComponent&&s.createElement(t.cinemaModeButtonComponent,{size:y}),s.createElement(T.K,{size:y}))),o&&t.progressBarComponent&&s.createElement(t.progressBarComponent,null)))))})),V=(0,a.PA)((e=>{const{components:t,children:n}=e,{isAllowControls:r,playback:o}=(0,l._)(),{autoPlayWithMute:a}=o;return i.B.isMobile&&"Enabled"===a||!r?null:i.B.isMobile?s.createElement(H,{components:t}):s.createElement(g,{components:t},n)}));var U=n(8817);var j=n(625),W=(n(2358),n(9419),n(8471),n(611)),z=n(7602);var G=n(6537);class q{constructor(e,t){this._areas=o.sH.box([]),this._chapters=o.sH.box([]),this._currentTVProgram=o.sH.box(),this._playback=e,this._dataPlugin=t,(0,o.Gn)(this,{activeChapter:o.EW,areas:o.EW,chapters:o.EW,currentTVProgram:o.EW})}initAreasMarkup(e){const{duration:t,isTvStream:n,tvSchedule:r,wasStarted:i}=this._playback,{isLive:o,description:a}=this._dataPlugin,s=(e=>{let{isLive:t,description:n="",duration:r}=e;if(t)return[{name:"",time:0},{time:r,name:""}];const i=n.split("\n").map((e=>e.trim())).filter((e=>z.WH.test(e)));let o=[];if(i.length){var a,s,l;const e=null===(a=i[0].match(z.WH))||void 0===a?void 0:a.groups;o=[{name:(null!==(s=null==e?void 0:e.name)&&void 0!==s?s:"").replace(z.jQ,"").trim(),time:(0,W.Sy)(null!==(l=null==e?void 0:e.time)&&void 0!==l?l:"")}]}else o=[{name:"",time:0}];for(let e=1;e<i.length;e++){var u,c;const t=null!==(u=null===(c=i[e].match(z.WH))||void 0===c?void 0:c.groups)&&void 0!==u?u:{name:"",time:""},n=null==t?void 0:t.time,a=(0,W.Sy)(n),s=a-(o.length>0?o[o.length-1].time:0),l=e===i.length-1&&r-a<=z.Vl;s>=z.Vl&&!l&&o.push({time:a,name:null==t?void 0:t.name.replace(z.jQ,"").trim()})}return o.push({time:r,name:""}),o})({isLive:o,duration:t,description:a}),l=2*t/100;if(n&&r&&i)return this.areas=[{name:"",start:0,end:1,width:100,progress:0,buffered:0}],void this.updateAreasProgressAndBuffer(e);const u=[],c=[];let d=null,h=0,p=0;for(let e=1;e<s.length;e++){const n=s[e-1].name,r=s[e-1].time,i=Math.min(s[e].time,t),o=i-r;if(r<t){const a=u.reduce(((e,t)=>{let{width:n}=t;return e+n}),p),_=t===1/0?100:i/t*100-a;var m,v;if(h+=o,o<l&&h<l)d=null!==(m=d)&&void 0!==m?m:r,p+=_,c.push({name:n,start:r,end:i}),e+1===s.length&&(u[u.length-1].end=i,u[u.length-1].width+=_);else c.push({name:n,start:r,end:i}),u.push({name:n,start:null!==(v=d)&&void 0!==v?v:r,end:i,width:p?p+_:_,progress:0,buffered:0}),d=null,h=0,p=0}}this.areas=u,this.chapters=c,this.updateAreasProgressAndBuffer(e)}updateAreas(e){const{isTvStream:t}=this._playback,n=this.currentTVProgram,r=t&&!!n&&1e3*n.stop>Date.now();this.areas&&this.areas.length&&(!n||r)?this.updateAreasProgressAndBuffer(e):this.initAreasMarkup(e)}updateAreasProgressAndBuffer(e){const t=this.areas;if(!t||!t.length)return;const{duration:n,isTvStream:r,tvSchedule:i,wasStarted:o}=this._playback,[a,s,l]=this._playback.getBuffered(),{isLive:u,isDVR:c}=this._dataPlugin,d=i?(0,G.eS)(i):null;if(r&&i&&d&&o){const e=(0,G.Ce)(d);this.currentTVProgram=d,t[0].progress=e>0?e:1}else{const r=this.getVisibleProgress(e),i="number"==typeof e?e:n*r/100;t.forEach(((e,t)=>{const{start:n,end:r}=e,o=0===t?0:n;e.buffered=((e,t,n)=>e>n?1:e<t?0:(e-t)/(n-t))(l,o,r),e.progress=r<i||u&&!c?1:o<i&&i<=r?(i-o)/(r-o):0}))}this.areas=t}get activeChapter(){if(isNaN(this._playback.duration))return null;const e=this._chapters.get(),t=this._playback.currentTime;return(0,j.I)(e,t)}get currentTVProgram(){return(0,o.HO)(this._currentTVProgram.get())}set currentTVProgram(e){(0,o.HO)(this._currentTVProgram.set(e))}get areas(){return(0,o.HO)(this._areas.get())}set areas(e){this._areas.set(e)}get chapters(){return this._chapters.get()}set chapters(e){this._chapters.set(e)}getVisibleProgress(e){const{duration:t,progress:n,isOutdated:r,isLive:i}=this._playback;let o=0;return o=i&&!r?100:"number"==typeof e?e/t*100:n,Math.min(o,100)}}var K,Y=n(4862),X=n(2514),Q=n(7234),Z=n(1862),J=n(3752),$=n(7163),ee=n(9599);let te;class ne extends Y.j8{static get lastStageAvailable(){return ne.IsNewControls&&ne.isCurrentRedesignStageAvailable}static get IsNewControls(){return ne.isRedesignedPlayer}static get Controls(){return ne.IsNewControls?V:_.Controls}static get InputControls(){throw new Error("InputControls Ð½Ðµ Ð±Ñ‹Ð»Ð¸ Ð¿ÐµÑ€ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ñ‹")}constructor(e,t,n,r,a,s,l,u,c,d,h){super(),this.__activePanel=(te(this),o.sH.box("")),this.__isShowControls=o.sH.box(!1),this.__showControlsTimeout=null,this.__isAllowControls=o.sH.box(!0),this.__isProgressBarClicked=o.sH.box(!1),this.__tempTime=o.sH.box(null),this.__preventHideControls=o.sH.box(!1),this.__needToHideTooltips=o.sH.box(!1),this.__isVolumeShow=o.sH.box(!1),this.__isTimeHidden=o.sH.box(!1),this.__forceHideControls=o.sH.box(!1),this.__isTVPosterVisible=o.sH.box(!1),this.__controlBlockHeight=o.sH.box(0),this.__isNakedMode=o.sH.box(!1),this.__hideTooltips=o.sH.box(!1),this.__data=void 0,this.__timeCodes=void 0,this.advert=void 0,this.__qualitiesPlugin=void 0,this.isEmbed=void 0,this.isMobile=i.B.isMobile,this.isControlsPermanentlyHidden=!1,this.isMobile360Video=!1,this.playback=e,this.data=t,this.fullscreen=n,this.playerSize=r,this.appearance=a,this.endScreen=s,this._isEmbedResolvable=u,this.previewPlugin=h;const{hideControls:p}=(0,X.al)(window.location.href);this.isControlsPermanentlyHidden="true"===p,(0,o.Gn)(this,{forceHideControls:o.EW,activePanel:o.EW,isShowSettingsPannel:o.EW,isProgressBarClicked:o.EW,tempTime:o.EW,tvSchedule:o.EW,activeChapter:o.EW,areas:o.EW,chapters:o.EW,isTVPosterVisible:o.EW,isControlsForcedHidden:o.EW,isNakedMode:o.EW,controlBlockHeight:o.EW,isEndScreenVisible:o.EW,isShowControls:o.EW,isVolumeShow:o.EW,isAllowControls:o.EW,preventHideControls:o.EW,needToHideTooltips:o.EW,isTimeHidden:o.EW,previewWidth:o.EW,isHideControls:o.EW,hideTooltips:o.EW}),this.__data=t,this.__timeCodes=new q(e,t),this.advert=c,this.isEmbed=u.value,this.__qualitiesPlugin=d}init(){const{hideControls:e}=(0,X.al)(window.location.href);this.isControlsPermanentlyHidden="true"===e,this.__timeCodes.initAreasMarkup();const t=[];return t.push((0,o.mJ)((()=>({isPlaying:this.playback.isPlaying,wasStarted:this.playback.wasStarted,waiting:this.playback.waiting,autoplay:this.playback.autoplay})),(e=>{var t;let{wasStarted:n,isPlaying:r,waiting:i,autoplay:o}=e;const{paused:a,readyState:s}=this.playback;!n&&o&&this.isMobile||i||s<=2?this.setHideControlsTimer():r||null!==(t=this.advert)&&void 0!==t&&t.isPlaying?a?this.clearHideControlsTimer():this.setHideControlsTimer():(this.showControls(),this.clearHideControlsTimer())}),{fireImmediately:!0})),t.push((0,o.mJ)((()=>{var e;return null===(e=this.advert)||void 0===e?void 0:e.isPlaying}),(e=>{e&&this.hideControls(!this.playback.ended)}))),t.push((0,o.mJ)((()=>{var e;return null===(e=this.data)||void 0===e?void 0:e.isSpatial}),(e=>{this.isMobile360Video=this.isMobile&&Boolean(e)}))),t.push((0,o.mJ)((()=>{var e;return{progress:this.playback.progress,tempTime:this.tempTime,buffered:null===(e=this.playback.player)||void 0===e?void 0:e.buffered}}),(e=>{let{tempTime:t}=e;this.__timeCodes.updateAreas(t)}))),t.push((0,o.mJ)((()=>this.playback.duration),(()=>this.__timeCodes.initAreasMarkup(this.tempTime)))),t.push((0,o.mJ)((()=>({visible:!this.isControlsForcedHidden&&this.isShowControls})),(e=>{let{visible:t}=e;Q.Ug.emit(Z.L2.CONTROLS_VISIBILITY_CHANGED,{visible:t})}),{fireImmediately:!0})),t.push((0,o.mJ)((()=>this.isFullScreen),(()=>{this.preventHideControls&&(this.preventHideControls=!1,this.setHideControlsTimer())}))),()=>t.forEach((e=>e()))}initHideTime(){return(0,o.mJ)((()=>{var e;return{width:null===(e=this.playerSize.size)||void 0===e?void 0:e.width,windowWidth:this.playerSize.windowWidth,isVolumeShow:this.isVolumeShow,playerSize:this.playerSizeValue}}),(e=>{let{width:t=0,windowWidth:n,isVolumeShow:r,playerSize:o}=e;this.isTimeHidden=Boolean((ne.IsNewControls?"DXS"===o:t<700||n<1280)&&r&&!i.B.isMobile)}))}handleAutoplay(){return(0,o.mJ)((()=>this.playback.wasStarted),(()=>{this.playback.wasStarted&&this.hideControls(!0)}))}initChangeDescription(){return(0,o.mJ)((()=>this.__data.description),(()=>{this.__timeCodes.initAreasMarkup(this.tempTime)}))}get activePanel(){return this.__activePanel.get()}set activePanel(e){this.__activePanel.set(e)}get forceHideControls(){return this.__forceHideControls.get()}set forceHideControls(e){this.__forceHideControls.set(e)}get isNakedMode(){return this.__isNakedMode.get()}set isNakedMode(e){this.__isNakedMode.set(e)}get isShowSettingsPannel(){return"settings"===this.activePanel}set isShowControls(e){this.__isShowControls.set(e)}get isShowControls(){return this.__isShowControls.get()}set isAllowControls(e){this.__isAllowControls.set(e)}get isAllowControls(){return this.__isAllowControls.get()}set preventHideControls(e){this.__preventHideControls.set(e)}get preventHideControls(){return this.__preventHideControls.get()}get isProgressBarClicked(){return this.__isProgressBarClicked.get()}get tempTime(){return this.__tempTime.get()}set needToHideTooltips(e){this.__needToHideTooltips.set(e)}get needToHideTooltips(){return this.__needToHideTooltips.get()}get iconSizeValue(){return this.playerSize.iconSizeValue}get playerSizeValue(){return this.playerSize.playerSizeValue}get isShowSeekBtns(){return!this.data.isTVStream&&!i.B.isMobile&&this.playerSizeValue!==Z.K0.DS&&this.playerSizeValue!==Z.K0.DXS}setIsVolumeShow(e){this.__isVolumeShow.set(e)}get isVolumeShow(){return this.__isVolumeShow.get()}get isFullScreen(){return this.fullscreen.isFullscreen}get isTimeHidden(){return this.__isTimeHidden.get()}set isTimeHidden(e){this.__isTimeHidden.set(e)}get wrapperRef(){return this.playerSize.wrapperRef}setTempTime(e){this.__tempTime.set(e)}setIsProgressBarClicked(e){this.__isProgressBarClicked.set(e)}get activeChapter(){return this.__timeCodes.activeChapter}get isFullscreen(){return this.fullscreen.isFullscreen}get tvSchedule(){return this.playback.tvSchedule}handleFullscreen(){this.fullscreen.handleFullscreen()}showControls(){this.isShowControls=!0,this.isMobile360Video&&(this.forceHideControls=!1)}hideControls(e){(this.preventHideControls||this.activePanel||this.playback.paused&&!i.B.isMobile)&&!e||(this.isShowControls=!1,this.clearHideControlsTimer(),this.isMobile360Video&&(this.forceHideControls=!0))}setHideControlsTimer(){this.clearHideControlsTimer();const e=setTimeout((()=>{this.hideControls()}),3e3);this.__showControlsTimeout=e}clearHideControlsTimer(){const e=this.__showControlsTimeout;e&&(clearTimeout(e),this.__showControlsTimeout=null)}handleSeek(e,t,n){const r=null!=t?t:10,i=null!=n?n:J.E.BUTTON;var o,a,s,l;"forward"===e&&(this.playback.seekForward(r),this.playback.emit(U.p.defaultForwardSeek,null),null===(o=this.counterHelper)||void 0===o||o.get("mainContentPlaybackSeek")(),null===(a=this.counterHelper)||void 0===a||a.get("mainContentPlaybackRewindMode")({rewindType:i,rewindDirection:J.U.FORWARD}));"back"===e&&(this.playback.seekBack(r),this.playback.emit(U.p.defaultBackwardSeek,null),null===(s=this.counterHelper)||void 0===s||s.get("mainContentPlaybackSeek")(),null===(l=this.counterHelper)||void 0===l||l.get("mainContentPlaybackRewindMode")({rewindType:i,rewindDirection:J.U.BACK}))}onClickLogoStat(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainControlsLogoClick")({videoUrl:this.__data.videoUrl||""})}get areas(){var e;return null!==(e=this.__timeCodes.areas)&&void 0!==e?e:[]}get chapters(){var e;return null!==(e=this.__timeCodes.chapters)&&void 0!==e?e:[]}pauseVideo(){this.playback.isPlaying&&this.playback.pause()}getIsShowSettings(){return(!this.__data.isLive||this.qualities.length>0)&&i.B.isMobile}get isControlsForcedHidden(){return this.isControlsPermanentlyHidden||this.forceHideControls||this.appearance.forbidHtmlControls||this.isNakedMode}hideControlsWithForce(){this.forceHideControls=!0}get qualities(){return this.__qualitiesPlugin.qualities}get isShowSettings(){return this.getIsShowSettings()}getIsShowControlsBg(){return!this.isEndScreenVisible&&this.isShowControls}get isShowControlsBg(){return this.getIsShowControlsBg()}getIsHideControls(){var e;return!this.isShowControls||!(null===(e=this.advert)||void 0===e||!e.hideControlsOnAdvert)}get isHideControls(){return this.getIsHideControls()}getIsShowLogoButton(){var e;return!(!this.isEmbed||null===(e=this.appearance)||void 0===e||!e.showLogotype)}get isShowLogoButton(){return this.getIsShowLogoButton()}getIsCinemaMode(){return!this.isEmbed&&!this.isFullScreen}get isCinemaMode(){return this.getIsCinemaMode()}getIsShowTvTimeBlock(){return this.playback.isLive&&!!this.tvSchedule}get isShowTvTimeBlock(){return this.getIsShowTvTimeBlock()}getIsShowProgressBar(){return!0}get isShowProgressBar(){return this.getIsShowProgressBar()}getButtonSize(){return this.isFullscreen?"XXL":"XL"}get buttonsSize(){return this.getButtonSize()}handleMouseOver(){this.preventHideControls=!0}handleMouseOut(){this.preventHideControls=!1,this.setHideControlsTimer()}getMobileCustomStyles(){}get mobileCustomClasses(){return this.getMobileCustomStyles()}getDesktopCustomStyles(){}get desktopCustomClasses(){return this.getDesktopCustomStyles()}getProgressBarColor(){const{color:e}=this.appearance,t=ne.IsNewControls?"var(--rt-colors-base-brand-rutube-primary)":"var(--pen-accent)";return e&&this.isEmbed?e:t}get progressBarColor(){return this.getProgressBarColor()}get isShowPreview(){var e;return(null===(e=this.previewPlugin)||void 0===e?void 0:e.isShowPreview)||!1}get isTVPosterVisible(){return this.__isTVPosterVisible.get()}set isTVPosterVisible(e){this.__isTVPosterVisible.set(e)}get tabIndex(){return this.isShowControls?0:-1}get controlBlockHeight(){return ne.IsNewControls?this.__controlBlockHeight.get():54}set controlBlockHeight(e){this.__controlBlockHeight.set(e)}get previewWidth(){return this.playerSizeValue===Z.K0.DS||this.playerSizeValue===Z.K0.DXS?F.$y.MIN_WIDTH_PX:F.$y.MAX_WIDTH_PX}get isShowPlaylistBtn(){return!this.data.isLive&&!i.B.isMobile&&!this.isEmbed}get isEndScreenVisible(){var e;return Boolean(null===(e=this.endScreen)||void 0===e?void 0:e.visible)}set hideTooltips(e){this.__hideTooltips.set(e)}get hideTooltips(){return this.__hideTooltips.get()}get isShowFullscreen(){return!0}handleHideControlsByClick(e){const t=null==e?void 0:e.target;if(t&&!this.isShowSettingsPannel&&this.isShowControls&&(t instanceof HTMLElement||t instanceof SVGElement)){t.closest("[".concat($.dg,"=true]"))||this.hideControls()}}hideSettingsPanel(){this.activePanel="",this.setHideControlsTimer(),this.preventHideControls=!1}get container(){var e,t;return null!==(e=null!==(t=this.wrapperRef)&&void 0!==t?t:document.getElementById(ee.v.RAICHU_CONTAINER_WITH_PLAYER))&&void 0!==e?e:document.querySelector("body")}}K=ne,[te]=(0,r.A)(K,[],[[(0,Y.o7)(),2,"init"],[(0,Y.o7)(),2,"initHideTime"],[(0,Y.o7)(),2,"handleAutoplay"],[(0,Y.o7)(),2,"initChangeDescription"],[[o.XI,o.XI.bound],18,"setIsVolumeShow"],[[o.XI,o.XI.bound],18,"setTempTime"],[[o.XI,o.XI.bound],18,"setIsProgressBarClicked"],[[o.XI,o.XI.bound],18,"handleFullscreen"],[[o.XI,o.XI.bound],18,"showControls"],[[o.XI,o.XI.bound],18,"hideControls"],[[o.XI,o.XI.bound],18,"setHideControlsTimer"],[[o.XI,o.XI.bound],18,"clearHideControlsTimer"],[[o.XI,o.XI.bound],18,"handleSeek"],[[o.XI,o.XI.bound],18,"onClickLogoStat"],[[o.XI,o.XI.bound],18,"pauseVideo"],[[o.XI,o.XI.bound],18,"hideControlsWithForce"],[Y.zm,2,"handleHideControlsByClick"],[Y.zm,2,"hideSettingsPanel"]],0,void 0,Y.j8).e,ne.isRedesignedPlayer=!1,ne.isCurrentRedesignStageAvailable=!1},8914:(e,t,n)=>{"use strict";n.d(t,{Controls:()=>I,ControlsOverlay:()=>re,ControlsPlugin:()=>r.o,FullScreenButton:()=>B,FullScreenButtonNew:()=>F.K,NextButton:()=>We,NextButtonDesktop:()=>Be,PlayerControlsBg:()=>K,PrevButton:()=>Ke,PrevButtonDesktop:()=>Oe,TimeBlock:()=>ee,VolumeControls:()=>ge,VolumeControlsNew:()=>Fe.h,getActiveChapter:()=>Ye.I,useControls:()=>c._});n(833);var r=n(2189),i=n(3052),o=n(8007),a=n(8717),s=(n(752),n(5126)),l=n(451),u=n.n(l),c=n(2409);const d="desktop-controls-layout-module__desktopControlsLayout___UY1t1",h="desktop-controls-layout-module__hidden___wbTeO",p="desktop-controls-layout-module__desktopButtonsBlock___LF28p",m="desktop-controls-layout-module__desktopButtonsBlockLeft___kIQkf",v="desktop-controls-layout-module__desktopButtonsBlockRight_____Kky",_="desktop-controls-layout-module__desktopButtonsBlockRightLogo___ZgcmJ";var f=n(6545),g=n(1374);const b=(0,o.PA)((e=>{let{components:t,children:n}=e;const[r,o]=(0,a.useState)(null),l=(0,c._)(),{isShowLogoButton:b,isCinemaMode:y,isShowTvTimeBlock:E,data:w,onClickLogoStat:S,isShowControlsBg:A,isHideControls:C,isShowProgressBar:k,buttonsSize:P,desktopCustomClasses:I,isShowFullscreen:T}=l,{isLive:x,isInteractiveVideo:R}=w,L=(0,s.L0)(),O=(0,a.useRef)(null);return a.createElement(a.Fragment,null,A&&a.createElement(f.PlayerControlsBg,{isTouchDevice:i.B.isMobile}),a.createElement("section",{"data-testid":"video-ui",ref:O,className:u()((null==I?void 0:I.desktopControlsLayout)||d,{[h]:C})},n,k&&t.progressBarComponent&&a.createElement(t.progressBarComponent,{margin:"0 12px"}),a.createElement("div",{className:u()((null==I?void 0:I.desktopButtonsBlock)||p),ref:o},a.createElement(g.R,{boundary:r},a.createElement("div",{className:u()((null==I?void 0:I.desktopButtonsBlockLeft)||m)},t.buttonsBlockComponent&&a.createElement(t.buttonsBlockComponent,null),x?t.liveBadgeComponent&&a.createElement(t.liveBadgeComponent,{buttonSize:P}):null,a.createElement(f.VolumeControls,{size:P,panelRef:null==O?void 0:O.current}),!x&&!R&&a.createElement(f.TimeBlock,null,t.chaptersButtonComponent&&a.createElement(t.chaptersButtonComponent,{buttonSize:P})),E&&t.tvTimeBlockComponent&&a.createElement(t.tvTimeBlockComponent,null)),a.createElement("div",{className:u()((null==I?void 0:I.desktopButtonsBlockRight)||v)},b&&a.createElement("div",{className:u()((null==I?void 0:I.desktopButtonsBlockRightLogo)||_)},b&&t.logoButtonComponent&&a.createElement(t.logoButtonComponent,{onClick:S})),t.seasonsWidgetComponent&&a.createElement(t.seasonsWidgetComponent,{buttonSize:P}),t.captionsButtonComponent&&a.createElement(t.captionsButtonComponent,{size:P}),t.settingsComponent&&a.createElement(t.settingsComponent,{buttonsSize:P}),t.pictureInPictureButtonComponent&&a.createElement(t.pictureInPictureButtonComponent,{size:P,placement:"top",onboardingPlacement:"top"}),y&&!L&&t.cinemaModeButtonComponent&&a.createElement(t.cinemaModeButtonComponent,{size:P}),T&&a.createElement(f.FullScreenButton,{size:P}))))))})),y="mobile-controls-module__mobileControlsLayout___JF952",E="mobile-controls-module__mobileControlsBottomBlock___Bj0d2",w="mobile-controls-module__mobileControlsLine___sX155",S="mobile-controls-module__mobileControlsLineLeft___ocnQh",A="mobile-controls-module__disabled___UchpL",C="mobile-controls-module__mobileControlsLineRight___e_hsb",k="mobile-controls-module__hidden___ivvtr",P=(0,o.PA)((e=>{let{components:t}=e;const{isShowControls:n,isShowLogoButton:r,isShowTvTimeBlock:o,isCinemaMode:l,isHideControls:d,isShowProgressBar:h,onClickLogoStat:p,showControls:m,hideControls:v,setHideControlsTimer:_,mobileCustomClasses:b,playback:P,endScreen:I,data:T,isShowPreview:x,isTVPosterVisible:R}=(0,c._)(),L=(0,s.L0)(),{waiting:O,ended:N,seeking:M,isPlaying:D}=P,{isLive:B,isInteractiveVideo:F}=T,[H,V]=(0,a.useState)(null),U=O||x||R||!n,j=i.B.isiOSMobile,W="XL";return(0,a.useEffect)((()=>{!N||null!=I&&I.visible||n?null!=I&&I.visible&&v():m()}),[null==I?void 0:I.visible,n,N,m,v]),a.createElement("section",{className:u()((null==b?void 0:b.mobileControlsLayout)||y,{[k]:d}),ref:V,onMouseDown:()=>{n||(m(),D&&_())},"aria-hidden":d},a.createElement(g.R,{boundary:H},a.createElement(f.PlayerControlsBg,{isTouchDevice:!0,hidden:x||R,lightMode:M}),t.mobileButtonsBlockComponent&&a.createElement(t.mobileButtonsBlockComponent,{hidden:U}),a.createElement("section",{"data-testid":"video-ui",className:u()((null==b?void 0:b.mobileControlsBottomBlock)||E)},!x&&a.createElement("section",{className:u()((null==b?void 0:b.mobileControlsLine)||w)},!F&&a.createElement("div",{className:u()((null==b?void 0:b.mobileControlsLineLeft)||S,{[A]:!n})},B?t.liveBadgeComponent&&a.createElement(t.liveBadgeComponent,{buttonSize:"XL"}):a.createElement(f.TimeBlock,null,t.chaptersButtonComponent&&a.createElement(t.chaptersButtonComponent,null)),o&&t.tvTimeBlockComponent&&a.createElement(t.tvTimeBlockComponent,null)),a.createElement("div",{className:u()((null==b?void 0:b.mobileControlsLineRight)||C)},r&&t.logoButtonComponent&&a.createElement(t.logoButtonComponent,{isMobile:!0,onClick:p}),t.seasonsWidgetComponent&&a.createElement(t.seasonsWidgetComponent,{buttonSize:W}),t.captionsButtonComponent&&a.createElement(t.captionsButtonComponent,{size:W}),a.createElement(f.VolumeControls,{size:W}),l&&!L&&t.cinemaModeButtonComponent&&a.createElement(t.cinemaModeButtonComponent,{size:W}),!(F&&j)&&a.createElement(f.FullScreenButton,{size:W}))),h&&t.progressBarComponent&&a.createElement(t.progressBarComponent,null))))})),I=(0,o.PA)((e=>{const{components:t,children:n}=e,{isAllowControls:r,playback:o}=(0,c._)(),{autoPlayWithMute:s}=o;return i.B.isMobile&&"Enabled"===s||!r?null:i.B.isMobile?a.createElement(P,{components:t}):a.createElement(b,{components:t},n)}));var T=n(9845),x=n(3882),R=n(140),L=n(9346),O=n(3218);const N=e=>{let{color:t="white"}=e;return a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.11111 5.77734V8.88845H5",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M15.8889 5.77734V8.88845H19",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M15.8889 18.2227V15.1115H19",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.11111 18.2227V15.1115H5",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},M=e=>{let{color:t="white"}=e;return a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M5 8.88888V5.77777H8.11111",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M19 8.88888V5.77777H15.8889",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M19 15.1111V18.2222H15.8889",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5 15.1111V18.2222H8.11111",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))};var D=n(472);const B=(0,o.PA)((e=>{let{size:t}=e;const{isFullscreen:n,handleFullscreen:r,tabIndex:i}=(0,c._)(),{getDataAttribute:o}=(0,R.f)();return a.createElement(O.r,(0,T.A)({"data-testid":"ui-fullscreen",tabIndex:i,"aria-label":(0,D.T)(n?"Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼Ð°":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð² Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ","F",!0),role:"button",action:"fullscreen",icon:n?N:M,onClick:r,tooltipTitle:n?x.m_.FullScreenOff:x.m_.FullScreenOn,tooltipPlacement:"top",tooltipZIndex:x.m_.ControlsTooltipZIndex,size:t},o(n?L.R.EXIT_FULLSCREEN_BUTTON:L.R.FULLSCREEN_BUTTON)))}));var F=n(3016),H=n(2594);const V="player-controls-bg-module__bg___rKnIr",U="player-controls-bg-module__bgMobile___ZYJiq",j="player-controls-bg-module__bgEnter___PYHV_",W="player-controls-bg-module__bgEnterActive___zGi93",z="player-controls-bg-module__bgExitDone___oefuJ",G="player-controls-bg-module__light___DpeMS",q="player-controls-bg-module__hidden___YWIba",K=(0,a.memo)((e=>{let{isTouchDevice:t,lightMode:n=!1,hidden:r}=e;const i=(0,a.useRef)(null),[o,s]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{s(!0)}),[]),t?a.createElement(H.A,{classNames:{enter:j,enterActive:W,exitDone:z},nodeRef:i,in:o,timeout:700},a.createElement("div",{ref:i,className:u()(V,U,{[G]:n,[q]:r})})):a.createElement("div",{className:u()(V,{[G]:n,[q]:r})})}));var Y=n(7283);const X="time-block-module__time___AXXdb",Q="time-block-module__hidden___xpuhs",Z="time-block-module__currentTime___vUbWn",J="time-block-module__duration___D_n9D",$="time-block-module__separator___ezAAq",ee=(0,o.PA)((e=>{let{children:t}=e;const n=(0,c._)(),{tempTime:r,isTimeHidden:i}=n,{currentTime:o,duration:s}=n.playback,{getDataAttribute:l}=(0,R.f)();return a.createElement("div",{className:u()(X,{[Q]:i})},a.createElement("div",(0,T.A)({className:Z},l(L.R.CURRENT_TIME)),(0,Y.a3)({value:r||o})),a.createElement("div",{className:$,"aria-hidden":!0},"/"),a.createElement("div",(0,T.A)({className:J},l(L.R.DURATION_TIME)),(0,Y.a3)({value:s})),t)})),te="controls-overlay-module__overlay___UbscL",ne="controls-overlay-module__show___qKmwm",re=(0,a.memo)((e=>{let{isShowPreview:t=!1}=e;return a.createElement("div",{className:u()(te,{[ne]:t})})})),ie="volume-controls-module__wrapperControlsVolume___oUpfZ",oe="volume-controls-module__wrapperControlsVolumeBtn___kmiCv",ae="volume-controls-module__volumeProgress___pbSvJ",se="volume-controls-module__volumeProgressVisible___CqU0R";var le=n(2065),ue=n(4224),ce=n(4825),de=n(9599),he=n(7163);const pe="raichu-progress-bar-module__progressBar___Bf90v",me="raichu-progress-bar-module__progressBarThumb___QebiO",ve="raichu-progress-bar-module__progressBarBefore____vUf8",_e="raichu-progress-bar-module__progressBarClickArea___TAMzG",fe=e=>{let{value:t,background:n,barRef:r,margin:i,fullWidth:o=!1,isTouchable:s=!0,color:l="rgba(246, 246, 246, 0.3)",onProgressMove:u,handleProgressBarClick:c,buffered:d=0}=e;return a.createElement("div",(0,T.A)({"data-testid":"ui-progress",className:pe,style:{width:o?"100%":"initial",background:l,margin:null!=i?i:"0 12px 0 12px"},ref:r,onClick:c},he.aQ),a.createElement("div",{className:_e,onMouseDown:u,onTouchStart:u,onTouchMove:u}),a.createElement("div",{className:ve,style:{width:"".concat(t,"%"),background:n}}),a.createElement("div",{className:ve,style:{width:"".concat(d,"%"),background:n,opacity:"0.3"}}),s&&a.createElement("div",{className:me,"data-testid":"ui-progress-thumb",style:{left:"calc(".concat(t,"% - 6px)"),background:n},onMouseDown:u,onTouchStart:u,onTouchMove:u}))},ge=(0,o.PA)((e=>{let{size:t,panelRef:n}=e;const[r,o]=(0,a.useState)(!1),{playback:s,setIsVolumeShow:l,isVolumeShow:d,progressBarColor:h,tabIndex:p}=(0,c._)(),{getDataAttribute:m}=(0,R.f)(),v=i.B.isMobile,{muted:_,volume:f}=s,g=(0,a.useRef)(null),b=e=>{if(r){const t=(0,le.O)(e.nativeEvent,g,"horizontal");s.handleVolume(t)}},y=(0,a.useCallback)((()=>o(!0)),[]),E=(0,a.useCallback)((()=>_||0===f?a.createElement(ue.L,null):a.createElement(ce.i,{low:f<=.5})),[_,f]);(0,a.useEffect)((()=>{if(!n)return;const e=()=>o(!1),t=()=>{o(!1),l(!1)};return n.addEventListener("mouseup",e),n.addEventListener("mouseleave",t),()=>{n.removeEventListener("mouseup",e),n.removeEventListener("mouseleave",t)}}),[n,l]);const w=()=>l(!0);return a.createElement("div",{className:ie,onPointerDown:i.B.isMobile?void 0:y,onPointerMove:i.B.isMobile?void 0:b,"data-testid":"ui-volume"},a.createElement("div",null,a.createElement(O.r,(0,T.A)({"data-testid":"ui-volume-button",tabIndex:p,role:"button",color:"white",className:oe,icon:E,onClick:e=>{e.stopPropagation(),s.isInfoPrevented=!1,s.handleMuted()},"aria-label":(0,D.T)(!_&&f>0?"Ð£Ð±Ñ€Ð°Ñ‚ÑŒ Ð·Ð²ÑƒÐº":"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº","M",!0)+" ",onPointerEnter:w,onFocus:()=>{var e;v||d||(w(),null===(e=document.getElementById(de.v.VOLUME_BAR))||void 0===e||e.focus({preventScroll:!0}))},onPointerDown:e=>e.stopPropagation(),tooltipTitle:!_&&f>0?x.m_.VolumeOff:x.m_.VolumeOn,tooltipPlacement:"top",tooltipZIndex:x.m_.ControlsTooltipZIndex,size:t},m(_||0===f?L.R.ON_SOUND_BUTTON:L.R.OFF_SOUND_BUTTON)))),!v&&a.createElement("div",(0,T.A)({tabIndex:0,id:de.v.VOLUME_BAR,role:"slider","aria-label":"ÐŸÐ¾Ð»Ð·ÑƒÐ½Ð¾Ðº Ð³Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚Ð¸","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":_?0:Math.floor(100*f),"aria-valuetext":"".concat(_?0:Math.floor(100*f),"%").concat(_?" (Ð—Ð²ÑƒÐº Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ñ‘Ð½)":""),className:u()(ae,{[se]:d}),onClick:e=>{if(g.current){const t=(0,le.O)(e.nativeEvent,g,"horizontal");s.handleVolume(t)}}},m(L.R.VOLUME_CONTROLS_BUTTON)),a.createElement(fe,{value:_?0:100*f,background:h,fullWidth:!0,barRef:g,onProgressMove:b,margin:"0 12px 0 0"})))}));var be=n(9067),ye=n(2540);const Ee=(e,t)=>a.createElement(ye.A,(0,be.A)((0,be.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:t,name:"IconDsPlayerSkipBackFilled",__value:'<path fill="currentColor" fill-rule="evenodd" d="M5 4a1 1 0 0 1 1 1v14a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1m12.998.08a2 2 0 0 1 1.565.753c.302.379.375.834.406 1.172.031.347.031.785.031 1.28v9.43c0 .495 0 .933-.031 1.28-.031.338-.104.793-.406 1.172a2 2 0 0 1-1.565.752c-.485 0-.886-.228-1.169-.415-.29-.192-.632-.466-1.019-.775l-5.9-4.721a10 10 0 0 1-.65-.548 2.04 2.04 0 0 1-.531-.758 2 2 0 0 1 0-1.404c.125-.334.34-.576.53-.758.178-.17.408-.354.65-.547l5.903-4.722c.386-.31.728-.583 1.018-.775.283-.187.684-.415 1.169-.415" clip-rule="evenodd" />'})),we=(0,a.forwardRef)(Ee);var Se=n(2245);const Ae="video-preview-module__tooltipInner___stvKL",Ce="video-preview-module__tooltipImg___K440Y",ke="video-preview-module__tooltipDesc___hFeOY",Pe="video-preview-module__tooltipTitle___WnTk_",Ie="video-preview-module__tooltipVideoTitle___g1q3j",Te="video-preview-module__tooltipTimeBadge___g4Tc3",xe=e=>{let{video:t,tooltipHidden:n,tooltipTitle:r}=e;return null!=t&&t.id?n?a.createElement("div",{className:Pe},r):a.createElement("div",{className:Ae},a.createElement("div",{className:Ce},(null==t?void 0:t.duration)&&a.createElement(Se.E,{className:Te,variant:"secondary-blur",size:"m"},(0,Y.a3)({value:t.duration})),a.createElement("img",{src:t.thumbnail_url,alt:t.title})),a.createElement("div",{className:ke},a.createElement("div",{className:Pe},r),a.createElement("div",{className:Ie},t.title))):r};var Re=n(5473),Le=n(4493);const Oe=(0,o.PA)((e=>{let{previewTooltipHidden:t,size:n}=e;const r=(0,Re.t1)(),{tabIndex:i}=(0,f.useControls)(),{prevVideo:o,isShowPlaylistButtons:s,onClickPrev:l}=r;return s?a.createElement(Le.S,{size:n,"data-testid":"ui-prev-video",action:"prevPlaylistVideo",tabIndex:i,role:"button","aria-label":(0,D.T)("ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾","Shift+P"),onClick:l.bind(r),disabled:!o,tooltipTitle:a.createElement(xe,{video:o,tooltipHidden:t||!o,tooltipTitle:x.m_.PrevVideo})},a.createElement(we,null)):null})),Ne=(e,t)=>a.createElement(ye.A,(0,be.A)((0,be.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:t,name:"IconDsPlayerSkipForwardFilled",__value:'<path fill="currentColor" fill-rule="evenodd" d="M19 4a1 1 0 0 1 1 1v14a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1m-14.563.833a2 2 0 0 1 1.565-.752c.485 0 .886.228 1.17.415.29.192.631.466 1.017.775l5.903 4.722c.242.193.472.377.65.547.19.182.405.424.53.758a2 2 0 0 1 0 1.404c-.125.334-.34.576-.53.758-.178.17-.408.354-.65.547L8.188 18.73c-.386.31-.728.583-1.018.775-.283.187-.684.415-1.169.415a2 2 0 0 1-1.565-.752c-.302-.379-.375-.834-.406-1.172A15 15 0 0 1 4 16.715v-9.43c0-.495 0-.933.031-1.28.031-.338.104-.793.406-1.172" clip-rule="evenodd" />'})),Me=(0,a.forwardRef)(Ne);var De=n(3015);const Be=(0,o.PA)((e=>{let{previewTooltipHidden:t,size:n}=e;const r=(0,Re.t1)(),{data:i,tabIndex:o}=(0,f.useControls)(),s=(0,De.ei)("INextVideoPlugin");if(!s)return null;const{nextVideo:l,isShowPlaylistButtons:u,onClickNext:c}=r||{},{isLive:d}=i,{nextVideo:h,onClick:p}=s,m=!d&&Boolean(l||h);if(!u&&!m)return null;const v=u&&l?l:h,_=u&&l?c&&c.bind(r):p.bind(s),g=u&&!l&&!h;return a.createElement(Le.S,{"data-testid":"ui-next-video",tabIndex:o,role:"button","aria-label":(0,D.T)("Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾","Shift+N"),onClick:_,disabled:g,tooltipTitle:a.createElement(xe,{video:v,tooltipHidden:t||!v,tooltipTitle:x.m_.NextVideo}),size:n},a.createElement(Me,null))}));var Fe=n(576);const He="next-button-module__controlBtn___pA20t",Ve="next-button-module__isHidden___sM8PW",Ue="next-button-module__allowScroll___sj29C";var je=n(5182);const We=(0,o.PA)((e=>{let{hidden:t}=e;const n=(0,Re.t1)(),r=(0,c.x)(),{tabIndex:i}=(0,c._)(),{onClickNext:o,nextVideo:s,isShowPlaylistButtons:l}=n,{nextVideo:d,onClick:h}=r||{},p=l?s:d,m=l&&!p;return a.createElement("div",{className:u()(He,{[Ve]:t,[Ue]:t})},a.createElement(je.$,{"data-testid":"ui-next",action:"nextVideo",onClick:()=>{p&&(l?null==o||o.apply(n):null==h||h.apply(r))},disabled:m,"aria-label":"CÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",tabIndex:i,size:"S"},a.createElement(Me,null)))})),ze="prev-button-module__controlBtn___iaS_s",Ge="prev-button-module__isHidden___xtZaq",qe="prev-button-module__allowScroll___hItgk",Ke=(0,o.PA)((e=>{let{hidden:t}=e;const n=(0,Re.t1)(),{onClickPrev:r,prevVideo:i,isShowPlaylistButtons:o}=n,{tabIndex:s}=(0,c._)();return a.createElement("div",{className:u()(ze,{[Ge]:!o||t,[qe]:t})},a.createElement(je.$,{"data-testid":"ui-prev",onClick:()=>{i&&r&&r.apply(n)},disabled:!i,tabIndex:s,"aria-label":"ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",size:"S"},a.createElement(we,null)))}));var Ye=n(625)},833:()=>{},625:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(7602);const i=(e,t)=>e.length<1||"number"!=typeof t?null:e.find((e=>e.start<=t&&e.end>t&&e.end-e.start>=r.Vl))},6537:(e,t,n)=>{"use strict";n.d(t,{A1:()=>o,Ce:()=>a,eS:()=>i});const r=e=>"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")),i=e=>{var t;if(!e)return;const n=Date.now(),i=null==e?void 0:e[r(new Date)];let o=null==i?void 0:i.find((e=>1e3*e.start<n&&n<1e3*e.stop));if(!o){const t=new Date;t.setDate(t.getDate()+1);const i=null==e?void 0:e[r(t)];o=null==i?void 0:i.find((e=>1e3*e.start<n&&n<1e3*e.stop))}return null!==(t=o)&&void 0!==t?t:null},o=e=>{const t=i(e);return null!=t&&t.stop?1e3*t.stop-Date.now():0},a=e=>{if(!e)return 0;const t=1e3*e.start,n=1e3*e.stop;return(Date.now()-t)/(n-t)}},7602:(e,t,n)=>{"use strict";n.d(t,{WH:()=>a,jQ:()=>s,Vl:()=>l});n(4401),n(1631),n(914),n(2358),n(9419),n(752);var r=n(8091),i=n(6393);n(7293);function o(){o=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,o){var a=RegExp(e,r);return t.set(a,o||t.get(e)),(0,i.A)(a,n.prototype)}function a(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var o=0;void 0===e[i[o]]&&o+1<i.length;)o++;t[n]=e[i[o]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,i.A)(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=a(n,this);var r=n.indices;r&&(r.groups=a(r,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var o=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){var n=o[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof i){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,r.A)(e[e.length-1])&&(e=[].slice.call(e)).push(a(e,s)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},o.apply(this,arguments)}const a=o(/^(\d{1,2}(?::\d{2}){1,2})\s*(?:-\s*\d{1,2}(?::\d{2}){1,2}\s*)?(.*)$/,{time:1,name:2}),s=/^[\s\u2010\u2014\u2015\u002D\u2212\u2013\uFE58\uFE63\uFF0D]+/,l=5},9346:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});const r={DISABLE_ADS_BUTTON:"disableAdsButton",PREV_BUTTON:"prevButton",PLAYER_HEADER_TITLE:"playerHeaderTitle",PLAYER_HEADER_SUBTITLE:"playerHeaderSubtitle",PLAYER_PROGRESS_BAR:"playerProgressBar",SKIP_SCREEN:"skipScreen",PLAY_BUTTON:"playButton",PAUSE_BUTTON:"pauseButton",OFF_SOUND_BUTTON:"offSoundButton",ON_SOUND_BUTTON:"onSoundButton",CURRENT_TIME:"currentTime",DURATION_TIME:"durationTime",SEASONS_BUTTON:"seasonsButton",MENU_SEASONS:"menuSeasons",BACK_SEASONS_BUTTON:"backSeasonsButton",CLOSE_SEASONS_BUTTON:"closeSeasonsButton",CURRENT_EPISODE:"currentEpisode",CURRENT_SEASON:"currentSeason",UNSELECTED_SEASON:"unselectedSeason",ICON_CURRENT_SEASON:"iconCurrentSeason",SETTINGS_BUTTON:"settingsButton",FULLSCREEN_BUTTON:"fullscreenButton",EXIT_FULLSCREEN_BUTTON:"exitFullscreenButton",ON_SUBTITLE_BUTTON:"onSubtitleButton",OFF_SUBTITLE_BUTTON:"offSubtitleButton",SUBTITLE_BUTTON:"subtitleButton",COLOUR_TEXT_BUTTON:"colourTextButton",COLOUR_BACKGROUND_BUTTON:"colourBackgroundButton",ALERT:"alert",SIZE_TEXT_BUTTON:"sizeTextButton",RESET_SETTINGS_BUTTON:"resetSettingsButton",SMALL_TEXT:"smallText",STANDARD_TEXT:"standardText",BIG_TEXT:"bigText",PLAYER_TEXT:"playerText",SPEED_BUTTON:"speedButton",WATCH_NEXT:"watchNext",AGE_LIMIT_VIDEO:"ageLimitVideo",META:"meta",ALCOHOL:"alcohol",TEXT_SOUND_ON:"textSoundOn",TEXT_SOUND_OFF:"textSoundOff",SPINNER_VIDEO:"spinnerVideo",VOLUME_CONTROLS_BUTTON:"volumeControlsButton",QUALITY_BUTTON:"qualityButton",ITEM_QUALITY:"itemQuality",MENU_QUALITY:"menuQuality",MAIN_QUALITY_BUTTON:"mainQualityButton",LIVE:"live",CLOSE_RECOMMENDATION_BUTTON:"closeRecommendationButton",POSTER_IMAGE_RECOMMENDATION:"posterImageRecommendation",RECOMMENDATION_IN_PLAYER:"recommendationInPlayer",RUTUBE_PLAYER_IN_KK:"rutubePlayerInKk",RUTUBE_PLAYER:"rutubePlayer",TEXT_SUBTITLE:"textSubtitle"}},140:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var r=n(3015);const i=()=>(0,r.Ks)("IDataAttributePlugin")},8817:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});let r=function(e){return e.seek="seek",e.mute="mute",e.defaultForwardSeek="defaultForwardSeek",e.defaultBackwardSeek="defaultBackwardSeek",e.volumeChange="volumeChange",e.playbackRate="playbackRate",e.error="error",e.toggleFramelessMode="toggleFramelessMode",e.longPress="longPress",e}({})},7516:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(3015);const i=()=>(0,r.Ks)("IPlayerSizePlugin")},5473:(e,t,n)=>{"use strict";n.d(t,{XU:()=>o,t1:()=>i});var r=n(3015);const i=()=>(0,r.Ks)("IPlaylistPlugin"),o=()=>(0,r.ei)("IPlaylistPlugin")},4862:(e,t,n)=>{"use strict";n.d(t,{Yk:()=>u,j8:()=>v,k_:()=>d,o7:()=>m,sy:()=>f,zm:()=>h});var r=n(6270);n(8668),n(7293),n(4401),n(752),n(2460);let i;var o,a,s;function l(e,t){return t}function u(){return e=>({get value(){return e}})}function c(e){const t=e[Symbol.metadata];if(!t)return!1;const n=t[Symbol.pluginMetadata];return null!==n&&"object"==typeof n&&"ctor"in n&&null!==n.ctor&&"object"==typeof n.ctor&&"__type__"in n.ctor&&"PluginCtor"===n.ctor.__type__}function d(e){return function(t,n){if("class"===n.kind){let r;r="string"==typeof e?{__type__:"PluginCtor",__token__:e,__ctorTokens__:[],__class_name__:t.name}:{__type__:"PluginCtor",__token__:e.implement,__ctorTokens__:e.ctor_args,__class_name__:t.name};const i={__inherit__:[]};if(c(t)){i.__inherit__.push(...t[Symbol.metadata][Symbol.pluginMetadata].inherit.__inherit__);const e=t[Symbol.metadata][Symbol.pluginMetadata].ctor;i.__inherit__.push(e)}n.metadata[Symbol.pluginMetadata]={ctor:r,inherit:i}}}}function h(e,t){"method"===t.kind&&t.addInitializer((function(){this[t.name]=this[t.name].bind(this)}))}null!==(a=(o=Symbol).pluginMetadata)&&void 0!==a||(o.pluginMetadata=Symbol("plugin:metadata"));const p=new WeakMap;function m(){return function(e,t){"method"===t.kind&&t.addInitializer((function(){var e;const n=null!==(e=p.get(this))&&void 0!==e?e:[];n.push(t.name),p.set(this,n)}))}}class v{}class _ extends v{constructor(e){super(),this._val=e}get value(){return this._val}}class f{constructor(){this._ctors=(i(this),new Map),this._instances=new Map,this._disposers=[],this._booted=!1,this._dependencyGraphCreated=!1}static _getMetadata(e){const t=e[Symbol.metadata][Symbol.pluginMetadata];return"ConstantCtor"===t.ctor.__type__?{__token__:t.ctor.__token__,__ctorTokens__:[]}:{__token__:t.ctor.__token__,__ctorTokens__:t.ctor.__ctorTokens__}}boot(){let{disablePostConstruct:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._booted)throw new Error(l(0,"Plugin boot error"));try{this._buildOrder().forEach((e=>{if("ConstantCtor"===e[Symbol.metadata][Symbol.pluginMetadata].ctor.__type__){const t=e,n=f._getMetadata(t).__token__;this._instances.set(n,new _(t.value()))}else{const t=e,n=f._getMetadata(t),r=n.__token__,i=n.__ctorTokens__.map((e=>{const t="string"==typeof e?e:e.implement;return this._instances.get(t)}));this._instances.set(r,new t(...i))}})),this._dependencyGraphCreated=!0,e||Array.from(this._instances.values()).forEach((e=>{const t=p.get(e);t&&t.forEach((t=>{const n=e[t].call(e);"function"==typeof n&&this._disposers.push(n.bind(e))}))})),this._booted=!0}catch(e){console.error(e),this._dependencyGraphCreated=!1,this._booted=!1}return Promise.resolve(this._booted)}shutdown(){return this._disposers.forEach((e=>e())),Promise.resolve()}registerConstant(e,t){const n={value:()=>t,name:e,[Symbol.metadata]:{[Symbol.pluginMetadata]:{ctor:{__type__:"ConstantCtor",__token__:e}}}};return this._ctors.set(e,n),this}registerPlugin(e){if(!c(e))throw new Error(l("Plugin registration error: \n        make sure that you decorate class ".concat(e.name," with Plugin  \n      "),"Plugin registration error"));const t=f._getMetadata(e).__token__;var n;if(this._ctors.has(t))throw new Error(l("Plugin registration error: \n          token ".concat(t," has been already used for class ").concat(null===(n=this._ctors.get(t))||void 0===n?void 0:n.name,"\n        "),"Plugin registration error"));return this._ctors.set(t,e),this}resolve(e){if(!this._dependencyGraphCreated)throw new Error(l("Plugin resolve error: \n          try to resolve token ".concat(e," before container dependency graph has been created\n        "),"Plugin resolve error"));const t=this._instances.get(e);if(!t)throw new Error(l("Plugin resolve error: \n          instance for token ".concat(e," not exist\n        "),"Plugin resolve error"));return t}resolveOptional(e){return this._instances.get(e)}_buildOrder(){const e=[],t=[],n=Array.from(this._ctors.values());return n.forEach((r=>{this._depsResolve(n,r,e,t)})),e}_depsResolve(e,t,n,r){r.push(t),f._getMetadata(t).__ctorTokens__.forEach((i=>{const o="string"==typeof i?i:i.implement,a="string"==typeof i||!i.optional;if(!n.find((e=>f._getMetadata(e).__token__===o))){if(!!r.find((e=>f._getMetadata(e).__token__===o))){const e=r.map((e=>f._getMetadata(e).__token__)),t=e.indexOf(o),n=e[t],i=e.slice(t);throw i.push(n),new Error("Circular reference detected: ".concat(i.join(" -> ")))}const i=e.find((e=>f._getMetadata(e).__token__===o));if(!i&&a)throw new Error("deps token ".concat(o," not found for ").concat(f._getMetadata(t).__token__));i&&this._depsResolve(e,i,n,r)}})),n.find((e=>f._getMetadata(e).__token__===f._getMetadata(t).__token__))||n.push(t),r.splice(0,r.length,...r.filter((e=>f._getMetadata(e).__token__===f._getMetadata(t).__token__)))}}s=f,[i]=(0,r.A)(s,[],[[h,2,"boot"],[h,2,"shutdown"],[h,2,"registerConstant"],[h,2,"registerPlugin"],[h,2,"resolve"],[h,2,"resolveOptional"]]).e},290:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});n(7293);const r={resolve:()=>{throw new Error("do not use empty context")},resolveOptional:()=>{throw new Error("do not use empty context")}},i=(0,n(8717).createContext)(r)},3015:(e,t,n)=>{"use strict";n.d(t,{Ks:()=>a,ei:()=>s,p5:()=>o});var r=n(8717),i=n(290);const o=()=>(0,r.useContext)(i.o),a=e=>o().resolve(e),s=e=>o().resolveOptional(e)},7234:(e,t,n)=>{"use strict";n.d(t,{Ug:()=>a});var r=n(9067);n(4401),n(4233);const i="object"==typeof window;class o{constructor(){return this._subscribers={},o._instance||(o._instance=this),i&&window.addEventListener("message",(e=>{Object.keys(this._subscribers).forEach((t=>{if(e.data)try{const n=JSON.parse(e.data);if(n.type===t&&this._subscribers[t]){const e=this._subscribers[t];null==e||e.forEach((e=>{e(n)}))}}catch(e){return}}))})),o._instance}emit(e,t){if("undefined"!=typeof window)try{window.parent.postMessage(JSON.stringify({type:e,data:(0,r.A)((0,r.A)({},t),{},{playerId:"video_frame"})}),"*")}catch(e){console.warn(e)}}subscribe(e,t){var n;void 0===this._subscribers[e]&&(this._subscribers[e]=[]),null===(n=this._subscribers[e])||void 0===n||n.push(t)}unsubscribe(e,t){if(this._subscribers[e]){var n,r;const o=null!==(n=null===(r=this._subscribers[e])||void 0===r?void 0:r.findIndex((e=>e===t)))&&void 0!==n?n:-1;var i;if(o>-1)null===(i=this._subscribers[e])||void 0===i||i.splice(o,1)}}}o._instance=null;const a=new o},5182:(e,t,n)=>{"use strict";n.d(t,{$:()=>h});var r=n(9845),i=n(1824),o=n(5126),a=n(451),s=n.n(a),l=n(8717);const u={control:"button-module__control___lMHpC",S:"button-module__S___vGDdX",labelSticker:"button-module__labelSticker___SM_cK",M:"button-module__M____F9dV",L:"button-module__L___O3exs",controlWithLabel:"button-module__controlWithLabel____22S7",controlInteractive:"button-module__controlInteractive___B0xHN",noScale:"button-module__noScale___TX58V",isTouch:"button-module__isTouch___tJNwX"};var c=n(7163);const d=["iconSticker","size","action","noScale","className","onClick","children","label"],h=(0,l.forwardRef)(((e,t)=>{let{iconSticker:n,size:a="M",action:h,noScale:p,className:m,onClick:v,children:_,label:f}=e,g=(0,i.A)(e,d);const b=(0,o.Ju)();return l.createElement("button",(0,r.A)({ref:t},g,c.aQ,{className:s()(u.control,u[a],"front-control",u.controlInteractive,{[u.noScale]:p,[u.isTouch]:b,[u.controlWithLabel]:!!f},m),type:"button",onClick:e=>{v&&v(e,h)}}),_,n&&l.createElement("div",{"aria-hidden":"true",className:u.labelSticker},n),f)}))},4224:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(8717);const i=e=>{let{color:t="white"}=e;return r.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M3 14.5714V9.42857H6.85714L10.7143 6V18L6.85714 14.5714H3Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M20.5713 9L14.5713 15",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M14.5713 9L20.5713 15",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))}},4825:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(8717);const i=e=>{let{color:t="white",low:n=!1}=e;return r.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M3 14.5714V9.42857H6.85714L10.7143 6V18L6.85714 14.5714H3Z",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M15 9.42773C15.5382 10.1441 15.8571 11.0346 15.8571 11.9996C15.8571 12.9646 15.5382 13.8551 15 14.5714",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),!n&&r.createElement("path",{d:"M18.4292 6.85742C19.5052 8.28998 20.1429 10.0707 20.1429 12.0003C20.1429 13.9299 19.5052 15.7106 18.4292 17.1431",stroke:t,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))}},3218:(e,t,n)=>{"use strict";n.d(t,{r:()=>w});var r=n(9845),i=n(1824),o=n(5126),a=n(451),s=n.n(a),l=n(8717);const u="raichu-button-module__control___Cys9B",c="raichu-button-module__controlWithLabel___LUONe",d="raichu-button-module__labelSticker___YIOj2",h="raichu-button-module__controlInteractive___gtqqk",p="raichu-button-module__noScale___wS3jI",m="raichu-button-module__isTouch___SJnop",v="raichu-button-module__sizeXL___mTUYQ",_="raichu-button-module__sizeXXL___aRTLG",f="raichu-button-module__withBg___arc2r",g="raichu-button-module__withBgBig___JdHV_";var b=n(7163),y=n(4136);const E=["icon","iconSticker","color","bgColor","withBg","size","withBgSize","big","action","noScale","wrapperClassName","className","tooltipTitle","tooltipPlacement","tooltipMargin","tooltipHidden","tooltipHideOnClick","tooltipZIndex","onClick","children","style","label"],w=(0,l.forwardRef)(((e,t)=>{let{icon:n,iconSticker:a,color:w,bgColor:S,withBg:A,size:C,withBgSize:k,big:P=!1,action:I,noScale:T,wrapperClassName:x,className:R,tooltipTitle:L,tooltipPlacement:O,tooltipMargin:N=24,tooltipHidden:M=!1,tooltipHideOnClick:D=!1,tooltipZIndex:B=2,onClick:F,children:H,style:V,label:U}=e,j=(0,i.A)(e,E);const W=(0,o.Ju)(),z=s()({[v]:"XL"===C,[_]:"XXL"===C}),G=l.createElement("button",(0,r.A)({ref:t},j,b.aQ,{className:s()(u,"front-control",{[h]:!A,[p]:T,[m]:W,[c]:!!U},z,R),style:V,type:"button",onClick:e=>{F&&F(e,I)}}),n?l.createElement(n,{"aria-hidden":"true",color:w}):H,a&&l.createElement("div",{"aria-hidden":"true",className:d},a),U),q=l.createElement(y._,{title:L,placement:O,offset:N,hideOnClick:D,hidden:M,zIndex:B},G),K=L?q:G;return A?l.createElement("div",{className:s()(f,x,{[g]:"XL"===k||P}),style:{background:S}},K):K}))},7163:(e,t,n)=>{"use strict";n.d(t,{ED:()=>a,Ex:()=>u,Ln:()=>l,aI:()=>c,aQ:()=>i,dg:()=>r});const r="data-prevent-hide-controls",i={[r]:"true"},o="data-allow-event-processing",a={[o]:!0},s="data-raichu-popup",l={[s]:"true"},u=e=>"true"===e.getAttribute(r)||!!e.closest("[".concat(r,'="true"]')),c=e=>"true"===e.getAttribute(o)||!!e.closest("[".concat(o,'="true"]'))},1374:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,_:()=>o});n(752);var r=n(8717);const i=r.createContext(null),o=()=>(0,r.useContext)(i),a=e=>{let{children:t,boundary:n}=e;const[o,a]=(0,r.useState)(null);return(0,r.useEffect)((()=>{a(n)}),[n]),r.createElement(i.Provider,{value:o},t)}},4136:(e,t,n)=>{"use strict";n.d(t,{_:()=>d});n(4401),n(752);var r=n(1871),i=n(3052),o=n(451),a=n.n(o),s=n(8717),l=n(1374);const u="raichu-tooltip-module__tooltip___V5AVQ",c="raichu-tooltip-module__area___QIGdE",d=e=>{let{children:t,title:n,className:o,areaStyle:d,areaClassName:h,placement:p,offset:m=10,hidden:v=!1,hideOnClick:_=!1,portal:f=!1,zIndex:g=1,mode:b}=e;const y=(0,s.useRef)(null),E=(0,l._)(),w=(0,s.useMemo)((()=>{const e={placement:p||"auto",strategy:"fixed"},t=[{name:"offset",options:{offset:[0,m]}}];return E&&(null==t||t.push({name:"preventOverflow",options:{boundary:E}})),e&&(e.modifiers=t),e}),[E,m,p]),[S,A]=(0,s.useState)(!1),[C,k]=(0,s.useState)(null),P=(0,s.useCallback)((()=>A(!0)),[]),I=(0,s.useCallback)((()=>{A(!1)}),[]);return(0,s.useEffect)((()=>{var e;S&&((null===(e=y.current)||void 0===e?void 0:e.update)&&y.current.update().catch((()=>{})))}),[b,S]),i.B.isMobile?s.createElement(s.Fragment,null,t):s.createElement("div",{className:a()(u,o),onMouseEnter:P,onMouseLeave:I,onFocus:P,onBlur:I,onClick:_?I:void 0,ref:k},s.createElement(r.e0,{isPopperShown:S&&!v,popperElements:s.createElement("div",{className:a()(c,h),style:d},n),popperKey:r.m0.tooltip,popperOptions:w,anchorElement:C,portal:f,customPopperZIndex:g,instanceRef:y},t))}},4493:(e,t,n)=>{"use strict";n.d(t,{S:()=>_});var r=n(9845),i=n(1824),o=(n(752),n(3052)),a=n(2925),s=n(7757),l=n(8717),u=n(5182);const c="tooltip-button-module__tooltip___A6Ju6",d="tooltip-button-module__tooltipContent___ettHB";var h=n(3015);var p=n(9599),m=n(6545);const v=["tooltipTitle","tooltipPlacement","tooltipHidden","className"],_=(0,l.forwardRef)(((e,t)=>{var n;let{tooltipTitle:_,tooltipPlacement:f="top",tooltipHidden:g=!1,className:b}=e,y=(0,i.A)(e,v);const{wrapperRef:E}=(0,h.Ks)("IVideoLayoutPlugin"),w=(0,m.useControls)(),{hideTooltips:S}=w,[A,C]=(0,l.useState)(!1),k=l.createElement(u.$,(0,r.A)({ref:t,className:b},y)),P=null!==(n=null!=E?E:document.getElementById(p.v.RAICHU_CONTAINER_WITH_PLAYER))&&void 0!==n?n:document.querySelector("body"),I=(0,l.useCallback)((e=>{e&&(w.hideTooltips=!1),C(e)}),[w]);(0,l.useEffect)((()=>{S&&C(!1)}),[S]);const T=l.createElement(a.m,{placement:f,placementSequence:["top","top-end","top-start"],container:P,constraintContainer:P,enableSafePolygon:!1,closeOnScroll:!0,mouseLeaveDelay:0,open:A,onOpenChange:I},l.createElement(a.m.Trigger,null,l.createElement("div",null,k)),l.createElement(s.N,{theme:"light",scoped:!0},l.createElement(a.m.Content,{className:c},l.createElement("div",{className:d},_))));return!_||g||o.B.isMobile?k:T}))},1862:(e,t,n)=>{"use strict";n.d(t,{$c:()=>C,D7:()=>d,Ev:()=>N,F1:()=>S,GL:()=>h,Ih:()=>E,JT:()=>A,JZ:()=>x,K0:()=>O,L2:()=>T,O5:()=>v,Oc:()=>l,Ok:()=>b,RR:()=>p,Rx:()=>c,UX:()=>m,V2:()=>R,Vc:()=>f,YN:()=>w,am:()=>g,b9:()=>P,bj:()=>_,gE:()=>u,hW:()=>L,id:()=>y,kC:()=>o,k_:()=>a,nd:()=>I,qZ:()=>k,wA:()=>s});var r=n(8717),i=n(9912);const o=3,a="https://".concat("static.rutube.ru","/static/img/_thumb_default_04.png"),s=15e3,l={[i.Y.RU]:{title:"18+",description:"Ð­Ñ‚Ð¾ Ð²Ð¸Ð´ÐµÐ¾ Ð»ÑƒÑ‡ÑˆÐµ Ð½Ðµ ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½ÐµÑÐ¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾Ð»ÐµÑ‚Ð½Ð¸Ð¼ Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÑÐ¼",btn:"ÐœÐ½Ðµ ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ 18"},[i.Y.ENG]:{title:"Video 18+",description:"This video is not recommended for underage users",btn:"I am 18 years old"}},u=(i.Y.RU,i.Y.ENG,i.Y.RU,i.Y.ENG,{[i.Y.RU]:{title:r.createElement("noindex",null,r.createElement("div",{"data-testid":"stub-info","data-nosnippet":"true"},"Ð”Ð°Ð½Ð½Ð¾Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾. ÐŸÑ€Ð¸Ð½Ð¾ÑÐ¸Ð¼ Ð’Ð°Ð¼ ÑÐ²Ð¾Ð¸ Ð¸Ð·Ð²Ð¸Ð½ÐµÐ½Ð¸Ñ."))},[i.Y.ENG]:{title:r.createElement("noindex",null,r.createElement("div",{"data-nosnippet":"true"},"Sorry, this video is temporarily unavailable."))}}),c=(i.Y.RU,i.Y.ENG,{[i.Y.RU]:{title:r.createElement("noindex",null,r.createElement("div",{"data-nosnippet":"true"},"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð²Ð¸Ð´ÐµÐ¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½. ",r.createElement("br",null),"ÐŸÑ€Ð¸Ð½Ð¾ÑÐ¸Ð¼ ÑÐ²Ð¾Ð¸ Ð¸Ð·Ð²Ð¸Ð½ÐµÐ½Ð¸Ñ."))},[i.Y.ENG]:{title:r.createElement("noindex",null,r.createElement("div",{"data-nosnippet":"true"},"Sorry, this video is temporarily unavailable."))}}),d={[i.Y.RU]:{title:"ÐÐµÑ‚ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ð°. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð»Ð¸ Wi-Fi Ð¸Ð»Ð¸ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚",description:r.createElement(r.Fragment,null,"ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð»Ð¸ Wi-Fi ",r.createElement("br",null)," Ð¸Ð»Ð¸ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚")},[i.Y.ENG]:{title:"No Internet connection. Make sure your Wi-Fi or mobile network in ON.",description:"Make sure your Wi-Fi or mobile network in ON"}},h={PAID_ACCESS:"paid_access"},p=["preroll","postroll","midroll","overlay","midpostroll"],m=["preroll","mobilepreroll","livemidroll","mobilelivemidroll"],v=150,_=1,f=.1,g=[4,5],b={CAPTIONS:"caption",AUTOPLAY_NEXT_FLAG:"raichu-autoplay-next",USER_HISTORY:"raichu-user-history",USER_QUALITY:"raichu-user-quality",PLAYBACK_RATE:"raichu-playback-rate",PAUSE_RECS_HIDDEN:"raichu-pause-recs-hidden",LS_KEY_USER_ADULT:"psaa",LS_KEY_ADULT_ALLOWED:"psaa",ACTIVITIES_USAGE:"activities-usage",CINEMA_MODE:"cinema-mode"},y=2500,E=5e3,w=8e3,S=6e3,A=180,C=16/9,k=9/16,P={1288:"xlg",968:"lg",864:"md",608:"sm",425:"xs",0:"xxs"},I={800:"xlarge",600:"large",400:"medium",320:"small",0:"xsmall"};let T=function(e){return e.INIT="player:init",e.PLAY_START="player:playStart",e.EVENT_STATE_CHANGE="player:stateChangeEvent",e.TOGGLE_VERTICAL_FULLSCREEN="player:toggleVerticalFullscreen",e.CHANGE_PLAYER_MODE="player:changePlayerMode",e.CLOSE_PLAYER="player:closePlayer",e.PREV_VIDEO="player:prevVideo",e.NEXT_VIDEO="player:nextVideo",e.SET_TIME="player:setTime",e.TOGGLE_CINEMA_MODE_PLAYER="player:toggleCinemaModePlayer",e.SET_END_SCREEN_VIDEO="player:setEndScreenVideo",e.CHANGE_VIDEO="player:changeEndScreenVideo",e.CURRENT_TIME="player:currentTime",e.FAKE_FULLSCREEN_ON="player:fakeFullscreenOn",e.FAKE_FULLSCREEN_OFF="player:fakeFullscreenOff",e.CHANGE_FULLSCREEN="player:changeFullscreen",e.PLAY_COMPLETE="player:playComplete",e.EVENT_ROLL_STATE_CHANGE="player:rollStateChange",e.ROLL_STATE="player:rollState",e.CHANGE_STATE="player:changeState",e.RECOMMENDED_VIDEO="player:recommendedVideo",e.READY="player:ready",e.VOLUME_CHANGE="player:volumeChange",e.BUFFERING="player:buffering",e.DURATION_CHANGE="player:durationChange",e.NO_AD="player:noad",e.ERROR="player:error",e.QUALITY_LIST="player:qualityList",e.CURRENT_QUALITY="player:currentQuality",e.PLAYOPTIONS_LOADED="player:playOptionsLoaded",e.AD_REQUEST="player:adRequest",e.AD_START="player:adStart",e.AD_END="player:adEnd",e.AD_SKIPPABLE="player:adSkippableStateChange",e.AD_ERROR="player:adError",e.GET_STREAM_INFO="player:get_stream_info",e.IS_IN_PIP="player:isInPiP",e.PIP_BACK="player:pipBack",e.IS_FULLSCREEN="player:isFullscreen",e.IS_CINEMA="player:isCinema",e.IS_USER_ADULT="player:isUserAdult",e.SET_PLAYBACK_SPEED="player:setPlaybackSpeed",e.PLAYBACK_SPEED_CHANGED="player:playbackSpeedChanged",e.SET_CAPTION="player:setCaption",e.CHANGE_CAPTION="player:changeCaption",e.CONTROLS_VISIBILITY_CHANGED="player:controlsVisibilityChanged",e.ACTIVITY_CONFIG="player:activityConfig",e.MUTE_CHANGE="player:muteChange",e.BITRATES_LEVELS="player:bitrateLevels",e.BITRATE_SWITCH="player:bitrateSwitched",e.GO_BACK="player:goBack",e.CAPTIONS_WITHOUT_URL="player:captionsWithoutUrl",e.EPISODE_CLICK="player:episodeClick",e.REQUEST_JWT="player:requestJwt",e.REQUEST_UUID="player:requestUuid",e.ERROR_INFO="player:errorInfo",e.ESCAPE_PRESS="player:escapePress",e.SUBSCRIBE_CLICK="player:subscribeClick",e.CHANGE_NOTIFICATION_TYPE="player:changeNotificationType",e.SUBSCRIPTION_REQUEST="player:subscriptionRequest",e.SUBSCRIPTION_BUTTON_SHOW="player:subscribeButtonShow",e.CHAPTERS_TOGGLE="player:chaptersToggle",e.CHAPTER_CHANGE="player:chapterChange",e.STATISTICS_RESPONSE="player:statisticsResponse",e.INTERNAL_BTN_BANNER="player:internalBtnBanner",e.COMMUNICATION_BANNED_CLICK="player:communicationBannerClick",e.COMMUNICATION_BANNER_SHOW="player:communicationBannerShow",e.CUE_CHANGE="player:cueChange",e.PLAY_START_ERROR="player:startError",e.PROMO_START="player:promoStart",e.PROMO_ENDED="player:promoEnded",e.PROMO_INTERRUPT="player:promoInterrupt",e.PROMO_GO_BACK_CLICK="player:promoGoBackClick",e}({}),x=function(e){return e.RUTUBE="RUTUBE",e.PRY="PREMIER_RUTUBE_YAPPY",e}({});const R="https://rutube.ru",L=1/30,O={MS:"MS",ML:"ML",MM:"MM",DXS:"DXS",DS:"DS",DL:"DL",DM:"DM",DXL:"DXL",DXXL:"DXXL"},N={MS:"S",ML:"S",MM:"S",DXS:"S",DS:"M",DL:"M",DM:"M",DXL:"L",DXXL:"L"}},9599:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r=function(e){return e.RAICHU_LOADER_TEMPLATE="raichuLoaderTemplate",e.RAICHU_CONTAINER_WITH_PLAYER="raichuContainerWithPlayer",e.RAICHU_VIDEO_TAG_NODE="raichuVideoTagNode",e.RAICHU_AREAS_BAR="raichuAreasBar",e.RAICHU_MOBILE_PREVIEW="raichuMobilePreview",e.RAICHU_AREAS_BAR_PREVIEW="raichuAreasBarPreview",e.RAICHU_AREAS_BAR_PREVIEW_TIME="raichuAreaBarPreviewTime",e.PLAY_BUTTON="playButton",e.VOLUME_BAR="volumeBar",e}(r||{})},6545:(e,t,n)=>{"use strict";n.d(t,{Controls:()=>i.Controls,ControlsOverlay:()=>i.ControlsOverlay,ControlsPlugin:()=>i.ControlsPlugin,FullScreenButton:()=>i.FullScreenButton,FullScreenButtonNew:()=>i.FullScreenButtonNew,NextButton:()=>i.NextButton,NextButtonDesktop:()=>i.NextButtonDesktop,PlayerControlsBg:()=>i.PlayerControlsBg,PrevButton:()=>i.PrevButton,PrevButtonDesktop:()=>i.PrevButtonDesktop,TimeBlock:()=>i.TimeBlock,VolumeControls:()=>i.VolumeControls,VolumeControlsNew:()=>i.VolumeControlsNew,getActiveChapter:()=>i.getActiveChapter,useControls:()=>i.useControls});var r=n(8900);n.o(r,"Controls")&&n.d(t,{Controls:function(){return r.Controls}}),n.o(r,"ControlsOverlay")&&n.d(t,{ControlsOverlay:function(){return r.ControlsOverlay}}),n.o(r,"ControlsPlugin")&&n.d(t,{ControlsPlugin:function(){return r.ControlsPlugin}}),n.o(r,"FullScreenButton")&&n.d(t,{FullScreenButton:function(){return r.FullScreenButton}}),n.o(r,"FullScreenButtonNew")&&n.d(t,{FullScreenButtonNew:function(){return r.FullScreenButtonNew}}),n.o(r,"NextButton")&&n.d(t,{NextButton:function(){return r.NextButton}}),n.o(r,"NextButtonDesktop")&&n.d(t,{NextButtonDesktop:function(){return r.NextButtonDesktop}}),n.o(r,"PlayerControlsBg")&&n.d(t,{PlayerControlsBg:function(){return r.PlayerControlsBg}}),n.o(r,"PrevButton")&&n.d(t,{PrevButton:function(){return r.PrevButton}}),n.o(r,"PrevButtonDesktop")&&n.d(t,{PrevButtonDesktop:function(){return r.PrevButtonDesktop}}),n.o(r,"TimeBlock")&&n.d(t,{TimeBlock:function(){return r.TimeBlock}}),n.o(r,"VolumeControls")&&n.d(t,{VolumeControls:function(){return r.VolumeControls}}),n.o(r,"VolumeControlsNew")&&n.d(t,{VolumeControlsNew:function(){return r.VolumeControlsNew}}),n.o(r,"getActiveChapter")&&n.d(t,{getActiveChapter:function(){return r.getActiveChapter}}),n.o(r,"useControls")&&n.d(t,{useControls:function(){return r.useControls}});var i=n(8914);n(3882)},3752:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,U:()=>i});let r=function(e){return e.BUTTON="button",e.TAP="tap",e.HOTKEY="hotkey",e.EXTERNAL="external",e.MEDIA_CONTROLS="media_controls",e.LONG_TAP="long_tap",e}({}),i=function(e){return e.BACK="back",e.FORWARD="forward",e}({})},472:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(3052);const i=(e,t,n)=>r.B.isMobile?e:"".concat(e).concat(t?" (Ð³Ð¾Ñ€ÑÑ‡Ð°Ñ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ° ".concat(t).concat(n?" Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ°Ñ":"",")"):"")},1701:()=>{},2065:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});const r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal";if(!t.current)return 0;const r=t.current.getBoundingClientRect(),{top:i,bottom:o,left:a,right:s}=r,l="horizontal"===n?a:o,u="horizontal"===n?s:i,c="horizontal"===n?"clientX":"clientY";let d;d="clientX"in e?e[c]:e.touches&&e.touches.length>=0?e.touches[0][c]:0;let h=(d-l)/(u-l)*100;return h<0&&(h=0),h>100&&(h=100),h}},2514:(e,t,n)=>{"use strict";n.d(t,{DU:()=>l,Kj:()=>a,al:()=>o,uT:()=>s});n(752),n(299),n(8578),n(9857),n(9972);var r=n(3882),i=n(3834);const o=(e,t,n)=>{var r,o;const a={},s=null!==(r=null===(o=(0,i.Qv)(e))||void 0===o?void 0:o.searchParams.entries())&&void 0!==r?r:[];let l=!n;for(const e of s)if(n&&e[0]===n&&(l=!0),l)if(t)try{a[e[0]]=decodeURIComponent(e[1])}catch(e){console.warn(e)}else a[e[0]]=e[1];return a},a=e=>{const t=new URLSearchParams;return Object.keys(e).forEach((n=>{void 0!==e[n]&&t.append(n,e[n].toString())})),t},s=()=>r.ZW.findIndex((e=>document.referrer.indexOf(e)>=0))>=0,l=()=>{const{pathname:e}=window.location,t=e.split("/").filter(Boolean);if(e.indexOf("embed")>=0)return t[t.length-1]}},8900:(e,t,n)=>{"use strict";var r=n(1701);n.o(r,"Controls")&&n.d(t,{Controls:function(){return r.Controls}}),n.o(r,"ControlsOverlay")&&n.d(t,{ControlsOverlay:function(){return r.ControlsOverlay}}),n.o(r,"ControlsPlugin")&&n.d(t,{ControlsPlugin:function(){return r.ControlsPlugin}}),n.o(r,"FullScreenButton")&&n.d(t,{FullScreenButton:function(){return r.FullScreenButton}}),n.o(r,"FullScreenButtonNew")&&n.d(t,{FullScreenButtonNew:function(){return r.FullScreenButtonNew}}),n.o(r,"NextButton")&&n.d(t,{NextButton:function(){return r.NextButton}}),n.o(r,"NextButtonDesktop")&&n.d(t,{NextButtonDesktop:function(){return r.NextButtonDesktop}}),n.o(r,"PlayerControlsBg")&&n.d(t,{PlayerControlsBg:function(){return r.PlayerControlsBg}}),n.o(r,"PrevButton")&&n.d(t,{PrevButton:function(){return r.PrevButton}}),n.o(r,"PrevButtonDesktop")&&n.d(t,{PrevButtonDesktop:function(){return r.PrevButtonDesktop}}),n.o(r,"TimeBlock")&&n.d(t,{TimeBlock:function(){return r.TimeBlock}}),n.o(r,"VolumeControls")&&n.d(t,{VolumeControls:function(){return r.VolumeControls}}),n.o(r,"VolumeControlsNew")&&n.d(t,{VolumeControlsNew:function(){return r.VolumeControlsNew}}),n.o(r,"getActiveChapter")&&n.d(t,{getActiveChapter:function(){return r.getActiveChapter}}),n.o(r,"useControls")&&n.d(t,{useControls:function(){return r.useControls}})},9912:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});const r={RU:"rus",ENG:"eng"}},3834:(e,t,n)=>{"use strict";n.d(t,{IN:()=>u,If:()=>d,Ln:()=>c,Qv:()=>i,VZ:()=>o,g:()=>a,jh:()=>s,nu:()=>p,qO:()=>l,rS:()=>h,yA:()=>r});n(2358),n(9419),n(752),n(4175),n(5343),n(299),n(8578),n(9857),n(9972);function r(){return!0}const i=(e,t)=>{if(null==e)return null;try{return new URL(e,t)}catch(e){return null}};function o(e){return{r:"emw"+(e?"m":"d")}}function a(e,t){const n=i(e);if(!n)return"";const r=new URLSearchParams(n.search);for(const e of Object.keys(t))r.append(e,t[e]);return n.search=String(r),String(n)}function s(){try{var e;if(null!==(e=window)&&void 0!==e&&null!==(e=e.location)&&void 0!==e&&e.ancestorOrigins)return[...window.location.ancestorOrigins]}catch(e){console.warn("ancestorOrigins is not available")}return[]}const l=e=>(null==e?void 0:e.replace(/^(https?:\/\/)?(www\.)?/,"").split("/")[0])||"";function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectLastOrigin:!1};const{selectLastOrigin:t}=e;if("object"!=typeof window)return"";const{location:n}=window;if(n.origin.includes("localhost"))return"";{const e=s(),n=e.length?function(e,t){return t?e[e.length-1]:e[0]}(e,t):document.referrer;return n&&"null"!==n?n:""}}function c(e){return e.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0]}function d(){return encodeURIComponent(u())}function h(e){const t=e.match(/\.([^./?#]+)($|\?|#)/);return null!=t&&t.length?t[1]:null}const p=e=>{if(!e)return"";const t=new URL(e);return"".concat(window.location.origin).concat(t.pathname).concat(t.search)}},3882:(e,t,n)=>{"use strict";n.d(t,{mW:()=>P,ZW:()=>k,NN:()=>C,jI:()=>S,t_:()=>A,m_:()=>w});var r=n(8717);const i=r.createElement("div",null,"ÐÐ°Ð·Ð°Ð´ Ð½Ð° 10 ÑÐµÐºÑƒÐ½Ð´",r.createElement("span",null,"â†"),r.createElement("span",null,"J")),o=r.createElement("div",null,"Ð’Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÑÑ‚Ð¸",r.createElement("span",null,"ÐŸÑ€Ð¾Ð±ÐµÐ»"),r.createElement("span",null,"K")),a=r.createElement("div",null,"ÐŸÐ°ÑƒÐ·Ð°",r.createElement("span",null,"ÐŸÑ€Ð¾Ð±ÐµÐ»"),r.createElement("span",null,"K")),s=r.createElement("div",null,"Ð¡Ñ‚Ð¾Ð¿",r.createElement("span",null,"ÐŸÑ€Ð¾Ð±ÐµÐ»"),r.createElement("span",null,"K")),l=r.createElement("div",null,"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ ÐµÑ‰Ñ‘ Ñ€Ð°Ð·",r.createElement("span",null,"ÐŸÑ€Ð¾Ð±ÐµÐ»"),r.createElement("span",null,"K")),u=r.createElement("div",null,"Ð¡Ð»ÑƒÑˆÐ°Ñ‚ÑŒ ÐµÑ‰Ñ‘ Ñ€Ð°Ð·",r.createElement("span",null,"ÐŸÑ€Ð¾Ð±ÐµÐ»"),r.createElement("span",null,"K")),c=r.createElement("div",null,"Ð’Ð¿ÐµÑ€Ñ‘Ð´ Ð½Ð° 10 ÑÐµÐºÑƒÐ½Ð´",r.createElement("span",null,"â†’"),r.createElement("span",null,"L")),d=r.createElement("div",null,"ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐµ",r.createElement("span",null,"Shift + P")),h=r.createElement("div",null,"ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",r.createElement("span",null,"Shift + P")),p=r.createElement("div",null,"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ",r.createElement("span",null,"Shift + N")),m=r.createElement("div",null,"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",r.createElement("span",null,"Shift + N")),v=r.createElement("div",null,"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº",r.createElement("span",null,"M")),_=r.createElement("div",null,"Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº",r.createElement("span",null,"M")),f=r.createElement("div",null,"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"),g=r.createElement("div",null,"Ð¨Ð¸Ñ€Ð¾ÐºÐ¸Ð¹ ÑÐºÑ€Ð°Ð½",r.createElement("span",null,"T")),b=r.createElement("div",null,"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð² Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼",r.createElement("span",null,"T")),y=r.createElement("div",null,"Ð’Ð¾ Ð²ÐµÑÑŒ ÑÐºÑ€Ð°Ð½",r.createElement("span",null,"F")),E=r.createElement("div",null,"Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼Ð°",r.createElement("span",null,"Esc"),r.createElement("span",null,"F")),w={PrevSeek:i,Play:o,Pause:a,Stop:s,Repeat:l,RepeatAudio:u,NextSeek:c,PrevVideo:h,NextVideo:m,VolumeOn:v,VolumeOff:_,Settings:f,CinemaOn:g,CinemaOff:b,CaptionsOn:r.createElement("div",null,"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹",r.createElement("span",null,"C")),CaptionsOff:r.createElement("div",null,"Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹",r.createElement("span",null,"C")),FullScreenOn:y,FullScreenOff:E,WatchOnRUTUBE:r.createElement("div",null,"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE"),MiniPlayer:r.createElement("div",null,"Ð’ Ð¼Ð¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€Ðµ ",r.createElement("span",null,"i")),MiniPlayerClose:r.createElement("div",null,"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¼Ð¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€ ",r.createElement("span",null,"Esc")),MiniPlayerReturn:r.createElement("div",null,"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð² Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼ ",r.createElement("span",null,"i")),ControlsTooltipZIndex:30,PrevAudio:d,NextAudio:p};let S=function(e){return e.ENTER_FULLSCREEN="statfullscreen",e.EXIT_FULL_SCREEN="statexitFullscreen",e.SEEK="statrewind",e.PAUSE="statpause",e.RESUME="statresume",e.LOAD="statload",e.EMBED_LOAD="statembedload",e.START="statstart",e.STAT="statevent",e.FIRST_QUARTILE="statfirstQuartile",e.MIDDLE="statmiddle",e.THIRD_QUARTILE="statthirdQuartile",e.END="statend",e.HEARTBEAT="heartbeat",e.WATCHTIME="watchtime",e.AD_START_BUILT_IN="adstartbuiltin",e.AD_END_BUILT_IN="adendbuiltin",e.SHOW_ENDSCREEN="showendscreen",e.CLICK_ENDSCREEN="clickendscreen",e.CLICK_ENDSCREEN_ACTION="clickendscreenAction",e.CANCEL_ENDSCREEN="cancelendscreen",e.FIRST_PLAY_BUTTON="firstplaybutton",e.EMBED_SUBSCRIBE_CLICK="subscrib_click",e.EMBED_AUTHOR_CLICK="author_embd_click",e.LONG_PRESS="statxrewind",e.WATCH_ON_RUTUBE_VIEW="watch_rutube_view",e.WATCH_ON_RUTUBE_CLICK="watch_rutube_click",e.PIP_ENTER_CLICK="MP_button_click",e.PIP_EXIT_CLICK="MP_close",e.PIP_BACK_SHOW="MP_back_button_show",e.PIP_BACK_CLICK="MP_back_button_click",e.SWIPE="swipe",e.AD_OFF_BUTTON_SHOW="ad_off_show",e.AD_OFF_BUTTON_CLICK="ad_off_click",e.CREDS_SKIP_SHOW="skip_credits_show",e.CREDS_SKIP_CLICK="skip_credits_click",e.CREDS_WATCH_SHOW="watch_credits_show",e.CREDS_WATCH_CLICK="watch_credits_click",e.INTRO_SKIP_SHOW="skip_intro_show",e.INTRO_SKIP_CLICK="skip_intro_click",e.INTRO_WATCH_SHOW="watch_intro_show",e.INTRO_WATCH_CLICK="watch_intro_click",e.NEXT_EPISODE_SHOW="next_episode_show",e.NEXT_EPISODE_CLICK="next_episode_click",e.NEXT_EPISODE_AUTO="next_episode_auto",e.VIDEO_LOAD="video_load",e.VIDEO_HEARTBEAT="video_heartbeat",e.PLAYBACK_START="playback_start",e.STATSEEK="statseek",e.VIDEO_START="video_start",e.VIDEO_COMPLETE="video_complete",e.PLAYBACK_TO_CAPTIONS="playback_to_captions",e.MRC_50_1="mrc_player_50_1_sec",e.MRC_50_2="mrc_player_50_2_sec",e.MRC_100_1="mrc_player_100_1_sec",e.MRC_100_2="mrc_player_100_2_sec",e.ADVERT_MRC_50_1="mrc_imp_ad_50_1_sec",e.ADVERT_MRC_50_2="mrc_imp_ad_50_2_sec",e.ADVERT_MRC_100_1="mrc_imp_ad_100_1_sec",e.ADVERT_MRC_100_2="mrc_imp_ad_100_2_sec",e}({}),A=function(e){return e.SCREEN_MODE="screen_mode",e.LOAD_AFTER_AD="player_load_after_ad",e.REWIND="rewind_mode",e.REWIND_MODE_RUTS="statrewind",e.PAUSE="play_pause",e.QUALITY="playback_quality",e.SPEED="playback_speed",e.END_SCREEN="end_screen_rec",e.PAUSE_SCREEN="pause_screen",e.EMBED_SUBSCRIBE="subscribe_player",e.NEXT_VIDEO="next_video",e.AD_VIEW="ad_view",e.AD_REQUEST="ad_request",e.FROM_BEGINNINIG="from_beginning",e.AD_CLICK="ad_click",e.CLICK_EVENT="rutube_button",e.HB_INTERVALS="hb_intervals_stat",e.UNLOAD="statstop_close",e.AUTHOR_CLICK="author_click",e.AUTHOR_TITLE_CLICK="author_nm_click",e.SETTINGS_CLICK="settings_click",e.SHOW_MORE="show_more",e.SOUND_ON="sound_on",e.SOUND_OFF="sound_off",e.VOLUME_SET="sound_set",e.UNMUTE_VIEW="unmute_view",e.UNMUTE_CLICK="unmute_click",e.ADVERT_STAT_BLOCK_START="ad_block_start",e.ADVERT_STAT_BLOCK_START_PREROLL="ad_preroll_block_start",e.ADVERT_STAT_BLOCK_START_MIDROLL="ad_midroll_block_start",e.ADVERT_STAT_BLOCK_START_POSTROLL="ad_postroll_block_start",e.ADVERT_STAT_BLOCK_END="ad_block_end",e.ADVERT_STAT_BLOCK_END_PREROLL="ad_preroll_block_end",e.ADVERT_STAT_BLOCK_END_MIDROLL="ad_midroll_block_end",e.ADVERT_STAT_BLOCK_END_POSTROLL="ad_postroll_block_end",e.EXTENDED_PLAYER_MENU="extended_player_menu",e.PREV_VIDEO="previous_video",e.SHARE="share_video",e.PLAYBACK_AUTOPLAY="playback_autoplay",e.SUBTITLES="subtitles",e.RECOMMENDATIONS_PAUSE_SCREEN_SHOW="pause_recomendation",e.RECOMMENDATIONS_PAUSE_SCREEN_CLICK="pause_recomendation_click",e.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_SHOW="endscreen_nextvideo",e.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_CLICK="endscreen_nextvideo_click",e.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_AUTO="endscreen_nextvideo_auto",e.RECOMMENDATIONS_END_SCREEN_RECS_SHOW="endscreen_recomendation",e.RECOMMENDATIONS_END_SCREEN_RECS_CLICK="endscreen_recomendation_click",e.RECOMMENDATIONS_SEASONS_BUTTON_SHOW="episod_choice_view",e.RECOMMENDATIONS_SEASONS_OPEN="episod_choice_open",e.RECOMMENDATIONS_SEASONS_EPISODE_CLICK="episod_choice_click",e.RECOMMENDATIONS_BUTTON_SHOW="button_recomendation_show",e.RECOMMENDATIONS_BUTTON_CLICK="button_recomendation_click",e.INTERACTIVE_BUTTON="new_frag",e.MORE_MENU_COPY_LINK_VIDEO="esch_copylink_video_click",e.MORE_MENU_COPY_LINK_AT_TIME="esch_copylink_click",e.MORE_MENU_COPY_TAG="esch_copytag_click",e.MORE_MENU_REPLAY="esch_replay_click",e.MORE_MENU_REPORT_ERROR="esch_reperr_click",e.MORE_MENU_COPY_INFO="esch_copyinfo_click",e.MORE_MENU_REPORT_VIDEO="esch_reperrvid_click",e.MORE_MENU_HOTKEY_MANUAL="esch_hotkeys_manual",e.MORE_MENU_REPLAY_VIDEO_ON="esch_replay_video_on",e.MORE_MENU_REPLAY_VIDEO_OFF="esch_replay_video_off",e.WATCH_ON_RUTUBE="watch_on_rutube",e.CHAPTER_BUTTON_SHOW="episod_button_show",e.CHAPTER_BUTTON_CLICK="episod_button_click",e.CHAPTER_MENU_CLICK="episod_menu_click",e.CHAPTER_DESC_CLICK="episod_desc_click",e.WATCH_FROM_START_SHOW="from_beginning_show",e.WATCH_FROM_START_CLICK="from_beginning_click",e.CBANNER_SHOW="cbanner_show",e.CBANNER_CLICK="cbanner_click",e.CBANNER_CLOSE="cbanner_close",e.SUBSCRIBE_CLICK="subscribe_click",e.UNSUBSCRIBE_CLICK="unsubscribe_click",e.SUBSCRIBE_SHOW="subscribe_show",e.SUBSCRIBE_NOTIFY_ON="sub_notify_on",e.SUBSCRIBE_NOTIFY_OFF="sub_notify_off",e.PLAYER_ZOOM="player_zoom",e.WATCH_MOVIE_VIEW="watch_movie_view",e.WATCH_MOVIE_CLICK="watch_movie_click",e}({}),C=function(e){return e.SITE_LOGO="rutube",e.CHANNEL_LOGO="channel",e.VIDEO_TITLE="video",e}({});const k=["*.contra.gr","blog.rutube.ru","contra.gr","matchtv.ru","rufilmtv.org"],P="https://distribution.rutube.ru"},6417:()=>{},451:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2775:(e,t,n)=>{"use strict";n(2e3),n(2220);var r=n(256);e.exports=r.f("metadata")},2460:(e,t,n)=>{"use strict";var r=n(2775);e.exports=r},3727:(e,t,n)=>{"use strict";var r=n(2954),i=n(6832),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},5611:(e,t,n)=>{"use strict";var r=n(844),i=n(6832),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a constructor")}},9755:(e,t,n)=>{"use strict";var r=n(2954),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},1455:(e,t,n)=>{"use strict";var r=n(2585).has;e.exports=function(e){return r(e),e}},6780:(e,t,n)=>{"use strict";var r=n(6216),i=n(3403),o=n(7740).f,a=r("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},7960:(e,t,n)=>{"use strict";var r=n(2414).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},8108:(e,t,n)=>{"use strict";var r=n(6952),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},2816:(e,t,n)=>{"use strict";var r=n(2845),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},6674:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4576:(e,t,n)=>{"use strict";var r=n(4767),i=n(383),o=TypeError;e.exports=r(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==i(e))throw new o("ArrayBuffer expected");return e.byteLength}},3179:(e,t,n)=>{"use strict";var r=n(4627),i=n(4576),o=r(ArrayBuffer.prototype.slice);e.exports=function(e){if(0!==i(e))return!1;try{return o(e,0,0),!1}catch(e){return!0}}},4515:(e,t,n)=>{"use strict";var r=n(1186),i=n(4627),o=n(4767),a=n(3785),s=n(3179),l=n(4576),u=n(232),c=n(9173),d=r.structuredClone,h=r.ArrayBuffer,p=r.DataView,m=r.TypeError,v=Math.min,_=h.prototype,f=p.prototype,g=i(_.slice),b=o(_,"resizable","get"),y=o(_,"maxByteLength","get"),E=i(f.getInt8),w=i(f.setInt8);e.exports=(c||u)&&function(e,t,n){var r,i=l(e),o=void 0===t?i:a(t),_=!b||!b(e);if(s(e))throw new m("ArrayBuffer is detached");if(c&&(e=d(e,{transfer:[e]}),i===o&&(n||_)))return e;if(i>=o&&(!n||_))r=g(e,0,o);else{var f=n&&!_&&y?{maxByteLength:y(e)}:void 0;r=new h(o,f);for(var S=new p(e),A=new p(r),C=v(o,i),k=0;k<C;k++)w(A,k,E(S,k))}return c||u(e),r}},2105:(e,t,n)=>{"use strict";var r,i,o,a=n(6674),s=n(1271),l=n(1186),u=n(2954),c=n(2845),d=n(188),h=n(7404),p=n(6832),m=n(8890),v=n(359),_=n(9171),f=n(6952),g=n(8324),b=n(7896),y=n(6216),E=n(3139),w=n(1364),S=w.enforce,A=w.get,C=l.Int8Array,k=C&&C.prototype,P=l.Uint8ClampedArray,I=P&&P.prototype,T=C&&g(C),x=k&&g(k),R=Object.prototype,L=l.TypeError,O=y("toStringTag"),N=E("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",D=a&&!!b&&"Opera"!==h(l.opera),B=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},H={BigInt64Array:8,BigUint64Array:8},V=function(e){var t=g(e);if(c(t)){var n=A(t);return n&&d(n,M)?n[M]:V(t)}},U=function(e){if(!c(e))return!1;var t=h(e);return d(F,t)||d(H,t)};for(r in F)(o=(i=l[r])&&i.prototype)?S(o)[M]=i:D=!1;for(r in H)(o=(i=l[r])&&i.prototype)&&(S(o)[M]=i);if((!D||!u(T)||T===Function.prototype)&&(T=function(){throw new L("Incorrect invocation")},D))for(r in F)l[r]&&b(l[r],T);if((!D||!x||x===R)&&(x=T.prototype,D))for(r in F)l[r]&&b(l[r].prototype,x);if(D&&g(I)!==x&&b(I,x),s&&!d(x,O))for(r in B=!0,_(x,O,{configurable:!0,get:function(){return c(this)?this[N]:void 0}}),F)l[r]&&m(l[r],N,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:B&&N,aTypedArray:function(e){if(U(e))return e;throw new L("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!b||f(T,e)))return e;throw new L(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var i in F){var o=l[i];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(n){try{o.prototype[e]=t}catch(e){}}}x[e]&&!n||v(x,e,n?t:D&&k[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(b){if(n)for(r in F)if((i=l[r])&&d(i,e))try{delete i[e]}catch(e){}if(T[e]&&!n)return;try{return v(T,e,n?t:D&&T[e]||t)}catch(e){}}for(r in F)!(i=l[r])||i[e]&&!n||v(i,e,t)}},getTypedArrayConstructor:V,isView:function(e){if(!c(e))return!1;var t=h(e);return"DataView"===t||d(F,t)||d(H,t)},isTypedArray:U,TypedArray:T,TypedArrayPrototype:x}},2287:(e,t,n)=>{"use strict";var r=n(1186),i=n(4627),o=n(1271),a=n(6674),s=n(4737),l=n(8890),u=n(9171),c=n(3618),d=n(4476),h=n(8108),p=n(9546),m=n(4497),v=n(3785),_=n(9758),f=n(6773),g=n(8324),b=n(7896),y=n(3499).f,E=n(9448),w=n(2626),S=n(9640),A=n(1364),C=s.PROPER,k=s.CONFIGURABLE,P="ArrayBuffer",I="DataView",T="prototype",x="Wrong index",R=A.getterFor(P),L=A.getterFor(I),O=A.set,N=r[P],M=N,D=M&&M[T],B=r[I],F=B&&B[T],H=Object.prototype,V=r.Array,U=r.RangeError,j=i(E),W=i([].reverse),z=f.pack,G=f.unpack,q=function(e){return[255&e]},K=function(e){return[255&e,e>>8&255]},Y=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},X=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Q=function(e){return z(_(e),23,4)},Z=function(e){return z(e,52,8)},J=function(e,t,n){u(e[T],t,{configurable:!0,get:function(){return n(this)[t]}})},$=function(e,t,n,r){var i=L(e),o=v(n),a=!!r;if(o+t>i.byteLength)throw new U(x);var s=i.bytes,l=o+i.byteOffset,u=w(s,l,l+t);return a?u:W(u)},ee=function(e,t,n,r,i,o){var a=L(e),s=v(n),l=r(+i),u=!!o;if(s+t>a.byteLength)throw new U(x);for(var c=a.bytes,d=s+a.byteOffset,h=0;h<t;h++)c[d+h]=l[u?h:t-h-1]};if(a){var te=C&&N.name!==P;if(d((function(){N(1)}))&&d((function(){new N(-1)}))&&!d((function(){return new N,new N(1.5),new N(NaN),1!==N.length||te&&!k})))te&&k&&l(N,"name",P);else{(M=function(e){return h(this,D),new N(v(e))})[T]=D;for(var ne,re=y(N),ie=0;re.length>ie;)(ne=re[ie++])in M||l(M,ne,N[ne]);D.constructor=M}b&&g(F)!==H&&b(F,H);var oe=new B(new M(2)),ae=i(F.setInt8);oe.setInt8(0,2147483648),oe.setInt8(1,2147483649),!oe.getInt8(0)&&oe.getInt8(1)||c(F,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else D=(M=function(e){h(this,D);var t=v(e);O(this,{type:P,bytes:j(V(t),0),byteLength:t}),o||(this.byteLength=t,this.detached=!1)})[T],F=(B=function(e,t,n){h(this,F),h(e,D);var r=R(e),i=r.byteLength,a=p(t);if(a<0||a>i)throw new U("Wrong offset");if(a+(n=void 0===n?i-a:m(n))>i)throw new U("Wrong length");O(this,{type:I,buffer:e,byteLength:n,byteOffset:a,bytes:r.bytes}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=a)})[T],o&&(J(M,"byteLength",R),J(B,"buffer",L),J(B,"byteLength",L),J(B,"byteOffset",L)),c(F,{getInt8:function(e){return $(this,1,e)[0]<<24>>24},getUint8:function(e){return $(this,1,e)[0]},getInt16:function(e){var t=$(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=$(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return X($(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return X($(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return G($(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return G($(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){ee(this,1,e,q,t)},setUint8:function(e,t){ee(this,1,e,q,t)},setInt16:function(e,t){ee(this,2,e,K,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){ee(this,2,e,K,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){ee(this,4,e,Y,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){ee(this,4,e,Y,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){ee(this,4,e,Q,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){ee(this,8,e,Z,t,arguments.length>2&&arguments[2])}});S(M,P),S(B,I),e.exports={ArrayBuffer:M,DataView:B}},9448:(e,t,n)=>{"use strict";var r=n(5090),i=n(9233),o=n(1279);e.exports=function(e){for(var t=r(this),n=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)t[s++]=e;return t}},293:(e,t,n)=>{"use strict";var r=n(1279);e.exports=function(e,t){for(var n=0,i=r(t),o=new e(i);i>n;)o[n]=t[n++];return o}},9981:(e,t,n)=>{"use strict";var r=n(5319),i=n(7098),o=n(5090),a=n(7538),s=n(5876),l=n(844),u=n(1279),c=n(4631),d=n(2156),h=n(1480),p=Array;e.exports=function(e){var t=o(e),n=l(this),m=arguments.length,v=m>1?arguments[1]:void 0,_=void 0!==v;_&&(v=r(v,m>2?arguments[2]:void 0));var f,g,b,y,E,w,S=h(t),A=0;if(!S||this===p&&s(S))for(f=u(t),g=n?new this(f):p(f);f>A;A++)w=_?v(t[A],A):t[A],c(g,A,w);else for(E=(y=d(t,S)).next,g=n?new this:[];!(b=i(E,y)).done;A++)w=_?a(y,v,[b.value,A],!0):b.value,c(g,A,w);return g.length=A,g}},1716:(e,t,n)=>{"use strict";var r=n(6862),i=n(9233),o=n(1279),a=function(e){return function(t,n,a){var s,l=r(t),u=o(l),c=i(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},1428:(e,t,n)=>{"use strict";var r=n(5319),i=n(1106),o=n(5090),a=n(1279),s=function(e){var t=1===e;return function(n,s,l){for(var u,c=o(n),d=i(c),h=r(s,l),p=a(d);p-- >0;)if(h(u=d[p],p,c))switch(e){case 0:return u;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},8374:(e,t,n)=>{"use strict";var r=n(5319),i=n(4627),o=n(1106),a=n(5090),s=n(1279),l=n(1912),u=i([].push),c=function(e){var t=1===e,n=2===e,i=3===e,c=4===e,d=6===e,h=7===e,p=5===e||d;return function(m,v,_,f){for(var g,b,y=a(m),E=o(y),w=r(v,_),S=s(E),A=0,C=f||l,k=t?C(m,S):n||h?C(m,0):void 0;S>A;A++)if((p||A in E)&&(b=w(g=E[A],A,y),e))if(t)k[A]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return A;case 2:u(k,g)}else switch(e){case 4:return!1;case 7:u(k,g)}return d?-1:i||c?c:k}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},4439:(e,t,n)=>{"use strict";var r=n(4476);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},6586:(e,t,n)=>{"use strict";var r=n(1271),i=n(2497),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},2626:(e,t,n)=>{"use strict";var r=n(9233),i=n(1279),o=n(4631),a=Array,s=Math.max;e.exports=function(e,t,n){for(var l=i(e),u=r(t,l),c=r(void 0===n?l:n,l),d=a(s(c-u,0)),h=0;u<c;u++,h++)o(d,h,e[u]);return d.length=h,d}},6147:(e,t,n)=>{"use strict";var r=n(4627);e.exports=r([].slice)},9441:(e,t,n)=>{"use strict";var r=n(2626),i=Math.floor,o=function(e,t){var n=e.length,l=i(n/2);return n<8?a(e,t):s(e,o(r(e,0,l),t),o(r(e,l),t),t)},a=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e};e.exports=o},3658:(e,t,n)=>{"use strict";var r=n(2497),i=n(844),o=n(2845),a=n(6216)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},1912:(e,t,n)=>{"use strict";var r=n(3658);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},4063:(e,t,n)=>{"use strict";var r=n(1279);e.exports=function(e,t){for(var n=r(e),i=new t(n),o=0;o<n;o++)i[o]=e[n-o-1];return i}},6325:(e,t,n)=>{"use strict";var r=n(1279),i=n(9546),o=RangeError;e.exports=function(e,t,n,a){var s=r(e),l=i(n),u=l<0?s+l:l;if(u>=s||u<0)throw new o("Incorrect index");for(var c=new t(s),d=0;d<s;d++)c[d]=d===u?a:e[d];return c}},7538:(e,t,n)=>{"use strict";var r=n(2816),i=n(8106);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},2841:(e,t,n)=>{"use strict";var r=n(6216)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},383:(e,t,n)=>{"use strict";var r=n(4627),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},7404:(e,t,n)=>{"use strict";var r=n(9119),i=n(2954),o=n(383),a=n(6216)("toStringTag"),s=Object,l="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:l?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},2891:(e,t,n)=>{"use strict";var r=n(188),i=n(402),o=n(6614),a=n(7740);e.exports=function(e,t,n){for(var s=i(t),l=a.f,u=o.f,c=0;c<s.length;c++){var d=s[c];r(e,d)||n&&r(n,d)||l(e,d,u(t,d))}}},1974:(e,t,n)=>{"use strict";var r=n(4476);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1278:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},8890:(e,t,n)=>{"use strict";var r=n(1271),i=n(7740),o=n(3033);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},3033:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4631:(e,t,n)=>{"use strict";var r=n(3302),i=n(7740),o=n(3033);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},9171:(e,t,n)=>{"use strict";var r=n(4024),i=n(7740);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},359:(e,t,n)=>{"use strict";var r=n(2954),i=n(7740),o=n(4024),a=n(1188);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:t;if(r(n)&&o(n,u,s),s.global)l?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3618:(e,t,n)=>{"use strict";var r=n(359);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1188:(e,t,n)=>{"use strict";var r=n(1186),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6519:(e,t,n)=>{"use strict";var r=n(6832),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},1271:(e,t,n)=>{"use strict";var r=n(4476);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},232:(e,t,n)=>{"use strict";var r,i,o,a,s=n(1186),l=n(4043),u=n(9173),c=s.structuredClone,d=s.ArrayBuffer,h=s.MessageChannel,p=!1;if(u)p=function(e){c(e,{transfer:[e]})};else if(d)try{h||(r=l("worker_threads"))&&(h=r.MessageChannel),h&&(i=new h,o=new d(2),a=function(e){i.port1.postMessage(null,[e])},2===o.byteLength&&(a(o),0===o.byteLength&&(p=a)))}catch(e){}e.exports=p},4602:e=>{"use strict";var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},2848:(e,t,n)=>{"use strict";var r=n(1186),i=n(2845),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},1544:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},9177:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7751:e=>{"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6589:(e,t,n)=>{"use strict";var r=n(2848)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},3881:(e,t,n)=>{"use strict";var r=n(3075).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},9373:(e,t,n)=>{"use strict";var r=n(137),i=n(1301);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},596:e=>{"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},137:e=>{"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},2535:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/MSIE|Trident/.test(r)},1365:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},6444:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},1301:(e,t,n)=>{"use strict";var r=n(1186),i=n(383);e.exports="process"===i(r.process)},6336:(e,t,n)=>{"use strict";var r=n(3075);e.exports=/web0s(?!.*chrome)/i.test(r)},3075:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},4307:(e,t,n)=>{"use strict";var r,i,o=n(1186),a=n(3075),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},6923:(e,t,n)=>{"use strict";var r=n(3075).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},3944:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4658:(e,t,n)=>{"use strict";var r=n(4627),i=Error,o=r("".replace),a=String(new i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},796:(e,t,n)=>{"use strict";var r=n(8890),i=n(4658),o=n(3616),a=Error.captureStackTrace;e.exports=function(e,t,n,s){o&&(a?a(e,t):r(e,"stack",i(n,s)))}},3616:(e,t,n)=>{"use strict";var r=n(4476),i=n(3033);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},2359:(e,t,n)=>{"use strict";var r=n(1271),i=n(4476),o=n(2816),a=n(3808),s=Error.prototype.toString,l=i((function(){if(r){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==s.call(e))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})}));e.exports=l?function(){var e=o(this),t=a(e.name,"Error"),n=a(e.message);return t?n?t+": "+n:t:n}:s},5651:(e,t,n)=>{"use strict";var r=n(1186),i=n(6614).f,o=n(8890),a=n(359),s=n(1188),l=n(2891),u=n(5847);e.exports=function(e,t){var n,c,d,h,p,m=e.target,v=e.global,_=e.stat;if(n=v?r:_?r[m]||s(m,{}):(r[m]||{}).prototype)for(c in t){if(h=t[c],d=e.dontCallGetSet?(p=i(n,c))&&p.value:n[c],!u(v?c:m+(_?".":"#")+c,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),a(n,c,h,e)}}},4476:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},3981:(e,t,n)=>{"use strict";n(2358);var r=n(6905),i=n(359),o=n(8724),a=n(4476),s=n(6216),l=n(8890),u=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,d){var h=s(e),p=!a((function(){var t={};return t[h]=function(){return 7},7!==""[e](t)})),m=p&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!p||!m||n){var v=r(/./[h]),_=t(h,""[e],(function(e,t,n,i,a){var s=r(e),l=t.exec;return l===o||l===c.exec?p&&!a?{done:!0,value:v(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,_[0]),i(c,h,_[1])}d&&l(c[h],"sham",!0)}},4102:(e,t,n)=>{"use strict";var r=n(2497),i=n(1279),o=n(1544),a=n(5319),s=function(e,t,n,l,u,c,d,h){for(var p,m,v=u,_=0,f=!!d&&a(d,h);_<l;)_ in n&&(p=f?f(n[_],_,t):n[_],c>0&&r(p)?(m=i(p),v=s(e,t,p,m,v,c-1)-1):(o(v+1),e[v]=p),v++),_++;return v};e.exports=s},3240:(e,t,n)=>{"use strict";var r=n(8097),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},5319:(e,t,n)=>{"use strict";var r=n(6905),i=n(3727),o=n(8097),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},8097:(e,t,n)=>{"use strict";var r=n(4476);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7098:(e,t,n)=>{"use strict";var r=n(8097),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},4737:(e,t,n)=>{"use strict";var r=n(1271),i=n(188),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},4767:(e,t,n)=>{"use strict";var r=n(4627),i=n(3727);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6905:(e,t,n)=>{"use strict";var r=n(383),i=n(4627);e.exports=function(e){if("Function"===r(e))return i(e)}},4627:(e,t,n)=>{"use strict";var r=n(8097),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},2078:(e,t,n)=>{"use strict";var r=n(1186),i=n(2954);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},4692:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1480:(e,t,n)=>{"use strict";var r=n(7404),i=n(1463),o=n(400),a=n(5166),s=n(6216)("iterator");e.exports=function(e){if(!o(e))return i(e,s)||i(e,"@@iterator")||a[r(e)]}},2156:(e,t,n)=>{"use strict";var r=n(7098),i=n(3727),o=n(2816),a=n(6832),s=n(1480),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw new l(a(e)+" is not iterable")}},9776:(e,t,n)=>{"use strict";var r=n(4627),i=n(2497),o=n(2954),a=n(383),s=n(9376),l=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var u=e[r];"string"==typeof u?l(n,u):"number"!=typeof u&&"Number"!==a(u)&&"String"!==a(u)||l(n,s(u))}var c=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<c;r++)if(n[r]===e)return t}}}},1463:(e,t,n)=>{"use strict";var r=n(3727),i=n(400);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},9244:(e,t,n)=>{"use strict";var r=n(3727),i=n(2816),o=n(7098),a=n(9546),s=n(4692),l="Invalid size",u=RangeError,c=TypeError,d=Math.max,h=function(e,t,n,r){this.set=e,this.size=t,this.has=n,this.keys=r};h.prototype={getIterator:function(){return s(i(o(this.keys,this.set)))},includes:function(e){return o(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!=t)throw new c(l);var n=a(t);if(n<0)throw new u(l);return new h(e,d(n,0),r(e.has),r(e.keys))}},151:(e,t,n)=>{"use strict";var r=n(4627),i=n(5090),o=Math.floor,a=r("".charAt),s=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,h){var p=n+e.length,m=r.length,v=c;return void 0!==d&&(d=i(d),v=u),s(h,v,(function(i,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,p);case"<":u=d[l(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>m){var h=o(c/10);return 0===h?i:h<=m?void 0===r[h-1]?a(s,1):r[h-1]+a(s,1):i}u=r[c-1]}return void 0===u?"":u}))}},1186:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},188:(e,t,n)=>{"use strict";var r=n(4627),i=n(5090),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},6562:e=>{"use strict";e.exports={}},1872:(e,t,n)=>{"use strict";var r=n(2078);e.exports=r("document","documentElement")},1664:(e,t,n)=>{"use strict";var r=n(1271),i=n(4476),o=n(2848);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},6773:e=>{"use strict";var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2;e.exports={pack:function(e,s,l){var u,c,d,h=t(l),p=8*l-s-1,m=(1<<p)-1,v=m>>1,_=23===s?r(2,-24)-r(2,-77):0,f=e<0||0===e&&1/e<0?1:0,g=0;for((e=n(e))!=e||e===1/0?(c=e!=e?1:0,u=m):(u=i(o(e)/a),e*(d=r(2,-u))<1&&(u--,d*=2),(e+=u+v>=1?_/d:_*r(2,1-v))*d>=2&&(u++,d/=2),u+v>=m?(c=0,u=m):u+v>=1?(c=(e*d-1)*r(2,s),u+=v):(c=e*r(2,v-1)*r(2,s),u=0));s>=8;)h[g++]=255&c,c/=256,s-=8;for(u=u<<s|c,p+=s;p>0;)h[g++]=255&u,u/=256,p-=8;return h[--g]|=128*f,h},unpack:function(e,t){var n,i=e.length,o=8*i-t-1,a=(1<<o)-1,s=a>>1,l=o-7,u=i-1,c=e[u--],d=127&c;for(c>>=7;l>0;)d=256*d+e[u--],l-=8;for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;)n=256*n+e[u--],l-=8;if(0===d)d=1-s;else{if(d===a)return n?NaN:c?-1/0:1/0;n+=r(2,t),d-=s}return(c?-1:1)*n*r(2,d-t)}}},1106:(e,t,n)=>{"use strict";var r=n(4627),i=n(4476),o=n(383),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):a(e)}:a},3220:(e,t,n)=>{"use strict";var r=n(2954),i=n(2845),o=n(7896);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},4551:(e,t,n)=>{"use strict";var r=n(4627),i=n(2954),o=n(6656),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},3611:(e,t,n)=>{"use strict";var r=n(2845),i=n(8890);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},1364:(e,t,n)=>{"use strict";var r,i,o,a=n(7783),s=n(1186),l=n(2845),u=n(8890),c=n(188),d=n(6656),h=n(8682),p=n(6562),m="Object already initialized",v=s.TypeError,_=s.WeakMap;if(a||d.state){var f=d.state||(d.state=new _);f.get=f.get,f.has=f.has,f.set=f.set,r=function(e,t){if(f.has(e))throw new v(m);return t.facade=e,f.set(e,t),t},i=function(e){return f.get(e)||{}},o=function(e){return f.has(e)}}else{var g=h("state");p[g]=!0,r=function(e,t){if(c(e,g))throw new v(m);return t.facade=e,u(e,g,t),t},i=function(e){return c(e,g)?e[g]:{}},o=function(e){return c(e,g)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw new v("Incompatible receiver, "+e+" required");return n}}}},5876:(e,t,n)=>{"use strict";var r=n(6216),i=n(5166),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},2497:(e,t,n)=>{"use strict";var r=n(383);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4094:(e,t,n)=>{"use strict";var r=n(7404);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},2954:(e,t,n)=>{"use strict";var r=n(4602),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},844:(e,t,n)=>{"use strict";var r=n(4627),i=n(4476),o=n(2954),a=n(7404),s=n(2078),l=n(4551),u=function(){},c=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=r(h.exec),m=!h.test(u),v=function(e){if(!o(e))return!1;try{return d(u,c,e),!0}catch(e){return!1}},_=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!p(h,l(e))}catch(e){return!0}};_.sham=!0,e.exports=!d||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?_:v},5847:(e,t,n)=>{"use strict";var r=n(4476),i=n(2954),o=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n===c||n!==u&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},1994:(e,t,n)=>{"use strict";var r=n(2845),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},400:e=>{"use strict";e.exports=function(e){return null==e}},2845:(e,t,n)=>{"use strict";var r=n(2954),i=n(4602),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},8128:e=>{"use strict";e.exports=!1},3511:(e,t,n)=>{"use strict";var r=n(2845),i=n(383),o=n(6216)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===i(e))}},1578:(e,t,n)=>{"use strict";var r=n(2078),i=n(2954),o=n(6952),a=n(9367),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},6830:(e,t,n)=>{"use strict";var r=n(7098);e.exports=function(e,t,n){for(var i,o,a=n?e:e.iterator,s=e.next;!(i=r(s,a)).done;)if(void 0!==(o=t(i.value)))return o}},5287:(e,t,n)=>{"use strict";var r=n(5319),i=n(7098),o=n(2816),a=n(6832),s=n(5876),l=n(1279),u=n(6952),c=n(2156),d=n(1480),h=n(8106),p=TypeError,m=function(e,t){this.stopped=e,this.result=t},v=m.prototype;e.exports=function(e,t,n){var _,f,g,b,y,E,w,S=n&&n.that,A=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),k=!(!n||!n.IS_ITERATOR),P=!(!n||!n.INTERRUPTED),I=r(t,S),T=function(e){return _&&h(_,"normal",e),new m(!0,e)},x=function(e){return A?(o(e),P?I(e[0],e[1],T):I(e[0],e[1])):P?I(e,T):I(e)};if(C)_=e.iterator;else if(k)_=e;else{if(!(f=d(e)))throw new p(a(e)+" is not iterable");if(s(f)){for(g=0,b=l(e);b>g;g++)if((y=x(e[g]))&&u(v,y))return y;return new m(!1)}_=c(e,f)}for(E=C?e.next:_.next;!(w=i(E,_)).done;){try{y=x(w.value)}catch(e){h(_,"throw",e)}if("object"==typeof y&&y&&u(v,y))return y}return new m(!1)}},8106:(e,t,n)=>{"use strict";var r=n(7098),i=n(2816),o=n(1463);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},4749:(e,t,n)=>{"use strict";var r=n(6268).IteratorPrototype,i=n(3403),o=n(3033),a=n(9640),s=n(5166),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),a(e,c,!1,!0),s[c]=l,e}},8199:(e,t,n)=>{"use strict";var r=n(5651),i=n(7098),o=n(8128),a=n(4737),s=n(2954),l=n(4749),u=n(8324),c=n(7896),d=n(9640),h=n(8890),p=n(359),m=n(6216),v=n(5166),_=n(6268),f=a.PROPER,g=a.CONFIGURABLE,b=_.IteratorPrototype,y=_.BUGGY_SAFARI_ITERATORS,E=m("iterator"),w="keys",S="values",A="entries",C=function(){return this};e.exports=function(e,t,n,a,m,_,k){l(n,t,a);var P,I,T,x=function(e){if(e===m&&M)return M;if(!y&&e&&e in O)return O[e];switch(e){case w:case S:case A:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",L=!1,O=e.prototype,N=O[E]||O["@@iterator"]||m&&O[m],M=!y&&N||x(m),D="Array"===t&&O.entries||N;if(D&&(P=u(D.call(new e)))!==Object.prototype&&P.next&&(o||u(P)===b||(c?c(P,b):s(P[E])||p(P,E,C)),d(P,R,!0,!0),o&&(v[R]=C)),f&&m===S&&N&&N.name!==S&&(!o&&g?h(O,"name",S):(L=!0,M=function(){return i(N,this)})),m)if(I={values:x(S),keys:_?M:x(w),entries:x(A)},k)for(T in I)(y||L||!(T in O))&&p(O,T,I[T]);else r({target:t,proto:!0,forced:y||L},I);return o&&!k||O[E]===M||p(O,E,M,{name:m}),v[t]=M,I}},6268:(e,t,n)=>{"use strict";var r,i,o,a=n(4476),s=n(2954),l=n(2845),u=n(3403),c=n(8324),d=n(359),h=n(6216),p=n(8128),m=h("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):v=!0),!l(r)||a((function(){var e={};return r[m].call(e)!==e}))?r={}:p&&(r=u(r)),s(r[m])||d(r,m,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},5166:e=>{"use strict";e.exports={}},1279:(e,t,n)=>{"use strict";var r=n(4497);e.exports=function(e){return r(e.length)}},4024:(e,t,n)=>{"use strict";var r=n(4627),i=n(4476),o=n(2954),a=n(188),s=n(1271),l=n(4737).CONFIGURABLE,u=n(4551),c=n(1364),d=c.enforce,h=c.get,p=String,m=Object.defineProperty,v=r("".slice),_=r("".replace),f=r([].join),g=s&&!i((function(){return 8!==m((function(){}),"length",{value:8}).length})),b=String(String).split("String"),y=e.exports=function(e,t,n){"Symbol("===v(p(t),0,7)&&(t="["+_(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(s?m(e,"name",{value:t,configurable:!0}):e.name=t),g&&n&&a(n,"arity")&&e.length!==n.arity&&m(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=f(b,"string"==typeof t?t:"")),e};Function.prototype.toString=y((function(){return o(this)&&h(this).source||u(this)}),"toString")},5529:(e,t,n)=>{"use strict";var r=n(7617),i=Math.abs,o=2220446049250313e-31,a=1/o;e.exports=function(e,t,n,s){var l=+e,u=i(l),c=r(l);if(u<s)return c*function(e){return e+a-a}(u/s/t)*s*t;var d=(1+t/o)*u,h=d-(d-u);return h>n||h!=h?c*(1/0):c*h}},9758:(e,t,n)=>{"use strict";var r=n(5529);e.exports=Math.fround||function(e){return r(e,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},7617:e=>{"use strict";e.exports=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1}},3176:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},756:(e,t,n)=>{"use strict";var r,i,o,a,s,l=n(1186),u=n(5319),c=n(6614).f,d=n(6496).set,h=n(7050),p=n(6444),m=n(1365),v=n(6336),_=n(1301),f=l.MutationObserver||l.WebKitMutationObserver,g=l.document,b=l.process,y=l.Promise,E=c(l,"queueMicrotask"),w=E&&E.value;if(!w){var S=new h,A=function(){var e,t;for(_&&(e=b.domain)&&e.exit();t=S.get();)try{t()}catch(e){throw S.head&&r(),e}e&&e.enter()};p||_||v||!f||!g?!m&&y&&y.resolve?((a=y.resolve(void 0)).constructor=y,s=u(a.then,a),r=function(){s(A)}):_?r=function(){b.nextTick(A)}:(d=u(d,l),r=function(){d(A)}):(i=!0,o=g.createTextNode(""),new f(A).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),w=function(e){S.head||r(),S.add(e)}}e.exports=w},2862:(e,t,n)=>{"use strict";var r=n(3727),i=TypeError,o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},3808:(e,t,n)=>{"use strict";var r=n(9376);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},4466:(e,t,n)=>{"use strict";var r=n(1271),i=n(4627),o=n(7098),a=n(4476),s=n(731),l=n(1634),u=n(6030),c=n(5090),d=n(1106),h=Object.assign,p=Object.defineProperty,m=i([].concat);e.exports=!h||a((function(){if(r&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==h({},e)[n]||s(h({},t)).join("")!==i}))?function(e,t){for(var n=c(e),i=arguments.length,a=1,h=l.f,p=u.f;i>a;)for(var v,_=d(arguments[a++]),f=h?m(s(_),h(_)):s(_),g=f.length,b=0;g>b;)v=f[b++],r&&!o(p,_,v)||(n[v]=_[v]);return n}:h},3403:(e,t,n)=>{"use strict";var r,i=n(2816),o=n(6284),a=n(3944),s=n(6562),l=n(1872),u=n(2848),c=n(8682),d="prototype",h="script",p=c("IE_PROTO"),m=function(){},v=function(e){return"<"+h+">"+e+"</"+h+">"},_=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;f="undefined"!=typeof document?document.domain&&r?_(r):(t=u("iframe"),n="java"+h+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F):_(r);for(var i=a.length;i--;)delete f[d][a[i]];return f()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[d]=i(e),n=new m,m[d]=null,n[p]=e):n=f(),void 0===t?n:o.f(n,t)}},6284:(e,t,n)=>{"use strict";var r=n(1271),i=n(2117),o=n(7740),a=n(2816),s=n(6862),l=n(731);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=l(t),u=i.length,c=0;u>c;)o.f(e,n=i[c++],r[n]);return e}},7740:(e,t,n)=>{"use strict";var r=n(1271),i=n(1664),o=n(2117),a=n(2816),s=n(3302),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=c(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},6614:(e,t,n)=>{"use strict";var r=n(1271),i=n(7098),o=n(6030),a=n(3033),s=n(6862),l=n(3302),u=n(188),c=n(1664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},3499:(e,t,n)=>{"use strict";var r=n(2469),i=n(3944).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},1634:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},8324:(e,t,n)=>{"use strict";var r=n(188),i=n(2954),o=n(5090),a=n(8682),s=n(1974),l=a("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},6952:(e,t,n)=>{"use strict";var r=n(4627);e.exports=r({}.isPrototypeOf)},2469:(e,t,n)=>{"use strict";var r=n(4627),i=n(188),o=n(6862),a=n(1716).indexOf,s=n(6562),l=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&l(c,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(c,n)||l(c,n));return c}},731:(e,t,n)=>{"use strict";var r=n(2469),i=n(3944);e.exports=Object.keys||function(e){return r(e,i)}},6030:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7896:(e,t,n)=>{"use strict";var r=n(4767),i=n(2816),o=n(9755);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},8085:(e,t,n)=>{"use strict";var r=n(7098),i=n(2954),o=n(2845),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw new a("Can't convert object to primitive value")}},402:(e,t,n)=>{"use strict";var r=n(2078),i=n(4627),o=n(3499),a=n(1634),s=n(2816),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?l(t,n(e)):t}},3566:(e,t,n)=>{"use strict";var r=n(1186);e.exports=r},1639:(e,t,n)=>{"use strict";var r=n(1186);e.exports=r.Promise},4289:(e,t,n)=>{"use strict";var r=n(2816),i=n(2845),o=n(2862);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},2509:(e,t,n)=>{"use strict";var r=n(7740).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},7050:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},5835:(e,t,n)=>{"use strict";var r=n(7098),i=n(2816),o=n(2954),a=n(383),s=n(8724),l=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var u=r(n,e,t);return null!==u&&i(u),u}if("RegExp"===a(e))return r(s,e,t);throw new l("RegExp#exec called on incompatible receiver")}},8724:(e,t,n)=>{"use strict";var r,i,o=n(7098),a=n(4627),s=n(9376),l=n(4982),u=n(7830),c=n(9960),d=n(3403),h=n(1364).get,p=n(9590),m=n(2771),v=c("native-string-replace",String.prototype.replace),_=RegExp.prototype.exec,f=_,g=a("".charAt),b=a("".indexOf),y=a("".replace),E=a("".slice),w=(i=/b*/g,o(_,r=/a/,"a"),o(_,i,"a"),0!==r.lastIndex||0!==i.lastIndex),S=u.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(w||A||S||p||m)&&(f=function(e){var t,n,r,i,a,u,c,p=this,m=h(p),C=s(e),k=m.raw;if(k)return k.lastIndex=p.lastIndex,t=o(f,k,C),p.lastIndex=k.lastIndex,t;var P=m.groups,I=S&&p.sticky,T=o(l,p),x=p.source,R=0,L=C;if(I&&(T=y(T,"y",""),-1===b(T,"g")&&(T+="g"),L=E(C,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==g(C,p.lastIndex-1))&&(x="(?: "+x+")",L=" "+L,R++),n=new RegExp("^(?:"+x+")",T)),A&&(n=new RegExp("^"+x+"$(?!\\s)",T)),w&&(r=p.lastIndex),i=o(_,I?n:p,L),I?i?(i.input=E(i.input,R),i[0]=E(i[0],R),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:w&&i&&(p.lastIndex=p.global?i.index+i[0].length:r),A&&i&&i.length>1&&o(v,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&P)for(i.groups=u=d(null),a=0;a<P.length;a++)u[(c=P[a])[0]]=i[c[1]];return i}),e.exports=f},4982:(e,t,n)=>{"use strict";var r=n(2816);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8775:(e,t,n)=>{"use strict";var r=n(7098),i=n(188),o=n(6952),a=n(4982),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!o(s,e)?t:r(a,e)}},7830:(e,t,n)=>{"use strict";var r=n(4476),i=n(1186).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},9590:(e,t,n)=>{"use strict";var r=n(4476),i=n(1186).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},2771:(e,t,n)=>{"use strict";var r=n(4476),i=n(1186).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},5743:(e,t,n)=>{"use strict";var r=n(400),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},5925:(e,t,n)=>{"use strict";var r,i=n(1186),o=n(3240),a=n(2954),s=n(596),l=n(3075),u=n(6147),c=n(8003),d=i.Function,h=/MSIE .\./.test(l)||s&&((r=i.Bun.version.split(".")).length<3||"0"===r[0]&&(r[1]<3||"3"===r[1]&&"0"===r[2]));e.exports=function(e,t){var n=t?2:1;return h?function(r,i){var s=c(arguments.length,1)>n,l=a(r)?r:d(r),h=s?u(arguments,n):[],p=s?function(){o(l,this,h)}:l;return t?e(p,i):e(p)}:e}},2977:(e,t,n)=>{"use strict";var r=n(2585),i=n(6786),o=r.Set,a=r.add;e.exports=function(e){var t=new o;return i(e,(function(e){a(t,e)})),t}},5825:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585),o=n(2977),a=n(335),s=n(9244),l=n(6786),u=n(6830),c=i.has,d=i.remove;e.exports=function(e){var t=r(this),n=s(e),i=o(t);return a(t)<=n.size?l(t,(function(e){n.includes(e)&&d(i,e)})):u(n.getIterator(),(function(e){c(t,e)&&d(i,e)})),i}},2585:(e,t,n)=>{"use strict";var r=n(4627),i=Set.prototype;e.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},8163:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585),o=n(335),a=n(9244),s=n(6786),l=n(6830),u=i.Set,c=i.add,d=i.has;e.exports=function(e){var t=r(this),n=a(e),i=new u;return o(t)>n.size?l(n.getIterator(),(function(e){d(t,e)&&c(i,e)})):s(t,(function(e){n.includes(e)&&c(i,e)})),i}},8852:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585).has,o=n(335),a=n(9244),s=n(6786),l=n(6830),u=n(8106);e.exports=function(e){var t=r(this),n=a(e);if(o(t)<=n.size)return!1!==s(t,(function(e){if(n.includes(e))return!1}),!0);var c=n.getIterator();return!1!==l(c,(function(e){if(i(t,e))return u(c,"normal",!1)}))}},8547:(e,t,n)=>{"use strict";var r=n(1455),i=n(335),o=n(6786),a=n(9244);e.exports=function(e){var t=r(this),n=a(e);return!(i(t)>n.size)&&!1!==o(t,(function(e){if(!n.includes(e))return!1}),!0)}},6994:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585).has,o=n(335),a=n(9244),s=n(6830),l=n(8106);e.exports=function(e){var t=r(this),n=a(e);if(o(t)<n.size)return!1;var u=n.getIterator();return!1!==s(u,(function(e){if(!i(t,e))return l(u,"normal",!1)}))}},6786:(e,t,n)=>{"use strict";var r=n(4627),i=n(6830),o=n(2585),a=o.Set,s=o.proto,l=r(s.forEach),u=r(s.keys),c=u(new a).next;e.exports=function(e,t,n){return n?i({iterator:u(e),next:c},t):l(e,t)}},69:(e,t,n)=>{"use strict";var r=n(2078),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=r("Set");try{(new t)[e](i(0));try{return(new t)[e](i(-1)),!1}catch(e){return!0}}catch(e){return!1}}},335:(e,t,n)=>{"use strict";var r=n(4767),i=n(2585);e.exports=r(i.proto,"size","get")||function(e){return e.size}},7902:(e,t,n)=>{"use strict";var r=n(2078),i=n(9171),o=n(6216),a=n(1271),s=o("species");e.exports=function(e){var t=r(e);a&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},483:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585),o=n(2977),a=n(9244),s=n(6830),l=i.add,u=i.has,c=i.remove;e.exports=function(e){var t=r(this),n=a(e).getIterator(),i=o(t);return s(n,(function(e){u(t,e)?c(i,e):l(i,e)})),i}},9640:(e,t,n)=>{"use strict";var r=n(7740).f,i=n(188),o=n(6216)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},5671:(e,t,n)=>{"use strict";var r=n(1455),i=n(2585).add,o=n(2977),a=n(9244),s=n(6830);e.exports=function(e){var t=r(this),n=a(e).getIterator(),l=o(t);return s(n,(function(e){i(l,e)})),l}},8682:(e,t,n)=>{"use strict";var r=n(9960),i=n(3139),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},6656:(e,t,n)=>{"use strict";var r=n(1186),i=n(1188),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},9960:(e,t,n)=>{"use strict";var r=n(8128),i=n(6656);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.3",mode:r?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},2546:(e,t,n)=>{"use strict";var r=n(2816),i=n(5611),o=n(400),a=n(6216)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||o(n=r(s)[a])?t:i(n)}},2414:(e,t,n)=>{"use strict";var r=n(4627),i=n(9546),o=n(9376),a=n(5743),s=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,d=o(a(t)),h=i(n),p=d.length;return h<0||h>=p?e?"":void 0:(r=l(d,h))<55296||r>56319||h+1===p||(c=l(d,h+1))<56320||c>57343?e?s(d,h):r:e?u(d,h,h+2):c-56320+(r-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},276:(e,t,n)=>{"use strict";var r=n(4627),i=2147483647,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",l=RangeError,u=r(a.exec),c=Math.floor,d=String.fromCharCode,h=r("".charCodeAt),p=r([].join),m=r([].push),v=r("".replace),_=r("".split),f=r("".toLowerCase),g=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;)e=c(e/35),r+=36;return c(r+36*e/(e+38))},y=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=h(e,n++);if(i>=55296&&i<=56319&&n<r){var o=h(e,n++);56320==(64512&o)?m(t,((1023&i)<<10)+(1023&o)+65536):(m(t,i),n--)}else m(t,i)}return t}(e);var n,r,o=e.length,a=128,u=0,v=72;for(n=0;n<e.length;n++)(r=e[n])<128&&m(t,d(r));var _=t.length,f=_;for(_&&m(t,"-");f<o;){var y=i;for(n=0;n<e.length;n++)(r=e[n])>=a&&r<y&&(y=r);var E=f+1;if(y-a>c((i-u)/E))throw new l(s);for(u+=(y-a)*E,a=y,n=0;n<e.length;n++){if((r=e[n])<a&&++u>i)throw new l(s);if(r===a){for(var w=u,S=36;;){var A=S<=v?1:S>=v+26?26:S-v;if(w<A)break;var C=w-A,k=36-A;m(t,d(g(A+C%k))),w=c(C/k),S+=36}m(t,d(g(w))),v=b(u,E,f===_),u=0,f++}}u++,a++}return p(t,"")};e.exports=function(e){var t,n,r=[],i=_(v(f(e),a,"."),".");for(t=0;t<i.length;t++)n=i[t],m(r,u(o,n)?"xn--"+y(n):n);return p(r,".")}},3449:(e,t,n)=>{"use strict";var r=n(7321).end,i=n(5560);e.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},5560:(e,t,n)=>{"use strict";var r=n(4737).PROPER,i=n(4476),o=n(7179);e.exports=function(e){return i((function(){return!!o[e]()||"â€‹Â…á Ž"!=="â€‹Â…á Ž"[e]()||r&&o[e].name!==e}))}},664:(e,t,n)=>{"use strict";var r=n(7321).start,i=n(5560);e.exports=i("trimStart")?function(){return r(this)}:"".trimStart},7321:(e,t,n)=>{"use strict";var r=n(4627),i=n(5743),o=n(9376),a=n(7179),s=r("".replace),l=RegExp("^["+a+"]+"),u=RegExp("(^|[^"+a+"])["+a+"]+$"),c=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,l,"")),2&e&&(n=s(n,u,"$1")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},9173:(e,t,n)=>{"use strict";var r=n(1186),i=n(4476),o=n(4307),a=n(9373),s=n(137),l=n(1301),u=r.structuredClone;e.exports=!!u&&!i((function(){if(s&&o>92||l&&o>94||a&&o>97)return!1;var e=new ArrayBuffer(8),t=u(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},1462:(e,t,n)=>{"use strict";var r=n(4307),i=n(4476),o=n(1186).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},6496:(e,t,n)=>{"use strict";var r,i,o,a,s=n(1186),l=n(3240),u=n(5319),c=n(2954),d=n(188),h=n(4476),p=n(1872),m=n(6147),v=n(2848),_=n(8003),f=n(6444),g=n(1301),b=s.setImmediate,y=s.clearImmediate,E=s.process,w=s.Dispatch,S=s.Function,A=s.MessageChannel,C=s.String,k=0,P={},I="onreadystatechange";h((function(){r=s.location}));var T=function(e){if(d(P,e)){var t=P[e];delete P[e],t()}},x=function(e){return function(){T(e)}},R=function(e){T(e.data)},L=function(e){s.postMessage(C(e),r.protocol+"//"+r.host)};b&&y||(b=function(e){_(arguments.length,1);var t=c(e)?e:S(e),n=m(arguments,1);return P[++k]=function(){l(t,void 0,n)},i(k),k},y=function(e){delete P[e]},g?i=function(e){E.nextTick(x(e))}:w&&w.now?i=function(e){w.now(x(e))}:A&&!f?(a=(o=new A).port2,o.port1.onmessage=R,i=u(a.postMessage,a)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(L)?(i=L,s.addEventListener("message",R,!1)):i=I in v("script")?function(e){p.appendChild(v("script"))[I]=function(){p.removeChild(this),T(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:b,clear:y}},9233:(e,t,n)=>{"use strict";var r=n(9546),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},75:(e,t,n)=>{"use strict";var r=n(9436),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},3785:(e,t,n)=>{"use strict";var r=n(9546),i=n(4497),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw new o("Wrong length or index");return n}},6862:(e,t,n)=>{"use strict";var r=n(1106),i=n(5743);e.exports=function(e){return r(i(e))}},9546:(e,t,n)=>{"use strict";var r=n(3176);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},4497:(e,t,n)=>{"use strict";var r=n(9546),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5090:(e,t,n)=>{"use strict";var r=n(5743),i=Object;e.exports=function(e){return i(r(e))}},2214:(e,t,n)=>{"use strict";var r=n(1305),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw new i("Wrong offset");return n}},1305:(e,t,n)=>{"use strict";var r=n(9546),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw new i("The argument can't be less than 0");return t}},9436:(e,t,n)=>{"use strict";var r=n(7098),i=n(2845),o=n(1578),a=n(1463),s=n(8085),l=n(6216),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=a(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},3302:(e,t,n)=>{"use strict";var r=n(9436),i=n(1578);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},9119:(e,t,n)=>{"use strict";var r={};r[n(6216)("toStringTag")]="z",e.exports="[object z]"===String(r)},9376:(e,t,n)=>{"use strict";var r=n(7404),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},4534:e=>{"use strict";var t=Math.round;e.exports=function(e){var n=t(e);return n<0?0:n>255?255:255&n}},4043:(e,t,n)=>{"use strict";var r=n(1301);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(e){}}},6832:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},3988:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),o=n(7098),a=n(1271),s=n(5946),l=n(2105),u=n(2287),c=n(8108),d=n(3033),h=n(8890),p=n(1994),m=n(4497),v=n(3785),_=n(2214),f=n(4534),g=n(3302),b=n(188),y=n(7404),E=n(2845),w=n(1578),S=n(3403),A=n(6952),C=n(7896),k=n(3499).f,P=n(7342),I=n(8374).forEach,T=n(7902),x=n(9171),R=n(7740),L=n(6614),O=n(1364),N=n(3220),M=O.get,D=O.set,B=O.enforce,F=R.f,H=L.f,V=i.RangeError,U=u.ArrayBuffer,j=U.prototype,W=u.DataView,z=l.NATIVE_ARRAY_BUFFER_VIEWS,G=l.TYPED_ARRAY_TAG,q=l.TypedArray,K=l.TypedArrayPrototype,Y=l.aTypedArrayConstructor,X=l.isTypedArray,Q="BYTES_PER_ELEMENT",Z="Wrong length",J=function(e,t){Y(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},$=function(e,t){x(e,t,{configurable:!0,get:function(){return M(this)[t]}})},ee=function(e){var t;return A(j,e)||"ArrayBuffer"===(t=y(e))||"SharedArrayBuffer"===t},te=function(e,t){return X(e)&&!w(t)&&t in e&&p(+t)&&t>=0},ne=function(e,t){return t=g(t),te(e,t)?d(2,e[t]):H(e,t)},re=function(e,t,n){return t=g(t),!(te(e,t)&&E(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?F(e,t,n):(e[t]=n.value,e)};a?(z||(L.f=ne,R.f=re,$(K,"buffer"),$(K,"byteOffset"),$(K,"byteLength"),$(K,"length")),r({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:ne,defineProperty:re}),e.exports=function(e,t,n){var a=e.match(/\d+/)[0]/8,l=e+(n?"Clamped":"")+"Array",u="get"+e,d="set"+e,p=i[l],g=p,b=g&&g.prototype,y={},w=function(e,t){F(e,t,{get:function(){return function(e,t){var n=M(e);return n.view[u](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=M(e);i.view[d](t*a+i.byteOffset,n?f(r):r,!0)}(this,t,e)},enumerable:!0})};z?s&&(g=t((function(e,t,n,r){return c(e,b),N(E(t)?ee(t)?void 0!==r?new p(t,_(n,a),r):void 0!==n?new p(t,_(n,a)):new p(t):X(t)?J(g,t):o(P,g,t):new p(v(t)),e,g)})),C&&C(g,q),I(k(p),(function(e){e in g||h(g,e,p[e])})),g.prototype=b):(g=t((function(e,t,n,r){c(e,b);var i,s,l,u=0,d=0;if(E(t)){if(!ee(t))return X(t)?J(g,t):o(P,g,t);i=t,d=_(n,a);var h=t.byteLength;if(void 0===r){if(h%a)throw new V(Z);if((s=h-d)<0)throw new V(Z)}else if((s=m(r)*a)+d>h)throw new V(Z);l=s/a}else l=v(t),i=new U(s=l*a);for(D(e,{buffer:i,byteOffset:d,byteLength:s,length:l,view:new W(i)});u<l;)w(e,u++)})),C&&C(g,q),b=g.prototype=S(K)),b.constructor!==g&&h(b,"constructor",g),B(b).TypedArrayConstructor=g,G&&h(b,G,l);var A=g!==p;y[l]=g,r({global:!0,constructor:!0,forced:A,sham:!z},y),Q in g||h(g,Q,a),Q in b||h(b,Q,a),T(l)}):e.exports=function(){}},5946:(e,t,n)=>{"use strict";var r=n(1186),i=n(4476),o=n(2841),a=n(2105).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;e.exports=!a||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},7342:(e,t,n)=>{"use strict";var r=n(5319),i=n(7098),o=n(5611),a=n(5090),s=n(1279),l=n(2156),u=n(1480),c=n(5876),d=n(4094),h=n(2105).aTypedArrayConstructor,p=n(75);e.exports=function(e){var t,n,m,v,_,f,g,b,y=o(this),E=a(e),w=arguments.length,S=w>1?arguments[1]:void 0,A=void 0!==S,C=u(E);if(C&&!c(C))for(b=(g=l(E,C)).next,E=[];!(f=i(b,g)).done;)E.push(f.value);for(A&&w>2&&(S=r(S,arguments[2])),n=s(E),m=new(h(y))(n),v=d(m),t=0;n>t;t++)_=A?S(E[t],t):E[t],m[t]=v?p(_):+_;return m}},3139:(e,t,n)=>{"use strict";var r=n(4627),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},935:(e,t,n)=>{"use strict";var r=n(4476),i=n(6216),o=n(1271),a=n(8128),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),n.delete("a",2),n.delete("b",void 0),a&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(a||!o)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://Ñ‚ÐµÑÑ‚").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},9367:(e,t,n)=>{"use strict";var r=n(1462);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2117:(e,t,n)=>{"use strict";var r=n(1271),i=n(4476);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8003:e=>{"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},7783:(e,t,n)=>{"use strict";var r=n(1186),i=n(2954),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},3006:(e,t,n)=>{"use strict";var r=n(3566),i=n(188),o=n(256),a=n(7740).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},256:(e,t,n)=>{"use strict";var r=n(6216);t.f=r},6216:(e,t,n)=>{"use strict";var r=n(1186),i=n(9960),o=n(188),a=n(3139),s=n(1462),l=n(9367),u=r.Symbol,c=i("wks"),d=l?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return o(c,e)||(c[e]=s&&o(u,e)?u[e]:d("Symbol."+e)),c[e]}},7179:e=>{"use strict";e.exports="\t\n\v\f\r Â áš€â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},6958:(e,t,n)=>{"use strict";var r=n(2078),i=n(188),o=n(8890),a=n(6952),s=n(7896),l=n(2891),u=n(2509),c=n(3220),d=n(3808),h=n(3611),p=n(796),m=n(1271),v=n(8128);e.exports=function(e,t,n,_){var f="stackTraceLimit",g=_?2:1,b=e.split("."),y=b[b.length-1],E=r.apply(null,b);if(E){var w=E.prototype;if(!v&&i(w,"cause")&&delete w.cause,!n)return E;var S=r("Error"),A=t((function(e,t){var n=d(_?t:e,void 0),r=_?new E(e):new E;return void 0!==n&&o(r,"message",n),p(r,A,r.stack,2),this&&a(w,this)&&c(r,this,A),arguments.length>g&&h(r,arguments[g]),r}));if(A.prototype=w,"Error"!==y?s?s(A,S):l(A,S,{name:!0}):m&&f in E&&(u(A,E,f),u(A,E,"prepareStackTrace")),l(A,E),!v)try{w.name!==y&&o(w,"name",y),w.constructor=A}catch(e){}return A}}},8116:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),o=n(2287),a=n(7902),s="ArrayBuffer",l=o[s];r({global:!0,constructor:!0,forced:i[s]!==l},{ArrayBuffer:l}),a(s)},3122:(e,t,n)=>{"use strict";var r=n(5651),i=n(6905),o=n(4476),a=n(2287),s=n(2816),l=n(9233),u=n(4497),c=n(2546),d=a.ArrayBuffer,h=a.DataView,p=h.prototype,m=i(d.prototype.slice),v=i(p.getUint8),_=i(p.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(m&&void 0===t)return m(s(this),e);for(var n=s(this).byteLength,r=l(e,n),i=l(void 0===t?n:t,n),o=new(c(this,d))(u(i-r)),a=new h(this),p=new h(o),f=0;r<i;)_(p,f++,v(a,r++));return o}})},9024:(e,t,n)=>{"use strict";var r=n(5651),i=n(5090),o=n(1279),a=n(9546),s=n(6780);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=o(t),r=a(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}}),s("at")},2946:(e,t,n)=>{"use strict";var r=n(5651),i=n(1428).findLastIndex,o=n(6780);r({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLastIndex")},9139:(e,t,n)=>{"use strict";var r=n(5651),i=n(1428).findLast,o=n(6780);r({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLast")},7877:(e,t,n)=>{"use strict";var r=n(5651),i=n(4102),o=n(3727),a=n(5090),s=n(1279),l=n(1912);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=s(n);return o(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},7794:(e,t,n)=>{"use strict";var r=n(5651),i=n(4102),o=n(5090),a=n(1279),s=n(9546),l=n(1912);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t),r=l(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},2195:(e,t,n)=>{"use strict";var r=n(6862),i=n(6780),o=n(5166),a=n(1364),s=n(7740).f,l=n(8199),u=n(1278),c=n(8128),d=n(1271),h="Array Iterator",p=a.set,m=a.getterFor(h);e.exports=l(Array,"Array",(function(e,t){p(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=m(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,u(void 0,!0);switch(e.kind){case"keys":return u(n,!1);case"values":return u(t[n],!1)}return u([n,t[n]],!1)}),"values");var v=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&d&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(e){}},4401:(e,t,n)=>{"use strict";var r=n(5651),i=n(5090),o=n(1279),a=n(6586),s=n(1544);r({target:"Array",proto:!0,arity:1,forced:n(4476)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),n=o(t),r=arguments.length;s(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return a(t,n),n}})},2271:(e,t,n)=>{"use strict";var r=n(5651),i=n(4627),o=n(2497),a=i([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},5745:(e,t,n)=>{"use strict";var r=n(5651),i=n(4627),o=n(3727),a=n(5090),s=n(1279),l=n(6519),u=n(9376),c=n(4476),d=n(9441),h=n(4439),p=n(3881),m=n(2535),v=n(4307),_=n(6923),f=[],g=i(f.sort),b=i(f.push),y=c((function(){f.sort(void 0)})),E=c((function(){f.sort(null)})),w=h("sort"),S=!c((function(){if(v)return v<70;if(!(p&&p>3)){if(m)return!0;if(_)return _<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)f.push({k:t+r,v:n})}for(f.sort((function(e,t){return t.v-e.v})),r=0;r<f.length;r++)t=f[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:y||!E||!w||!S},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(S)return void 0===e?g(t):g(t,e);var n,r,i=[],c=s(t);for(r=0;r<c;r++)r in t&&b(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=s(i),r=0;r<n;)t[r]=i[r++];for(;r<c;)l(t,r++);return t}})},1086:(e,t,n)=>{"use strict";n(6780)("flatMap")},2289:(e,t,n)=>{"use strict";n(6780)("flat")},4924:(e,t,n)=>{"use strict";var r=n(5651),i=n(5090),o=n(1279),a=n(6586),s=n(6519),l=n(1544);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),n=o(t),r=arguments.length;if(r){l(n+r);for(var u=n;u--;){var c=u+r;u in t?t[c]=t[u]:s(t,c)}for(var d=0;d<r;d++)t[d]=arguments[d]}return a(t,n+r)}})},7293:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),o=n(3240),a=n(6958),s="WebAssembly",l=i[s],u=7!==new Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=a(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},d=function(e,t){if(l&&l[e]){var n={};n[e]=a(s+"."+e,t,u),r({target:s,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(e){return function(t){return o(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),c("URIError",(function(e){return function(t){return o(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},9928:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},4233:(e,t,n)=>{"use strict";var r=n(5651),i=n(2078),o=n(3240),a=n(7098),s=n(4627),l=n(4476),u=n(2954),c=n(1578),d=n(6147),h=n(9776),p=n(1462),m=String,v=i("JSON","stringify"),_=s(/./.exec),f=s("".charAt),g=s("".charCodeAt),b=s("".replace),y=s(1..toString),E=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,A=!p||l((function(){var e=i("Symbol")("stringify detection");return"[null]"!==v([e])||"{}"!==v({a:e})||"{}"!==v(Object(e))})),C=l((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),k=function(e,t){var n=d(arguments),r=h(t);if(u(r)||void 0!==e&&!c(e))return n[1]=function(e,t){if(u(r)&&(t=a(r,this,m(e),t)),!c(t))return t},o(v,null,n)},P=function(e,t,n){var r=f(n,t-1),i=f(n,t+1);return _(w,e)&&!_(S,i)||_(S,e)&&!_(w,r)?"\\u"+y(g(e,0),16):e};v&&r({target:"JSON",stat:!0,arity:3,forced:A||C},{stringify:function(e,t,n){var r=d(arguments),i=o(A?k:v,null,r);return C&&"string"==typeof i?b(i,E,P):i}})},4992:(e,t,n)=>{"use strict";var r=n(5651),i=n(5287),o=n(4631);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},6530:(e,t,n)=>{"use strict";var r=n(5651),i=n(8128),o=n(1639),a=n(4476),s=n(2078),l=n(2954),u=n(2546),c=n(4289),d=n(359),h=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n=l(e);return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!i&&l(o)){var p=s("Promise").prototype.finally;h.finally!==p&&d(h,"finally",p,{unsafe:!0})}},1557:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),o=n(9640);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},1631:(e,t,n)=>{"use strict";var r=n(1271),i=n(1186),o=n(4627),a=n(5847),s=n(3220),l=n(8890),u=n(3499).f,c=n(6952),d=n(3511),h=n(9376),p=n(8775),m=n(7830),v=n(2509),_=n(359),f=n(4476),g=n(188),b=n(1364).enforce,y=n(7902),E=n(6216),w=n(9590),S=n(2771),A=E("match"),C=i.RegExp,k=C.prototype,P=i.SyntaxError,I=o(k.exec),T=o("".charAt),x=o("".replace),R=o("".indexOf),L=o("".slice),O=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,M=/a/g,D=new C(N)!==N,B=m.MISSED_STICKY,F=m.UNSUPPORTED_Y,H=r&&(!D||B||w||S||f((function(){return M[A]=!1,C(N)!==N||C(M)===M||"/a/i"!==String(C(N,"i"))})));if(a("RegExp",H)){for(var V=function(e,t){var n,r,i,o,a,u,m=c(k,this),v=d(e),_=void 0===t,f=[],y=e;if(!m&&v&&_&&e.constructor===V)return e;if((v||c(k,e))&&(e=e.source,_&&(t=p(y))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),y=e,w&&"dotAll"in N&&(r=!!t&&R(t,"s")>-1)&&(t=x(t,/s/g,"")),n=t,B&&"sticky"in N&&(i=!!t&&R(t,"y")>-1)&&F&&(t=x(t,/y/g,"")),S&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},s=!1,l=!1,u=0,c="";r<=n;r++){if("\\"===(t=T(e,r)))t+=T(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:I(O,L(e,r+1))&&(r+=2,l=!0),i+=t,u++;continue;case">"===t&&l:if(""===c||g(a,c))throw new P("Invalid capture group name");a[c]=!0,o[o.length]=[c,u],l=!1,c="";continue}l?c+=t:i+=t}return[i,o]}(e),e=o[0],f=o[1]),a=s(C(e,t),m?this:k,V),(r||i||f.length)&&(u=b(a),r&&(u.dotAll=!0,u.raw=V(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=T(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+T(e,++r);return i}(e),n)),i&&(u.sticky=!0),f.length&&(u.groups=f)),e!==y)try{l(a,"source",""===y?"(?:)":y)}catch(e){}return a},U=u(C),j=0;U.length>j;)v(V,C,U[j++]);k.constructor=V,V.prototype=k,_(i,"RegExp",V,{constructor:!0})}y("RegExp")},914:(e,t,n)=>{"use strict";var r=n(1271),i=n(9590),o=n(383),a=n(9171),s=n(1364).get,l=RegExp.prototype,u=TypeError;r&&i&&a(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===o(this))return!!s(this).dotAll;throw new u("Incompatible receiver, RegExp required")}}})},2358:(e,t,n)=>{"use strict";var r=n(5651),i=n(8724);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9420:(e,t,n)=>{"use strict";var r=n(1186),i=n(1271),o=n(9171),a=n(4982),s=n(4476),l=r.RegExp,u=l.prototype;i&&s((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(o.hasIndices="d"),o)i(a,o[a]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==r||n!==r}))&&o(u,"flags",{configurable:!0,get:a})},4:(e,t,n)=>{"use strict";var r=n(5651),i=n(4627),o=n(5743),a=n(9546),s=n(9376),l=n(4476),u=i("".charAt);r({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="ð ®·".at(-2)}))},{at:function(e){var t=s(o(this)),n=t.length,r=a(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:u(t,i)}})},4865:(e,t,n)=>{"use strict";var r=n(2414).charAt,i=n(9376),o=n(1364),a=n(8199),s=n(1278),l="String Iterator",u=o.set,c=o.getterFor(l);a(String,"String",(function(e){u(this,{type:l,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},6337:(e,t,n)=>{"use strict";var r=n(5651),i=n(7098),o=n(4627),a=n(5743),s=n(2954),l=n(400),u=n(3511),c=n(9376),d=n(1463),h=n(8775),p=n(151),m=n(6216),v=n(8128),_=m("replace"),f=TypeError,g=o("".indexOf),b=o("".replace),y=o("".slice),E=Math.max,w=function(e,t,n){return n>e.length?-1:""===t?n:g(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,m,S,A,C,k,P,I=a(this),T=0,x=0,R="";if(!l(e)){if((n=u(e))&&(r=c(a(h(e))),!~g(r,"g")))throw new f("`.replaceAll` does not allow non-global regexes");if(o=d(e,_))return i(o,e,I,t);if(v&&n)return b(c(I),e,t)}for(m=c(I),S=c(e),(A=s(t))||(t=c(t)),C=S.length,k=E(1,C),T=w(m,S,0);-1!==T;)P=A?c(t(S,T,m)):p(S,m,T,[],void 0,t),R+=y(m,x,T)+P,x=T+C,T=w(m,S,T+k);return x<m.length&&(R+=y(m,x)),R}})},9419:(e,t,n)=>{"use strict";var r=n(3240),i=n(7098),o=n(4627),a=n(3981),s=n(4476),l=n(2816),u=n(2954),c=n(400),d=n(9546),h=n(4497),p=n(9376),m=n(5743),v=n(7960),_=n(1463),f=n(151),g=n(5835),b=n(6216)("replace"),y=Math.max,E=Math.min,w=o([].concat),S=o([].push),A=o("".indexOf),C=o("".slice),k="$0"==="a".replace(/./,"$0"),P=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(e,t,n){var o=P?"$":"$0";return[function(e,n){var r=m(this),o=c(e)?void 0:_(e,b);return o?i(o,e,r,n):i(t,p(r),e,n)},function(e,i){var a=l(this),s=p(e);if("string"==typeof i&&-1===A(i,o)&&-1===A(i,"$<")){var c=n(t,a,s,i);if(c.done)return c.value}var m=u(i);m||(i=p(i));var _,b=a.global;b&&(_=a.unicode,a.lastIndex=0);for(var k,P=[];null!==(k=g(a,s))&&(S(P,k),b);){""===p(k[0])&&(a.lastIndex=v(s,h(a.lastIndex),_))}for(var I,T="",x=0,R=0;R<P.length;R++){for(var L,O=p((k=P[R])[0]),N=y(E(d(k.index),s.length),0),M=[],D=1;D<k.length;D++)S(M,void 0===(I=k[D])?I:String(I));var B=k.groups;if(m){var F=w([O],M,N,s);void 0!==B&&S(F,B),L=p(r(i,void 0,F))}else L=f(O,s,N,M,B,i);N>=x&&(T+=C(s,x,N)+L,x=N+O.length)}return T+C(s,x)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!k||P)},3923:(e,t,n)=>{"use strict";n(4872);var r=n(5651),i=n(3449);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},9537:(e,t,n)=>{"use strict";var r=n(5651),i=n(664);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},4872:(e,t,n)=>{"use strict";var r=n(5651),i=n(3449);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},4270:(e,t,n)=>{"use strict";n(9537);var r=n(5651),i=n(664);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},8471:(e,t,n)=>{"use strict";var r=n(5651),i=n(7321).trim;r({target:"String",proto:!0,forced:n(5560)("trim")},{trim:function(){return i(this)}})},9837:(e,t,n)=>{"use strict";n(3006)("asyncIterator")},8668:(e,t,n)=>{"use strict";var r=n(5651),i=n(1271),o=n(1186),a=n(4627),s=n(188),l=n(2954),u=n(6952),c=n(9376),d=n(9171),h=n(2891),p=o.Symbol,m=p&&p.prototype;if(i&&l(p)&&(!("description"in m)||void 0!==p().description)){var v={},_=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=u(m,this)?new p(e):void 0===e?p():p(e);return""===e&&(v[t]=!0),t};h(_,p),_.prototype=m,m.constructor=_;var f="Symbol(description detection)"===String(p("description detection")),g=a(m.valueOf),b=a(m.toString),y=/^Symbol\((.*)\)[^)]+$/,E=a("".replace),w=a("".slice);d(m,"description",{configurable:!0,get:function(){var e=g(this);if(s(v,e))return"";var t=b(e),n=f?w(t,7,-1):E(t,y,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:_})}},135:(e,t,n)=>{"use strict";var r=n(2105),i=n(1279),o=n(9546),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=a(this),n=i(t),r=o(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}))},7863:(e,t,n)=>{"use strict";var r=n(2105),i=n(9448),o=n(75),a=n(7404),s=n(7098),l=n(4627),u=n(4476),c=r.aTypedArray,d=r.exportTypedArrayMethod,h=l("".slice);d("fill",(function(e){var t=arguments.length;c(this);var n="Big"===h(a(this),0,3)?o(e):+e;return s(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},1399:(e,t,n)=>{"use strict";var r=n(2105),i=n(1428).findLastIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},5506:(e,t,n)=>{"use strict";var r=n(2105),i=n(1428).findLast,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},3395:(e,t,n)=>{"use strict";n(3988)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},7334:(e,t,n)=>{"use strict";var r=n(5946);(0,n(2105).exportTypedArrayStaticMethod)("from",n(7342),r)},2472:(e,t,n)=>{"use strict";var r=n(1186),i=n(7098),o=n(2105),a=n(1279),s=n(2214),l=n(5090),u=n(4476),c=r.RangeError,d=r.Int8Array,h=d&&d.prototype,p=h&&h.set,m=o.aTypedArray,v=o.exportTypedArrayMethod,_=!u((function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]})),f=_&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));v("set",(function(e){m(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(_)return i(p,this,n,t);var r=this.length,o=a(n),u=0;if(o+t>r)throw new c("Wrong length");for(;u<o;)this[t+u]=n[u++]}),!_||f)},8898:(e,t,n)=>{"use strict";var r=n(1186),i=n(6905),o=n(4476),a=n(3727),s=n(9441),l=n(2105),u=n(3881),c=n(2535),d=n(4307),h=n(6923),p=l.aTypedArray,m=l.exportTypedArrayMethod,v=r.Uint16Array,_=v&&i(v.prototype.sort),f=!(!_||o((function(){_(new v(2),null)}))&&o((function(){_(new v(2),{})}))),g=!!_&&!o((function(){if(d)return d<74;if(u)return u<67;if(c)return!0;if(h)return h<602;var e,t,n=new v(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(_(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));m("sort",(function(e){return void 0!==e&&a(e),g?_(this,e):s(p(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!g||f)},3642:(e,t,n)=>{"use strict";var r=n(4063),i=n(2105),o=i.aTypedArray,a=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;a("toReversed",(function(){return r(o(this),s(this))}))},509:(e,t,n)=>{"use strict";var r=n(2105),i=n(4627),o=n(3727),a=n(293),s=r.aTypedArray,l=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,c=i(r.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&o(e);var t=s(this),n=a(l(t),t);return c(n,e)}))},6169:(e,t,n)=>{"use strict";n(3988)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},5544:(e,t,n)=>{"use strict";n(3988)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},6986:(e,t,n)=>{"use strict";var r=n(6325),i=n(2105),o=n(4094),a=n(9546),s=n(75),l=i.aTypedArray,u=i.getTypedArrayConstructor,c=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();c("with",{with:function(e,t){var n=l(this),i=a(e),c=o(n)?s(t):+t;return r(n,u(n),i,c)}}.with,!d)},1433:(e,t,n)=>{"use strict";var r=n(1271),i=n(9171),o=n(3179),a=ArrayBuffer.prototype;r&&!("detached"in a)&&i(a,"detached",{configurable:!0,get:function(){return o(this)}})},9020:(e,t,n)=>{"use strict";var r=n(5651),i=n(4515);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},1e3:(e,t,n)=>{"use strict";var r=n(5651),i=n(4515);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},2e3:(e,t,n)=>{"use strict";var r=n(6216),i=n(7740).f,o=r("metadata"),a=Function.prototype;void 0===a[o]&&i(a,o,{value:null})},5198:(e,t,n)=>{"use strict";var r=n(5651),i=n(5825);r({target:"Set",proto:!0,real:!0,forced:!n(69)("difference")},{difference:i})},5736:(e,t,n)=>{"use strict";var r=n(5651),i=n(4476),o=n(8163);r({target:"Set",proto:!0,real:!0,forced:!n(69)("intersection")||i((function(){return"3,2"!==Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:o})},4817:(e,t,n)=>{"use strict";var r=n(5651),i=n(8852);r({target:"Set",proto:!0,real:!0,forced:!n(69)("isDisjointFrom")},{isDisjointFrom:i})},7224:(e,t,n)=>{"use strict";var r=n(5651),i=n(8547);r({target:"Set",proto:!0,real:!0,forced:!n(69)("isSubsetOf")},{isSubsetOf:i})},5783:(e,t,n)=>{"use strict";var r=n(5651),i=n(6994);r({target:"Set",proto:!0,real:!0,forced:!n(69)("isSupersetOf")},{isSupersetOf:i})},1292:(e,t,n)=>{"use strict";var r=n(5651),i=n(483);r({target:"Set",proto:!0,real:!0,forced:!n(69)("symmetricDifference")},{symmetricDifference:i})},1446:(e,t,n)=>{"use strict";var r=n(5651),i=n(5671);r({target:"Set",proto:!0,real:!0,forced:!n(69)("union")},{union:i})},2220:(e,t,n)=>{"use strict";n(3006)("metadata")},6399:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),o=n(6496).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},752:(e,t,n)=>{"use strict";var r=n(1186),i=n(7751),o=n(6589),a=n(2195),s=n(8890),l=n(6216),u=l("iterator"),c=l("toStringTag"),d=a.values,h=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(t){e[u]=d}if(e[c]||s(e,c,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var p in i)h(r[p]&&r[p].prototype,p);h(o,"DOMTokenList")},2932:(e,t,n)=>{"use strict";var r=n(5651),i=n(4043),o=n(2078),a=n(4476),s=n(3403),l=n(3033),u=n(7740).f,c=n(359),d=n(9171),h=n(188),p=n(8108),m=n(2816),v=n(2359),_=n(3808),f=n(9177),g=n(4658),b=n(1364),y=n(1271),E=n(8128),w="DOMException",S="DATA_CLONE_ERR",A=o("Error"),C=o(w)||function(){try{(new(o("MessageChannel")||i("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name===S&&25===e.code)return e.constructor}}(),k=C&&C.prototype,P=A.prototype,I=b.set,T=b.getterFor(w),x="stack"in new A(w),R=function(e){return h(f,e)&&f[e].m?f[e].c:0},L=function(){p(this,O);var e=arguments.length,t=_(e<1?void 0:arguments[0]),n=_(e<2?void 0:arguments[1],"Error"),r=R(n);if(I(this,{type:w,name:n,message:t,code:r}),y||(this.name=n,this.message=t,this.code=r),x){var i=new A(t);i.name=w,u(this,"stack",l(1,g(i.stack,1)))}},O=L.prototype=s(P),N=function(e){return{enumerable:!0,configurable:!0,get:e}},M=function(e){return N((function(){return T(this)[e]}))};y&&(d(O,"code",M("code")),d(O,"message",M("message")),d(O,"name",M("name"))),u(O,"constructor",l(1,L));var D=a((function(){return!(new C instanceof A)})),B=D||a((function(){return P.toString!==v||"2: 1"!==String(new C(1,2))})),F=D||a((function(){return 25!==new C(1,"DataCloneError").code})),H=D||25!==C[S]||25!==k[S],V=E?B||F||H:D;r({global:!0,constructor:!0,forced:V},{DOMException:V?L:C});var U=o(w),j=U.prototype;for(var W in B&&(E||C===U)&&c(j,"toString",v),F&&y&&C===U&&d(j,"code",N((function(){return R(m(this).name)}))),f)if(h(f,W)){var z=f[W],G=z.s,q=l(6,z.c);h(U,G)||u(U,G,q),h(j,G)||u(j,G,q)}},8956:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),o=n(2078),a=n(3033),s=n(7740).f,l=n(188),u=n(8108),c=n(3220),d=n(3808),h=n(9177),p=n(4658),m=n(1271),v=n(8128),_="DOMException",f=o("Error"),g=o(_),b=function(){u(this,y);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new g(t,n),i=new f(t);return i.name=_,s(r,"stack",a(1,p(i.stack,1))),c(r,this,b),r},y=b.prototype=g.prototype,E="stack"in new f(_),w="stack"in new g(1,2),S=g&&m&&Object.getOwnPropertyDescriptor(i,_),A=!(!S||S.writable&&S.configurable),C=E&&!A&&!w;r({global:!0,constructor:!0,forced:v||C},{DOMException:C?b:g});var k=o(_),P=k.prototype;if(P.constructor!==k)for(var I in v||s(P,"constructor",a(1,k)),h)if(l(h,I)){var T=h[I],x=T.s;l(k,x)||s(k,x,a(6,T.c))}},8492:(e,t,n)=>{"use strict";var r=n(2078),i="DOMException";n(9640)(r(i),i)},9679:(e,t,n)=>{"use strict";n(6399),n(6814)},8057:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),o=n(756),a=n(3727),s=n(8003),l=n(1301),u=i.process;r({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){s(arguments.length,1),a(e);var t=l&&u.domain;o(t?t.bind(e):e)}})},6814:(e,t,n)=>{"use strict";var r=n(5651),i=n(1186),o=n(6496).set,a=n(5925),s=i.setImmediate?a(o,!1):o;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},7265:(e,t,n)=>{"use strict";n(2195);var r=n(5651),i=n(1186),o=n(7098),a=n(4627),s=n(1271),l=n(935),u=n(359),c=n(9171),d=n(3618),h=n(9640),p=n(4749),m=n(1364),v=n(8108),_=n(2954),f=n(188),g=n(5319),b=n(7404),y=n(2816),E=n(2845),w=n(9376),S=n(3403),A=n(3033),C=n(2156),k=n(1480),P=n(1278),I=n(8003),T=n(6216),x=n(9441),R=T("iterator"),L="URLSearchParams",O=L+"Iterator",N=m.set,M=m.getterFor(L),D=m.getterFor(O),B=Object.getOwnPropertyDescriptor,F=function(e){if(!s)return i[e];var t=B(i,e);return t&&t.value},H=F("fetch"),V=F("Request"),U=F("Headers"),j=V&&V.prototype,W=U&&U.prototype,z=i.RegExp,G=i.TypeError,q=i.decodeURIComponent,K=i.encodeURIComponent,Y=a("".charAt),X=a([].join),Q=a([].push),Z=a("".replace),J=a([].shift),$=a([].splice),ee=a("".split),te=a("".slice),ne=/\+/g,re=Array(4),ie=function(e){return re[e-1]||(re[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"))},oe=function(e){try{return q(e)}catch(t){return e}},ae=function(e){var t=Z(e,ne," "),n=4;try{return q(t)}catch(e){for(;n;)t=Z(t,ie(n--),oe);return t}},se=/[!'()~]|%20/g,le={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(e){return le[e]},ce=function(e){return Z(K(e),se,ue)},de=p((function(e,t){N(this,{type:O,target:M(e).entries,index:0,kind:t})}),L,(function(){var e=D(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,P(void 0,!0);var r=t[n];switch(e.kind){case"keys":return P(r.key,!1);case"values":return P(r.value,!1)}return P([r.key,r.value],!1)}),!0),he=function(e){this.entries=[],this.url=null,void 0!==e&&(E(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Y(e,0)?te(e,1):e:w(e)))};he.prototype={type:L,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,a,s,l,u=this.entries,c=k(e);if(c)for(n=(t=C(e,c)).next;!(r=o(n,t)).done;){if(a=(i=C(y(r.value))).next,(s=o(a,i)).done||(l=o(a,i)).done||!o(a,i).done)throw new G("Expected sequence with length 2");Q(u,{key:w(s.value),value:w(l.value)})}else for(var d in e)f(e,d)&&Q(u,{key:d,value:w(e[d])})},parseQuery:function(e){if(e)for(var t,n,r=this.entries,i=ee(e,"&"),o=0;o<i.length;)(t=i[o++]).length&&(n=ee(t,"="),Q(r,{key:ae(J(n)),value:ae(X(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],Q(n,ce(e.key)+"="+ce(e.value));return X(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var pe=function(){v(this,me);var e=N(this,new he(arguments.length>0?arguments[0]:void 0));s||(this.size=e.entries.length)},me=pe.prototype;if(d(me,{append:function(e,t){var n=M(this);I(arguments.length,2),Q(n.entries,{key:w(e),value:w(t)}),s||this.length++,n.updateURL()},delete:function(e){for(var t=M(this),n=I(arguments.length,1),r=t.entries,i=w(e),o=n<2?void 0:arguments[1],a=void 0===o?o:w(o),l=0;l<r.length;){var u=r[l];if(u.key!==i||void 0!==a&&u.value!==a)l++;else if($(r,l,1),void 0!==a)break}s||(this.size=r.length),t.updateURL()},get:function(e){var t=M(this).entries;I(arguments.length,1);for(var n=w(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=M(this).entries;I(arguments.length,1);for(var n=w(e),r=[],i=0;i<t.length;i++)t[i].key===n&&Q(r,t[i].value);return r},has:function(e){for(var t=M(this).entries,n=I(arguments.length,1),r=w(e),i=n<2?void 0:arguments[1],o=void 0===i?i:w(i),a=0;a<t.length;){var s=t[a++];if(s.key===r&&(void 0===o||s.value===o))return!0}return!1},set:function(e,t){var n=M(this);I(arguments.length,1);for(var r,i=n.entries,o=!1,a=w(e),l=w(t),u=0;u<i.length;u++)(r=i[u]).key===a&&(o?$(i,u--,1):(o=!0,r.value=l));o||Q(i,{key:a,value:l}),s||(this.size=i.length),n.updateURL()},sort:function(){var e=M(this);x(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=M(this).entries,r=g(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new de(this,"keys")},values:function(){return new de(this,"values")},entries:function(){return new de(this,"entries")}},{enumerable:!0}),u(me,R,me.entries,{name:"entries"}),u(me,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),s&&c(me,"size",{get:function(){return M(this).entries.length},configurable:!0,enumerable:!0}),h(pe,L),r({global:!0,constructor:!0,forced:!l},{URLSearchParams:pe}),!l&&_(U)){var ve=a(W.has),_e=a(W.set),fe=function(e){if(E(e)){var t,n=e.body;if(b(n)===L)return t=e.headers?new U(e.headers):new U,ve(t,"content-type")||_e(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:A(0,w(n)),headers:A(0,t)})}return e};if(_(H)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return H(e,arguments.length>1?fe(arguments[1]):{})}}),_(V)){var ge=function(e){return v(this,j),new V(e,arguments.length>1?fe(arguments[1]):{})};j.constructor=ge,ge.prototype=j,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:pe,getState:M}},8578:(e,t,n)=>{"use strict";var r=n(359),i=n(4627),o=n(9376),a=n(8003),s=URLSearchParams,l=s.prototype,u=i(l.append),c=i(l.delete),d=i(l.forEach),h=i([].push),p=new s("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&r(l,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var r=[];d(this,(function(e,t){h(r,{key:t,value:e})})),a(t,1);for(var i,s=o(e),l=o(n),p=0,m=0,v=!1,_=r.length;p<_;)i=r[p++],v||i.key===s?(v=!0,c(this,i.key)):m++;for(;m<_;)(i=r[m++]).key===s&&i.value===l||u(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},9857:(e,t,n)=>{"use strict";var r=n(359),i=n(4627),o=n(9376),a=n(8003),s=URLSearchParams,l=s.prototype,u=i(l.getAll),c=i(l.has),d=new s("a=1");!d.has("a",2)&&d.has("a",void 0)||r(l,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var r=u(this,e);a(t,1);for(var i=o(n),s=0;s<r.length;)if(r[s++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},299:(e,t,n)=>{"use strict";n(7265)},9972:(e,t,n)=>{"use strict";var r=n(1271),i=n(4627),o=n(9171),a=URLSearchParams.prototype,s=i(a.forEach);r&&!("size"in a)&&o(a,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},5213:(e,t,n)=>{"use strict";n(4865);var r,i=n(5651),o=n(1271),a=n(935),s=n(1186),l=n(5319),u=n(4627),c=n(359),d=n(9171),h=n(8108),p=n(188),m=n(4466),v=n(9981),_=n(2626),f=n(2414).codeAt,g=n(276),b=n(9376),y=n(9640),E=n(8003),w=n(7265),S=n(1364),A=S.set,C=S.getterFor("URL"),k=w.URLSearchParams,P=w.getState,I=s.URL,T=s.TypeError,x=s.parseInt,R=Math.floor,L=Math.pow,O=u("".charAt),N=u(/./.exec),M=u([].join),D=u(1..toString),B=u([].pop),F=u([].push),H=u("".replace),V=u([].shift),U=u("".split),j=u("".slice),W=u("".toLowerCase),z=u([].unshift),G="Invalid scheme",q="Invalid host",K="Invalid port",Y=/[a-z]/i,X=/[\d+-.a-z]/i,Q=/\d/,Z=/^0x/i,J=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,oe=/[\t\n\r]/g,ae=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=R(e/256);return M(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=D(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},se={},le=m({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=m({},le,{"#":1,"?":1,"{":1,"}":1}),ce=m({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=f(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var n;return 2===e.length&&N(Y,O(e,0))&&(":"===(n=O(e,1))||!t&&"|"===n)},me=function(e){var t;return e.length>1&&pe(j(e,0,2))&&(2===e.length||"/"===(t=O(e,2))||"\\"===t||"?"===t||"#"===t)},ve=function(e){return"."===e||"%2e"===W(e)},_e={},fe={},ge={},be={},ye={},Ee={},we={},Se={},Ae={},Ce={},ke={},Pe={},Ie={},Te={},xe={},Re={},Le={},Oe={},Ne={},Me={},De={},Be=function(e,t,n){var r,i,o,a=b(e);if(t){if(i=this.parse(a))throw new T(i);this.searchParams=null}else{if(void 0!==n&&(r=new Be(n,!0)),i=this.parse(a,null,r))throw new T(i);(o=P(new k)).bindURL(this),this.searchParams=o}};Be.prototype={type:"URL",parse:function(e,t,n){var i,o,a,s,l,u=this,c=t||_e,d=0,h="",m=!1,f=!1,g=!1;for(e=b(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=H(e,re,""),e=H(e,ie,"$1")),e=H(e,oe,""),i=v(e);d<=i.length;){switch(o=i[d],c){case _e:if(!o||!N(Y,o)){if(t)return G;c=ge;continue}h+=W(o),c=fe;break;case fe:if(o&&(N(X,o)||"+"===o||"-"===o||"."===o))h+=W(o);else{if(":"!==o){if(t)return G;h="",c=ge,d=0;continue}if(t&&(u.isSpecial()!==p(he,h)||"file"===h&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=h,t)return void(u.isSpecial()&&he[u.scheme]===u.port&&(u.port=null));h="","file"===u.scheme?c=Te:u.isSpecial()&&n&&n.scheme===u.scheme?c=be:u.isSpecial()?c=Se:"/"===i[d+1]?(c=ye,d++):(u.cannotBeABaseURL=!0,F(u.path,""),c=Ne)}break;case ge:if(!n||n.cannotBeABaseURL&&"#"!==o)return G;if(n.cannotBeABaseURL&&"#"===o){u.scheme=n.scheme,u.path=_(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,c=De;break}c="file"===n.scheme?Te:Ee;continue;case be:if("/"!==o||"/"!==i[d+1]){c=Ee;continue}c=Ae,d++;break;case ye:if("/"===o){c=Ce;break}c=Oe;continue;case Ee:if(u.scheme=n.scheme,o===r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=_(n.path),u.query=n.query;else if("/"===o||"\\"===o&&u.isSpecial())c=we;else if("?"===o)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=_(n.path),u.query="",c=Me;else{if("#"!==o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=_(n.path),u.path.length--,c=Oe;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=_(n.path),u.query=n.query,u.fragment="",c=De}break;case we:if(!u.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,c=Oe;continue}c=Ce}else c=Ae;break;case Se:if(c=Ae,"/"!==o||"/"!==O(h,d+1))continue;d++;break;case Ae:if("/"!==o&&"\\"!==o){c=Ce;continue}break;case Ce:if("@"===o){m&&(h="%40"+h),m=!0,a=v(h);for(var y=0;y<a.length;y++){var E=a[y];if(":"!==E||g){var w=de(E,ce);g?u.password+=w:u.username+=w}else g=!0}h=""}else if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()){if(m&&""===h)return"Invalid authority";d-=v(h).length+1,h="",c=ke}else h+=o;break;case ke:case Pe:if(t&&"file"===u.scheme){c=Re;continue}if(":"!==o||f){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()){if(u.isSpecial()&&""===h)return q;if(t&&""===h&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(h))return s;if(h="",c=Le,t)return;continue}"["===o?f=!0:"]"===o&&(f=!1),h+=o}else{if(""===h)return q;if(s=u.parseHost(h))return s;if(h="",c=Ie,t===Pe)return}break;case Ie:if(!N(Q,o)){if(o===r||"/"===o||"?"===o||"#"===o||"\\"===o&&u.isSpecial()||t){if(""!==h){var S=x(h,10);if(S>65535)return K;u.port=u.isSpecial()&&S===he[u.scheme]?null:S,h=""}if(t)return;c=Le;continue}return K}h+=o;break;case Te:if(u.scheme="file","/"===o||"\\"===o)c=xe;else{if(!n||"file"!==n.scheme){c=Oe;continue}switch(o){case r:u.host=n.host,u.path=_(n.path),u.query=n.query;break;case"?":u.host=n.host,u.path=_(n.path),u.query="",c=Me;break;case"#":u.host=n.host,u.path=_(n.path),u.query=n.query,u.fragment="",c=De;break;default:me(M(_(i,d),""))||(u.host=n.host,u.path=_(n.path),u.shortenPath()),c=Oe;continue}}break;case xe:if("/"===o||"\\"===o){c=Re;break}n&&"file"===n.scheme&&!me(M(_(i,d),""))&&(pe(n.path[0],!0)?F(u.path,n.path[0]):u.host=n.host),c=Oe;continue;case Re:if(o===r||"/"===o||"\\"===o||"?"===o||"#"===o){if(!t&&pe(h))c=Oe;else if(""===h){if(u.host="",t)return;c=Le}else{if(s=u.parseHost(h))return s;if("localhost"===u.host&&(u.host=""),t)return;h="",c=Le}continue}h+=o;break;case Le:if(u.isSpecial()){if(c=Oe,"/"!==o&&"\\"!==o)continue}else if(t||"?"!==o)if(t||"#"!==o){if(o!==r&&(c=Oe,"/"!==o))continue}else u.fragment="",c=De;else u.query="",c=Me;break;case Oe:if(o===r||"/"===o||"\\"===o&&u.isSpecial()||!t&&("?"===o||"#"===o)){if(".."===(l=W(l=h))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(u.shortenPath(),"/"===o||"\\"===o&&u.isSpecial()||F(u.path,"")):ve(h)?"/"===o||"\\"===o&&u.isSpecial()||F(u.path,""):("file"===u.scheme&&!u.path.length&&pe(h)&&(u.host&&(u.host=""),h=O(h,0)+":"),F(u.path,h)),h="","file"===u.scheme&&(o===r||"?"===o||"#"===o))for(;u.path.length>1&&""===u.path[0];)V(u.path);"?"===o?(u.query="",c=Me):"#"===o&&(u.fragment="",c=De)}else h+=de(o,ue);break;case Ne:"?"===o?(u.query="",c=Me):"#"===o?(u.fragment="",c=De):o!==r&&(u.path[0]+=de(o,se));break;case Me:t||"#"!==o?o!==r&&("'"===o&&u.isSpecial()?u.query+="%27":u.query+="#"===o?"%23":de(o,se)):(u.fragment="",c=De);break;case De:o!==r&&(u.fragment+=de(o,le))}d++}},parseHost:function(e){var t,n,r;if("["===O(e,0)){if("]"!==O(e,e.length-1))return q;if(t=function(e){var t,n,r,i,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,h=function(){return O(e,d)};if(":"===h()){if(":"!==O(e,1))return;d+=2,c=++u}for(;h();){if(8===u)return;if(":"!==h()){for(t=n=0;n<4&&N(ee,h());)t=16*t+x(h(),16),d++,n++;if("."===h()){if(0===n)return;if(d-=n,u>6)return;for(r=0;h();){if(i=null,r>0){if(!("."===h()&&r<4))return;d++}if(!N(Q,h()))return;for(;N(Q,h());){if(o=x(h(),10),null===i)i=o;else{if(0===i)return;i=10*i+o}if(i>255)return;d++}l[u]=256*l[u]+i,2!=++r&&4!==r||u++}if(4!==r)return;break}if(":"===h()){if(d++,!h())return}else if(h())return;l[u++]=t}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(a=u-c,u=7;0!==u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!==u)return;return l}(j(e,1,-1)),!t)return q;this.host=t}else if(this.isSpecial()){if(e=g(e),N(te,e))return q;if(t=function(e){var t,n,r,i,o,a,s,l=U(e,".");if(l.length&&""===l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(i=l[r]))return e;if(o=10,i.length>1&&"0"===O(i,0)&&(o=N(Z,i)?16:8,i=j(i,8===o?1:2)),""===i)a=0;else{if(!N(10===o?$:8===o?J:ee,i))return e;a=x(i,o)}F(n,a)}for(r=0;r<t;r++)if(a=n[r],r===t-1){if(a>=L(256,5-t))return null}else if(a>255)return null;for(s=B(n),r=0;r<n.length;r++)s+=n[r]*L(256,3-r);return s}(e),null===t)return q;this.host=t}else{if(N(ne,e))return q;for(t="",n=v(e),r=0;r<n.length;r++)t+=de(n[r],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=ae(i),null!==o&&(u+=":"+o)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+M(a,"/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw new T(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Fe(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+ae(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",_e)},getUsername:function(){return this.username},setUsername:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=de(t[n],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=de(t[n],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ae(e):ae(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,ke)},getHostname:function(){var e=this.host;return null===e?"":ae(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Pe)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=b(e))?this.port=null:this.parse(e,Ie))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Le))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=b(e))?this.query=null:("?"===O(e,0)&&(e=j(e,1)),this.query="",this.parse(e,Me)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=b(e))?("#"===O(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,De)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Fe=function(e){var t=h(this,He),n=E(arguments.length,1)>1?arguments[1]:void 0,r=A(t,new Be(e,!1,n));o||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},He=Fe.prototype,Ve=function(e,t){return{get:function(){return C(this)[e]()},set:t&&function(e){return C(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(d(He,"href",Ve("serialize","setHref")),d(He,"origin",Ve("getOrigin")),d(He,"protocol",Ve("getProtocol","setProtocol")),d(He,"username",Ve("getUsername","setUsername")),d(He,"password",Ve("getPassword","setPassword")),d(He,"host",Ve("getHost","setHost")),d(He,"hostname",Ve("getHostname","setHostname")),d(He,"port",Ve("getPort","setPort")),d(He,"pathname",Ve("getPathname","setPathname")),d(He,"search",Ve("getSearch","setSearch")),d(He,"searchParams",Ve("getSearchParams")),d(He,"hash",Ve("getHash","setHash"))),c(He,"toJSON",(function(){return C(this).serialize()}),{enumerable:!0}),c(He,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),I){var Ue=I.createObjectURL,je=I.revokeObjectURL;Ue&&c(Fe,"createObjectURL",l(Ue,I)),je&&c(Fe,"revokeObjectURL",l(je,I))}y(Fe,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Fe})},4175:(e,t,n)=>{"use strict";n(5213)},5343:(e,t,n)=>{"use strict";var r=n(5651),i=n(7098);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},6270:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(7293),n(4401),n(4924);var r=n(8091);function i(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==e?(0,r.A)(e):"null"));return e}n(8668);function o(e,t,n){"symbol"==(0,r.A)(t)&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(e,"name",{configurable:!0,value:n?n+" "+t:t})}catch(e){}return e}var a=n(7691);function s(e,t,n,s,l,u){var c,d,h,p,m,v,_,f=Symbol.metadata||Symbol.for("Symbol.metadata"),g=Object.defineProperty,b=Object.create,y=[b(null),b(null)],E=t.length;function w(t,n,r){return function(i,o){n&&(o=i,i=e);for(var a=0;a<t.length;a++)o=t[a].apply(i,r?[o]:[]);return r?o:i}}function S(e,t,n,r){if("function"!=typeof e&&(r||void 0!==e))throw new TypeError(t+" must "+(n||"be")+" a function"+(r?"":" or undefined"));return e}function A(e,t,n,i,a,s,l,u,h,p,m){function v(e){if(!m(e))throw new TypeError("Attempted to access private element on non-instance")}var _=[].concat(t[0]),f=t[3],b=!l,E=1===a,A=3===a,C=4===a,k=2===a;function P(t,n,r){return function(i,o){return n&&(o=i,i=e),r&&r(i),I[t].call(i,o)}}if(!b){var I={},T=[],x=A?"get":C||E?"set":"value";if(h?(p||E?I={get:o((function(){return f(this)}),i,"get"),set:function(e){t[4](this,e)}}:I[x]=f,p||o(I[x],i,k?"":x)):p||(I=Object.getOwnPropertyDescriptor(e,i)),!p&&!h){if((d=y[+u][i])&&7!=(d^a))throw Error("Decorating two elements with the same name ("+I[x].name+") is not supported yet");y[+u][i]=a<3?1:a}}for(var R=e,L=_.length-1;L>=0;L-=n?2:1){var O=S(_[L],"A decorator","be",!0),N=n?_[L-1]:void 0,M={},D={kind:["field","accessor","method","getter","setter","class"][a],name:i,metadata:c,addInitializer:function(e,t){if(e.v)throw new TypeError("attempted to call addInitializer after decoration was finished");S(t,"An initializer","be",!0),s.push(t)}.bind(null,M)};if(b)d=O.call(N,R,D),M.v=1,S(d,"class decorators","return")&&(R=d);else if(D.static=u,D.private=h,d=D.access={has:h?m.bind():function(e){return i in e}},C||(d.get=h?k?function(e){return v(e),I.value}:P("get",0,v):function(e){return e[i]}),k||A||(d.set=h?P("set",0,v):function(e,t){e[i]=t}),R=O.call(N,E?{get:I.get,set:I.set}:I[x],D),M.v=1,E){if("object"==(0,r.A)(R)&&R)(d=S(R.get,"accessor.get"))&&(I.get=d),(d=S(R.set,"accessor.set"))&&(I.set=d),(d=S(R.init,"accessor.init"))&&T.unshift(d);else if(void 0!==R)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else S(R,(p?"field":"method")+" decorators","return")&&(p?T.unshift(R):I[x]=R)}return a<2&&l.push(w(T,u,1),w(s,u,0)),p||b||(h?E?l.splice(-1,0,P("get",u),P("set",u)):l.push(k?I[x]:S.call.bind(I[x])):g(e,i,I)),R}function C(e){return g(e,f,{configurable:!0,enumerable:!0,value:c})}return void 0!==u&&(c=u[f]),c=b(null==c?null:c),m=[],v=function(e){e&&m.push(w(e))},_=function(t,r){for(var o=0;o<n.length;o++){var s=n[o],u=s[1],c=7&u;if((8&u)==t&&!c==r){var d=s[2],v=!!s[3],_=16&u;A(t?e:e.prototype,s,_,v?"#"+d:(0,a.A)(d),c,c<2?[]:t?p=p||[]:h=h||[],m,!!t,v,r,t&&v?function(t){return i(t)===e}:l)}}},_(8,0),_(0,0),_(8,1),_(0,1),v(h),v(p),d=m,E||C(e),{e:d,get c(){var n=[];return E&&[C(e=A(e,[t],s,e.name,5,n)),w(n,1)]}}}},9845:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},9067:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(4401);var r=n(7691);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},1824:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6292);function i(e,t){if(null==e)return{};var n,i,o=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},6292:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},6393:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{A:()=>r})},7691:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8091);n(7293);function i(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},8091:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(8668),n(752);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},3838:(e,t,n)=>{"use strict";n.d(t,{UE:()=>H,ll:()=>O,rD:()=>U,UU:()=>D,jD:()=>F,ER:()=>V,cY:()=>N,BN:()=>M,Ej:()=>B});var r=n(9067),i=(n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(752),n(2996)),o=n(1824);n(4401),n(5745);const a=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],s=["strategy"],l=["mainAxis","crossAxis","limiter"],u=["apply"];function c(e,t,n){let{reference:r,floating:o}=e;const a=(0,i.TV)(t),s=(0,i.Dz)(t),l=(0,i.sq)(s),u=(0,i.C0)(t),c="y"===a,d=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,p=r[l]/2-o[l]/2;let m;switch(u){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-o.width,y:h};break;default:m={x:r.x,y:r.y}}switch((0,i.Sg)(t)){case"start":m[s]-=p*(n&&c?-1:1);break;case"end":m[s]+=p*(n&&c?-1:1)}return m}async function d(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:a,rects:s,elements:l,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=(0,i._3)(t,e),v=(0,i.nI)(m),_=l[p?"floating"===h?"reference":"floating":h],f=(0,i.B1)(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(_)))||n?_:_.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:u})),g="floating"===h?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(l.floating)),y=await(null==a.isElement?void 0:a.isElement(b))&&await(null==a.getScale?void 0:a.getScale(b))||{x:1,y:1},E=(0,i.B1)(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:u}):g);return{top:(f.top-E.top+v.top)/y.y,bottom:(E.bottom-f.bottom+v.bottom)/y.y,left:(f.left-E.left+v.left)/y.x,right:(E.right-f.right+v.right)/y.x}}function h(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function p(e){return i.r_.some((t=>e[t]>=0))}const m=new Set(["left","top"]);var v=n(4962);function _(e){const t=(0,v.L9)(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=(0,v.sb)(e),a=o?e.offsetWidth:n,s=o?e.offsetHeight:r,l=(0,i.LI)(n)!==a||(0,i.LI)(r)!==s;return l&&(n=a,r=s),{width:n,height:r,$:l}}function f(e){return(0,v.vq)(e)?e:e.contextElement}function g(e){const t=f(e);if(!(0,v.sb)(t))return(0,i.Jx)(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=_(t);let s=(a?(0,i.LI)(n.width):n.width)/r,l=(a?(0,i.LI)(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}const b=(0,i.Jx)(0);function y(e){const t=(0,v.zk)(e);return(0,v.Tc)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:b}function E(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),a=f(e);let s=(0,i.Jx)(1);t&&(r?(0,v.vq)(r)&&(s=g(r)):s=g(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,v.zk)(e))&&t}(a,n,r)?y(a):(0,i.Jx)(0);let u=(o.left+l.x)/s.x,c=(o.top+l.y)/s.y,d=o.width/s.x,h=o.height/s.y;if(a){const e=(0,v.zk)(a),t=r&&(0,v.vq)(r)?(0,v.zk)(r):r;let n=e,i=(0,v._m)(n);for(;i&&r&&t!==n;){const e=g(i),t=i.getBoundingClientRect(),r=(0,v.L9)(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;u*=e.x,c*=e.y,d*=e.x,h*=e.y,u+=o,c+=a,n=(0,v.zk)(i),i=(0,v._m)(n)}}return(0,i.B1)({width:d,height:h,x:u,y:c})}function w(e,t){const n=(0,v.CP)(e).scrollLeft;return t?t.left+n:E((0,v.ep)(e)).left+n}function S(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-w(e,n),y:n.top+t.scrollTop}}const A=new Set(["absolute","fixed"]);function C(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=(0,v.zk)(e),r=(0,v.ep)(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const e=(0,v.Tc)();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}const u=w(r);if(u<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(r.clientWidth-t.clientWidth-i);a<=25&&(o-=a)}else u<=25&&(o+=u);return{width:o,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=(0,v.ep)(e),n=(0,v.CP)(e),r=e.ownerDocument.body,o=(0,i.T9)(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=(0,i.T9)(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+w(e);const l=-n.scrollTop;return"rtl"===(0,v.L9)(r).direction&&(s+=(0,i.T9)(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:s,y:l}}((0,v.ep)(e));else if((0,v.vq)(t))r=function(e,t){const n=E(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=(0,v.sb)(e)?g(e):(0,i.Jx)(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:o*a.x,y:r*a.y}}(t,n);else{const n=y(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return(0,i.B1)(r)}function k(e,t){const n=(0,v.$4)(e);return!(n===t||!(0,v.vq)(n)||(0,v.eu)(n))&&("fixed"===(0,v.L9)(n).position||k(n,t))}function P(e,t,n){const r=(0,v.sb)(t),o=(0,v.ep)(t),a="fixed"===n,s=E(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const u=(0,i.Jx)(0);function c(){u.x=w(o)}if(r||!r&&!a)if(("body"!==(0,v.mq)(t)||(0,v.ZU)(o))&&(l=(0,v.CP)(t)),r){const e=E(t,!0,a,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else o&&c();a&&!r&&o&&c();const d=!o||r||a?(0,i.Jx)(0):S(o,l);return{x:s.left+l.scrollLeft-u.x-d.x,y:s.top+l.scrollTop-u.y-d.y,width:s.width,height:s.height}}function I(e){return"static"===(0,v.L9)(e).position}function T(e,t){if(!(0,v.sb)(e)||"fixed"===(0,v.L9)(e).position)return null;if(t)return t(e);let n=e.offsetParent;return(0,v.ep)(e)===n&&(n=n.ownerDocument.body),n}function x(e,t){const n=(0,v.zk)(e);if((0,v.Tf)(e))return n;if(!(0,v.sb)(e)){let t=(0,v.$4)(e);for(;t&&!(0,v.eu)(t);){if((0,v.vq)(t)&&!I(t))return t;t=(0,v.$4)(t)}return n}let r=T(e,t);for(;r&&(0,v.Lv)(r)&&I(r);)r=T(r,t);return r&&(0,v.eu)(r)&&I(r)&&!(0,v.sQ)(r)?n:r||(0,v.gJ)(e)||n}const R={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a="fixed"===o,s=(0,v.ep)(r),l=!!t&&(0,v.Tf)(t.floating);if(r===s||l&&a)return n;let u={scrollLeft:0,scrollTop:0},c=(0,i.Jx)(1);const d=(0,i.Jx)(0),h=(0,v.sb)(r);if((h||!h&&!a)&&(("body"!==(0,v.mq)(r)||(0,v.ZU)(s))&&(u=(0,v.CP)(r)),(0,v.sb)(r))){const e=E(r);c=g(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const p=!s||h||a?(0,i.Jx)(0):S(s,u);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-u.scrollTop*c.y+d.y+p.y}},getDocumentElement:v.ep,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[..."clippingAncestors"===n?(0,v.Tf)(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=(0,v.v9)(e,[],!1).filter((e=>(0,v.vq)(e)&&"body"!==(0,v.mq)(e))),i=null;const o="fixed"===(0,v.L9)(e).position;let a=o?(0,v.$4)(e):e;for(;(0,v.vq)(a)&&!(0,v.eu)(a);){const t=(0,v.L9)(a),n=(0,v.sQ)(a);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&A.has(i.position)||(0,v.ZU)(a)&&!n&&k(e,a))?r=r.filter((e=>e!==a)):i=t,a=(0,v.$4)(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=a[0],l=a.reduce(((e,n)=>{const r=C(t,n,o);return e.top=(0,i.T9)(r.top,e.top),e.right=(0,i.jk)(r.right,e.right),e.bottom=(0,i.jk)(r.bottom,e.bottom),e.left=(0,i.T9)(r.left,e.left),e}),C(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:x,getElementRects:async function(e){const t=this.getOffsetParent||x,n=this.getDimensions,r=await n(e.floating);return{reference:P(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=_(e);return{width:t,height:n}},getScale:g,isElement:v.vq,isRTL:function(e){return"rtl"===(0,v.L9)(e).direction}};function L(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function O(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:u="function"==typeof IntersectionObserver,animationFrame:c=!1}=o,d=f(e),h=a||s?[...d?(0,v.v9)(d):[],...(0,v.v9)(t)]:[];h.forEach((e=>{a&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const p=d&&u?function(e,t){let n,o=null;const a=(0,v.ep)(e);function s(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function l(u,c){void 0===u&&(u=!1),void 0===c&&(c=1),s();const d=e.getBoundingClientRect(),{left:h,top:p,width:m,height:v}=d;if(u||t(),!m||!v)return;const _={rootMargin:-(0,i.RI)(p)+"px "+-(0,i.RI)(a.clientWidth-(h+m))+"px "+-(0,i.RI)(a.clientHeight-(p+v))+"px "+-(0,i.RI)(h)+"px",threshold:(0,i.T9)(0,(0,i.jk)(1,c))||1};let f=!0;function g(t){const r=t[0].intersectionRatio;if(r!==c){if(!f)return l();r?l(!1,r):n=setTimeout((()=>{l(!1,1e-7)}),1e3)}1!==r||L(d,e.getBoundingClientRect())||l(),f=!1}try{o=new IntersectionObserver(g,(0,r.A)((0,r.A)({},_),{},{root:a.ownerDocument}))}catch(e){o=new IntersectionObserver(g,_)}o.observe(e)}(!0),s}(d,n):null;let m,_=-1,g=null;l&&(g=new ResizeObserver((e=>{let[r]=e;r&&r.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame((()=>{var e;null==(e=g)||e.observe(t)}))),n()})),d&&!c&&g.observe(d),g.observe(t));let b=c?E(e):null;return c&&function t(){const r=E(e);b&&!L(b,r)&&n();b=r,m=requestAnimationFrame(t)}(),n(),()=>{var e;h.forEach((e=>{a&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==p||p(),null==(e=g)||e.disconnect(),g=null,c&&cancelAnimationFrame(m)}}const N=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:a,y:s,placement:l,middlewareData:u}=t,c=await async function(e,t){const{placement:n,platform:r,elements:o}=e,a=await(null==r.isRTL?void 0:r.isRTL(o.floating)),s=(0,i.C0)(n),l=(0,i.Sg)(n),u="y"===(0,i.TV)(n),c=m.has(s)?-1:1,d=a&&u?-1:1,h=(0,i._3)(t,e);let{mainAxis:p,crossAxis:v,alignmentAxis:_}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&"number"==typeof _&&(v="end"===l?-1*_:_),u?{x:v*d,y:p*c}:{x:p*c,y:v*d}}(t,e);return l===(null==(n=u.offset)?void 0:n.placement)&&null!=(o=u.arrow)&&o.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:(0,r.A)((0,r.A)({},c),{},{placement:l})}}}},M=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:s}=t,u=(0,i._3)(e,t),{mainAxis:c=!0,crossAxis:h=!1,limiter:p={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=u,m=(0,o.A)(u,l),v={x:n,y:a},_=await d(t,m),f=(0,i.TV)((0,i.C0)(s)),g=(0,i.PG)(f);let b=v[g],y=v[f];if(c){const e="y"===g?"bottom":"right",t=b+_["y"===g?"top":"left"],n=b-_[e];b=(0,i.qE)(t,b,n)}if(h){const e="y"===f?"bottom":"right",t=y+_["y"===f?"top":"left"],n=y-_[e];y=(0,i.qE)(t,y,n)}const E=p.fn((0,r.A)((0,r.A)({},t),{},{[g]:b,[f]:y}));return(0,r.A)((0,r.A)({},E),{},{data:{x:E.x-n,y:E.y-a,enabled:{[g]:c,[f]:h}}})}}},D=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:l,rects:u,initialPlacement:c,platform:h,elements:p}=t,m=(0,i._3)(e,t),{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0}=m,E=(0,o.A)(m,a);if(null!=(n=l.arrow)&&n.alignmentOffset)return{};const w=(0,i.C0)(s),S=(0,i.TV)(c),A=(0,i.C0)(c)===c,C=await(null==h.isRTL?void 0:h.isRTL(p.floating)),k=f||(A||!y?[(0,i.bV)(c)]:(0,i.WJ)(c)),P="none"!==b;!f&&P&&k.push(...(0,i.lP)(c,y,b,C));const I=[c,...k],T=await d(t,E),x=[];let R=(null==(r=l.flip)?void 0:r.overflows)||[];if(v&&x.push(T[w]),_){const e=(0,i.w7)(s,u,C);x.push(T[e[0]],T[e[1]])}if(R=[...R,{placement:s,overflows:x}],!x.every((e=>e<=0))){var L,O;const e=((null==(L=l.flip)?void 0:L.index)||0)+1,t=I[e];if(t){if(!("alignment"===_&&S!==(0,i.TV)(t))||R.every((e=>(0,i.TV)(e.placement)!==S||e.overflows[0]>0)))return{data:{index:e,overflows:R},reset:{placement:t}}}let n=null==(O=R.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:O.placement;if(!n)switch(g){case"bestFit":{var N;const e=null==(N=R.filter((e=>{if(P){const t=(0,i.TV)(e.placement);return t===S||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:N[0];e&&(n=e);break}case"initialPlacement":n=c}if(s!==n)return{reset:{placement:n}}}return{}}}},B=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,a;const{placement:s,rects:l,platform:c,elements:h}=t,p=(0,i._3)(e,t),{apply:m=()=>{}}=p,v=(0,o.A)(p,u),_=await d(t,v),f=(0,i.C0)(s),g=(0,i.Sg)(s),b="y"===(0,i.TV)(s),{width:y,height:E}=l.floating;let w,S;"top"===f||"bottom"===f?(w=f,S=g===(await(null==c.isRTL?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(S=f,w="end"===g?"top":"bottom");const A=E-_.top-_.bottom,C=y-_.left-_.right,k=(0,i.jk)(E-_[w],A),P=(0,i.jk)(y-_[S],C),I=!t.middlewareData.shift;let T=k,x=P;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(x=C),null!=(a=t.middlewareData.shift)&&a.enabled.y&&(T=A),I&&!g){const e=(0,i.T9)(_.left,0),t=(0,i.T9)(_.right,0),n=(0,i.T9)(_.top,0),r=(0,i.T9)(_.bottom,0);b?x=y-2*(0!==e||0!==t?e+t:(0,i.T9)(_.left,_.right)):T=E-2*(0!==n||0!==r?n+r:(0,i.T9)(_.top,_.bottom))}await m((0,r.A)((0,r.A)({},t),{},{availableWidth:x,availableHeight:T}));const R=await c.getDimensions(h.floating);return y!==R.width||E!==R.height?{reset:{rects:!0}}:{}}}},F=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,a=(0,i._3)(e,t),{strategy:l="referenceHidden"}=a,u=(0,o.A)(a,s);switch(l){case"referenceHidden":{const e=h(await d(t,(0,r.A)((0,r.A)({},u),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:p(e)}}}case"escaped":{const e=h(await d(t,(0,r.A)((0,r.A)({},u),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:p(e)}}}default:return{}}}}},H=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:a,rects:s,platform:l,elements:u,middlewareData:c}=t,{element:d,padding:h=0}=(0,i._3)(e,t)||{};if(null==d)return{};const p=(0,i.nI)(h),m={x:n,y:o},v=(0,i.Dz)(a),_=(0,i.sq)(v),f=await l.getDimensions(d),g="y"===v,b=g?"top":"left",y=g?"bottom":"right",E=g?"clientHeight":"clientWidth",w=s.reference[_]+s.reference[v]-m[v]-s.floating[_],S=m[v]-s.reference[v],A=await(null==l.getOffsetParent?void 0:l.getOffsetParent(d));let C=A?A[E]:0;C&&await(null==l.isElement?void 0:l.isElement(A))||(C=u.floating[E]||s.floating[_]);const k=w/2-S/2,P=C/2-f[_]/2-1,I=(0,i.jk)(p[b],P),T=(0,i.jk)(p[y],P),x=I,R=C-f[_]-T,L=C/2-f[_]/2+k,O=(0,i.qE)(x,L,R),N=!c.arrow&&null!=(0,i.Sg)(a)&&L!==O&&s.reference[_]/2-(L<x?I:T)-f[_]/2<0,M=N?L<x?L-x:L-R:0;return{[v]:m[v]+M,data:(0,r.A)({[v]:O,centerOffset:L-O-M},N&&{alignmentOffset:M}),reset:N}}}),V=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:a,rects:s,middlewareData:l}=t,{offset:u=0,mainAxis:c=!0,crossAxis:d=!0}=(0,i._3)(e,t),h={x:n,y:o},p=(0,i.TV)(a),v=(0,i.PG)(p);let _=h[v],f=h[p];const g=(0,i._3)(u,t),b="number"==typeof g?{mainAxis:g,crossAxis:0}:(0,r.A)({mainAxis:0,crossAxis:0},g);if(c){const e="y"===v?"height":"width",t=s.reference[v]-s.floating[e]+b.mainAxis,n=s.reference[v]+s.reference[e]-b.mainAxis;_<t?_=t:_>n&&(_=n)}if(d){var y,E;const e="y"===v?"width":"height",t=m.has((0,i.C0)(a)),n=s.reference[p]-s.floating[e]+(t&&(null==(y=l.offset)?void 0:y[p])||0)+(t?0:b.crossAxis),r=s.reference[p]+s.reference[e]+(t?0:(null==(E=l.offset)?void 0:E[p])||0)-(t?b.crossAxis:0);f<n?f=n:f>r&&(f=r)}return{[v]:_,[p]:f}}}},U=(e,t,n)=>{const i=new Map,o=(0,r.A)({platform:R},n),a=(0,r.A)((0,r.A)({},o.platform),{},{_c:i});return(async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,l=a.filter(Boolean),u=await(null==s.isRTL?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:p}=c(d,i,u),m=i,v={},_=0;for(let n=0;n<l.length;n++){const{name:a,fn:f}=l[n],{x:g,y:b,data:y,reset:E}=await f({x:h,y:p,initialPlacement:i,placement:m,strategy:o,middlewareData:v,rects:d,platform:s,elements:{reference:e,floating:t}});h=null!=g?g:h,p=null!=b?b:p,v=(0,r.A)((0,r.A)({},v),{},{[a]:(0,r.A)((0,r.A)({},v[a]),y)}),E&&_<=50&&(_++,"object"==typeof E&&(E.placement&&(m=E.placement),E.rects&&(d=!0===E.rects?await s.getElementRects({reference:e,floating:t,strategy:o}):E.rects),({x:h,y:p}=c(d,m,u))),n=-1)}return{x:h,y:p,placement:m,strategy:o,middlewareData:v}})(e,t,(0,r.A)((0,r.A)({},o),{},{platform:a}))}},7918:(e,t,n)=>{"use strict";n.d(t,{BN:()=>m,ER:()=>v,Ej:()=>f,UE:()=>b,UU:()=>_,cY:()=>p,jD:()=>g,we:()=>h});var r=n(9067),i=(n(752),n(3838)),o=n(8717),a=n(8572),s="undefined"!=typeof document?o.useLayoutEffect:function(){};function l(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!l(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!l(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function u(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c(e,t){const n=u(e);return Math.round(t*n)/n}function d(e){const t=o.useRef(e);return s((()=>{t.current=e})),t}function h(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:h=[],platform:p,elements:{reference:m,floating:v}={},transform:_=!0,whileElementsMounted:f,open:g}=e,[b,y]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,w]=o.useState(h);l(E,h)||w(h);const[S,A]=o.useState(null),[C,k]=o.useState(null),P=o.useCallback((e=>{e!==R.current&&(R.current=e,A(e))}),[]),I=o.useCallback((e=>{e!==L.current&&(L.current=e,k(e))}),[]),T=m||S,x=v||C,R=o.useRef(null),L=o.useRef(null),O=o.useRef(b),N=null!=f,M=d(f),D=d(p),B=d(g),F=o.useCallback((()=>{if(!R.current||!L.current)return;const e={placement:t,strategy:n,middleware:E};D.current&&(e.platform=D.current),(0,i.rD)(R.current,L.current,e).then((e=>{const t=(0,r.A)((0,r.A)({},e),{},{isPositioned:!1!==B.current});H.current&&!l(O.current,t)&&(O.current=t,a.flushSync((()=>{y(t)})))}))}),[E,t,n,D,B]);s((()=>{!1===g&&O.current.isPositioned&&(O.current.isPositioned=!1,y((e=>(0,r.A)((0,r.A)({},e),{},{isPositioned:!1}))))}),[g]);const H=o.useRef(!1);s((()=>(H.current=!0,()=>{H.current=!1})),[]),s((()=>{if(T&&(R.current=T),x&&(L.current=x),T&&x){if(M.current)return M.current(T,x,F);F()}}),[T,x,F,M,N]);const V=o.useMemo((()=>({reference:R,floating:L,setReference:P,setFloating:I})),[P,I]),U=o.useMemo((()=>({reference:T,floating:x})),[T,x]),j=o.useMemo((()=>{const e={position:n,left:0,top:0};if(!U.floating)return e;const t=c(U.floating,b.x),i=c(U.floating,b.y);return _?(0,r.A)((0,r.A)({},e),{},{transform:"translate("+t+"px, "+i+"px)"},u(U.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:i}}),[n,_,U.floating,b.x,b.y]);return o.useMemo((()=>(0,r.A)((0,r.A)({},b),{},{update:F,refs:V,elements:U,floatingStyles:j})),[b,F,V,U,j])}const p=(e,t)=>(0,r.A)((0,r.A)({},(0,i.cY)(e)),{},{options:[e,t]}),m=(e,t)=>(0,r.A)((0,r.A)({},(0,i.BN)(e)),{},{options:[e,t]}),v=(e,t)=>(0,r.A)((0,r.A)({},(0,i.ER)(e)),{},{options:[e,t]}),_=(e,t)=>(0,r.A)((0,r.A)({},(0,i.UU)(e)),{},{options:[e,t]}),f=(e,t)=>(0,r.A)((0,r.A)({},(0,i.Ej)(e)),{},{options:[e,t]}),g=(e,t)=>(0,r.A)((0,r.A)({},(0,i.jD)(e)),{},{options:[e,t]}),b=(e,t)=>(0,r.A)((0,r.A)({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?(0,i.UE)({element:n.current,padding:r}).fn(t):{}:n?(0,i.UE)({element:n,padding:r}).fn(t):{};var o}}))(e)),{},{options:[e,t]})},775:(e,t,n)=>{"use strict";n.d(t,{eC:()=>Xe,lb:()=>Qe,ie:()=>nt,s3:()=>jt,ph:()=>Me,$c:()=>ut,zR:()=>qt,XF:()=>Ot,P6:()=>ct,iB:()=>En,kp:()=>Xt,s9:()=>$t,we:()=>en,fI:()=>lt,R1:()=>at,cq:()=>st,iQ:()=>nn,Mk:()=>_t,bv:()=>on,rm:()=>De,C1:()=>hn,SV:()=>Le,It:()=>mn,$X:()=>fn,DL:()=>gn});var r=n(7691),i=n(1824),o=n(9067),a=(n(7794),n(7877),n(4401),n(5745),n(2289),n(1086),n(2358),n(9419),n(8471),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(752),n(8057),n(8717)),s=n.t(a,2),l=(n(7293),n(4962)),u=n(2996),c=(n(4924),["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"]),d=c.join(","),h="undefined"==typeof Element,p=h?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,m=!h&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},v=function(e,t){var n;void 0===t&&(t=!0);var r=null==e||null===(n=e.getAttribute)||void 0===n?void 0:n.call(e,"inert");return""===r||"true"===r||t&&e&&v(e.parentNode)},_=function(e,t,n){if(v(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(d));return t&&p.call(e,d)&&r.unshift(e),r=r.filter(n)},f=function(e,t,n){for(var r=[],i=Array.from(e);i.length;){var o=i.shift();if(!v(o,!1))if("SLOT"===o.tagName){var a=o.assignedElements(),s=a.length?a:o.children,l=f(s,!0,n);n.flatten?r.push.apply(r,l):r.push({scopeParent:o,candidates:l})}else{p.call(o,d)&&n.filter(o)&&(t||!e.includes(o))&&r.push(o);var u=o.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(o),c=!v(u,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(u&&c){var h=f(!0===u?o.children:u.children,!0,n);n.flatten?r.push.apply(r,h):r.push({scopeParent:o,candidates:h})}else i.unshift.apply(i,o.children)}}return r},g=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},b=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!g(e)?0:e.tabIndex},y=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},E=function(e){return"INPUT"===e.tagName},w=function(e){return function(e){return E(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||m(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},S=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},A=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("full-native"===n&&"checkVisibility"in e)return!e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});if("hidden"===getComputedStyle(e).visibility)return!0;var i=p.call(e,"details>summary:first-of-type")?e.parentElement:e;if(p.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"full-native"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return S(e)}else{if("function"==typeof r){for(var o=e;e;){var a=e.parentElement,s=m(e);if(a&&!a.shadowRoot&&!0===r(a))return S(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=o}if(function(e){var t,n,r,i,o=e&&m(e),a=null===(t=o)||void 0===t?void 0:t.host,s=!1;if(o&&o!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!s&&a;){var l,u,c;s=!(null===(u=a=null===(l=o=m(a))||void 0===l?void 0:l.host)||void 0===u||null===(c=u.ownerDocument)||void 0===c||!c.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},C=function(e,t){return!(t.disabled||v(t)||function(e){return E(e)&&"hidden"===e.type}(t)||A(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!p.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},k=function(e,t){return!(w(t)||b(t)<0||!C(e,t))},P=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},I=function(e){var t=[],n=[];return e.forEach((function(e,r){var i=!!e.scopeParent,o=i?e.scopeParent:e,a=function(e,t){var n=b(e);return n<0&&t&&!g(e)?0:n}(o,i),s=i?I(e.candidates):o;0===a?i?t.push.apply(t,s):t.push(o):n.push({documentOrder:r,tabIndex:a,item:e,isScope:i,content:s})})),n.sort(y).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(t)},T=function(e,t){var n;return n=(t=t||{}).getShadowRoot?f([e],t.includeContainer,{filter:k.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:P}):_(e,t.includeContainer,k.bind(null,t)),I(n)},x=function(e,t){return(t=t||{}).getShadowRoot?f([e],t.includeContainer,{filter:C.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):_(e,t.includeContainer,C.bind(null,t))},R=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==p.call(e,d)&&k(t,e)};function L(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function O(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function N(){return/apple/i.test(navigator.vendor)}function M(){const e=/android/i;return e.test(L())||e.test(O())}function D(){return O().includes("jsdom/")}const B="data-floating-ui-focusable",F="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",H="ArrowLeft",V="ArrowRight",U="ArrowUp",j="ArrowDown";function W(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function z(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&(0,l.Ng)(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function G(e){return"composedPath"in e?e.composedPath()[0]:e.target}function q(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function K(e){return(null==e?void 0:e.ownerDocument)||document}function Y(e){return(0,l.sb)(e)&&e.matches(F)}function X(e){return!!e&&("combobox"===e.getAttribute("role")&&Y(e))}function Q(e){return e?e.hasAttribute(B)?e:e.querySelector("["+B+"]")||e:null}function Z(e,t,n){void 0===n&&(n=!0);return e.filter((e=>{var r;return e.parentId===t&&(!n||(null==(r=e.context)?void 0:r.open))})).flatMap((t=>[t,...Z(e,t.id,n)]))}function J(e,t){var n;let r=[],i=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;i;){const t=e.find((e=>e.id===i));i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}function $(e){e.preventDefault(),e.stopPropagation()}function ee(e){return!(0!==e.mozInputSource||!e.isTrusted)||(M()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function te(e){return!D()&&(!M()&&0===e.width&&0===e.height||M()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function ne(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}var re="undefined"!=typeof document?a.useLayoutEffect:function(){};function ie(e){const t=a.useRef(e);return re((()=>{t.current=e})),t}const oe=(0,o.A)({},s).useInsertionEffect||(e=>e());function ae(e){const t=a.useRef((()=>{0}));return oe((()=>{t.current=e})),a.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function se(e,t,n){return Math.floor(e/t)!==n}function le(e,t){return t<0||t>=e.current.length}function ue(e,t){return de(e,{disabledIndices:t})}function ce(e,t){return de(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function de(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:o=1}=void 0===t?{}:t,a=n;do{a+=r?-o:o}while(a>=0&&a<=e.current.length-1&&_e(e,a,i));return a}function he(e,t){let{event:n,orientation:r,loop:i,rtl:o,cols:a,disabledIndices:s,minIndex:l,maxIndex:c,prevIndex:d,stopEvent:h=!1}=t,p=d;if(n.key===U){if(h&&$(n),-1===d)p=c;else if(p=de(e,{startingIndex:p,amount:a,decrement:!0,disabledIndices:s}),i&&(d-a<l||p<0)){const e=d%a,t=c%a,n=c-(t-e);p=t===e?c:t>e?n:n-a}le(e,p)&&(p=d)}if(n.key===j&&(h&&$(n),-1===d?p=l:(p=de(e,{startingIndex:d,amount:a,disabledIndices:s}),i&&d+a>c&&(p=de(e,{startingIndex:d%a-a,amount:a,disabledIndices:s}))),le(e,p)&&(p=d)),"both"===r){const t=(0,u.RI)(d/a);n.key===(o?H:V)&&(h&&$(n),d%a!=a-1?(p=de(e,{startingIndex:d,disabledIndices:s}),i&&se(p,a,t)&&(p=de(e,{startingIndex:d-d%a-1,disabledIndices:s}))):i&&(p=de(e,{startingIndex:d-d%a-1,disabledIndices:s})),se(p,a,t)&&(p=d)),n.key===(o?V:H)&&(h&&$(n),d%a!=0?(p=de(e,{startingIndex:d,decrement:!0,disabledIndices:s}),i&&se(p,a,t)&&(p=de(e,{startingIndex:d+(a-d%a),decrement:!0,disabledIndices:s}))):i&&(p=de(e,{startingIndex:d+(a-d%a),decrement:!0,disabledIndices:s})),se(p,a,t)&&(p=d));const r=(0,u.RI)(c/a)===t;le(e,p)&&(p=i&&r?n.key===(o?V:H)?c:de(e,{startingIndex:d-d%a-1,disabledIndices:s}):d)}return p}function pe(e,t,n){const r=[];let i=0;return e.forEach(((e,o)=>{let{width:a,height:s}=e,l=!1;for(n&&(i=0);!l;){const e=[];for(let n=0;n<a;n++)for(let r=0;r<s;r++)e.push(i+n+r*t);i%t+a<=t&&e.every((e=>null==r[e]))?(e.forEach((e=>{r[e]=o})),l=!0):i++}})),[...r]}function me(e,t,n,r,i){if(-1===e)return-1;const o=n.indexOf(e),a=t[e];switch(i){case"tl":return o;case"tr":return a?o+a.width-1:o;case"bl":return a?o+(a.height-1)*r:o;case"br":return n.lastIndexOf(e)}}function ve(e,t){return t.flatMap(((t,n)=>e.includes(t)?[n]:[]))}function _e(e,t,n){if("function"==typeof n)return n(t);if(n)return n.includes(t);const r=e.current[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}const fe=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ge(e,t){const n=T(e,fe()),r=n.length;if(0===r)return;const i=W(K(e)),o=n.indexOf(i);return n[-1===o?1===t?0:r-1:o+t]}function be(e){return ge(K(e).body,1)||e}function ye(e){return ge(K(e).body,-1)||e}function Ee(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!z(n,r)}function we(e){T(e,fe()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function Se(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}var Ae=n(3961),Ce=n(8572),ke=n(7918);const Pe=["render","orientation","loop","rtl","cols","disabledIndices","activeIndex","onNavigate","itemSizes","dense"],Ie=["render"],Te=["transform"],xe=["context","width","height","tipRadius","strokeWidth","staticOffset","stroke","d","style"],Re=["lockScroll"];function Le(e){const t=a.useRef(void 0),n=a.useCallback((t=>{const n=e.map((e=>{if(null!=e){if("function"==typeof e){const n=e,r=n(t);return"function"==typeof r?r:()=>{n(null)}}return e.current=t,()=>{e.current=null}}}));return()=>{n.forEach((e=>null==e?void 0:e()))}}),e);return a.useMemo((()=>e.every((e=>null==e))?null:e=>{t.current&&(t.current(),t.current=void 0),null!=e&&(t.current=n(e))}),e)}function Oe(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Ne=a.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Me(e){const{children:t,elementsRef:n,labelsRef:r}=e,[i,o]=a.useState((()=>new Set)),s=a.useCallback((e=>{o((t=>new Set(t).add(e)))}),[]),l=a.useCallback((e=>{o((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),u=a.useMemo((()=>{const e=new Map;return Array.from(i.keys()).sort(Oe).forEach(((t,n)=>{e.set(t,n)})),e}),[i]);return(0,Ae.jsx)(Ne.Provider,{value:a.useMemo((()=>({register:s,unregister:l,map:u,elementsRef:n,labelsRef:r})),[s,l,u,n,r]),children:t})}function De(e){void 0===e&&(e={});const{label:t}=e,{register:n,unregister:r,map:i,elementsRef:o,labelsRef:s}=a.useContext(Ne),[l,u]=a.useState(null),c=a.useRef(null),d=a.useCallback((e=>{if(c.current=e,null!==l&&(o.current[l]=e,s)){var n;const r=void 0!==t;s.current[l]=r?t:null!=(n=null==e?void 0:e.textContent)?n:null}}),[l,o,s,t]);return re((()=>{const e=c.current;if(e)return n(e),()=>{r(e)}}),[n,r]),re((()=>{const e=c.current?i.get(c.current):null;null!=e&&u(e)}),[i]),a.useMemo((()=>({ref:d,index:null==l?-1:l})),[l,d])}const Be="data-floating-ui-focusable",Fe="active",He="selected",Ve="ArrowLeft",Ue="ArrowRight",je="ArrowUp",We="ArrowDown";function ze(e,t){return"function"==typeof e?e(t):e?a.cloneElement(e,t):(0,Ae.jsx)("div",(0,o.A)({},t))}const Ge=a.createContext({activeIndex:0,onNavigate:()=>{}}),qe=[Ve,Ue],Ke=[je,We],Ye=[...qe,...Ke],Xe=a.forwardRef((function(e,t){const{render:n,orientation:r="both",loop:s=!0,rtl:l=!1,cols:u=1,disabledIndices:c,activeIndex:d,onNavigate:h,itemSizes:p,dense:m=!1}=e,v=(0,i.A)(e,Pe),[_,f]=a.useState(0),g=null!=d?d:_,b=ae(null!=h?h:f),y=a.useRef([]),E=n&&"function"!=typeof n?n.props:{},w=a.useMemo((()=>({activeIndex:g,onNavigate:b})),[g,b]),S=u>1;const A=(0,o.A)((0,o.A)((0,o.A)({},v),E),{},{ref:t,"aria-orientation":"both"===r?void 0:r,onKeyDown(e){null==v.onKeyDown||v.onKeyDown(e),null==E.onKeyDown||E.onKeyDown(e),function(e){if(!Ye.includes(e.key))return;let t=g;const n=ue(y,c),i=ce(y,c),o=l?Ve:Ue,a=l?Ue:Ve;if(S){const a=p||Array.from({length:y.current.length},(()=>({width:1,height:1}))),d=pe(a,u,m),h=d.findIndex((e=>null!=e&&!_e(y,e,c))),v=d.reduce(((e,t,n)=>null==t||_e(y,t,c)?e:n),-1),_=d[he({current:d.map((e=>e?y.current[e]:null))},{event:e,orientation:r,loop:s,rtl:l,cols:u,disabledIndices:ve([...("function"!=typeof c?c:null)||y.current.map(((e,t)=>_e(y,t,c)?t:void 0)),void 0],d),minIndex:h,maxIndex:v,prevIndex:me(g>i?n:g,a,d,u,e.key===We?"bl":e.key===o?"tr":"tl")})];null!=_&&(t=_)}const d={horizontal:[o],vertical:[We],both:[o,We]}[r],h={horizontal:[a],vertical:[je],both:[a,je]}[r],v=S?Ye:{horizontal:qe,vertical:Ke,both:Ye}[r];var _;t===g&&[...d,...h].includes(e.key)&&(t=s&&t===i&&d.includes(e.key)?n:s&&t===n&&h.includes(e.key)?i:de(y,{startingIndex:t,decrement:h.includes(e.key),disabledIndices:c})),t===g||le(y,t)||(e.stopPropagation(),v.includes(e.key)&&e.preventDefault(),b(t),null==(_=y.current[t])||_.focus())}(e)}});return(0,Ae.jsx)(Ge.Provider,{value:w,children:(0,Ae.jsx)(Me,{elementsRef:y,children:ze(n,A)})})})),Qe=a.forwardRef((function(e,t){const{render:n}=e,r=(0,i.A)(e,Ie),s=n&&"function"!=typeof n?n.props:{},{activeIndex:l,onNavigate:u}=a.useContext(Ge),{ref:c,index:d}=De(),h=Le([c,t,s.ref]),p=l===d;return ze(n,(0,o.A)((0,o.A)((0,o.A)({},r),s),{},{ref:h,tabIndex:p?0:-1,"data-active":p?"":void 0,onFocus(e){null==r.onFocus||r.onFocus(e),null==s.onFocus||s.onFocus(e),u(d)}}))})),Ze=(0,o.A)({},s);let Je=!1,$e=0;const et=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+$e++;const tt=Ze.useId||function(){const[e,t]=a.useState((()=>Je?et():void 0));return re((()=>{null==e&&t(et())}),[]),a.useEffect((()=>{Je=!0}),[]),e};const nt=a.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:s,shift:u}},width:c=14,height:d=7,tipRadius:h=0,strokeWidth:p=0,staticOffset:m,stroke:v,d:_,style:{transform:f}={}}=e,g=(0,i.A)(e.style,Te),b=(0,i.A)(e,xe);const y=tt(),[E,w]=a.useState(!1);if(re((()=>{if(!r)return;"rtl"===(0,l.L9)(r).direction&&w(!0)}),[r]),!r)return null;const[S,A]=n.split("-"),C="top"===S||"bottom"===S;let k=m;(C&&null!=u&&u.x||!C&&null!=u&&u.y)&&(k=null);const P=2*p,I=P/2,T=c/2*(h/-8+1),x=d/2*h/4,R=!!_,L=k&&"end"===A?"bottom":"top";let O=k&&"end"===A?"right":"left";k&&E&&(O="end"===A?"left":"right");const N=null!=(null==s?void 0:s.x)?k||s.x:"",M=null!=(null==s?void 0:s.y)?k||s.y:"",D=_||"M0,0 H"+c+" L"+(c-T)+","+(d-x)+" Q"+c/2+","+d+" "+T+","+(d-x)+" Z",B={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[S];return(0,Ae.jsxs)("svg",(0,o.A)((0,o.A)({},b),{},{"aria-hidden":!0,ref:t,width:R?c:c+P,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:(0,o.A)({position:"absolute",pointerEvents:"none",[O]:N,[L]:M,[S]:C||R?"100%":"calc(100% - "+P/2+"px)",transform:[B,f].filter((e=>!!e)).join(" ")},g),children:[P>0&&(0,Ae.jsx)("path",{clipPath:"url(#"+y+")",fill:"none",stroke:v,strokeWidth:P+(_?0:1),d:D}),(0,Ae.jsx)("path",{stroke:P&&!_?b.fill:"none",d:D}),(0,Ae.jsx)("clipPath",{id:y,children:(0,Ae.jsx)("rect",{x:-I,y:I*(R?-1:1),width:c+P,height:c})})]}))}));function rt(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const it=a.createContext(null),ot=a.createContext(null),at=()=>{var e;return(null==(e=a.useContext(it))?void 0:e.id)||null},st=()=>a.useContext(ot);function lt(e){const t=tt(),n=st(),r=at(),i=e||r;return re((()=>{if(!t)return;const e={id:t,parentId:i};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}}),[n,t,i]),t}function ut(e){const{children:t,id:n}=e,r=at();return(0,Ae.jsx)(it.Provider,{value:a.useMemo((()=>({id:n,parentId:r})),[n,r]),children:t})}function ct(e){const{children:t}=e,n=a.useRef([]),r=a.useCallback((e=>{n.current=[...n.current,e]}),[]),i=a.useCallback((e=>{n.current=n.current.filter((t=>t!==e))}),[]),[o]=a.useState((()=>rt()));return(0,Ae.jsx)(ot.Provider,{value:a.useMemo((()=>({nodesRef:n,addNode:r,removeNode:i,events:o})),[r,i,o]),children:t})}function dt(e){return"data-floating-ui-"+e}function ht(e){-1!==e.current&&(clearTimeout(e.current),e.current=-1)}const pt=dt("safe-polygon");function mt(e,t,n){if(n&&!ne(n))return 0;if("number"==typeof e)return e;if("function"==typeof e){const n=e();return"number"==typeof n?n:null==n?void 0:n[t]}return null==e?void 0:e[t]}function vt(e){return"function"==typeof e?e():e}function _t(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:u}=e,{enabled:c=!0,delay:d=0,handleClose:h=null,mouseOnly:p=!1,restMs:m=0,move:v=!0}=t,_=st(),f=at(),g=ie(h),b=ie(d),y=ie(n),E=ie(m),w=a.useRef(),S=a.useRef(-1),A=a.useRef(),C=a.useRef(-1),k=a.useRef(!0),P=a.useRef(!1),I=a.useRef((()=>{})),T=a.useRef(!1),x=ae((()=>{var e;const t=null==(e=i.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}));a.useEffect((()=>{if(c)return s.on("openchange",e),()=>{s.off("openchange",e)};function e(e){let{open:t}=e;t||(ht(S),ht(C),k.current=!0,T.current=!1)}}),[c,s]),a.useEffect((()=>{if(!c)return;if(!g.current)return;if(!n)return;function e(e){x()&&r(!1,e,"hover")}const t=K(u.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[u.floating,n,r,c,g,x]);const R=a.useCallback((function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const i=mt(b.current,"close",w.current);i&&!A.current?(ht(S),S.current=window.setTimeout((()=>r(!1,e,n)),i)):t&&(ht(S),r(!1,e,n))}),[b,r]),L=ae((()=>{I.current(),A.current=void 0})),O=ae((()=>{if(P.current){const e=K(u.floating).body;e.style.pointerEvents="",e.removeAttribute(pt),P.current=!1}})),N=ae((()=>!!i.current.openEvent&&["click","mousedown"].includes(i.current.openEvent.type)));a.useEffect((()=>{if(c&&(0,l.vq)(u.domReference)){const r=u.domReference,i=u.floating;return n&&r.addEventListener("mouseleave",a),v&&r.addEventListener("mousemove",e,{once:!0}),r.addEventListener("mouseenter",e),r.addEventListener("mouseleave",t),i&&(i.addEventListener("mouseleave",a),i.addEventListener("mouseenter",s),i.addEventListener("mouseleave",d)),()=>{n&&r.removeEventListener("mouseleave",a),v&&r.removeEventListener("mousemove",e),r.removeEventListener("mouseenter",e),r.removeEventListener("mouseleave",t),i&&(i.removeEventListener("mouseleave",a),i.removeEventListener("mouseenter",s),i.removeEventListener("mouseleave",d))}}function e(e){if(ht(S),k.current=!1,p&&!ne(w.current)||vt(E.current)>0&&!mt(b.current,"open"))return;const t=mt(b.current,"open",w.current);t?S.current=window.setTimeout((()=>{y.current||r(!0,e,"hover")}),t):n||r(!0,e,"hover")}function t(e){if(N())return void O();I.current();const t=K(u.floating);if(ht(C),T.current=!1,g.current&&i.current.floatingContext){n||ht(S),A.current=g.current((0,o.A)((0,o.A)({},i.current.floatingContext),{},{tree:_,x:e.clientX,y:e.clientY,onClose(){O(),L(),N()||R(e,!0,"safe-polygon")}}));const r=A.current;return t.addEventListener("mousemove",r),void(I.current=()=>{t.removeEventListener("mousemove",r)})}("touch"!==w.current||!z(u.floating,e.relatedTarget))&&R(e)}function a(e){N()||i.current.floatingContext&&(null==g.current||g.current((0,o.A)((0,o.A)({},i.current.floatingContext),{},{tree:_,x:e.clientX,y:e.clientY,onClose(){O(),L(),N()||R(e)}}))(e))}function s(){ht(S)}function d(e){N()||R(e,!1)}}),[u,c,e,p,v,R,L,O,r,n,y,_,b,g,i,N,E]),re((()=>{var e;if(c&&n&&null!=(e=g.current)&&null!=(e=e.__options)&&e.blockPointerEvents&&x()){P.current=!0;const e=u.floating;if((0,l.vq)(u.domReference)&&e){var t;const n=K(u.floating).body;n.setAttribute(pt,"");const r=u.domReference,i=null==_||null==(t=_.nodesRef.current.find((e=>e.id===f)))||null==(t=t.context)?void 0:t.elements.floating;return i&&(i.style.pointerEvents=""),n.style.pointerEvents="none",r.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",r.style.pointerEvents="",e.style.pointerEvents=""}}}}),[c,n,f,u,_,g,x]),re((()=>{n||(w.current=void 0,T.current=!1,L(),O())}),[n,L,O]),a.useEffect((()=>()=>{L(),ht(S),ht(C),O()}),[c,u.domReference,L,O]);const M=a.useMemo((()=>{function e(e){w.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){const{nativeEvent:t}=e;function i(){k.current||y.current||r(!0,t,"hover")}p&&!ne(w.current)||n||0===vt(E.current)||T.current&&e.movementX**2+e.movementY**2<2||(ht(C),"touch"===w.current?i():(T.current=!0,C.current=window.setTimeout(i,vt(E.current))))}}}),[p,r,n,y,E]);return a.useMemo((()=>c?{reference:M}:{}),[c,M])}let ft=0;function gt(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(ft);const o=()=>null==e?void 0:e.focus({preventScroll:n});i?o():ft=requestAnimationFrame(o)}function bt(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&(0,l.Ng)(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}const yt={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function Et(e){return"inert"===e?yt.inert:"aria-hidden"===e?yt["aria-hidden"]:yt.none}let wt=new WeakSet,St={},At=0;const Ct=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,kt=e=>e&&(e.host||kt(e.parentNode)),Pt=(e,t)=>t.map((t=>{if(e.contains(t))return t;const n=kt(t);return e.contains(n)?n:null})).filter((e=>null!=e));function It(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=(i=e[0],(null==i?void 0:i.ownerDocument)||document).body;var i;return function(e,t,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,a=Pt(t,e),s=new Set,u=new Set(a),c=[];St[i]||(St[i]=new WeakMap);const d=St[i];return a.forEach((function e(t){t&&!s.has(t)&&(s.add(t),t.parentNode&&e(t.parentNode))})),function e(t){t&&!u.has(t)&&[].forEach.call(t.children,(t=>{if("script"!==(0,l.mq)(t))if(s.has(t))e(t);else{const e=o?t.getAttribute(o):null,n=null!==e&&"false"!==e,r=Et(o),a=(r.get(t)||0)+1,s=(d.get(t)||0)+1;r.set(t,a),d.set(t,s),c.push(t),1===a&&n&&wt.add(t),1===s&&t.setAttribute(i,""),!n&&o&&t.setAttribute(o,"inert"===o?"":"true")}}))}(t),s.clear(),At++,()=>{c.forEach((e=>{const t=Et(o),n=(t.get(e)||0)-1,r=(d.get(e)||0)-1;t.set(e,n),d.set(e,r),n||(!wt.has(e)&&o&&e.removeAttribute(o),wt.delete(e)),r||e.removeAttribute(i)})),At--,At||(yt.inert=new WeakMap,yt["aria-hidden"]=new WeakMap,yt.none=new WeakMap,wt=new WeakSet,St={})}}(e.concat(Array.from(r.querySelectorAll('[aria-live],[role="status"],output'))),r,t,n)}const Tt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},xt=a.forwardRef((function(e,t){const[n,r]=a.useState();re((()=>{N()&&r("button")}),[]);const i={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[dt("focus-guard")]:"",style:Tt};return(0,Ae.jsx)("span",(0,o.A)((0,o.A)({},e),i))})),Rt=a.createContext(null),Lt=dt("portal");function Ot(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,o=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=tt(),i=Nt(),[o,s]=a.useState(null),u=a.useRef(null);return re((()=>()=>{null==o||o.remove(),queueMicrotask((()=>{u.current=null}))}),[o]),re((()=>{if(!r)return;if(u.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(Lt,""),e.appendChild(n),u.current=n,s(n)}),[t,r]),re((()=>{if(null===n)return;if(!r)return;if(u.current)return;let e=n||(null==i?void 0:i.portalNode);e&&!(0,l.Ll)(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const a=document.createElement("div");a.id=r,a.setAttribute(Lt,""),e=o||e,e.appendChild(a),u.current=a,s(a)}),[t,n,r,i]),o}({id:n,root:r}),[s,u]=a.useState(null),c=a.useRef(null),d=a.useRef(null),h=a.useRef(null),p=a.useRef(null),m=null==s?void 0:s.modal,v=null==s?void 0:s.open,_=!!s&&!s.modal&&s.open&&i&&!(!r&&!o);return a.useEffect((()=>{if(o&&i&&!m)return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){if(o&&Ee(e)){("focusin"===e.type?Se:we)(o)}}}),[o,i,m]),a.useEffect((()=>{o&&(v||Se(o))}),[v,o]),(0,Ae.jsxs)(Rt.Provider,{value:a.useMemo((()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:p,portalNode:o,setFocusManagerState:u})),[i,o]),children:[_&&o&&(0,Ae.jsx)(xt,{"data-type":"outside",ref:c,onFocus:e=>{if(Ee(e,o)){var t;null==(t=h.current)||t.focus()}else{const e=ye(s?s.domReference:null);null==e||e.focus()}}}),_&&o&&(0,Ae.jsx)("span",{"aria-owns":o.id,style:Tt}),o&&Ce.createPortal(t,o),_&&o&&(0,Ae.jsx)(xt,{"data-type":"outside",ref:d,onFocus:e=>{if(Ee(e,o)){var t;null==(t=p.current)||t.focus()}else{const t=be(s?s.domReference:null);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}})]})}const Nt=()=>a.useContext(Rt);function Mt(e){return a.useMemo((()=>t=>{e.forEach((e=>{e&&(e.current=t)}))}),e)}const Dt=20;let Bt=[];function Ft(){Bt=Bt.filter((e=>e.isConnected))}function Ht(){return Ft(),Bt[Bt.length-1]}function Vt(e,t){var n;if(!(t.current.includes("floating")||null!=(n=e.getAttribute("role"))&&n.includes("dialog")))return;const r=fe(),i=x(e,r).filter((e=>{const t=e.getAttribute("data-tabindex")||"";return R(e,r)||e.hasAttribute("data-tabindex")&&!t.startsWith("-")})),o=e.getAttribute("tabindex");t.current.includes("floating")||0===i.length?"0"!==o&&e.setAttribute("tabindex","0"):("-1"!==o||e.hasAttribute("data-tabindex")&&"-1"!==e.getAttribute("data-tabindex"))&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}const Ut=a.forwardRef((function(e,t){return(0,Ae.jsx)("button",(0,o.A)((0,o.A)({},e),{},{type:"button",ref:t,tabIndex:-1,style:Tt}))}));function jt(e){const{context:t,children:n,disabled:r=!1,order:i=["content"],guards:o=!0,initialFocus:s=0,returnFocus:u=!0,restoreFocus:c=!1,modal:d=!0,visuallyHiddenDismiss:h=!1,closeOnFocusOut:p=!0,outsideElementsInert:m=!1,getInsideElements:v=()=>[]}=e,{open:_,onOpenChange:f,events:g,dataRef:b,elements:{domReference:y,floating:E}}=t,w=ae((()=>{var e;return null==(e=b.current.floatingContext)?void 0:e.nodeId})),S=ae(v),A="number"==typeof s&&s<0,C=X(y)&&A,k=Ct(),P=!k||o,I=!P||k&&m,x=ie(i),L=ie(s),O=ie(u),N=st(),M=Nt(),D=a.useRef(null),B=a.useRef(null),F=a.useRef(!1),H=a.useRef(!1),V=a.useRef(-1),U=a.useRef(-1),j=null!=M,q=Q(E),Y=ae((function(e){return void 0===e&&(e=q),e?T(e,fe()):[]})),ne=ae((e=>{const t=Y(e);return x.current.map((e=>y&&"reference"===e?y:q&&"floating"===e?q:t)).filter(Boolean).flat()}));a.useEffect((()=>{if(r)return;if(!d)return;function e(e){if("Tab"===e.key){z(q,W(K(q)))&&0===Y().length&&!C&&$(e);const t=ne(),n=G(e);"reference"===x.current[0]&&n===y&&($(e),e.shiftKey?gt(t[t.length-1]):gt(t[1])),"floating"===x.current[1]&&n===q&&e.shiftKey&&($(e),gt(t[0]))}}const t=K(q);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[r,y,q,d,x,C,Y,ne]),a.useEffect((()=>{if(!r&&E)return E.addEventListener("focusin",e),()=>{E.removeEventListener("focusin",e)};function e(e){const t=G(e),n=Y().indexOf(t);-1!==n&&(V.current=n)}}),[r,E,Y]),a.useEffect((()=>{if(r)return;if(!p)return;function e(){H.current=!0,setTimeout((()=>{H.current=!1}))}function t(e){const t=e.relatedTarget,n=e.currentTarget,r=G(e);queueMicrotask((()=>{const i=w(),o=!(z(y,t)||z(E,t)||z(t,E)||z(null==M?void 0:M.portalNode,t)||null!=t&&t.hasAttribute(dt("focus-guard"))||N&&(Z(N.nodesRef.current,i).find((e=>{var n,r;return z(null==(n=e.context)?void 0:n.elements.floating,t)||z(null==(r=e.context)?void 0:r.elements.domReference,t)}))||J(N.nodesRef.current,i).find((e=>{var n,r,i;return[null==(n=e.context)?void 0:n.elements.floating,Q(null==(r=e.context)?void 0:r.elements.floating)].includes(t)||(null==(i=e.context)?void 0:i.elements.domReference)===t}))));if(n===y&&q&&Vt(q,x),c&&n!==y&&(null==r||!r.isConnected)&&W(K(q))===K(q).body){(0,l.sb)(q)&&q.focus();const e=V.current,t=Y(),n=t[e]||t[t.length-1]||q;(0,l.sb)(n)&&n.focus()}b.current.insideReactTree?b.current.insideReactTree=!1:!C&&d||!t||!o||H.current||t===Ht()||(F.current=!0,f(!1,e,"focus-out"))}))}const n=Boolean(!N&&M);function i(){ht(U),b.current.insideReactTree=!0,U.current=window.setTimeout((()=>{b.current.insideReactTree=!1}))}return E&&(0,l.sb)(y)?(y.addEventListener("focusout",t),y.addEventListener("pointerdown",e),E.addEventListener("focusout",t),n&&E.addEventListener("focusout",i,!0),()=>{y.removeEventListener("focusout",t),y.removeEventListener("pointerdown",e),E.removeEventListener("focusout",t),n&&E.removeEventListener("focusout",i,!0)}):void 0}),[r,y,E,q,d,N,M,f,p,c,Y,C,w,x,b]);const oe=a.useRef(null),se=a.useRef(null),le=Mt([oe,null==M?void 0:M.beforeInsideRef]),ue=Mt([se,null==M?void 0:M.afterInsideRef]);function ce(e){return!r&&h&&d?(0,Ae.jsx)(Ut,{ref:"start"===e?D:B,onClick:e=>f(!1,e.nativeEvent),children:"string"==typeof h?h:"Dismiss"}):null}a.useEffect((()=>{var e,t;if(r)return;if(!E)return;const n=Array.from((null==M||null==(e=M.portalNode)?void 0:e.querySelectorAll("["+dt("portal")+"]"))||[]),i=null==(t=(N?J(N.nodesRef.current,w()):[]).find((e=>{var t;return X((null==(t=e.context)?void 0:t.elements.domReference)||null)})))||null==(t=t.context)?void 0:t.elements.domReference,o=[E,i,...n,...S(),D.current,B.current,oe.current,se.current,null==M?void 0:M.beforeOutsideRef.current,null==M?void 0:M.afterOutsideRef.current,x.current.includes("reference")||C?y:null].filter((e=>null!=e)),a=d||C?It(o,!I,I):It(o);return()=>{a()}}),[r,y,E,d,x,M,C,P,I,N,w,S]),re((()=>{if(r||!(0,l.sb)(q))return;const e=W(K(q));queueMicrotask((()=>{const t=ne(q),n=L.current,r=("number"==typeof n?t[n]:n.current)||q,i=z(q,e);A||i||!_||gt(r,{preventScroll:r===q})}))}),[r,_,q,A,ne,L]),re((()=>{if(r||!q)return;const e=K(q),t=W(e);var n;function i(e){let{reason:t,event:n,nested:r}=e;if(["hover","safe-polygon"].includes(t)&&"mouseleave"===n.type&&(F.current=!0),"outside-press"===t)if(r)F.current=!1;else if(ee(n)||te(n))F.current=!1;else{let e=!1;document.createElement("div").focus({get preventScroll(){return e=!0,!1}}),F.current=!e}}n=t,Ft(),n&&"body"!==(0,l.mq)(n)&&(Bt.push(n),Bt.length>Dt&&(Bt=Bt.slice(-20))),g.on("openchange",i);const o=e.createElement("span");return o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),Object.assign(o.style,Tt),j&&y&&y.insertAdjacentElement("afterend",o),()=>{g.off("openchange",i);const t=W(e),n=z(E,t)||N&&Z(N.nodesRef.current,w(),!1).some((e=>{var n;return z(null==(n=e.context)?void 0:n.elements.floating,t)})),r=function(){if("boolean"==typeof O.current){const e=y||Ht();return e&&e.isConnected?e:o}return O.current.current||o}();queueMicrotask((()=>{const i=function(e){const t=fe();return R(e,t)?e:T(e,t)[0]||e}(r);O.current&&!F.current&&(0,l.sb)(i)&&(i===t||t===e.body||n)&&i.focus({preventScroll:!0}),o.remove()}))}}),[r,E,q,O,b,g,N,j,y,w]),a.useEffect((()=>(queueMicrotask((()=>{F.current=!1})),()=>{queueMicrotask(Ft)})),[r]),re((()=>{if(!r&&M)return M.setFocusManagerState({modal:d,closeOnFocusOut:p,open:_,onOpenChange:f,domReference:y}),()=>{M.setFocusManagerState(null)}}),[r,M,d,_,f,p,y]),re((()=>{r||q&&Vt(q,x)}),[r,q,x]);const de=!r&&P&&(!d||!C)&&(j||d);return(0,Ae.jsxs)(Ae.Fragment,{children:[de&&(0,Ae.jsx)(xt,{"data-type":"inside",ref:le,onFocus:e=>{if(d){const e=ne();gt("reference"===i[0]?e[0]:e[e.length-1])}else if(null!=M&&M.preserveTabOrder&&M.portalNode)if(F.current=!1,Ee(e,M.portalNode)){const e=be(y);null==e||e.focus()}else{var t;null==(t=M.beforeOutsideRef.current)||t.focus()}}}),!C&&ce("start"),n,ce("end"),de&&(0,Ae.jsx)(xt,{"data-type":"inside",ref:ue,onFocus:e=>{if(d)gt(ne()[0]);else if(null!=M&&M.preserveTabOrder&&M.portalNode)if(p&&(F.current=!0),Ee(e,M.portalNode)){const e=ye(y);null==e||e.focus()}else{var t;null==(t=M.afterOutsideRef.current)||t.focus()}}})]})}let Wt=0;const zt="--floating-ui-scrollbar-width";let Gt=()=>{};const qt=a.forwardRef((function(e,t){const{lockScroll:n=!1}=e,r=(0,i.A)(e,Re);return re((()=>{if(n)return Wt++,1===Wt&&(Gt=function(){const e=L(),t=/iP(hone|ad|od)|iOS/.test(e)||"MacIntel"===e&&navigator.maxTouchPoints>1,n=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,o=n.left?parseFloat(n.left):window.scrollX,a=n.top?parseFloat(n.top):window.scrollY;if(n.overflow="hidden",n.setProperty(zt,i+"px"),i&&(n[r]=i+"px"),t){var s,l;const e=(null==(s=window.visualViewport)?void 0:s.offsetLeft)||0,t=(null==(l=window.visualViewport)?void 0:l.offsetTop)||0;Object.assign(n,{position:"fixed",top:-(a-Math.floor(t))+"px",left:-(o-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(n,{overflow:"",[r]:""}),n.removeProperty(zt),t&&(Object.assign(n,{position:"",top:"",left:"",right:""}),window.scrollTo(o,a))}}()),()=>{Wt--,0===Wt&&Gt()}}),[n]),(0,Ae.jsx)("div",(0,o.A)((0,o.A)({ref:t},r),{},{style:(0,o.A)({position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0},r.style)}))}));function Kt(e){return(0,l.sb)(e.target)&&"BUTTON"===e.target.tagName}function Yt(e){return Y(e)}function Xt(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:s=!0,event:u="click",toggle:c=!0,ignoreMouse:d=!1,keyboardHandlers:h=!0,stickIfOpen:p=!0}=t,m=a.useRef(),v=a.useRef(!1),_=a.useMemo((()=>({onPointerDown(e){m.current=e.pointerType},onMouseDown(e){const t=m.current;0===e.button&&"click"!==u&&(ne(t,!0)&&d||(!n||!c||i.current.openEvent&&p&&"mousedown"!==i.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=m.current;"mousedown"===u&&m.current?m.current=void 0:ne(t,!0)&&d||(!n||!c||i.current.openEvent&&p&&"click"!==i.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){m.current=void 0,e.defaultPrevented||!h||Kt(e)||(" "!==e.key||Yt(o)||(e.preventDefault(),v.current=!0),function(e){return(0,l.sb)(e.target)&&"A"===e.target.tagName}(e)||"Enter"===e.key&&r(!n||!c,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!h||Kt(e)||Yt(o)||" "===e.key&&v.current&&(v.current=!1,r(!n||!c,e.nativeEvent,"click"))}})),[i,o,u,d,h,r,n,p,c]);return a.useMemo((()=>s?{reference:_}:{}),[s,_])}const Qt={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Zt={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Jt=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function $t(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=e,{enabled:u=!0,escapeKey:c=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:v=!1,bubbles:_,capture:f}=t,g=st(),b=ae("function"==typeof d?d:()=>!1),y="function"==typeof d?b:d,E=a.useRef(!1),{escapeKey:w,outsidePress:S}=Jt(_),{escapeKey:A,outsidePress:C}=Jt(f),k=a.useRef(!1),P=ae((e=>{var t;if(!n||!u||!c||"Escape"!==e.key)return;if(k.current)return;const i=null==(t=s.current.floatingContext)?void 0:t.nodeId,o=g?Z(g.nodesRef.current,i):[];if(!w&&(e.stopPropagation(),o.length>0)){let e=!0;if(o.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),I=ae((e=>{var t;const n=()=>{var t;P(e),null==(t=G(e))||t.removeEventListener("keydown",n)};null==(t=G(e))||t.addEventListener("keydown",n)})),T=ae((e=>{var t;const n=s.current.insideReactTree;s.current.insideReactTree=!1;const o=E.current;if(E.current=!1,"click"===h&&o)return;if(n)return;if("function"==typeof y&&!y(e))return;const a=G(e),u="["+dt("inert")+"]",c=K(i.floating).querySelectorAll(u);let d=(0,l.vq)(a)?a:null;for(;d&&!(0,l.eu)(d);){const e=(0,l.$4)(d);if((0,l.eu)(e)||!(0,l.vq)(e))break;d=e}if(c.length&&(0,l.vq)(a)&&!a.matches("html,body")&&!z(a,i.floating)&&Array.from(c).every((e=>!z(d,e))))return;if((0,l.sb)(a)&&L){const t=(0,l.eu)(a),n=(0,l.L9)(a),r=/auto|scroll/,i=t||r.test(n.overflowX),o=t||r.test(n.overflowY),s=i&&a.clientWidth>0&&a.scrollWidth>a.clientWidth,u=o&&a.clientHeight>0&&a.scrollHeight>a.clientHeight,c="rtl"===n.direction,d=u&&(c?e.offsetX<=a.offsetWidth-a.clientWidth:e.offsetX>a.clientWidth),h=s&&e.offsetY>a.clientHeight;if(d||h)return}const p=null==(t=s.current.floatingContext)?void 0:t.nodeId,m=g&&Z(g.nodesRef.current,p).some((t=>{var n;return q(e,null==(n=t.context)?void 0:n.elements.floating)}));if(q(e,i.floating)||q(e,i.domReference)||m)return;const v=g?Z(g.nodesRef.current,p):[];if(v.length>0){let e=!0;if(v.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),x=ae((e=>{var t;const n=()=>{var t;T(e),null==(t=G(e))||t.removeEventListener(h,n)};null==(t=G(e))||t.addEventListener(h,n)}));a.useEffect((()=>{if(!n||!u)return;s.current.__escapeKeyBubbles=w,s.current.__outsidePressBubbles=S;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function o(){window.clearTimeout(e),k.current=!0}function a(){e=window.setTimeout((()=>{k.current=!1}),(0,l.Tc)()?5:0)}const d=K(i.floating);c&&(d.addEventListener("keydown",A?I:P,A),d.addEventListener("compositionstart",o),d.addEventListener("compositionend",a)),y&&d.addEventListener(h,C?x:T,C);let p=[];return v&&((0,l.vq)(i.domReference)&&(p=(0,l.v9)(i.domReference)),(0,l.vq)(i.floating)&&(p=p.concat((0,l.v9)(i.floating))),!(0,l.vq)(i.reference)&&i.reference&&i.reference.contextElement&&(p=p.concat((0,l.v9)(i.reference.contextElement)))),p=p.filter((e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)})),p.forEach((e=>{e.addEventListener("scroll",t,{passive:!0})})),()=>{c&&(d.removeEventListener("keydown",A?I:P,A),d.removeEventListener("compositionstart",o),d.removeEventListener("compositionend",a)),y&&d.removeEventListener(h,C?x:T,C),p.forEach((e=>{e.removeEventListener("scroll",t)})),window.clearTimeout(e)}}),[s,i,c,y,h,n,r,v,u,w,S,P,A,I,T,C,x]),a.useEffect((()=>{s.current.insideReactTree=!1}),[s,y,h]);const R=a.useMemo((()=>(0,o.A)({onKeyDown:P},p&&(0,o.A)({[Qt[m]]:e=>{r(!1,e.nativeEvent,"reference-press")}},"click"!==m&&{onClick(e){r(!1,e.nativeEvent,"reference-press")}}))),[P,r,p,m]),L=a.useMemo((()=>({onKeyDown:P,onMouseDown(){E.current=!0},onMouseUp(){E.current=!0},[Zt[h]]:()=>{s.current.insideReactTree=!0}})),[P,h,s]);return a.useMemo((()=>u?{reference:R,floating:L}:{}),[u,R,L])}function en(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=tt(),o=a.useRef({}),[s]=a.useState((()=>rt())),l=null!=at(),[u,c]=a.useState(r.reference),d=ae(((e,t,r)=>{o.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),h=a.useMemo((()=>({setPositionReference:c})),[]),p=a.useMemo((()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference})),[u,r.reference,r.floating]);return a.useMemo((()=>({dataRef:o,open:t,onOpenChange:d,elements:p,events:s,floatingId:i,refs:h})),[t,d,p,s,i,h])}((0,o.A)((0,o.A)({},e),{},{elements:(0,o.A)({reference:null,floating:null},e.elements)})),r=e.rootContext||n,i=r.elements,[s,u]=a.useState(null),[c,d]=a.useState(null),h=(null==i?void 0:i.domReference)||s,p=a.useRef(null),m=st();re((()=>{h&&(p.current=h)}),[h]);const v=(0,ke.we)((0,o.A)((0,o.A)({},e),{},{elements:(0,o.A)((0,o.A)({},i),c&&{reference:c})})),_=a.useCallback((e=>{const t=(0,l.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;d(t),v.refs.setReference(t)}),[v.refs]),f=a.useCallback((e=>{((0,l.vq)(e)||null===e)&&(p.current=e,u(e)),((0,l.vq)(v.refs.reference.current)||null===v.refs.reference.current||null!==e&&!(0,l.vq)(e))&&v.refs.setReference(e)}),[v.refs]),g=a.useMemo((()=>(0,o.A)((0,o.A)({},v.refs),{},{setReference:f,setPositionReference:_,domReference:p})),[v.refs,f,_]),b=a.useMemo((()=>(0,o.A)((0,o.A)({},v.elements),{},{domReference:h})),[v.elements,h]),y=a.useMemo((()=>(0,o.A)((0,o.A)((0,o.A)({},v),r),{},{refs:g,elements:b,nodeId:t})),[v,g,b,t,r]);return re((()=>{r.dataRef.current.floatingContext=y;const e=null==m?void 0:m.nodesRef.current.find((e=>e.id===t));e&&(e.context=y)})),a.useMemo((()=>(0,o.A)((0,o.A)({},v),{},{context:y,refs:g,elements:b})),[v,g,b,y])}function tn(){return L().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints&&N()}function nn(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:s}=e,{enabled:u=!0,visibleOnly:c=!0}=t,d=a.useRef(!1),h=a.useRef(-1),p=a.useRef(!0);a.useEffect((()=>{if(!u)return;const e=(0,l.zk)(s.domReference);function t(){!n&&(0,l.sb)(s.domReference)&&s.domReference===W(K(s.domReference))&&(d.current=!0)}function r(){p.current=!0}function i(){p.current=!1}return e.addEventListener("blur",t),tn()&&(e.addEventListener("keydown",r,!0),e.addEventListener("pointerdown",i,!0)),()=>{e.removeEventListener("blur",t),tn()&&(e.removeEventListener("keydown",r,!0),e.removeEventListener("pointerdown",i,!0))}}),[s.domReference,n,u]),a.useEffect((()=>{if(u)return i.on("openchange",e),()=>{i.off("openchange",e)};function e(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(d.current=!0)}}),[i,u]),a.useEffect((()=>()=>{ht(h)}),[]);const m=a.useMemo((()=>({onMouseLeave(){d.current=!1},onFocus(e){if(d.current)return;const t=G(e.nativeEvent);if(c&&(0,l.vq)(t))if(tn()&&!e.relatedTarget){if(!p.current&&!Y(t))return}else if(!function(e){if(!e||D())return!0;try{return e.matches(":focus-visible")}catch(e){return!0}}(t))return;r(!0,e.nativeEvent,"focus")},onBlur(e){d.current=!1;const t=e.relatedTarget,n=e.nativeEvent,i=(0,l.vq)(t)&&t.hasAttribute(dt("focus-guard"))&&"outside"===t.getAttribute("data-type");h.current=window.setTimeout((()=>{var e;const a=W(s.domReference?s.domReference.ownerDocument:document);(t||a!==s.domReference)&&(z(null==(e=o.current.floatingContext)?void 0:e.refs.floating.current,a)||z(s.domReference,a)||i||r(!1,n,"focus"))}))}})),[o,s.domReference,r,c]);return a.useMemo((()=>u?{reference:m}:{}),[u,m])}function rn(e,t,n){const a=new Map,s="item"===n;let l=e;if(s&&e){const{[Fe]:t,[He]:n}=e;l=(0,i.A)(e,[Fe,He].map(r.A))}return(0,o.A)((0,o.A)((0,o.A)({},"floating"===n&&{tabIndex:-1,[Be]:""}),l),t.map((t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,r]=t;var i;s&&[Fe,He].includes(n)||(0===n.indexOf("on")?(a.has(n)||a.set(n,[]),"function"==typeof r&&(null==(i=a.get(n))||i.push(r),e[n]=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null==(e=a.get(n))?void 0:e.map((e=>e(...r))).find((e=>void 0!==e))})):e[n]=r)})),e):e),{}))}function on(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),i=a.useCallback((t=>rn(t,e,"reference")),t),o=a.useCallback((t=>rn(t,e,"floating")),n),s=a.useCallback((t=>rn(t,e,"item")),r);return a.useMemo((()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s})),[i,o,s])}const an="Escape";function sn(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function ln(e,t){return sn(t,e===je||e===We,e===Ve||e===Ue)}function un(e,t,n){return sn(t,e===We,n?e===Ve:e===Ue)||"Enter"===e||" "===e||""===e}function cn(e,t,n){return sn(t,n?e===Ve:e===Ue,e===We)}function dn(e,t,n,r){return"both"===t||"horizontal"===t&&r&&r>1?e===an:sn(t,n?e===Ue:e===Ve,e===je)}function hn(e,t){const{open:n,onOpenChange:r,elements:i,floatingId:s}=e,{listRef:u,activeIndex:c,onNavigate:d=()=>{},enabled:h=!0,selectedIndex:p=null,allowEscape:m=!1,loop:v=!1,nested:_=!1,rtl:f=!1,virtual:g=!1,focusItemOnOpen:b="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:E=!0,disabledIndices:w,orientation:S="vertical",parentOrientation:A,cols:C=1,scrollItemIntoView:k=!0,virtualItemRef:P,itemSizes:I,dense:T=!1}=t;const x=ie(Q(i.floating)),R=at(),L=st();re((()=>{e.dataRef.current.orientation=S}),[e,S]);const O=ae((()=>{d(-1===D.current?null:D.current)})),N=X(i.domReference),M=a.useRef(b),D=a.useRef(null!=p?p:-1),B=a.useRef(null),F=a.useRef(!0),H=a.useRef(O),V=a.useRef(!!i.floating),U=a.useRef(n),j=a.useRef(!1),G=a.useRef(!1),q=ie(w),Y=ie(n),J=ie(k),ne=ie(p),[oe,se]=a.useState(),[fe,ge]=a.useState(),be=ae((()=>{function e(e){var t;g?(null!=(t=e.id)&&t.endsWith("-fui-option")&&(e.id=s+"-"+Math.random().toString(16).slice(2,10)),se(e.id),null==L||L.events.emit("virtualfocus",e),P&&(P.current=e)):gt(e,{sync:j.current,preventScroll:!0})}const t=u.current[D.current],n=G.current;t&&e(t);(j.current?e=>e():requestAnimationFrame)((()=>{const r=u.current[D.current]||t;if(!r)return;t||e(r);const i=J.current;i&&Ee&&(n||!F.current)&&(null==r.scrollIntoView||r.scrollIntoView("boolean"==typeof i?{block:"nearest",inline:"nearest"}:i))}))}));re((()=>{h&&(n&&i.floating?M.current&&null!=p&&(G.current=!0,D.current=p,O()):V.current&&(D.current=-1,H.current()))}),[h,n,i.floating,p,O]),re((()=>{if(h&&n&&i.floating)if(null==c){if(j.current=!1,null!=ne.current)return;if(V.current&&(D.current=-1,be()),(!U.current||!V.current)&&M.current&&(null!=B.current||!0===M.current&&null==B.current)){let e=0;const t=()=>{if(null==u.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e++}else D.current=null==B.current||un(B.current,S,f)||_?ue(u,q.current):ce(u,q.current),B.current=null,O()};t()}}else le(u,c)||(D.current=c,be(),G.current=!1)}),[h,n,i.floating,c,ne,_,u,S,f,O,be,q]),re((()=>{var e;if(!h||i.floating||!L||g||!V.current)return;const t=L.nodesRef.current,n=null==(e=t.find((e=>e.id===R)))||null==(e=e.context)?void 0:e.elements.floating,r=W(K(i.floating)),o=t.some((e=>e.context&&z(e.context.elements.floating,r)));n&&!o&&F.current&&n.focus({preventScroll:!0})}),[h,i.floating,L,R,g]),re((()=>{if(h&&L&&g&&!R)return L.events.on("virtualfocus",e),()=>{L.events.off("virtualfocus",e)};function e(e){ge(e.id),P&&(P.current=e)}}),[h,L,g,R,P]),re((()=>{H.current=O,U.current=n,V.current=!!i.floating})),re((()=>{n||(B.current=null,M.current=b)}),[n,b]);const ye=null!=c,Ee=a.useMemo((()=>{function e(e){if(!Y.current)return;const t=u.current.indexOf(e);-1!==t&&D.current!==t&&(D.current=t,O())}return{onFocus(t){let{currentTarget:n}=t;j.current=!0,e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},onMouseMove(t){let{currentTarget:n}=t;j.current=!0,G.current=!1,y&&e(n)},onPointerLeave(e){let{pointerType:t}=e;var n;F.current&&"touch"!==t&&(j.current=!0,y&&(D.current=-1,O(),g||null==(n=x.current)||n.focus({preventScroll:!0})))}}}),[Y,x,y,u,O,g]),we=a.useCallback((()=>{var e;return null!=A?A:null==L||null==(e=L.nodesRef.current.find((e=>e.id===R)))||null==(e=e.context)||null==(e=e.dataRef)?void 0:e.current.orientation}),[R,L,A]),Se=ae((e=>{if(F.current=!1,j.current=!0,229===e.which)return;if(!Y.current&&e.currentTarget===x.current)return;if(_&&dn(e.key,S,f,C))return ln(e.key,we())||$(e),r(!1,e.nativeEvent,"list-navigation"),void((0,l.sb)(i.domReference)&&(g?null==L||L.events.emit("virtualfocus",i.domReference):i.domReference.focus()));const t=D.current,o=ue(u,w),a=ce(u,w);if(N||("Home"===e.key&&($(e),D.current=o,O()),"End"===e.key&&($(e),D.current=a,O())),C>1){const t=I||Array.from({length:u.current.length},(()=>({width:1,height:1}))),n=pe(t,C,T),r=n.findIndex((e=>null!=e&&!_e(u,e,w))),i=n.reduce(((e,t,n)=>null==t||_e(u,t,w)?e:n),-1),s=n[he({current:n.map((e=>null!=e?u.current[e]:null))},{event:e,orientation:S,loop:v,rtl:f,cols:C,disabledIndices:ve([...("function"!=typeof w?w:null)||u.current.map(((e,t)=>_e(u,t,w)?t:void 0)),void 0],n),minIndex:r,maxIndex:i,prevIndex:me(D.current>a?o:D.current,t,n,C,e.key===We?"bl":e.key===(f?Ve:Ue)?"tr":"tl"),stopEvent:!0})];if(null!=s&&(D.current=s,O()),"both"===S)return}if(ln(e.key,S)){if($(e),n&&!g&&W(e.currentTarget.ownerDocument)===e.currentTarget)return D.current=un(e.key,S,f)?o:a,void O();un(e.key,S,f)?D.current=v?t>=a?m&&t!==u.current.length?-1:o:de(u,{startingIndex:t,disabledIndices:w}):Math.min(a,de(u,{startingIndex:t,disabledIndices:w})):D.current=v?t<=o?m&&-1!==t?u.current.length:a:de(u,{startingIndex:t,decrement:!0,disabledIndices:w}):Math.max(o,de(u,{startingIndex:t,decrement:!0,disabledIndices:w})),le(u,D.current)&&(D.current=-1),O()}})),Ae=a.useMemo((()=>g&&n&&ye&&{"aria-activedescendant":fe||oe}),[g,n,ye,fe,oe]),Ce=a.useMemo((()=>(0,o.A)((0,o.A)({"aria-orientation":"both"===S?void 0:S},N?{}:Ae),{},{onKeyDown:Se,onPointerMove(){F.current=!0}})),[Ae,Se,S,N]),ke=a.useMemo((()=>{function e(e){"auto"===b&&ee(e.nativeEvent)&&(M.current=!0)}function t(e){M.current=b,"auto"===b&&te(e.nativeEvent)&&(M.current=!0)}return(0,o.A)((0,o.A)({},Ae),{},{onKeyDown(e){F.current=!1;const t=e.key.startsWith("Arrow"),i=["Home","End"].includes(e.key),o=t||i,a=cn(e.key,S,f),s=dn(e.key,S,f,C),l=cn(e.key,we(),f),c=ln(e.key,S),d=(_?l:c)||"Enter"===e.key||""===e.key.trim();if(g&&n){const t=null==L?void 0:L.nodesRef.current.find((e=>null==e.parentId)),n=L&&t?function(e,t){let n,r=-1;return function t(i,o){o>r&&(n=i,r=o),Z(e,i).forEach((e=>{t(e.id,o+1)}))}(t,0),e.find((e=>e.id===n))}(L.nodesRef.current,t.id):null;if(o&&n&&P){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(a||s){var h,m;const r=(null==(h=n.context)?void 0:h.elements.domReference)===e.currentTarget,i=s&&!r?null==(m=n.context)?void 0:m.elements.domReference:a?u.current.find((e=>(null==e?void 0:e.id)===oe)):null;i&&($(e),i.dispatchEvent(t),ge(void 0))}var v;if((c||i)&&n.context)if(n.context.open&&n.parentId&&e.currentTarget!==n.context.elements.domReference)return $(e),void(null==(v=n.context.elements.domReference)||v.dispatchEvent(t))}return Se(e)}if(n||E||!t){if(d){const t=ln(e.key,we());B.current=_&&t?null:e.key}_?l&&($(e),n?(D.current=ue(u,q.current),O()):r(!0,e.nativeEvent,"list-navigation")):c&&(null!=p&&(D.current=p),$(e),!n&&E?r(!0,e.nativeEvent,"list-navigation"):Se(e),n&&O())}},onFocus(){n&&!g&&(D.current=-1,O())},onPointerDown:t,onPointerEnter:t,onMouseDown:e,onClick:e})}),[oe,Ae,C,Se,q,b,u,_,O,r,n,E,S,we,f,p,L,g,P]);return a.useMemo((()=>h?{reference:ke,floating:Ce,item:Ee}:{}),[h,ke,Ce,Ee])}const pn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function mn(e,t){var n,r;void 0===t&&(t={});const{open:i,elements:s,floatingId:l}=e,{enabled:u=!0,role:c="dialog"}=t,d=tt(),h=(null==(n=s.domReference)?void 0:n.id)||d,p=a.useMemo((()=>{var e;return(null==(e=Q(s.floating))?void 0:e.id)||l}),[s.floating,l]),m=null!=(r=pn.get(c))?r:c,v=null!=at(),_=a.useMemo((()=>"tooltip"===m||"label"===c?{["aria-"+("label"===c?"labelledby":"describedby")]:i?p:void 0}:(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({"aria-expanded":i?"true":"false","aria-haspopup":"alertdialog"===m?"dialog":m,"aria-controls":i?p:void 0},"listbox"===m&&{role:"combobox"}),"menu"===m&&{id:h}),"menu"===m&&v&&{role:"menuitem"}),"select"===c&&{"aria-autocomplete":"none"}),"combobox"===c&&{"aria-autocomplete":"list"})),[m,p,v,i,h,c]),f=a.useMemo((()=>{const e=(0,o.A)({id:p},m&&{role:m});return"tooltip"===m||"label"===c?e:(0,o.A)((0,o.A)({},e),"menu"===m&&{"aria-labelledby":h})}),[m,p,h,c]),g=a.useCallback((e=>{let{active:t,selected:n}=e;const r=(0,o.A)({role:"option"},t&&{id:p+"-fui-option"});switch(c){case"select":case"combobox":return(0,o.A)((0,o.A)({},r),{},{"aria-selected":n})}return{}}),[p,c]);return a.useMemo((()=>u?{reference:_,floating:f,item:g}:{}),[u,_,f,g])}const vn=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase()));function _n(e,t){return"function"==typeof e?e(t):e}function fn(e,t){void 0===t&&(t={});const{open:n,elements:{floating:r}}=e,{duration:i=250}=t,o=("number"==typeof i?i:i.close)||0,[s,l]=a.useState("unmounted"),u=function(e,t){const[n,r]=a.useState(e);return e&&!n&&r(!0),a.useEffect((()=>{if(!e&&n){const e=setTimeout((()=>r(!1)),t);return()=>clearTimeout(e)}}),[e,n,t]),n}(n,o);return u||"close"!==s||l("unmounted"),re((()=>{if(r){if(n){l("initial");const e=requestAnimationFrame((()=>{Ce.flushSync((()=>{l("open")}))}));return()=>{cancelAnimationFrame(e)}}l("close")}}),[n,r]),{isMounted:u,status:s}}function gn(e,t){void 0===t&&(t={});const{initial:n={opacity:0},open:r,close:i,common:s,duration:l=250}=t,u=e.placement,c=u.split("-")[0],d=a.useMemo((()=>({side:c,placement:u})),[c,u]),h="number"==typeof l,p=(h?l:l.open)||0,m=(h?l:l.close)||0,[v,_]=a.useState((()=>(0,o.A)((0,o.A)({},_n(s,d)),_n(n,d)))),{isMounted:f,status:g}=fn(e,{duration:l}),b=ie(n),y=ie(r),E=ie(i),w=ie(s);return re((()=>{const e=_n(b.current,d),t=_n(E.current,d),n=_n(w.current,d),r=_n(y.current,d)||Object.keys(e).reduce(((e,t)=>(e[t]="",e)),{});if("initial"===g&&_((t=>(0,o.A)((0,o.A)({transitionProperty:t.transitionProperty},n),e))),"open"===g&&_((0,o.A)((0,o.A)({transitionProperty:Object.keys(r).map(vn).join(","),transitionDuration:p+"ms"},n),r)),"close"===g){const r=t||e;_((0,o.A)((0,o.A)({transitionProperty:Object.keys(r).map(vn).join(","),transitionDuration:m+"ms"},n),r))}}),[m,E,b,y,w,p,g,d]),{isMounted:f,styles:v}}function bn(e,t,n){void 0===n&&(n=!0);return e.filter((e=>{var r;return e.parentId===t&&(!n||(null==(r=e.context)?void 0:r.open))})).flatMap((t=>[t,...bn(e,t.id,n)]))}function yn(e,t){const[n,r]=e;let i=!1;const o=t.length;for(let e=0,a=o-1;e<o;a=e++){const[o,s]=t[e]||[0,0],[l,u]=t[a]||[0,0];s>=r!=u>=r&&n<=(l-o)*(r-s)/(u-s)+o&&(i=!i)}return i}function En(e){void 0===e&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e,i={current:-1};let o=!1,a=null,s=null,u="undefined"!=typeof performance?performance.now():0;const c=e=>{let{x:n,y:c,placement:d,elements:h,onClose:p,nodeId:m,tree:v}=e;return function(e){function _(){ht(i),p()}if(ht(i),!h.domReference||!h.floating||null==d||null==n||null==c)return;const{clientX:f,clientY:g}=e,b=[f,g],y=function(e){return"composedPath"in e?e.composedPath()[0]:e.target}(e),E="mouseleave"===e.type,w=bt(h.floating,y),S=bt(h.domReference,y),A=h.domReference.getBoundingClientRect(),C=h.floating.getBoundingClientRect(),k=d.split("-")[0],P=n>C.right-C.width/2,I=c>C.bottom-C.height/2,T=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(b,A),x=C.width>A.width,R=C.height>A.height,L=(x?A:C).left,O=(x?A:C).right,N=(R?A:C).top,M=(R?A:C).bottom;if(w&&(o=!0,!E))return;if(S&&(o=!1),S&&!E)return void(o=!0);if(E&&(0,l.vq)(e.relatedTarget)&&bt(h.floating,e.relatedTarget))return;if(v&&bn(v.nodesRef.current,m).length)return;if("top"===k&&c>=A.bottom-1||"bottom"===k&&c<=A.top+1||"left"===k&&n>=A.right-1||"right"===k&&n<=A.left+1)return _();let D=[];switch(k){case"top":D=[[L,A.top+1],[L,C.bottom-1],[O,C.bottom-1],[O,A.top+1]];break;case"bottom":D=[[L,C.top+1],[L,A.bottom-1],[O,A.bottom-1],[O,C.top+1]];break;case"left":D=[[C.right-1,M],[C.right-1,N],[A.left+1,N],[A.left+1,M]];break;case"right":D=[[A.right-1,M],[A.right-1,N],[C.left+1,N],[C.left+1,M]]}if(!yn([f,g],D)){if(o&&!T)return _();if(!E&&r){const t=function(e,t){const n=performance.now(),r=n-u;if(null===a||null===s||0===r)return a=e,s=t,u=n,null;const i=e-a,o=t-s,l=Math.sqrt(i*i+o*o);return a=e,s=t,u=n,l/r}(e.clientX,e.clientY);if(null!==t&&t<.1)return _()}yn([f,g],function(e){let[n,r]=e;switch(k){case"top":return[[x?n+t/2:P?n+4*t:n-4*t,r+t+1],[x?n-t/2:P?n+4*t:n-4*t,r+t+1],...[[C.left,P||x?C.bottom-t:C.top],[C.right,P?x?C.bottom-t:C.top:C.bottom-t]]];case"bottom":return[[x?n+t/2:P?n+4*t:n-4*t,r-t],[x?n-t/2:P?n+4*t:n-4*t,r-t],...[[C.left,P||x?C.top+t:C.bottom],[C.right,P?x?C.top+t:C.bottom:C.top+t]]];case"left":{const e=[n+t+1,R?r+t/2:I?r+4*t:r-4*t],i=[n+t+1,R?r-t/2:I?r+4*t:r-4*t];return[...[[I||R?C.right-t:C.left,C.top],[I?R?C.right-t:C.left:C.right-t,C.bottom]],e,i]}case"right":return[[n-t,R?r+t/2:I?r+4*t:r-4*t],[n-t,R?r-t/2:I?r+4*t:r-4*t],...[[I||R?C.left+t:C.right,C.top],[I?R?C.left+t:C.right:C.left+t,C.bottom]]]}}([n,c]))?!o&&r&&(i.current=window.setTimeout(_,40)):_()}}};return c.__options={blockPointerEvents:n},c}},4962:(e,t,n)=>{"use strict";n.d(t,{$4:()=>P,CP:()=>k,L9:()=>C,Ll:()=>s,Lv:()=>m,Ng:()=>c,Tc:()=>w,Tf:()=>_,ZU:()=>h,_m:()=>x,ep:()=>a,eu:()=>A,gJ:()=>E,mq:()=>i,sQ:()=>y,sb:()=>u,v9:()=>T,vq:()=>l,zk:()=>o});n(2358),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(752);function r(){return"undefined"!=typeof window}function i(e){return s(e)?(e.nodeName||"").toLowerCase():"#document"}function o(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function a(e){var t;return null==(t=(s(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function s(e){return!!r()&&(e instanceof Node||e instanceof o(e).Node)}function l(e){return!!r()&&(e instanceof Element||e instanceof o(e).Element)}function u(e){return!!r()&&(e instanceof HTMLElement||e instanceof o(e).HTMLElement)}function c(e){return!(!r()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof o(e).ShadowRoot)}const d=new Set(["inline","contents"]);function h(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=C(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!d.has(i)}const p=new Set(["table","td","th"]);function m(e){return p.has(i(e))}const v=[":popover-open",":modal"];function _(e){return v.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}const f=["transform","translate","scale","rotate","perspective"],g=["transform","translate","scale","rotate","perspective","filter"],b=["paint","layout","strict","content"];function y(e){const t=w(),n=l(e)?C(e):e;return f.some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||g.some((e=>(n.willChange||"").includes(e)))||b.some((e=>(n.contain||"").includes(e)))}function E(e){let t=P(e);for(;u(t)&&!A(t);){if(y(t))return t;if(_(t))return null;t=P(t)}return null}function w(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const S=new Set(["html","body","#document"]);function A(e){return S.has(i(e))}function C(e){return o(e).getComputedStyle(e)}function k(e){return l(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function P(e){if("html"===i(e))return e;const t=e.assignedSlot||e.parentNode||c(e)&&e.host||a(e);return c(t)?t.host:t}function I(e){const t=P(e);return A(t)?e.ownerDocument?e.ownerDocument.body:e.body:u(t)&&h(t)?t:I(t)}function T(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=I(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),s=o(i);if(a){const e=x(s);return t.concat(s,s.visualViewport||[],h(i)?i:[],e&&n?T(e):[])}return t.concat(i,T(i,[],n))}function x(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}},2996:(e,t,n)=>{"use strict";n.d(t,{B1:()=>R,C0:()=>m,Dz:()=>y,Jx:()=>u,LI:()=>s,PG:()=>_,RI:()=>l,Sg:()=>v,T9:()=>a,TV:()=>b,WJ:()=>w,_3:()=>p,bV:()=>T,jk:()=>o,lP:()=>I,nI:()=>x,qE:()=>h,r_:()=>i,sq:()=>f,w7:()=>E});var r=n(9067);n(2358),n(9419),n(5198),n(5736),n(4817),n(7224),n(5783),n(1292),n(1446),n(752);const i=["top","right","bottom","left"],o=Math.min,a=Math.max,s=Math.round,l=Math.floor,u=e=>({x:e,y:e}),c={left:"right",right:"left",bottom:"top",top:"bottom"},d={start:"end",end:"start"};function h(e,t,n){return a(e,o(t,n))}function p(e,t){return"function"==typeof e?e(t):e}function m(e){return e.split("-")[0]}function v(e){return e.split("-")[1]}function _(e){return"x"===e?"y":"x"}function f(e){return"y"===e?"height":"width"}const g=new Set(["top","bottom"]);function b(e){return g.has(m(e))?"y":"x"}function y(e){return _(b(e))}function E(e,t,n){void 0===n&&(n=!1);const r=v(e),i=y(e),o=f(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=T(a)),[a,T(a)]}function w(e){const t=T(e);return[S(e),t,S(t)]}function S(e){return e.replace(/start|end/g,(e=>d[e]))}const A=["left","right"],C=["right","left"],k=["top","bottom"],P=["bottom","top"];function I(e,t,n,r){const i=v(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?C:A:t?A:C;case"left":case"right":return t?k:P;default:return[]}}(m(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(S)))),o}function T(e){return e.replace(/left|right|bottom|top/g,(e=>c[e]))}function x(e){return"number"!=typeof e?function(e){return(0,r.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function R(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}},2245:(e,t,n)=>{"use strict";n.d(t,{E:()=>p});var r=n(9067),i=n(1824),o=n(3961),a=n(8717),s=n(725);const l={l:"caption-s-medium",m:"caption-s-medium",s:"caption-xs-medium"},u={VARIANT:"primary",SIZE:"l"};var c=n(9276);const d=["style","className","variant","size","icon","children"],h={root:"_root_73bb71_v1-27-0","size-s":"_size-s_73bb71_v1-27-0","size-m":"_size-m_73bb71_v1-27-0","size-l":"_size-l_73bb71_v1-27-0",primary:"_primary_73bb71_v1-27-0","secondary-blur":"_secondary-blur_73bb71_v1-27-0",secondary:"_secondary_73bb71_v1-27-0","invert-primary":"_invert-primary_73bb71_v1-27-0"},p=(0,a.forwardRef)(((e,t)=>{const{style:n,className:a,variant:p=u.VARIANT,size:m=u.SIZE,icon:v,children:_}=e,f=(0,i.A)(e,d),g=!!v,b=(0,c.c)(h.root,h["size-".concat(m)],h[p],a);return(0,o.jsxs)("div",(0,r.A)((0,r.A)({ref:t,style:n,className:b},f),{},{children:[g&&v,_&&(0,o.jsx)(s.o,{variant:l[m],as:"span",color:"inherit",children:_})]}))}));p.displayName="Badge"},2925:(e,t,n)=>{"use strict";n.d(t,{m:()=>F});var r=n(9067),i=(n(7293),n(8717)),o=n(2564);const a=(0,i.createContext)(null);a.displayName="Tooltip.Context";const s=()=>{const e=(0,i.useContext)(a);if(!e)throw new Error("[@rutube/freyr][Tooltip.Context] Tooltip.* components must be used within a Tooltip.");return e},l=(0,i.forwardRef)(((e,t)=>{const{refs:n,activeAnchorId:i,isCursorPlacement:a}=s();if(a)throw new Error('[@rutube/freyr] Tooltip.Anchor: "cursor" Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð»Ñ Ñ‚ÑƒÐ»Ñ‚Ð¸Ð¿Ð° Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Anchor, Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚ Trigger');return(0,o.t)((0,r.A)((0,r.A)({},e),{},{ref:t,setPositionReference:n.setPositionReference,activeAnchorId:i}))}));l.displayName="TooltipAnchor";var u=n(1824),c=n(3961),d=n(775),h=n(7757);const p="M15.3004 14.4738C13.4436 12.2132 11.6258 10 10 10C8.37425 10 6.55641 12.2132 4.69962 14.4738C3.13008 16.3847 1.53271 18.3294 0 19V20H20V19C18.4673 18.3294 16.8699 16.3847 15.3004 14.4738Z",m=20,v=10,_=4,f={BORDER_RADIUS:12,TOGGLE_ANIMATION_DURATION:150,PLACEMENT_ANIMATION_DURATION:100,get PLACEMENT_TRANSITION(){return"transform ".concat(this.PLACEMENT_ANIMATION_DURATION,"ms ease-out")}},g={PLACEMENT:"bottom",PLACEMENT_STRATEGY:"absolute",TRIGGER_ON:["hover","focus"],MOUSE_ENTER_DELAY:100,MOUSE_LEAVE_DELAY:100,CURSOR_MOUSE_ENTER_DELAY:200,CURSOR_MOUSE_LEAVE_DELAY:200,TOGGLE_ON_CLICK:!0,CLOSE_ON_ESCAPE:!1,CLOSE_ON_SCROLL:!1,CLOSE_ON_TRIGGER_CLICK:!1,ENABLE_SAFE_POLYGON:!0,PLACEMENT_SEQUENCE:["bottom","bottom-start","bottom-end","right","right-start","right-end","left","left-start","left-end","top","top-start","top-end"],SAFE_POLYGON_OPTIONS:{buffer:.5,blockPointerEvents:!0,requireIntent:!0},OFFSET_OPTIONS:{mainAxis:v+_}},b=["right-start","right-end","left-start","left-end"],y={"left-start":{mainAxis:5,alignmentAxis:5},"left-end":{mainAxis:2,alignmentAxis:2},"right-start":{mainAxis:10,alignmentAxis:20},"right-end":{mainAxis:5,alignmentAxis:2}},E={root:"_root_6d1f62_v1-27-0",container:"_container_6d1f62_v1-27-0",tooltip:"_tooltip_6d1f62_v1-27-0",arrow:"_arrow_6d1f62_v1-27-0","placement-top-start":"_placement-top-start_6d1f62_v1-27-0","placement-top":"_placement-top_6d1f62_v1-27-0","placement-top-end":"_placement-top-end_6d1f62_v1-27-0","placement-bottom-start":"_placement-bottom-start_6d1f62_v1-27-0","placement-bottom":"_placement-bottom_6d1f62_v1-27-0","placement-bottom-end":"_placement-bottom-end_6d1f62_v1-27-0","placement-right-start":"_placement-right-start_6d1f62_v1-27-0","placement-right":"_placement-right_6d1f62_v1-27-0","placement-right-end":"_placement-right-end_6d1f62_v1-27-0","placement-left-start":"_placement-left-start_6d1f62_v1-27-0","placement-left":"_placement-left_6d1f62_v1-27-0","placement-left-end":"_placement-left-end_6d1f62_v1-27-0"},w=()=>{const{context:e,arrowRef:t}=s();return(0,c.jsx)(d.ie,{role:"presentation",ref:t,className:E.arrow,style:{transform:"translateY(1px)"},context:e,d:p,width:m,height:v})};w.displayName="Tooltip.Arrow";var S=n(9276);const A=["className","style","zIndex","children","enableFocusManager","focusManagerProps"],C=(0,i.forwardRef)(((e,t)=>{var n,i;const{className:o,style:a,zIndex:l,children:p,enableFocusManager:m=!1,focusManagerProps:v}=e,_=(0,u.A)(e,A),{refs:f,context:g,placement:b,getFloatingProps:y,isMounted:C,isCursorPlacement:k,isContainerReady:P,isReadyForFocus:I,floatingStyles:T,transitionStyles:x,handleTransitionEnd:R,tooltipContainer:L}=s(),O=(0,d.SV)([f.setFloating,t]);if(!C||!P)return null;const N=null==(i=null==(n=null==g?void 0:g.middlewareData)?void 0:n.hide)?void 0:i.referenceHidden,M=y({style:(0,r.A)((0,r.A)((0,r.A)({},T),a),{},{zIndex:l,visibility:!C||N?"hidden":"unset"})}),D=(0,S.c)(E.root,E["placement-".concat(b)]),B=(0,S.c)(o,E.tooltip);return(0,c.jsx)(d.XF,{root:L,children:(0,c.jsx)(d.s3,(0,r.A)((0,r.A)({},v),{},{context:g,disabled:!(m&&I),children:(0,c.jsx)(h.N,{scoped:!0,children:(0,c.jsx)("div",(0,r.A)((0,r.A)((0,r.A)({ref:O,className:D},M),_),{},{children:(0,c.jsxs)("div",{className:E.container,style:x,onTransitionEnd:R,children:[(0,c.jsx)("div",{className:B,children:p}),k?null:(0,c.jsx)(w,{})]})}))})}))})}));C.displayName="TooltipContent";n(752);var k=n(3838),P=n(7918),I=n(8469),T=n(6598),x=n(5853),R=n(9756),L=n(334);const O=(e,t)=>!t.includes("none")&&t.includes(e),N=["children","activeAnchorId","activeTriggerId"],M=(0,i.forwardRef)(((e,t)=>{const{children:n,activeAnchorId:o,activeTriggerId:s}=e,l=(0,u.A)(e,N),h=(e=>{const{isOpenControlled:t,open:n,defaultOpen:o,triggerOn:a=g.TRIGGER_ON,container:s,constraintContainer:l,placement:u=g.PLACEMENT,placementStrategy:c=g.PLACEMENT_STRATEGY,placementSequence:h=g.PLACEMENT_SEQUENCE,clickOutsideIgnoreElement:p,toggleOnClick:v=g.TOGGLE_ON_CLICK,closeOnEscape:_=g.CLOSE_ON_ESCAPE,closeOnScroll:E=g.CLOSE_ON_SCROLL,closeOnTriggerClick:w=g.CLOSE_ON_TRIGGER_CLICK,enableSafePolygon:S=g.ENABLE_SAFE_POLYGON,mouseEnterDelay:A,mouseLeaveDelay:C,offsetOptions:N,safePolygonOptions:M,onOpenChange:D,onAfterOpenChange:B}=e,F=(0,i.useRef)(null),[H,V]=(0,x.D)({value:t?n:void 0,defaultValue:o,onChange:D}),U=(0,T.n)(s),j=(0,T.n)(l),W="cursor"===u,z=W?0:f.BORDER_RADIUS,G=W?b:null!=h?h:g.PLACEMENT_SEQUENCE,q=W?g.CURSOR_MOUSE_ENTER_DELAY:g.MOUSE_ENTER_DELAY,K=W?g.CURSOR_MOUSE_LEAVE_DELAY:g.MOUSE_LEAVE_DELAY,Y=(0,d.we)({open:H,onOpenChange:V,placement:W?"right-start":u,strategy:c,whileElementsMounted:k.ll,middleware:[(0,P.cY)((e=>{let{placement:t}=e;return W?y[t]:(0,r.A)((0,r.A)({},g.OFFSET_OPTIONS),N)}),[N,W]),(0,P.UU)({fallbackPlacements:G,boundary:j}),!W&&(0,P.BN)({limiter:(0,P.ER)({offset:z+m/2}),boundary:j}),!W&&(0,P.UE)({element:F,padding:z}),(0,P.jD)({strategy:"referenceHidden",boundary:j})]}),X=Y.context,Q=(0,d.kp)(X,{enabled:O("click",a),toggle:v}),Z=(0,d.Mk)(X,{move:!w,delay:{open:null!=A?A:q,close:null!=C?C:K},handleClose:S?(0,d.iB)((0,r.A)((0,r.A)({},g.SAFE_POLYGON_OPTIONS),M)):null,enabled:O("hover",a)}),J=(0,d.iQ)(X,{enabled:O("focus",a)}),$=(0,i.useCallback)((e=>{const t=e.target,n="string"==typeof p?t.closest(p):p;return!(null!=n&&n.contains(t))}),[p]),ee=(0,d.s9)(X,{outsidePress:$,escapeKey:_,ancestorScroll:E,referencePress:!O("click",a)&&w}),te=(0,d.It)(X,{role:"tooltip"}),ne=(0,d.bv)([Q,Z,J,ee,te]),{status:re}=(0,d.$X)(X,{duration:f.TOGGLE_ANIMATION_DURATION}),{isMounted:ie,styles:oe}=(0,d.DL)(X,{duration:f.TOGGLE_ANIMATION_DURATION,initial:{opacity:0,transform:"scale(0.75)"}});(0,R.c)({status:re,placement:Y.placement,floating:Y.elements.floating,transition:f.PLACEMENT_TRANSITION,duration:f.PLACEMENT_ANIMATION_DURATION});const{isReadyForFocus:ae,onTransitionEnd:se}=(0,L.a)({isMounted:ie,status:re}),{handleTransitionEnd:le}=(0,I.y)({status:re,onAfterOpenChange:B}),ue=(0,i.useCallback)((e=>{se(),le(e)}),[le,se]),ce=(0,i.useCallback)((e=>{const{clientX:t,clientY:n}=e;H||Y.refs.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:t,y:n,left:t,right:t,top:n,bottom:n}}})}),[Y.refs,H]),de=(0,i.useCallback)((()=>{V(!0)}),[V]),he=(0,i.useCallback)((()=>{V(!1)}),[V]),pe=!("container"in e)||!!U;return(0,i.useMemo)((()=>(0,r.A)((0,r.A)((0,r.A)({},Y),ne),{},{isOpen:H,isMounted:ie,isCursorPlacement:W,isReadyForFocus:ae,arrowRef:F,transitionStyles:oe,handleTransitionEnd:ue,tooltipContainer:U,isContainerReady:pe,status:re,openTooltip:de,closeTooltip:he,onTriggerMouseMove:ce})),[Y,ne,H,ie,W,ae,oe,ue,U,pe,re,de,he,ce])})((0,r.A)({isOpenControlled:"open"in l},l)),{isOpen:p,refs:v,status:_,openTooltip:E,closeTooltip:w}=h;return(0,i.useImperativeHandle)(t,(()=>{var e,t;return{isOpen:p,trigger:null==(e=v.reference)?void 0:e.current,content:"unmounted"===_?null:null==(t=v.floating)?void 0:t.current,openTooltip:E,closeTooltip:w}}),[v.floating,v.reference,_,p,E,w]),(0,c.jsx)(a.Provider,{value:(0,r.A)((0,r.A)({},h),{},{activeAnchorId:o,activeTriggerId:s}),children:n})}));M.displayName="Tooltip";var D=n(7505);const B=(0,i.forwardRef)(((e,t)=>{const{refs:n,getReferenceProps:i,activeTriggerId:o,isCursorPlacement:a,onTriggerMouseMove:l}=s();return(0,D.O)((0,r.A)((0,r.A)({},e),{},{ref:t,setReference:n.setReference,getReferenceProps:i,activeTriggerId:o,additionalProps:{onMouseMove:a?l:void 0}}))}));B.displayName="TooltipTrigger";const F=Object.assign(M,{Anchor:l,Trigger:B,Content:C});F.Trigger.displayName="Tooltip.Trigger",F.Anchor.displayName="Tooltip.Anchor",F.Content.displayName="Tooltip.Content"},725:(e,t,n)=>{"use strict";n.d(t,{o:()=>m});var r=n(9067),i=n(1824),o=n(3961),a=n(8717),s=n(9276);n(1631),n(914),n(2358),n(9419);const l="--rt-font-line-clamp",u={COLOR:"primary",VARIANT:"body-l-regular",TAG:"p"},c={"title-promo-l":"div","title-promo-m":"div","title-headline-1":"h1","title-headline-2":"h2","title-headline-3":"h3","title-headline-4":"h4","title-headline-5":"h5","subheader-xxxl-regular":"p","subheader-xxl-regular":"p","body-xl-medium":"p","body-xl-regular":"p","body-l-medium":"p","body-l-regular":"p","body-m-medium":"p","body-m-regular":"p","caption-s-medium":"p","caption-s-regular":"p","caption-xs-medium":"p","caption-xs-regular":"p","paragraph-l-regular":"p"},d=e=>e?{[l]:e}:{},h=["style","className","as","children","color","variant","disabled","ellipsis","lineClamp","wordBreak"],p={root:"_root_388a98_v1-27-0",primary:"_primary_388a98_v1-27-0",secondary:"_secondary_388a98_v1-27-0",tertiary:"_tertiary_388a98_v1-27-0","invert-primary":"_invert-primary_388a98_v1-27-0","invert-secondary":"_invert-secondary_388a98_v1-27-0","static-light-primary":"_static-light-primary_388a98_v1-27-0","static-dark-primary":"_static-dark-primary_388a98_v1-27-0","success-primary":"_success-primary_388a98_v1-27-0","error-primary":"_error-primary_388a98_v1-27-0","info-primary":"_info-primary_388a98_v1-27-0","warning-primary":"_warning-primary_388a98_v1-27-0",inherit:"_inherit_388a98_v1-27-0",disabled:"_disabled_388a98_v1-27-0","title-promo-l":"_title-promo-l_388a98_v1-27-0","title-promo-m":"_title-promo-m_388a98_v1-27-0","title-headline-1":"_title-headline-1_388a98_v1-27-0","title-headline-2":"_title-headline-2_388a98_v1-27-0","title-headline-3":"_title-headline-3_388a98_v1-27-0","title-headline-4":"_title-headline-4_388a98_v1-27-0","title-headline-5":"_title-headline-5_388a98_v1-27-0","subheader-xxxl-regular":"_subheader-xxxl-regular_388a98_v1-27-0","subheader-xxl-regular":"_subheader-xxl-regular_388a98_v1-27-0","body-xl-medium":"_body-xl-medium_388a98_v1-27-0","body-xl-regular":"_body-xl-regular_388a98_v1-27-0","body-l-medium":"_body-l-medium_388a98_v1-27-0","body-l-regular":"_body-l-regular_388a98_v1-27-0","body-m-medium":"_body-m-medium_388a98_v1-27-0","body-m-regular":"_body-m-regular_388a98_v1-27-0","caption-s-medium":"_caption-s-medium_388a98_v1-27-0","caption-s-regular":"_caption-s-regular_388a98_v1-27-0","caption-xs-medium":"_caption-xs-medium_388a98_v1-27-0","caption-xs-regular":"_caption-xs-regular_388a98_v1-27-0","paragraph-l-regular":"_paragraph-l-regular_388a98_v1-27-0",ellipsis:"_ellipsis_388a98_v1-27-0",breakWord:"_breakWord_388a98_v1-27-0",breakAll:"_breakAll_388a98_v1-27-0",lineClamp:"_lineClamp_388a98_v1-27-0"},m=(0,a.forwardRef)((function(e,t){var n;const{style:a,className:l,as:m,children:v,color:_=u.COLOR,variant:f=u.VARIANT,disabled:g,ellipsis:b,lineClamp:y,wordBreak:E}=e,w=(0,i.A)(e,h),S=null!==(n=null!=m?m:c[f])&&void 0!==n?n:u.TAG,A=E&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(Array.isArray(t.delimiter)?t.delimiter:[t.delimiter||"-"]).map((e=>e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))),r=new RegExp("[".concat(n.join(""),"]"));return e.split(r).filter((e=>e.length>0)).map(((e,t)=>{const n=e.toLowerCase();return 0===t?n:n.charAt(0).toUpperCase()+n.slice(1)})).join("")}(E),C=(0,s.c)(l,p.root,p[f],p[_],A&&p[A],{[p.ellipsis]:b,[p.lineClamp]:y,[p.disabled]:g});return(0,o.jsx)(S,(0,r.A)((0,r.A)({ref:t,className:C,style:(0,r.A)((0,r.A)({},a),d(y)),disabled:g},w),{},{children:v}))}));m.displayName="Typography"},7757:(e,t,n)=>{"use strict";n.d(t,{N:()=>P});var r=n(3961),i=n(8717);const o=(0,i.createContext)(null);o.displayName="ThemeNestedContext";const a=(0,i.createContext)(null);a.displayName="ThemeRoot.Context";var s=n(9067),l=(n(752),n(6737));const u="system",c=()=>null==document?void 0:document.documentElement,d="data-themeid",h="(prefers-color-scheme: dark)",p={light:"dark",dark:"light",system:"system"},m=e=>{const{children:t,theme:n,invert:u}=e,c=(0,i.useContext)(a),h=(0,i.useContext)(o)||c,m=null==h?void 0:h.theme,v=u?p[m]:null!=n?n:m,[_,f]=(0,i.useState)(null),[g,b]=(0,i.useState)(!1),y=null!=_?_:v,E=(0,i.useCallback)((e=>{f(e)}),[]),w=(0,i.useCallback)((()=>{const e=p[y];return E(e),e}),[E,y]),S=(0,i.useCallback)((()=>{f(null)}),[]);(0,l.E)((()=>{b(!0)}),[]);const A=(0,i.useMemo)((()=>!u||g?{[d]:y}:void 0),[g,u,y]),C=(0,i.useMemo)((()=>({theme:y,parentTheme:m,setTheme:E,toggleTheme:w,resetTheme:S})),[y,m,E,w,S]);return(0,r.jsx)(o.Provider,{value:C,children:(0,r.jsx)("div",(0,s.A)((0,s.A)({style:{display:"contents"}},A),{},{children:t}))})};m.displayName="ThemeNestedProvider";var v=n(3184);const _=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[n,r]=(0,i.useState)(t),o=(0,i.useCallback)((e=>{r(e.matches)}),[]);return(0,i.useEffect)((()=>{const t=window.matchMedia(e);return((e,t)=>{try{e.addEventListener("change",t)}catch(n){e.addListener(t)}})(t,o),r(t.matches),()=>{((e,t)=>{try{e.removeEventListener("change",t)}catch(n){e.removeListener(t)}})(t,o)}}),[e,o]),n};var f=Object.defineProperty,g=(e,t,n)=>((e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class b{constructor(e){var t;g(this,"_key"),this._key=null!==(t=e.key)&&void 0!==t?t:"default-storage-key"}get key(){return this._key}set key(e){this._key=e}}const y={resolvedTheme:"dark",isSystem:!1},E=e=>{const{theme:t,defaultTheme:n=u,storage:r}=e;try{var i;if(typeof window>"u")return y;const e=r.get();let o=null!==(i=null!=t?t:e)&&void 0!==i?i:n,a=!1;return"system"===o&&(o=window.matchMedia(h).matches?"dark":"light",a=!0),{resolvedTheme:o,isSystem:a}}catch(e){return console.warn("[@rutube/freyr] ThemeProvider was unable to resolve theme.",e),y}},w=e=>!!e&&["light","dark","system"].some((t=>t===e));var S=Object.defineProperty,A=(e,t,n)=>((e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);const C=new class extends b{constructor(e){var t;super({key:null!==(t=null==e?void 0:e.key)&&void 0!==t?t:"freyr-theme-value"}),A(this,"handleStorageEvent",null)}isServer(){return typeof window>"u"}get(e){if(this.isServer())return e;try{const t=window.localStorage.getItem(this.key);return w(t)?t:e}catch(t){return e}}set(e){if(!this.isServer())try{window.localStorage.setItem(this.key,e)}catch(e){console.warn("[@rutube/freyr] LocalStorageThemeManager was unable to save theme.",e)}}clear(){if(!this.isServer())try{window.localStorage.removeItem(this.key)}catch(e){console.warn("[@rutube/freyr] LocalStorageThemeManager was unable to clear theme.",e)}}subscribe(e){this.isServer()||(this.handleStorageEvent=t=>{const{storageArea:n,key:r,newValue:i}=t;n===window.localStorage&&r===this.key&&w(i)&&e(i)},window.addEventListener("storage",this.handleStorageEvent))}unsubscribe(){this.isServer()||!this.handleStorageEvent||(window.removeEventListener("storage",this.handleStorageEvent),this.handleStorageEvent=null)}},k=e=>{const{children:t,theme:n,defaultTheme:o=u,getRootElement:s=c,localStorageKey:l}=e,m=void 0!==n;l&&l!==C.key&&(C.key=l);const{resolvedTheme:f,isSystem:g}=E({theme:n,defaultTheme:o,storage:C}),[b,y]=(0,i.useState)(f),w=_(h),S=(0,i.useCallback)((e=>{var t;null==(t=s())||t.setAttribute(d,e)}),[s]),A=(0,i.useCallback)((e=>{y(e),C.set(e)}),[]),k=(0,i.useCallback)((()=>{const e=p[b];return A(e),e}),[A,b]),P=(0,i.useCallback)((()=>{C.clear();const{resolvedTheme:e}=E({theme:n,defaultTheme:o,storage:C});y(e)}),[n,o]);(0,i.useEffect)((()=>{if(!m)return C.subscribe(A),()=>C.unsubscribe()}),[m,A]),(0,i.useEffect)((()=>{m&&y(E({theme:n,storage:C}).resolvedTheme)}),[m,n]),(0,i.useEffect)((()=>{S(b)}),[S,b]),(0,v.C)((()=>{g&&y(w?"dark":"light")}),[g,w]);const I=(0,i.useMemo)((()=>({theme:b,setTheme:A,toggleTheme:k,resetTheme:P})),[A,k,P,b]);return(0,r.jsx)(a.Provider,{value:I,children:t})};k.displayName="ThemeRootProvider";const P=e=>{const{children:t,theme:n,defaultTheme:s,invert:l,getRootElement:u,scoped:c,localStorageKey:d}=e,h=(0,i.useContext)(a),p=(0,i.useContext)(o);return h||p||c?(0,r.jsx)(m,{theme:n,invert:l,children:t}):(0,r.jsx)(k,{theme:n,defaultTheme:s,getRootElement:u,localStorageKey:d,children:t})};P.displayName="ThemeProvider"},6737:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(8717);const i=typeof document<"u"?r.useLayoutEffect:r.useEffect},9276:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}n.d(t,{c:()=>a});var i,o={exports:{}};i=o,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=r(e,n(i)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var i="";for(var o in n)e.call(n,o)&&n[o]&&(i=r(i,o));return i}function r(e,t){return t?e?e+" "+t:e+t:e}i.exports?(t.default=t,i.exports=t):window.classNames=t}();const a=r(o.exports)},8469:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var r=n(8717),i=n(7208);const o=e=>{const{status:t,transitionProperty:n="opacity",onAfterOpenChange:o}=e,a=(0,r.useRef)(null),s=(0,i.Z)(t),l=(0,r.useCallback)((e=>{typeof window>"u"||(a.current=window.requestAnimationFrame((()=>{null==o||o(e)})))}),[o]),u=(0,r.useCallback)((e=>{e.propertyName===n&&"open"===t&&e.target===e.currentTarget&&l(!0)}),[t,n,l]);return(0,r.useEffect)((()=>{"close"===s&&"unmounted"===t&&l(!1)}),[t,s,l]),(0,r.useEffect)((()=>()=>{window.cancelAnimationFrame(a.current)}),[]),{handleTransitionEnd:u}}},2564:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(9067),i=n(8717),o=n(775);const a=e=>{const{children:t,ref:n,setPositionReference:a,getAnchorReference:s,anchorId:l,activeAnchorId:u,additionalProps:c}=e,d=(0,i.useCallback)((e=>{var t;null==a||a(null!==(t=null==s?void 0:s(e))&&void 0!==t?t:e)}),[s,a]),h=(0,o.SV)([n,d,null==t?void 0:t.ref]);return(0,i.isValidElement)(t)?void 0!==u&&l!==u?t:(0,i.cloneElement)(t,(0,r.A)({ref:h},c)):null}},6598:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});n(752);var r=n(8717),i=n(6737);const o=e=>{const[t,n]=(0,r.useState)();return(0,i.E)((()=>{let t;e?"string"==typeof e?t=document.querySelector(e):e&&(t=e):t=void 0,n(t)}),[e]),t}},5853:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});n(752);var r=n(8717);function i(e){const{value:t,defaultValue:n,onChange:i}=e,o=void 0!==t,[a,s]=(0,r.useState)(null!=n&&n),l=(0,r.useRef)(o?t:a);l.current=o?t:a;const u=(0,r.useCallback)(((e,t,n)=>{const r=e;l.current!==r&&(o||(l.current=r,s(r)),t?null==i||i(r,{evt:t,reason:n}):null==i||i(r))}),[o,i]);return[o?t:a,u]}},9756:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(8717),i=n(6737);const o=e=>{const{status:t,placement:n,floating:o,transition:a,duration:s=0}=e,l=(0,r.useRef)(n);(0,i.E)((()=>{let e,r=null;if(o&&"open"===t&&l.current!==n)return o.style.transition=a||"",l.current=n,r=window.setTimeout((()=>{e=window.requestAnimationFrame((()=>{o.style.transition=""}))}),s),()=>{o&&(o.style.transition=""),window.clearTimeout(r),window.cancelAnimationFrame(e)}}),[s,n,t,o,a])}},334:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});n(752);var r=n(8717);const i=e=>{const{isMounted:t,status:n}=e,[i,o]=(0,r.useState)(!1),a=(0,r.useCallback)((()=>{o(!0)}),[]);return(0,r.useEffect)((()=>{(!t||"close"===n||"unmounted"===n)&&o(!1)}),[t,n]),{onTransitionEnd:a,isReadyForFocus:i&&"open"===n}}},7505:(e,t,n)=>{"use strict";n.d(t,{O:()=>u});var r=n(9067),i=n(1824),o=n(8717),a=n(775),s=n(9276);const l=["children","ref","setReference","getReferenceProps","triggerId","activeTriggerId","additionalClassNames","additionalProps"],u=e=>{const{children:t,ref:n,setReference:u,getReferenceProps:c,triggerId:d,activeTriggerId:h,additionalClassNames:p={},additionalProps:m}=e,v=(0,i.A)(e,l),_=(0,a.SV)([n,u,null==t?void 0:t.ref]);if(!(0,o.isValidElement)(t))return null;if(void 0!==h&&d!==h)return t;const f=t.props||{},g=f.className,{disabled:b}=f,y=(0,s.c)(g,(0,r.A)({},p)),E=(0,r.A)((0,r.A)((0,r.A)({},v),f),{},{ref:_,className:y},m);return b?t:(0,o.cloneElement)(t,(0,r.A)({},c(E)))}},3184:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var r=n(8717);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,r.useRef)(!1);(0,r.useEffect)((()=>()=>{n.current=!1}),[]),(0,r.useEffect)((()=>{if(n.current)return e();n.current=!0}),t)}},7208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8717);const i=e=>{const t=(0,r.useRef)(e),n=(0,r.useRef)();return t.current!==e&&(n.current=t.current,t.current=e),n.current}},7180:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(2358),n(9419);function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var i=function e(t,n){function i(e,i,o){if("undefined"!=typeof document){"number"==typeof(o=r({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in o)o[s]&&(a+="; "+s,!0!==o[s]&&(a+="="+o[s].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+a}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){i(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,a.d(i,o),i},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"index.7057a3254e25aaae6402.js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="@rutube/raichu-embed:",a.l=(e,t,i,o)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+i),s.src=e),n[e]=[t];var h=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="https://static.rutube.ru/raichu-embed",(()=>{var e={792:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,s,l]=n,u=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)l(a)}for(t&&t(n);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunk_rutube_raichu_embed=self.webpackChunk_rutube_raichu_embed||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";a(752);var e=a(611);a(4401);var t=a(8717),n=a(3509),r=a(2514);const i="stub-embed-module__wrapper___mv5SP",o="stub-embed-module__icon___dAqMD",s=e=>{let{backgroundImage:n,handleStubPlay:r}=e;return n?t.createElement("div",{className:i,style:{backgroundImage:"url(".concat(n,")")},onClick:r},t.createElement("div",{className:o})):null};var l=a(9067);const u="dark2021",c="white2021",d="white2022",h="auto",p={[u]:{base:"#000000",base20:"rgba(0, 0, 0, 0.2)",base50:"rgba(0, 0, 0, 0.5)",primaryold:"#242D36",primary:"#14191F",primaryWhite:"#F6F6F6",secondary1002:"#1C232B",secondary1001:"#000000",secondary1000:"#1C232B",secondary900:"#1C232B",secondary802:"#29333D",secondary801:"#212932",secondary800:"#212932",secondary702:"#3D4A58",secondary701:"#29333D",secondary700:"#29333D",secondary604:"#212932",secondary603:"#5A6877",secondary602:"#29333D",secondary601:"#3D4A58",secondary600:"#3D4A58",secondary501:"#889BAF",secondary500:"#5A6877",secondary400:"#889BAF",secondary302:"#BFC9D4",secondary301:"#A7B4C4",secondary300:"#A7B4C4",secondary201:"#E1E5EA",secondary200:"#BFC9D4",secondary101:"#EAEDF1",secondary100:"#E1E5EA",secondary51:"#EAEDF1",secondary50:"#EAEDF1",secondary49:"#FFFFFF",secondary3:"#FFFFFF",secondary2:"#F6F6F6",secondary1:"#FFFFFF",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.4deg, #222B34 0.11%, #1E262E 100%)",accent:"#00A1E7",accent400:"#E15554",accent700:"#be4847",liveMark:"#F41240",hover:"#203753",accentHover:"#1EABE9",accentPressed:"#0096D8",lightCoral:"#27323F",lightCoralHover:"#203753",lightCoralPressed:"#203753",text:"#FFFFFF",textHover:"#00A1E7",textActive:"#0096D8",error:"#E15554",buttonPrimary:"#00A1E7",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#1EABE9",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#0096D8",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#E1E5EA",buttonSecondaryText:"#1C232B",buttonSecondaryHover:"#BFC9D4",buttonSecondaryHoverText:"#1C232B",buttonSecondaryPressed:"#FFFFFF",buttonSecondaryPressedText:"#1C232B",buttonDisabled:"#29333D",buttonDisabledText:"#5A6877",birdColor1:"#FFFFFF",birdColor2:"#889BAF",birdColor3:"#1C232B",birdColor4:"#1C232B",birdColorNew1:"#FFFFFF",birdColorNew2:"#889BAF",birdColorNew3:"#242D36",birdColorNew4:"#242D36",linkPrimary:"#E1E5EA",linkPrimaryHover:"#FFFFFF",menuText:"#FFFFFF",menuBg:"#1C232B",menuPromoBg:"#29333D",menuSecondaryBg:"#202530",menuBorderLight:"#3D4A58",menuBorderDark:"#29333D",menuIconsBg:"#3D4A58",menuLinkPrimary:"#FF645F",menuVideoLink:"#E1E5EA",menuMobileBgColor:"rgba(28, 35, 43, 0.8)",kidsBannerBg:"#3E3C70",kidsBannerTitle:"#fff",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.7) 100%)",popupOverlayBg:"rgba(0, 0, 0, 0.7)",popupShadow:"rgba(0, 0, 0, 0.25)",popupBg:"#29333D",invert:0,iconbg:"#29333D",additionalAccent:"#42A4FF",additionalAccent30:"rgba(66, 164, 255, 0.3)",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",controlBorderAccent:"#C6E3FF",raiAudioControlPrimary:"#FFF",raiAudioProgressBg:"#1EABE9",raiAudioProgressColor:"#14191F",chipsBg:"rgba(255, 255, 255, 0.05)",shade5:"rgba(255, 255, 255, 0.05)",shade10:"rgba(255, 255, 255, 0.1)",shade15:"rgba(255, 255, 255, 0.15)"},[c]:{base:"#FFFFFF",base20:"rgba(255, 255, 255, 0.2)",base50:"rgba(255, 255, 255, 0.5)",primaryold:"#F6F6F6",primary:"#F6F6F6",secondary1002:"#FFFFFF",secondary1001:"#F6F6F6",secondary1000:"#FFFFFF",secondary900:"#E1E5EA",secondary802:"#E1E5EA",secondary801:"#FFFFFF",secondary800:"#E1E5EA",secondary702:"#BFC9D4",secondary701:"#FFFFFF",secondary700:"#BFC9D4",secondary604:"#EAEDF1",secondary603:"#A7B4C4",secondary602:"#EAEDF1",secondary601:"#E1E5EA",secondary600:"#A7B4C4",secondary501:"#889BAF",secondary500:"#889BAF",secondary400:"#5A6877",secondary302:"#3D4A58",secondary301:"#5A6877",secondary300:"#3D4A58",secondary201:"#29333D",secondary200:"#29333D",secondary101:"#212932",secondary100:"#212932",secondary51:"#212932",secondary50:"#1C232B",secondary49:"#1C232B",secondary3:"#5A6877",secondary2:"#242D36",secondary1:"#29333D",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.74deg, #EAEDF1 0%, #E1E5EA 100%)",accent:"#FF645F",accent400:"#E15554",accent700:"#be4847",accentHover:"#FF7773",accentPressed:"#E75550",lightCoral:"#FFEEEE",lightCoralHover:"#FFF5F5",lightCoralPressed:"#FFE6E6",text:"#29333D",textHover:"#5A6877",textActive:"#1C232B",error:"#E15554",buttonPrimary:"#FF645F",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#FF7773",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#E75550",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#29333D",buttonSecondaryText:"#FFFFFF",buttonSecondaryHover:"#3D4A58",buttonSecondaryHoverText:"#FFFFFF",buttonSecondaryPressed:"#1C232B",buttonSecondaryPressedText:"#FFFFFF",buttonDisabled:"#E1E5EA",buttonDisabledText:"#889BAF",birdColor1:"#5A6877",birdColor2:"#FFFFFF",birdColor3:"#1C232B",birdColor4:"#E1E5EA",birdColorNew1:"#242D36",birdColorNew2:"#A7B4C4",birdColorNew3:"#1C232B",birdColorNew4:"#EAEDF1",linkPrimary:"#29333D",linkPrimaryHover:"#1C232B",menuText:"#29333D",menuBg:"#F6F6F6",menuPromoBg:"#E1E5EA",menuSecondaryBg:"#ECECED",menuBorderLight:"#E1E5EA",menuBorderDark:"#E1E5EA",menuIconsBg:"#ffffff",menuLinkPrimary:"#29333D",menuVideoLink:"#29333D",kidsBannerBg:"#fff",kidsBannerTitle:"#865DC8",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.7) 100%)",popupOverlayBg:"rgba(90, 104, 119, 0.3)",popupShadow:"rgba(0, 0, 0, 0.05)",popupBg:"#FFFFFF",invert:.8,iconbg:"#ffffff",additionalAccent:"#42A4FF",additionalAccent30:"rgba(66, 164, 255, 0.3)",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",controlBorderAccent:"#C6E3FF",chipsBg:"rgba(0, 0, 0, 0.05)",shade5:"rgba(0, 0, 0, 0.05)",shade10:"rgba(0, 0, 0, 0.1)",shade15:"rgba(0, 0, 0, 0.15)"},[d]:{base:"#FFFFFF",base20:"rgba(255, 255, 255, 0.2)",base50:"rgba(255, 255, 255, 0.5)",primaryold:"#F6F6F6",primary:"#F6F6F6",primaryWhite:"#14191F",secondary1002:"#FFFFFF",secondary1001:"#F6F6F6",secondary1000:"#FFFFFF",secondary900:"#FFFFFF",secondary802:"#E1E5EA",secondary801:"#FFFFFF",secondary800:"#EAEDF1",secondary702:"#BFC9D4",secondary701:"#FFFFFF",secondary700:"#E1E5EA",secondary604:"#EAEDF1",secondary603:"#A7B4C4",secondary602:"#EAEDF1",secondary601:"#E1E5EA",secondary600:"#bfc9D4",secondary501:"#889BAF",secondary500:"#A7B4C4",secondary400:"#889BAF",secondary302:"#3D4A58",secondary301:"#5A6877",secondary300:"#5A6877",secondary201:"#3D4A58",secondary200:"#3D4A58",secondary101:"#29333D",secondary100:"#29333D",secondary51:"#212932",secondary50:"#212932",secondary49:"#212932",secondary3:"#5A6877",secondary2:"#242D36",secondary1:"#1C232B",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",ghost:"rgba(255, 255, 255, 0.1)",ghostHover:"rgba(255, 255, 255, 0.15)",ghostPressed:"rgba(255, 255, 255, 0.05)",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.74deg, #EAEDF1 0%, #E1E5EA 100%)",accent:"#00A1E7",accent400:"#E15554",accent700:"#be4847",liveMark:"#F41240",hover:"#B3E3F8",accentHover:"#1EABE9",accentPressed:"#0096D8",lightCoral:"#FFEEEE",lightCoralHover:"#FFF5F5",lightCoralPressed:"#FFE6E6",text:"#29333D",textHover:"#5A6877",textActive:"#1C232B",error:"#E15554",buttonPrimary:"#00A1E7",buttonPrimaryText:"#FFFFFF",buttonPrimaryHover:"#1EABE9",buttonPrimaryHoverText:"#FFFFFF",buttonPrimaryPressed:"#0096D8",buttonPrimaryPressedText:"#FFFFFF",buttonSecondary:"#29333D",buttonSecondaryText:"#FFFFFF",buttonSecondaryHover:"#3D4A58",buttonSecondaryHoverText:"#FFFFFF",buttonSecondaryPressed:"#1C232B",buttonSecondaryPressedText:"#FFFFFF",buttonDisabled:"#E1E5EA",buttonDisabledText:"#889BAF",birdColor1:"#5A6877",birdColor2:"#FFFFFF",birdColor3:"#1C232B",birdColor4:"#E1E5EA",birdColorNew1:"#242D36",birdColorNew2:"#A7B4C4",birdColorNew3:"#1C232B",birdColorNew4:"#EAEDF1",linkPrimary:"#29333D",linkPrimaryHover:"#1C232B",menuText:"#29333D",menuBg:"#FFFFFF",menuPromoBg:"#E1E5EA",menuSecondaryBg:"#ECECED",menuBorderLight:"#E1E5EA",menuBorderDark:"#E1E5EA",menuIconsBg:"#ffffff",menuLinkPrimary:"#29333D",menuVideoLink:"#29333D",menuMobileBgColor:"rgba(225,229,234, 0.8)",kidsBannerBg:"#fff",kidsBannerTitle:"#865DC8",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.7) 100%)",popupOverlayBg:"rgba(0, 0, 0, 0.7)",popupShadow:"rgba(0, 0, 0, 0.05)",popupBg:"#FFFFFF",invert:.8,iconbg:"#ffffff",additionalAccent:"#42A4FF",additionalAccent30:"rgba(66, 164, 255, 0.3)",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",additionalSecondary:"#31B8BF",additionalError:"#EC2A2A",raiAudioControlPrimary:"#1C232B",raiAudioProgressBg:"#1EABE9",raiAudioProgressColor:"#F6F6F6",chipsBg:"rgba(0, 0, 0, 0.05)",shade5:"rgba(0, 0, 0, 0.05)",shade10:"rgba(0, 0, 0, 0.1)",shade15:"rgba(0, 0, 0, 0.15)"},[h]:void 0},m=p[c],v="penTheme";a(2271),a(2358),a(9419),a(8471);function _(e){return e?e.replace(/([A-Z]+)/g,"-$1").toLowerCase():e}const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;const t={},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return Object.keys(e)}(e);for(const i of n){var r;t["--pen-".concat(_(i))]="".concat(null!==(r=e[i])&&void 0!==r?r:"")}return t},g=(e,t)=>{const n=(e=>"".concat(_(v),"-").concat(e))(e);if(document.getElementById(n))return;let r="[data-".concat(_(v),'="').concat(e,'"]{');for(const e of Object.keys(t))r+="".concat(e,":").concat(t[e],";");r+="}";const i=document.createElement("style");i.innerText=r,i.id=n,document.head.appendChild(i)},b=c,y=p[b],E=t.createContext({theme:y,themeId:c,isDeviceTheme:!1,isDeviceThemeSupported:!1}),w=e=>{let{children:n,forceThemeId:r=b}=e;const i=p[r],o=(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;const t=f(arguments.length>1&&void 0!==arguments[1]?arguments[1]:y);g(e,t),document.documentElement.dataset[v]=e}),[]),a=(0,t.useCallback)(((e,t)=>{const n=document.createElement("style");n.innerText="body * { transition: none !important }",document.body.appendChild(n),o(e,t),document.body.scrollHeight,document.body.removeChild(n)}),[o]);(0,t.useEffect)((()=>{a(r,i)}),[a,r,i]);const s=(0,t.useMemo)((()=>({theme:null!=i?i:y,themeId:r})),[r,i]);return t.createElement(E.Provider,{value:s},n)};var S=a(3961),A=a(7757);const C=e=>(0,S.jsx)(A.N,(0,l.A)({},e));C.displayName="AppProvider";var k=a(6270),P=(a(299),a(8578),a(9857),a(9972),a(3590)),I=a(4862);const T=()=>{try{const e=window.navigator.userAgent.toLowerCase();return/iPhone|iPad|iPod/i.test(e)||/Macintosh/i.test(e)&&navigator.maxTouchPoints>2}catch(e){return!1}},x=()=>{try{const e=window.navigator.userAgent.toLowerCase();return/^((?!chrome|android).)*safari/i.test(e)}catch(e){return!1}},R=()=>{try{return/Android|BlackBerry|HarmonyOS|Harmony|Huawei|HUAWEI|HuaweiBrowser|haowangzhi|iPhone|iPad|iPod/i.test(window.navigator.userAgent)||/Macintosh/i.test(window.navigator.userAgent)&&window.navigator.maxTouchPoints>2}catch(e){return!1}};"object"==typeof window&&"ontouchstart"in window&&/Linux|Macintosh|Windows/i.test(window.navigator.userAgent);var L,O=a(3834);let N;class M extends I.j8{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;super(),this._forcedTime=(N(this),null),this._stopTime=null,this._stopTimeDesposer=null,this.isLive=!1,this._timeWasSet=!1,this.videoId=void 0,this.userId=void 0,this._hrefParams=void 0,this._timeFromHistory=null,this._videoHistory=void 0,this.playback=e,this._config=a,this.videoId=t,this.isLive=i,this.userId=n;const{startTime:s,stopTime:l}=r;if(this._hrefParams=this.getHRefParams(),this._videoHistory=o,"number"==typeof s&&(this.forcedTime=s),"number"==typeof l)this._stopTime=l;else{const e=this._hrefParams.get("stopTime")||this._hrefParams.get("endTime")||"",t=parseInt(e,10)||null;t&&(this._stopTime=t)}(0,P.Gn)(this,{forcedTime:P.EW})}resetStopTime(){this._stopTime=null,this._stopTimeDesposer&&this._stopTimeDesposer()}initTimeFromHistoryDisposerHandler(){return(0,P.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(e=>{var t;e&&(this._timeWasSet=!1,this._timeFromHistory=null===(t=this._videoHistory)||void 0===t?void 0:t.getVideoProgress(e))}),{fireImmediately:!0})}initTimeFromHistoryDisposer(){return this.initTimeFromHistoryDisposerHandler()}initReaction1(){return(0,P.mJ)((()=>({isPlayerReady:this.playback.isPlayerReady,readyState:this.playback.readyState})),(e=>{var t,n;let{isPlayerReady:r,readyState:i}=e;if(!r||this.isLive||this._timeWasSet)return;const o=this._hrefParams.get("t")||"",a=parseInt(o,10)||null;if("number"==typeof this.forcedTime){if(x()&&i<2)return;this.playback.seek(this.forcedTime)}else a?this.playback.seek(a):this._timeFromHistory&&this._timeFromHistory&&this._timeFromHistory<=this.playback.duration-15&&this._timeFromHistory/this.playback.duration<=.9&&(this.playback.seek(this._timeFromHistory),this._timeFromHistory=null);null===(t=this._videoHistory)||void 0===t||t.updateVideoId(String(null===(n=this._config)||void 0===n?void 0:n.get("videoId"))),this._timeWasSet=!0}))}initReaction2(){return(0,P.mJ)((()=>({currentTime:this.playback.currentTime,isPlaying:this.playback.isPlaying,ended:this.playback.ended,playInitiator:this.playback.playInitiator,seeking:this.playback.seeking})),(e=>{const{isPlaying:t,currentTime:n,ended:r,playInitiator:i,seeking:o}=e;this._stopTime&&(t&&n>=this._stopTime&&(this.playback.pause(),this.resetStopTime()),"user"===i&&(o||r)&&this.resetStopTime())}))}clear(){var e;return null!==(e=this._stopTimeDesposer)&&void 0!==e?e:void 0}get forcedTime(){return this._forcedTime}set forcedTime(e){this._forcedTime=e}getHRefParams(){var e,t;return null!==(e=null===(t=(0,O.Qv)(window.location.href))||void 0===t?void 0:t.searchParams)&&void 0!==e?e:new URLSearchParams}}var D;let B,F;L=M,[N]=(0,k.A)(L,[],[[(0,I.o7)(),2,"initTimeFromHistoryDisposer"],[(0,I.o7)(),2,"initReaction1"],[(0,I.o7)(),2,"initReaction2"],[(0,I.o7)(),2,"clear"]],0,void 0,I.j8).e;D=class extends M{constructor(e,t,n,r){const i=t.get("userId")||void 0,o=t.get("timeProps")||{};super(e,t.get("videoId"),i,o,n.isLive,r)}},[F,B]=(0,k.A)(D,[(0,I.k_)({implement:"ITimeControllerPlugin",ctor_args:["IPlayback","IPlayerConfigPlugin","IDataPlugin","IVideoHistoryPlugin"]})],[],0,void 0,M).c,B();var H=a(3052),V=a(1824),U=a(6598);a(5198),a(5736),a(4817),a(7224),a(5783),a(1292),a(1446);const j=function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(Math.random().toString(36).slice(2,11))};var W=a(2540);const z=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsMainCheckCircle",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12m16.207-3.707a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414 0l-3-3a1 1 0 1 1 1.414-1.414l2.293 2.293 5.293-5.293a1 1 0 0 1 1.414 0" clip-rule="evenodd" />'})),G=(0,t.forwardRef)(z),q=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsMainInfoCircle",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12m10-4a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1m1 3a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0v-4a1 1 0 0 1 1-1" clip-rule="evenodd" />'})),K=(0,t.forwardRef)(q),Y=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsAlertsFeedbackAlert",__value:'<path fill="currentColor" fill-rule="evenodd" d="M21.5 21.5a2 2 0 0 0 1.72-3.021l-9.5-16a2 2 0 0 0-3.44 0l-9.5 16A2 2 0 0 0 2.5 21.5zm-19-2 9.5-16 9.5 16zM13 9a1 1 0 0 0-2 0v4a1 1 0 1 0 2 0zm-1 7a1 1 0 1 0 0 2h.01a1 1 0 0 0 0-2z" clip-rule="evenodd" />'})),X=(0,t.forwardRef)(Y),Q=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsUnsortedCloseCircle",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12m7.293-3.707a1 1 0 0 1 1.414 0L12 10.586l2.293-2.293a1 1 0 1 1 1.414 1.414L13.414 12l2.293 2.293a1 1 0 0 1-1.414 1.414L12 13.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L10.586 12 8.293 9.707a1 1 0 0 1 0-1.414" clip-rule="evenodd" />'})),Z=(0,t.forwardRef)(Q),J="_success_a20ef3_v1-27-0",$="_info_a20ef3_v1-27-0",ee="_warning_a20ef3_v1-27-0",te="_error_a20ef3_v1-27-0",ne="success",re={success:(0,S.jsx)(G,{className:J}),info:(0,S.jsx)(K,{className:$}),warning:(0,S.jsx)(X,{className:ee}),error:(0,S.jsx)(Z,{className:te})};var ie=Object.defineProperty,oe=(e,t,n)=>((e,t,n)=>t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class ae{constructor(e){oe(this,"listeners",new Set),oe(this,"closeTimeoutIdMap",new Map),oe(this,"notifications",[]),this.config=e,this.config=(0,l.A)({},e)}setConfig(e){this.config=(0,l.A)((0,l.A)({},this.config),e)}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}notify(){for(const e of this.listeners)e()}getNotifications(){return this.notifications}cleanup(){typeof window>"u"||(this.closeTimeoutIdMap.forEach((e=>window.clearTimeout(e))),this.closeTimeoutIdMap.clear())}send(e){var t;if(this.startCloseTimer(e.id,e.duration),this.notifications.length>=this.config.maxCount){const e=null==(t=this.notifications[this.notifications.length-1])?void 0:t.id;e&&this.close(e)}this.notifications=[e,...this.notifications],this.notify()}sendSnackbar(e){var t,n;const r=(0,l.A)((0,l.A)({},e),{},{id:null!==(t=e.id)&&void 0!==t?t:j(),duration:null!==(n=e.duration)&&void 0!==n?n:this.config.duration});this.send(r)}sendToast(e){var t,n,r;const i=(0,l.A)((0,l.A)({},e),{},{type:null!==(t=e.type)&&void 0!==t?t:ne,id:null!==(n=e.id)&&void 0!==n?n:j(),duration:null!==(r=e.duration)&&void 0!==r?r:this.config.duration});this.send(i)}close(e){this.notifications.some((t=>t.id===e))&&(this.stopCloseTimer(e),this.notifications=this.notifications.filter((t=>t.id!==e)),this.notify())}startCloseTimer(e,t){if(typeof window>"u"||!t)return;const n=window.setTimeout((()=>{this.close(e)}),t);this.closeTimeoutIdMap.set(e,n)}stopCloseTimer(e){typeof window>"u"||(window.clearTimeout(this.closeTimeoutIdMap.get(e)),this.closeTimeoutIdMap.delete(e))}closeAll(){this.notifications=[],this.notify()}getContainerProps(){return{closeNotification:this.close.bind(this),startCloseTimer:this.startCloseTimer.bind(this),stopCloseTimer:this.stopCloseTimer.bind(this)}}}a(8668),a(7293),a(4233),a(1631),a(914);var se=a(8572);const le=e=>{const{onMoveStart:n,onMove:r,onMoveEnd:i,enableTypes:o=["pointer"]}=e,a=(0,t.useRef)({didMove:!1,lastPosition:null,id:null}),s=(0,t.useCallback)(((e,t,i,o)=>{0===i&&0===o||(a.current.didMove||(a.current.didMove=!0,null==n||n({type:"movestart",pointerType:t,originalEvent:e})),null==r||r({type:"move",pointerType:t,deltaX:i,deltaY:o,originalEvent:e}))}),[r,n]),l=(0,t.useCallback)(((e,t)=>{a.current.didMove&&(null==i||i({type:"moveend",pointerType:t,originalEvent:e}))}),[i]);return{moveProps:(0,t.useMemo)((()=>{const e={},t=()=>{a.current.didMove=!1};if(o.includes("pointer")){const n=e=>{var t,n;if(e.pointerId===a.current.id){var r,i;const o=e.pointerType||"mouse";s(e,o,e.pageX-(null!==(r=null==(t=a.current.lastPosition)?void 0:t.pageX)&&void 0!==r?r:0),e.pageY-(null!==(i=null==(n=a.current.lastPosition)?void 0:n.pageY)&&void 0!==i?i:0)),a.current.lastPosition={pageX:e.pageX,pageY:e.pageY}}},r=e=>{if(e.pointerId===a.current.id){const t=e.pointerType||"mouse";l(e,t),a.current.id=null,typeof window<"u"&&(window.removeEventListener("pointermove",n,!1),window.removeEventListener("pointerup",r,!1),window.removeEventListener("pointercancel",r,!1))}};e.onPointerDown=e=>{0===e.button&&null===a.current.id&&(t(),e.stopPropagation(),e.preventDefault(),a.current.lastPosition={pageX:e.pageX,pageY:e.pageY},a.current.id=e.pointerId,typeof window<"u"&&(window.addEventListener("pointermove",n,!1),window.addEventListener("pointerup",r,!1),window.addEventListener("pointercancel",r,!1)))}}if(o.includes("keyboard")){const n=(e,n,r)=>{t(),s(e.nativeEvent,"keyboard",n,r),l(e.nativeEvent,"keyboard")};e.onKeyDown=e=>{switch(e.key){case"Left":case"ArrowLeft":e.preventDefault(),e.stopPropagation(),n(e,-1,0);break;case"Right":case"ArrowRight":e.preventDefault(),e.stopPropagation(),n(e,1,0);break;case"Up":case"ArrowUp":e.preventDefault(),e.stopPropagation(),n(e,0,-1);break;case"Down":case"ArrowDown":e.preventDefault(),e.stopPropagation(),n(e,0,1)}}}return e}),[o,s,l])}},ue={root:"_root_04cfe5_v1-27-0",hasContainer:"_hasContainer_04cfe5_v1-27-0","placement-top-end":"_placement-top-end_04cfe5_v1-27-0","placement-bottom":"_placement-bottom_04cfe5_v1-27-0",wrapper:"_wrapper_04cfe5_v1-27-0","direction-right":"_direction-right_04cfe5_v1-27-0",enter:"_enter_04cfe5_v1-27-0",enterActive:"_enterActive_04cfe5_v1-27-0",exit:"_exit_04cfe5_v1-27-0",exitActive:"_exitActive_04cfe5_v1-27-0","direction-down":"_direction-down_04cfe5_v1-27-0"},ce=300,de=20,he=40,pe={enter:ue.enter,enterActive:ue.enterActive,exit:ue.exit,exitActive:ue.exitActive};var me=a(725),ve=a(9276);const _e=["style","className","title","subtitle","startSlot","endSlot"],fe="_root_a80625_v1-27-0",ge="_content_a80625_v1-27-0",be=(0,t.forwardRef)(((e,t)=>{const{style:n,className:r,title:i,subtitle:o,startSlot:a,endSlot:s}=e,u=(0,V.A)(e,_e),c=!!i&&"string"==typeof i,d=!!o&&"string"==typeof o;return(0,S.jsxs)("div",(0,l.A)((0,l.A)({ref:t,style:n,className:(0,ve.c)(r,fe),role:"alert"},u),{},{children:[a,(0,S.jsxs)("div",{className:ge,children:[c?(0,S.jsx)(me.o,{variant:"body-m-regular",wordBreak:"break-word",as:"strong",color:"invert-primary",lineClamp:2,children:i}):i,d?(0,S.jsx)(me.o,{variant:"caption-s-regular",wordBreak:"break-word",as:"p",color:"invert-secondary",lineClamp:3,children:o}):o]}),s]}))}));be.displayName="BaseFloatingNotification";const ye=(0,t.forwardRef)(((e,t)=>(0,S.jsx)(be,(0,l.A)((0,l.A)({},e),{},{ref:t}))));ye.displayName="Snackbar";const Ee=["type"],we=(0,t.forwardRef)(((e,t)=>{const{type:n=ne}=e,r=(0,V.A)(e,Ee);return(0,S.jsx)(be,(0,l.A)((0,l.A)({ref:t},r),{},{startSlot:re[n]}))}));we.displayName="Toast";const Se=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,notification:o,closeNotification:a,startCloseTimer:s,stopCloseTimer:u,dismissDirection:c="right"}=e,{style:d,className:h,id:p="",enablePersistOnHover:m=!0,title:v,subtitle:_,duration:f,enableSwipeClose:g=!1}=o,b=(e=>"type"in e)(o),{hoverProps:y}=function(e){const{onHoverStart:n,onHoverChange:r,onHoverEnd:i,isDisabled:o}=e,a=(0,t.useRef)({isHovered:!1,pointerType:void 0,target:void 0}),[s,l]=(0,t.useState)(!1),u=(0,t.useCallback)(((e,t)=>{const i=a.current;if(i.pointerType=t,o||"touch"===t||i.isHovered||!e.currentTarget.contains(e.target))return;const s=e.currentTarget;i.isHovered=!0,i.target=s,null==n||n({type:"hoverstart",target:s,pointerType:t}),null==r||r(!0),l(!0)}),[o,r,n]),c=(0,t.useCallback)(((e,t)=>{const n=a.current;if(n.pointerType=void 0,n.target=void 0,"touch"===t||!n.isHovered)return;n.isHovered=!1;const o=e.currentTarget;null==i||i({type:"hoverend",target:o,pointerType:t}),null==r||r(!1),l(!1)}),[r,i]),d=(0,t.useMemo)((()=>({onPointerEnter:e=>{u(e,e.pointerType)},onPointerLeave:e=>{!o&&e.currentTarget.contains(e.target)&&c(e,e.pointerType)}})),[u,o,c]);return(0,t.useEffect)((()=>{const e=a.current;o&&c({currentTarget:e.target},e.pointerType)}),[o,c]),{hoverProps:d,isHovered:s}}({isDisabled:!m,onHoverStart:()=>null==u?void 0:u(p),onHoverEnd:()=>null==s?void 0:s(p,f)}),E={title:v,subtitle:_,style:d,className:h},w=(0,t.useCallback)((()=>{null==a||a(p)}),[p,a]),A={closeNotification:w,duration:f},C=!b&&o.startSlot?"function"==typeof o.startSlot?o.startSlot(A):o.startSlot:null,k=!b&&o.endSlot?"function"==typeof o.endSlot?o.endSlot(A):o.endSlot:null,[P,I]=(0,t.useState)(0),T=(0,t.useRef)(null),x=(0,t.useRef)(0),R=(0,t.useCallback)((()=>{typeof window>"u"||(window.cancelAnimationFrame(T.current),I((e=>(e>("right"===c?he:de)&&(window.cancelAnimationFrame(x.current),x.current=window.requestAnimationFrame((()=>{w()}))),0))))}),[c,w]),{moveProps:L}=le({enableTypes:g?["pointer"]:[],onMove:e=>{typeof window>"u"||(window.cancelAnimationFrame(T.current),T.current=window.requestAnimationFrame((()=>{const t="right"===c?e.deltaX:e.deltaY;I((e=>Math.max(e+t,-10)))})))},onMoveEnd:R});(0,t.useEffect)((()=>()=>{window.cancelAnimationFrame(T.current),window.cancelAnimationFrame(x.current)}),[]);const O=(0,l.A)((0,l.A)({},r),{},{transform:P?"right"===c?"translateX(".concat(P,"px)"):"translateY(".concat(P,"px)"):void 0});return(0,S.jsx)("div",(0,l.A)((0,l.A)((0,l.A)({ref:n,className:i,style:O},y),L),{},{children:b?(0,S.jsx)(we,(0,l.A)({type:o.type},E)):(0,S.jsx)(ye,(0,l.A)((0,l.A)({},E),{},{startSlot:C,endSlot:k}))}))}));Se.displayName="InternalFloatingNotification";const Ae=["style","className","placement","dismissDirection","notifications","closeNotification","startCloseTimer","stopCloseTimer","container"];function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(null,arguments)}function ke(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}function Ie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pe(e,t)}var Te={exports:{}};var xe,Re,Le,Oe;function Ne(){if(Re)return xe;Re=1;return xe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}Te.exports=function(){if(Oe)return Le;Oe=1;var e=Ne();function t(){}function n(){}return n.resetWarningCache=t,Le=function(){function r(t,n,r,i,o,a){if(a!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function i(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},Le}()();Te.exports;function Me(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const De=!1;const Be=t.createContext(null);var Fe=function(e){return e.scrollTop},He="unmounted",Ve="exited",Ue="entering",je="entered",We="exiting",ze=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Ve,r.appearStatus=Ue):i=je:i=t.unmountOnExit||t.mountOnEnter?He:Ve,r.state={status:i},r.nextCallback=null,r}Ie(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===He?{status:Ve}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ue&&n!==je&&(t=Ue):(n===Ue||n===je)&&(t=We)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ue){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:se.findDOMNode(this);n&&Fe(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ve&&this.setState({status:He})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[se.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||De?this.safeSetState({status:je},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Ue},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:je},(function(){t.props.onEntered(o,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:se.findDOMNode(this);t&&!De?(this.props.onExit(r),this.safeSetState({status:We},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ve},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ve},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:se.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===He)return null;var n=this.props,r=n.children;n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef;var i=ke(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return t.createElement(Be.Provider,{value:null},"function"==typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function Ge(){}ze.contextType=Be,ze.propTypes={},ze.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ge,onEntering:Ge,onEntered:Ge,onExit:Ge,onExiting:Ge,onExited:Ge},ze.UNMOUNTED=He,ze.EXITED=Ve,ze.ENTERING=Ue,ze.ENTERED=je,ze.EXITING=We;var qe=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=Me(e.className,t):e.setAttribute("class",Me(e.className&&e.className.baseVal||"",t))}(e,t)}))},Ke=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Ie(n,e);var r=n.prototype;return r.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&Fe(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(e,t)}))}(e,r))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&qe(e,r),i&&qe(e,i),o&&qe(e,o)},r.render=function(){var e=this.props;e.classNames;var n=ke(e,["classNames"]);return t.createElement(ze,Ce({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(t.Component);function Ye(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Xe(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Qe(e,n){return Ye(e.children,(function(r){return(0,t.cloneElement)(r,{onExited:n.bind(null,r),in:!0,appear:Xe(r,"appear",e),enter:Xe(r,"enter",e),exit:Xe(r,"exit",e)})}))}function Ze(e,n,r){var i=Ye(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var l in t){if(r[l])for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}(n,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,t.isValidElement)(s)){var l=a in n,u=a in i,c=n[a],d=(0,t.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,t.isValidElement)(c)&&(o[a]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:Xe(s,"exit",e),enter:Xe(s,"enter",e)})):o[a]=(0,t.cloneElement)(s,{in:!1}):o[a]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:Xe(s,"exit",e),enter:Xe(s,"enter",e)})}})),o}Ke.defaultProps={classNames:""},Ke.propTypes={};var Je=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},$e=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Ie(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?Qe(e,r):Ze(e,n,r),firstRender:!1}},r.handleExited=function(e,t){var n=Ye(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Ce({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=ke(e,["component","childFactory"]),o=this.state.contextValue,a=Je(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(Be.Provider,{value:o},a):t.createElement(Be.Provider,{value:o},t.createElement(n,i,a))},n}(t.Component);$e.propTypes={},$e.defaultProps={component:"div",childFactory:function(e){return e}};const et=e=>{const{style:n,className:r,placement:i="top-end",dismissDirection:o="right",notifications:a=[],closeNotification:s,startCloseTimer:u,stopCloseTimer:c,container:d}=e,h=(0,V.A)(e,Ae),p=(0,ve.c)(r,ue.root,ue["placement-".concat(i)],{[ue.hasContainer]:!!d}),m=(0,S.jsx)($e,(0,l.A)((0,l.A)({style:n,className:p},h),{},{children:a.map((e=>{var n;const r=null!==(n=e.id)&&void 0!==n?n:"",i=(0,t.createRef)();return(0,S.jsx)(Ke,{nodeRef:i,timeout:ce,classNames:pe,onExited:()=>{null==c||c(r)},children:(0,S.jsx)(Se,{ref:i,style:{transitionDuration:"".concat(ce,"ms")},className:(0,ve.c)(ue.wrapper,ue["direction-".concat(o)]),dismissDirection:o,notification:e,closeNotification:s,startCloseTimer:u,stopCloseTimer:c})},r)}))})),v=(0,se.createPortal)(m,null!=d?d:document.body);return(0,S.jsx)(S.Fragment,{children:v})};et.displayName="FloatingNotificationContainer";const tt={maxCount:2,duration:5e3},nt=["container","style","className","placement","dismissDirection","maxCount"],rt=e=>{const n=(0,l.A)((0,l.A)({},tt),e),r=new ae(n),i=(0,t.memo)((e=>{const{container:n,style:i,className:o,placement:a,dismissDirection:s,maxCount:u}=e,c=(0,V.A)(e,nt),d=(0,t.useSyncExternalStore)(r.subscribe.bind(r),r.getNotifications.bind(r),(()=>{})),h=(0,U.n)(n),p=(0,t.useRef)(!1);return(0,t.useEffect)((()=>(p.current=!0,()=>{p.current=!1,r.cleanup(),r.closeAll()})),[]),(0,t.useEffect)((()=>{r.setConfig({maxCount:u})}),[u]),typeof window>"u"||!p.current?null:(0,S.jsx)(et,(0,l.A)((0,l.A)({style:i,className:o,placement:a,dismissDirection:s,notifications:d,container:h},r.getContainerProps()),c))}));return i.displayName="ToasterRoot",Object.freeze({ToasterRoot:i,setConfig:r.setConfig.bind(r),subscribe:r.subscribe.bind(r),getNotifications:r.getNotifications.bind(r),sendSnackbar:r.sendSnackbar.bind(r),sendToast:r.sendToast.bind(r),close:r.close.bind(r),closeAll:r.closeAll.bind(r)})},it=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsMainClose",__value:'<path fill="currentColor" fill-rule="evenodd" d="M5.293 5.293a1 1 0 0 1 1.414 0L12 10.586l5.293-5.293a1 1 0 1 1 1.414 1.414L13.414 12l5.293 5.293a1 1 0 0 1-1.414 1.414L12 13.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L10.586 12 5.293 6.707a1 1 0 0 1 0-1.414" clip-rule="evenodd" />'})),ot=(0,t.forwardRef)(it),at="toast-module__warning___kjh1M";var st;let lt,ut,ct;class dt extends I.j8{constructor(){super(...arguments),this.duration=(lt(this),5e3),this.queue=[],this.toaster=rt&&rt({maxCount:1,duration:this.duration})}init(){var e;null===(e=this.toaster)||void 0===e||e.subscribe(this.handleQueue)}sendSnackBar(e){var t,n;(null===(t=this.toaster)||void 0===t?void 0:t.getNotifications().length)>0?this.queue.push(e):null===(n=this.toaster)||void 0===n||n.sendSnackbar(e)}handleQueue(){var e;if(0===(null===(e=this.toaster)||void 0===e?void 0:e.getNotifications().length)&&this.queue.length){const e=this.queue.shift();var t;if(e)null===(t=this.toaster)||void 0===t||t.sendSnackbar(e)}}handleChunkLoadError(){this.sendSnackBar({title:"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð²Ð¸Ð´ÐµÐ¾ ÑÐ½Ð¸Ð·Ð¸Ð»Ð¾ÑÑŒ Ð¸Ð·â€‘Ð·Ð°Â Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ð°",subtitle:H.B.isMobile?void 0:"Ð¢Ð°ÐºÂ Ð²Ð¸Ð´ÐµÐ¾ Ð±ÑƒÐ´ÐµÑ‚ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÑŒÑÑ Ð±ÐµÐ·Â Ð¿Ñ€ÐµÑ€Ñ‹Ð²Ð°Ð½Ð¸Ð¹",startSlot:H.B.isMobile?void 0:t.createElement(X,{className:at}),endSlot:e=>{let{closeNotification:n}=e;return t.createElement(ot,{onClick:n})}})}}st=dt,({e:[lt],c:[ct,ut]}=(0,k.A)(st,[(0,I.k_)("IToastsPlugin")],[[(0,I.o7)(),2,"init"],[I.zm,2,"sendSnackBar"],[I.zm,2,"handleQueue"],[I.zm,2,"handleChunkLoadError"]],0,void 0,I.j8)),ut();var ht,pt=a(6545);let mt,vt;class _t extends I.j8{constructor(e){super(),this.__skinColor=P.sH.box(""),this._data=e,(0,P.Gn)(this,{skinColor:P.EW})}set skinColor(e){this.__skinColor.set(e)}get skinColor(){return this.__skinColor.get()}get color(){var e,t;return null!==(e=this._data.appearance)&&void 0!==e&&e.color||this.skinColor?"#".concat(this.skinColor||(null===(t=this._data.appearance)||void 0===t?void 0:t.color)||""):"var(--pen-accent)"}get autoStart(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.auto_start)||!1}get showSubscription(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_subscription)||!1}get showAuthor(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_author)||!1}get showTitle(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_title)||!1}get showHd(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_hd)||!1}get showLogotype(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_logotype)||!1}get showFullTab(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_full_tab)||!1}get showAvatar(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_avatar)||!1}get showTopPanel(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_top_panel)||!1}get showShareButton(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_share_button)||!1}get showSocialButtons(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_social_buttons)||!1}get showEndScreen(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_endscreen)||!1}get showRelated(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_related)||!1}get showCategoryRecommended(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_category_recommended)||!1}get showUserRecommended(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_user_recommended)||!1}get showPgRating(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_pg_rating)||!1}get availablePauseClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_pause_click)||!1}get availableTitleClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_title_click)||!1}get availableLogoClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_logo_click)||!1}get availableAuthorClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_author_click)||!1}get availableRelatedClick(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_related_click)||!1}get pluginModifying(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.plugin_modifying)||!1}get forbidHtmlControls(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.forbid_html_controls)||!1}get showAdultStub(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_adult_stub)||!1}get availableLinkStub(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_link_stub)||!1}get availableSpecialSource(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.available_special_source)||!1}get advertSkinType(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.advert_skin_type)||null}get showPreloader(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_preloader)||!1}get enableEmbedLogo(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.enable_embed_logo)||!1}get cookiesMail(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.cookies_mail)||!1}get forbidHtmlFullscreen(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.forbid_html_controls)||!1}get allowAutoSeek(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.allow_auto_seek)||!1}get forbidTimelinePreview(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.forbid_timeline_preview)||!1}get allowPushSubscribe(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.allow_push_subscribe)||!1}get enablePlaylist(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.enable_playlist)||!1}get showLogoWithControls(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.show_logo_with_controls)||!1}get miniPlayer(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.mini_player)||!1}get cinemaMode(){var e;return(null===(e=this._data.appearance)||void 0===e?void 0:e.cinema_mode)||!1}}function ft(e){return e}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function bt(e,t){if(e){if("string"==typeof e)return gt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}ht=_t,[vt,mt]=(0,k.A)(ht,[(0,I.k_)({implement:"IAppearancePlugin",ctor_args:["IDataPlugin"]})],[],0,void 0,I.j8).c,mt();var wt=a(7691);function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,wt.A)(r.key),r)}}function At(e,t,n){return t&&St(e.prototype,t),n&&St(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ct(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var kt=0;function Pt(e){return"__private_"+kt+++"_"+e}function It(e){return function(e){if(Array.isArray(e))return gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tt,xt,Rt,Lt,Ot,Nt,Mt,Dt,Bt,Ft,Ht,Vt,Ut,jt,Wt,zt,Gt,qt,Kt,Yt,Xt,Qt,Zt,Jt,$t=function(e){return e[e.ERROR=1]="ERROR",e[e.WARN=3]="WARN",e[e.LOG=7]="LOG",e[e.DEBUG=15]="DEBUG",e}({}),en=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t.LOG;Et(this,e),this._name=t,this._level=n}return At(e,[{key:"_getLevel",value:function(){return"function"==typeof this._level?this._level():this._level}},{key:"name",get:function(){return"string"==typeof this._name?this._name:this._name()}},{key:"isGrouped",value:function(e){return e.length>1&&"string"==typeof e[0]}},{key:"grouped",value:function(e){console.group(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(n),console.groupEnd()}},{key:"log",value:function(){if((this._getLevel()&$t.LOG)===$t.LOG){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var r=t[0],i=t.slice(1);this.grouped.apply(this,["[1m[32m[".concat(this.name,"]: ").concat(r,"[0m")].concat(It(i)))}else console.log("[1m[32m[".concat(this.name,"]: [0m").concat(t))}}},{key:"warn",value:function(){if((this._getLevel()&$t.WARN)===$t.WARN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var r=t[0],i=t.slice(1);this.grouped.apply(this,["[1m[33m[".concat(this.name,"]: ").concat(r,"[0m")].concat(It(i)))}else console.log("[1m[33m[".concat(this.name,"]: [0m").concat(t))}}},{key:"error",value:function(){if((this._getLevel()&$t.ERROR)===$t.ERROR){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.isGrouped(t)){var r=t[0],i=t.slice(1);this.grouped.apply(this,["[1m[31m[".concat(this.name,"]: ").concat(r,"[0m")].concat(It(i)))}else console.log("[1m[31m[".concat(this.name,"]: [0m").concat(t))}}},{key:"level",set:function(e){this._level=e}}]),e}(),tn=Pt("DEFAULT_NAMESPACE"),nn=Pt("capitalize"),rn=Pt("makeGroupName"),on=Pt("logger"),an=Pt("_namespace"),sn=Pt("_registeredEvents"),ln=Pt("_contextProvider"),un=Pt("_onSend"),cn=Pt("_external"),dn=Pt("context"),hn=Pt("CounterHelperBuilder"),pn=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new en((function(){return"CounterHelper".concat(Ct(t,an)[an]?" "+Ct(t,an)[an]:"")}),$t.ERROR);Et(this,e),Object.defineProperty(this,dn,{get:mn,set:void 0}),Object.defineProperty(this,on,{writable:!0,value:void 0}),Object.defineProperty(this,an,{writable:!0,value:void 0}),Object.defineProperty(this,sn,{writable:!0,value:{}}),Object.defineProperty(this,ln,{writable:!0,value:void 0}),Object.defineProperty(this,un,{writable:!0,value:function(){Ct(t,on)[on].warn("send handler has not been added")}}),Object.defineProperty(this,cn,{writable:!0,value:void 0}),Ct(this,an)[an]=Ct(e,tn)[tn],Ct(this,on)[on]=n}return At(e,[{key:"namespace",get:function(){return Ct(this,an)[an]}},{key:"get",value:function(e){var t;return null===(t=Ct(this,sn)[sn][e])||void 0===t?void 0:t.bind(this)}}],[{key:"builder",value:function(t){return new(Ct(e,hn)[hn])(new e(t))}}]),e}();function mn(){if(Ct(this,ln)[ln])return Ct(this,ln)[ln]()}function vn(e){var t=Ct(this,Kt)[Kt],n=Ct(this,Jt)[Jt](e);Ct(this,zt)[zt]=function(e,r){var i=Ct(this,dn)[dn];t({event:e,context:i,params:r})&&Ct(this,un)[un](n({event:e,context:i,params:r}))}}function _n(e){var t=Ct(this,Kt)[Kt],n=Ct(this,Jt)[Jt](e);Ct(this,zt)[zt]=function(e){var r=Ct(this,dn)[dn];t({context:r,params:e})&&Ct(this,un)[un](n({params:e,context:r}))}}function fn(e){var t=Ct(this,Kt)[Kt],n=Ct(this,Jt)[Jt](e);Ct(this,zt)[zt]=function(e){var r=Ct(this,dn)[dn];t({event:e,context:r})&&Ct(this,un)[un](n({event:e,context:r}))}}function gn(e){var t=Ct(this,Kt)[Kt],n=Ct(this,Jt)[Jt](e);Ct(this,zt)[zt]=function(){var e=Ct(this,dn)[dn];t({context:e})&&Ct(this,un)[un](n({context:e}))}}function bn(e){var t,n=null===(t=Ct(this,Wt)[Wt])||void 0===t?void 0:t.transform;return n?function(t){return n(e(t),{context:t.context})}:e}function yn(e,t){e()&&Ct(this,Rt)[Rt].warn(t())}Tt=pn,Object.defineProperty(pn,tn,{writable:!0,value:"default"}),Object.defineProperty(pn,nn,{writable:!0,value:function(e){return e.length>0?e[0].toUpperCase()+e.slice(1):e}}),Object.defineProperty(pn,rn,{writable:!0,value:function(e,t){return t?"".concat(t).concat(Ct(Tt,nn)[nn](e)):e}}),Object.defineProperty(pn,hn,{writable:!0,value:(Rt=Pt("builderLogger"),Lt=Pt("instance"),Ot=Pt("hasController"),Nt=Pt("assert"),Mt=Pt("CounterHelperGroupBuilder"),Dt=Pt("CounterHelperEventBuilder"),xt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new en("CounterHelperBuilder");Et(this,e),Object.defineProperty(this,Nt,{value:yn}),Object.defineProperty(this,Rt,{writable:!0,value:void 0}),Object.defineProperty(this,Lt,{writable:!0,value:void 0}),Object.defineProperty(this,Ot,{writable:!0,value:!1}),Ct(this,Lt)[Lt]=t,Ct(this,Rt)[Rt]=n}return At(e,[{key:"register",value:function(e,t){var n=this;Ct(this,Nt)[Nt]((function(){return e in Ct(Ct(n,Lt)[Lt],sn)[sn]}),(function(){return"try to register existed event with name: ".concat(e)})),Ct(Ct(this,Lt)[Lt],sn)[sn][e]=t}},{key:"withNamespace",value:function(e){var t=this;return Ct(this,Nt)[Nt]((function(){return Ct(Ct(t,Lt)[Lt],an)[an]!==Ct(Tt,tn)[tn]}),(function(){return"try to override defined namespace: ".concat(Ct(t,Lt)[Lt].namespace," with value: ").concat(e)})),Ct(Ct(this,Lt)[Lt],an)[an]=e,this}},{key:"withContext",value:function(e){return Ct(Ct(this,Lt)[Lt],ln)[ln]="function"==typeof e?e:function(){return e},this}},{key:"debug",value:function(){if(Ct(this,Ot)[Ot])throw new Error("builder has already logger controller");return Ct(Ct(this,Lt)[Lt],on)[on].level=$t.DEBUG,this}},{key:"loggerLevelController",value:function(e){return Ct(Ct(this,Lt)[Lt],on)[on].level=function(){return e.level},Ct(this,Ot)[Ot]=!0,this}},{key:"event",value:function(e){return new(Ct(Ct(Tt,hn)[hn],Dt)[Dt])(this,e,Ct(Ct(this,Lt)[Lt],cn)[cn])}},{key:"group",value:function(e){return new(Ct(Ct(Tt,hn)[hn],Mt)[Mt])(this,e,Ct(Ct(this,Lt)[Lt],cn)[cn])}},{key:"onSend",value:function(e){return Ct(Ct(this,Lt)[Lt],un)[un]=function(t){Ct(this,on)[on].log("sending message",t),e(t)},this}},{key:"extends",value:function(e){var t=this;return Object.entries(Ct(e,sn)[sn]).forEach((function(e){var n=yt(e,2),r=n[0],i=n[1];Ct(Ct(t,Lt)[Lt],sn)[sn][r]=i})),this}},{key:"use",value:function(e){if(Ct(Ct(this,Lt)[Lt],cn)[cn])throw Ct(Ct(this,Lt)[Lt],on)[on].error("external group builder has been already added"),new Error("external group builder has been already added");return Ct(Ct(this,Lt)[Lt],cn)[cn]=e.copyWith(this),this}},{key:"build",value:function(){return Ct(this,Lt)[Lt]}}]),e}(),Object.defineProperty(xt,Mt,{writable:!0,value:(Bt=Pt("builder"),Ft=Pt("prefix"),Ht=Pt("name"),Vt=Pt("parentGroup"),function(){function e(t,n){var r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Et(this,e),Object.defineProperty(this,Bt,{writable:!0,value:void 0}),Object.defineProperty(this,Ft,{writable:!0,value:void 0}),Object.defineProperty(this,Ht,{writable:!0,value:void 0}),Object.defineProperty(this,Vt,{writable:!0,value:void 0}),this.transform=null,this.copyWith=function(t){var n=new e(t,Ct(i,Ft)[Ft],Ct(i,Vt)[Vt]);return n.transform=i.transform,n},Ct(this,Ft)[Ft]=n,Ct(this,Ht)[Ht]=Ct(Tt,rn)[rn](n,null==o?void 0:o.name),Ct(this,Bt)[Bt]=t,Ct(this,Vt)[Vt]=o,this.transform=null!==(r=null==o?void 0:o.transform)&&void 0!==r?r:null}return At(e,[{key:"name",get:function(){return Ct(this,Ht)[Ht]}},{key:"endGroup",value:function(){var e;return Ct(this,Vt)[Vt]===Ct(Ct(Ct(this,Bt)[Bt],Lt)[Lt],cn)[cn]?Ct(this,Bt)[Bt]:null!==(e=Ct(this,Vt)[Vt])&&void 0!==e?e:Ct(this,Bt)[Bt]}},{key:"event",value:function(e){return new(Ct(Ct(Tt,hn)[hn],Dt)[Dt])(Ct(this,Bt)[Bt],e,this)}},{key:"group",value:function(e){return new(Ct(Ct(Tt,hn)[hn],Mt)[Mt])(Ct(this,Bt)[Bt],e,this)}},{key:"withTransform",value:function(e){var t,n=this;return null!==(t=Ct(this,Vt)[Vt])&&void 0!==t&&t.transform?this.transform=function(t){for(var r,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return(r=Ct(n,Vt)[Vt]).transform.apply(r,[e.apply(void 0,[t].concat(o))].concat(o))}:this.transform=e,this}}]),e}())}),Object.defineProperty(xt,Dt,{writable:!0,value:(Ut=Pt("builder"),jt=Pt("name"),Wt=Pt("group"),zt=Pt("_handler"),Gt=Pt("_hasEvent"),qt=Pt("_hasParams"),Kt=Pt("_predicate"),Yt=Pt("createCounterWithEventAndParams"),Xt=Pt("createCounterWithParams"),Qt=Pt("createCounterWithEvent"),Zt=Pt("createCounterWithoutArgs"),Jt=Pt("applyGroupTransform"),function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Et(this,e),Object.defineProperty(this,Jt,{value:bn}),Object.defineProperty(this,Zt,{value:gn}),Object.defineProperty(this,Qt,{value:fn}),Object.defineProperty(this,Xt,{value:_n}),Object.defineProperty(this,Yt,{value:vn}),Object.defineProperty(this,Ut,{writable:!0,value:void 0}),Object.defineProperty(this,jt,{writable:!0,value:void 0}),Object.defineProperty(this,Wt,{writable:!0,value:void 0}),Object.defineProperty(this,zt,{writable:!0,value:function(){throw new Error("you forgot add message to event with name: ".concat(Ct(r,jt)[jt]))}}),Object.defineProperty(this,Gt,{writable:!0,value:!1}),Object.defineProperty(this,qt,{writable:!0,value:!1}),Object.defineProperty(this,Kt,{writable:!0,value:function(){return!0}}),Ct(this,Ut)[Ut]=t,Ct(this,jt)[jt]=Ct(Tt,rn)[rn](n,null==i?void 0:i.name),Ct(this,Wt)[Wt]=i}return At(e,[{key:"name",get:function(){return Ct(this,jt)[jt]}},{key:"domEvent",value:function(){return Ct(this,Gt)[Gt]=!0,this}},{key:"params",value:function(){return Ct(this,qt)[qt]=!0,this}},{key:"permit",value:function(e){return Ct(this,Kt)[Kt]=e,this}},{key:"message",value:function(e){return Ct(this,zt)[zt]=e,this}},{key:"commit",value:function(){return Ct(this,Gt)[Gt]&&Ct(this,qt)[qt]?Ct(this,Yt)[Yt](Ct(this,zt)[zt]):Ct(this,qt)[qt]?Ct(this,Xt)[Xt](Ct(this,zt)[zt]):Ct(this,Gt)[Gt]?Ct(this,Qt)[Qt](Ct(this,zt)[zt]):Ct(this,Zt)[Zt](Ct(this,zt)[zt]),Ct(this,Ut)[Ut].register(Ct(this,jt)[jt],Ct(this,zt)[zt]),Ct(this,Wt)[Wt]===Ct(Ct(Ct(this,Ut)[Ut],Lt)[Lt],cn)[cn]?Ct(this,Ut)[Ut]:Ct(this,Wt)[Wt]||Ct(this,Ut)[Ut]}}]),e}())}),xt)});var En=function(){function e(t){var n;if(Et(this,e),this._level=$t.ERROR,this._logger=new en("logger level controller",$t.LOG),this.id=t,"object"==typeof window)try{var r=window.localStorage.getItem(e.getId(t));r&&(this._level=$t[r])}catch(e){}this._level=null!==(n=this._level)&&void 0!==n?n:$t.ERROR}return At(e,[{key:"level",get:function(){return this._level}},{key:"changeLevel",value:function(t){if("object"==typeof window)try{window.localStorage.setItem(e.getId(this.id),$t[t])}catch(e){}this._level=t,this._logger.log("level has been changed to ".concat($t[t]," for ").concat(this.id))}},{key:"bindEnableDebugGlobal",value:function(e){"object"==typeof window&&(window[e]=this.changeLevel.bind(this,$t.DEBUG))}},{key:"bindDisableDebugGlobal",value:function(e){"object"==typeof window&&(window[e]=this.changeLevel.bind(this,$t.ERROR))}}]),e}();En.getId=function(e){return"__".concat(e,"__")};var wn=a(3882);const Sn=pn.builder().group("main").withTransform(((e,t)=>{let{context:n}=t;return n("IStatisticState").getMainReport(e)})),An=pn.builder().use(Sn).group("endScreen").event("channelLogoClick").params().message((e=>{let{params:{clickedUrl:t}}=e;return{methodName:wn.t_.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:wn.NN.CHANNEL_LOGO},{names:["{{clicked_url}}"],value:t}]}})).commit().event("show").params().message((()=>({methodName:wn.t_.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_SHOW,resolvers:[]}))).commit().event("nextVideoClick").params().message((()=>({methodName:wn.t_.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_CLICK,resolvers:[]}))).commit().event("showRecommendations").params().message((()=>({methodName:wn.t_.RECOMMENDATIONS_END_SCREEN_RECS_SHOW,resolvers:[]}))).commit().event("recommendationClick").params().message((()=>({methodName:wn.t_.RECOMMENDATIONS_END_SCREEN_RECS_CLICK,resolvers:[]}))).commit().event("action").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.END_SCREEN,resolvers:[{names:["{{end_screen}}"],value:t.end_screen},{names:["{{clicked_url}}"],value:t.clicked_url||""},{names:["{{next_video_id}}"],value:t.next_video_id||""},{names:["{{list_of_cards}}"],value:t.list_of_cards?JSON.stringify(t.list_of_cards):""},{names:["{{toggle}}"],value:t.toggle}]}})).commit().event("clickAction").params().message((()=>({methodName:wn.jI.CLICK_ENDSCREEN_ACTION}))).commit().event("click").params().message((()=>({methodName:wn.jI.CLICK_ENDSCREEN}))).commit().event("cancel").params().message((()=>({methodName:wn.jI.CANCEL_ENDSCREEN}))).commit().event("showAlt").params().message((()=>({methodName:wn.jI.SHOW_ENDSCREEN}))).commit().endGroup().build(),Cn=pn.builder().use(Sn).group("contentPlayback").event("rewindMode").params().message((e=>{let{params:{rewindType:t,rewindDirection:n}}=e;return{methodName:wn.t_.REWIND,resolvers:[{names:["{{rewind}}"],value:n},{names:["{{type_rewind}}"],value:t}]}})).commit().event("longPress").message((()=>({methodName:wn.jI.LONG_PRESS}))).commit().event("seek").message((()=>({methodName:wn.jI.SEEK}))).commit().event("firstPlay").message((()=>({methodName:wn.jI.FIRST_PLAY_BUTTON}))).commit().event("resume").message((()=>({methodName:wn.jI.RESUME}))).commit().event("pause").message((()=>({methodName:wn.jI.PAUSE}))).commit().event("start").message((()=>({methodName:wn.jI.START}))).commit().event("playPause").params().message((e=>{let{params:{play:t}}=e;return{methodName:wn.t_.PAUSE,resolvers:[{names:["{{play_pause}}"],value:t}]}})).commit().event("ended").message((()=>({methodName:wn.jI.END}))).commit().event("firstQuartile").message((()=>({methodName:wn.jI.FIRST_QUARTILE}))).commit().event("secondQuartile").message((()=>({methodName:wn.jI.MIDDLE}))).commit().event("thirdQuartile").message((()=>({methodName:wn.jI.THIRD_QUARTILE}))).commit().event("frameless").params().message((e=>{let{params:{isEnabled:t,value:n}}=e;return{methodName:wn.t_.PLAYER_ZOOM,eventAction:t?"no_frame":"frame",resolvers:[{names:["{{action}}"],value:t?"no_frame":"frame"},{names:["{{zoom_action}}"],value:t?"IN":"OUT"},{names:["{{zoom_value}}"],value:String(t?n:1)}]}})).commit().endGroup().build(),kn=pn.builder().use(Sn).group("playlist").event("next").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.NEXT_VIDEO,resolvers:[{names:["{{next_video_id}}"],value:t}]}})).commit().event("prev").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.PREV_VIDEO,resolvers:[{names:["{{previous_video_id}}"],value:t}]}})).commit().endGroup().build();a(6337);const Pn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.reduce(((e,t)=>function(e,t){let{names:n,value:r}=t,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.reduce(((e,t)=>e.replaceAll(t,i?encodeURIComponent(r):r)),e)}(e,t,n)),e)};var In,Tn;let xn,Rn,Ln;new(Tn=class extends I.j8{constructor(e,t,n){super(),this.__statisticStore=void 0,this._namespace=void 0,this.__placeholders=void 0,this._counterHelper=void 0,this.__loadedTimeStamp=void 0,this.__viewCount=0,this._namespace=e.value,this._counterHelper=this.buildCounter(),this.__statisticStore=t,this.__placeholders=n,this.__loadedTimeStamp=(new Date).getTime()}getCounter(){return pn.builder()}buildCounter(){return this.getCounter().build()}getMainReport(e){const{config:t,isCyclic:n,methodName:r,urlTemplate:i,encode:o=!0,useBeacon:a=!1}=e;let s=this.__statisticStore.rawStatistic.filter((e=>{let{name:t}=e;return t===r}));t&&(s=s.filter((e=>{let{count:n,delay:r,start:i}=e;return t.count===n&&t.delay===r&&t.start===i}))),i&&(s=s.filter((e=>{let{url_template:t,method_str:n}=e;return i===t||i===n})));const u=[...e.resolvers||[],...this.__placeholders.makePlaceholderResolvers(n)],{methods:c,requests:d}=s.reduce(((e,t)=>{if(t.callbackParams){const n=Pn(JSON.stringify(t.callbackParams.params),u,o);try{const r=JSON.parse(n);e.methods.push((0,l.A)((0,l.A)({},t),{},{callbackParams:(0,l.A)((0,l.A)({},t.callbackParams),{},{params:r})}))}catch(e){console.warn("Parse callback params error: ",e)}}else e.requests.push({url:Pn(t.url_template||"",u,o),body:Pn(t.body||"",u),method:t.method,useBeacon:a});return e}),{methods:[],requests:[]});return{methods:c,requests:d}}get counterHelper(){return this._counterHelper}get loadedTimeStamp(){return this.__loadedTimeStamp}get viewCount(){return this.__viewCount}incrementViewCount(){this.__viewCount+=1}refreshLoadedTimeStamp(){this.__loadedTimeStamp=(new Date).getTime(),this.__viewCount=0}},[Ln,xn]=(0,k.A)(Tn,[(0,I.k_)({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","IPlaceholdersState"]})],[],0,void 0,I.j8).c,Rn=Tn,(In=class extends ft{constructor(){super(Ln),this.getStatistic=e=>e("IStatisticState"),xn()}})[Rn]=void 0,In);const On=pn.builder().use(Sn).group("logger").event("send").params().message((e=>{let{params:{queryParams:t}}=e;return{methodName:"logger",encode:!1,resolvers:[{names:["{{params}}"],value:t}]}})).commit().endGroup().build(),Nn=pn.builder().use(Sn).group("playerLifecycle").event("unload").message((()=>({methodName:wn.t_.UNLOAD}))).commit().endGroup().build(),Mn=pn.builder().use(Sn).group("status").event("load").message((()=>({methodName:wn.jI.LOAD}))).commit().event("unload").params().message((e=>{var t,n;let{params:r}=e;return{methodName:wn.t_.UNLOAD,resolvers:[{names:["{{full_url}}"],value:(null==r?void 0:r.location)||window.location.href},{names:["{{range_start}}"],value:null!==(t=null==r?void 0:r.startRanges)&&void 0!==t?t:""},{names:["{{range_end}}"],value:null!==(n=null==r?void 0:r.endRanges)&&void 0!==n?n:""}]}})).commit().event("embedLoad").message((()=>({methodName:wn.jI.EMBED_LOAD}))).commit().endGroup().build(),Dn=53182297,Bn=e=>"yaCounter".concat(e),Fn=e=>e.reduce(((e,t)=>{const n=(e=>{try{const t=new RegExp("^Yandex.(.+?)\\((.*)\\);?$","gm").exec(e);if(!t)return;const[n,r,i]=t,o=new RegExp("^\\s?(\\d+),\\s?['\"](.+)['\"]\\s?,({.+})","gm").exec(i);if(!o)return;const[a,s,l]=o;let u={};if(o[3])try{u=JSON.parse(o[3])}catch(e){"string"==typeof e&&console.warn("Parse stat api params error: ".concat(e.toString()))}return{method:r,counterId:Number.parseInt(s,10),target:l,params:u}}catch(e){if("string"==typeof e)return void console.warn("Parse stat_api method error: ".concat(e.toString()))}})(t.method_str);return n&&e.push((0,l.A)((0,l.A)({},t),{},{callbackParams:n})),e}),[]),Hn=e=>window[Bn(e)]||null,Vn=e=>{if(e&&!Hn(e))try{window[Bn(e)]=new Ya.Metrika2({id:e,defer:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ecommerce:"dataLayer",webvisor:!1,triggerEvent:!0})}catch(t){console.warn("Init stat_api ym counter ".concat(e," error: ").concat(String(t)))}},Un=e=>{e.forEach((e=>{const t=e.callbackParams&&"boolean"!=typeof e.callbackParams&&e.callbackParams.counterId;t&&!Hn(t)&&Vn(t)}))},jn=()=>{Vn(Dn);const e=Hn(Dn);return(null==e?void 0:e.getClientID())||""},Wn="undefined"!=typeof window&&-1!==window.location.search.indexOf("debug_r_stat"),zn=async e=>{let{method:t,url:n,body:r,useBeacon:i}=e;const o=Date.now();if(Wn&&console.warn("Sending stat to: ".concat(n)),"post"===t&&i){navigator.sendBeacon(n,r)||console.warn("Failed to send stat to: ".concat(n))}else if("get"===t){let e;e=n.indexOf("tns-counter")<0?"".concat(n).concat(n.indexOf("?")>=0?"&":"?","t=").concat(o):n,(new Image).src=e}else{const e=n.indexOf("ruform.trex.media")>=0;try{await fetch(n,{method:t,headers:{"Content-Type":"application/json;charset=utf-8"},credentials:e?"include":"same-origin",body:r})}catch(e){console.warn(e)}}},Gn=e=>{let{methods:t,requests:n}=e;t.forEach((e=>{let{callbackParams:t}=e;return t&&(e=>{try{window[Bn(e.counterId)][e.method](e.target,e.params)}catch(e){console.warn("Send statistics error: ".concat(e))}})(t)})),n.forEach((e=>{zn(e)}))},qn=pn.builder().use(Sn).group("nextVideo").event("Click").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.NEXT_VIDEO,resolvers:[{names:["{{clicked_url}}"],value:t.clicked_url},{names:["{{next_video_id}}"],value:t.next_video_id}]}})).commit().endGroup().build();var Kn;let Yn,Xn;Kn=class extends Ln{constructor(e,t,n,r){super(e,t,r),this._counterHelper=void 0,this._resolve=void 0,this._resolve=n.value,this._counterHelper=this.buildCounter()}buildCounter(){return this.getCounter().build()}get counterHelper(){return this._counterHelper}getCounter(){return pn.builder().withNamespace(this._namespace).withContext((()=>this._resolve)).onSend(Gn).extends(Cn).extends(Mn).extends(pn.builder().use(Sn).group("interval").event("watchtime").params().message((e=>{let{params:{urlTemplate:t}}=e;return{methodName:wn.jI.WATCHTIME,urlTemplate:t,isCyclic:!0}})).commit().event("heartbeat").params().message((e=>{let{params:{urlTemplate:t}}=e;return{methodName:wn.jI.HEARTBEAT,urlTemplate:t,isCyclic:!0}})).commit().endGroup().build()).extends(pn.builder().use(Sn).group("interval").event("hbIntervalsStat").params().message((e=>{let{params:{urlTemplate:t,count:n,delay:r,start:i,location:o}}=e;return{methodName:wn.t_.HB_INTERVALS,config:{count:n,delay:r,start:i},urlTemplate:t,isCyclic:!0,resolvers:[{names:["{{full_url}}"],value:o||window.location.href}]}})).commit().endGroup().build()).extends(pn.builder().use(Sn).group("statevent").event("event").params().message((e=>{let{params:{urlTemplate:t}}=e;return{methodName:wn.jI.STAT,urlTemplate:t}})).commit().endGroup().build()).extends(Nn).extends(On).extends(pn.builder().use(Sn).group("contextMenu").event("itemClick").params().message((e=>{let{params:{clickedItemTitle:t}}=e;return{methodName:wn.t_.EXTENDED_PLAYER_MENU,clickedItemTitle:t,resolvers:[{names:["{{clicked_item_title}}"],value:t}]}})).commit().endGroup().build()).extends(An).extends(qn).extends(kn)}},[Xn,Yn]=(0,k.A)(Kn,[(0,I.k_)({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","Resolve","IPlaceholdersState"]})],[],0,void 0,Ln).c,Yn();var Qn=a(1871),Zn=a(5126),Jn=a(8007),$n=a(451),er=a.n($n),tr="freyja_char-switch__wrapper_Ma1Wu",nr="freyja_char-switch__placement_RPDpt",rr="freyja_char-switch__placement_active_rjVKS",ir="freyja_char-switch__regular_WtF9R",or="freyja_char-switch__small_tyxc1",ar="freyja_char-switch__switcher_ks1iH",sr="freyja_char-switch__switcher_regular_R4ZLN",lr="freyja_char-switch__switcher_small_qTBxI",ur="freyja_char-switch__switcher_active_0rVpL",cr="freyja_char-switch__switcher_active_small_7pKX-",dr="freyja_char-switch__switcher_active_regular_yu2Ow",hr="freyja_char-switch__disabled_krTYT",pr=function(e){return e.SMALL="small",e.REGULAR="regular",e}(pr||{});const mr=e=>{const{isActive:n,onChange:r=()=>{},disabled:i,size:o=pr.REGULAR,classNames:a={}}=e;return t.createElement("div",{className:er()(tr,a.wrapper),onClick:e=>{e.stopPropagation(),i||r(!n)}},t.createElement("div",{className:er()(nr,{[or]:o===pr.SMALL,[ir]:o===pr.REGULAR},{[rr]:n,[hr]:i},a.placement)},t.createElement("div",{className:er()(ar,{[sr]:o===pr.REGULAR,[lr]:o===pr.SMALL},{[ur]:n},{[dr]:n&&o===pr.REGULAR,[cr]:n&&o===pr.SMALL},a.switcher)})))},vr="menu-item-module__menuItem___ligi6",_r=e=>{let{name:n,Icon:r,onClick:i,className:o,reportMessage:a,isActive:s,onChange:l}=e;return t.createElement("div",{className:er()(vr,o),onClick:i,tabIndex:0,"aria-label":n,"data-reportMessage":a},t.createElement(r,{color:"var(--pen-secondary50)"}),n,l&&t.createElement(mr,{isActive:Boolean(s),onChange:l,size:pr.SMALL}))};var fr=a(3015);const gr=()=>(0,fr.p5)().resolve("IContextMenuPlugin"),br=()=>(0,fr.p5)().resolveOptional("IContextMenuPlugin");let yr=function(e){return e.claim="claim",e.copyTechInfo="copyTechInfo",e.copyLink="copyLink",e.copyLinkAtTime="copyLinkAtTime",e.copyCode="copyCode",e.toggleTechInfo="toggleTechInfo",e.replay="replay",e.reportError="reportError",e.repeatVideo="repeatVideo",e}({}),Er=function(e){return e.CopyLink="Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ Ð½Ð° Ð²Ð¸Ð´ÐµÐ¾",e.LoopVideo="Ð—Ð°Ñ†Ð¸ÐºÐ»Ð¸Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾",e.CopyLinkAtTime="Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð¿Ñ€Ð¸Ð²ÑÐ·ÐºÐ¾Ð¹ ÐºÐ¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸",e.CopyTag="Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð´ Ð´Ð»Ñ Ð²ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¿Ð»ÐµÐµÑ€Ð°",e.Replay="ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°",e.ReportError="Ð¡Ð¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ðµ",e.Claim="ÐŸÐ¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð²Ð¸Ð´ÐµÐ¾",e.More="Ð•Ñ‰Ñ‘",e.Info="Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ",e.HotkeysManual="Ð–ÐµÑÑ‚Ñ‹ Ð¸ Ð³Ð¾Ñ€ÑÑ‡Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ¸",e}({});const wr=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M17.6569 17.6569L6.34315 6.34315M17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315L17.6569 17.6569ZM17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20C9.87827 20 7.84344 19.1571 6.34315 17.6569C4.84285 16.1566 4 14.1217 4 12C4 9.87827 4.84285 7.84344 6.34315 6.34315L17.6569 17.6569Z",stroke:n,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},Sr=(0,Jn.PA)((e=>{let{onClick:n,className:r,reportMessage:i}=e;const{extraActions:o}=gr();return t.createElement(_r,{name:Er.Claim,Icon:wr,reportMessage:i,onClick:e=>{o.claim(),n(e)},className:r})})),Ar=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5421 4.55056C14.3301 3.78954 15.3854 3.36845 16.4808 3.37797C17.5762 3.38748 18.624 3.82686 19.3986 4.60145C20.1732 5.37604 20.6126 6.42388 20.6221 7.51928C20.6316 8.61468 20.2105 9.67 19.4495 10.4579L19.442 10.4657L15.8864 14.0212C15.1029 14.8044 14.0404 15.2445 12.9326 15.2445C11.8248 15.2445 10.7624 14.8045 9.97892 14.0213C9.73589 13.7783 9.73583 13.3843 9.97879 13.1413C10.2217 12.8983 10.6157 12.8982 10.8587 13.1412C11.4088 13.6911 12.1548 14 12.9326 14C13.7104 14 14.4563 13.6911 15.0064 13.1412C15.0064 13.1412 15.0064 13.1413 15.0064 13.1412L18.558 9.58968C19.09 9.03685 19.3844 8.29748 19.3777 7.5301C19.371 6.76099 19.0625 6.02527 18.5187 5.48141C17.9748 4.93754 17.2391 4.62905 16.47 4.62236C15.7026 4.61569 14.9632 4.91003 14.4104 5.4421L13.4366 6.41587C13.1936 6.65886 12.7996 6.65886 12.5566 6.41587C12.3136 6.17288 12.3136 5.77891 12.5566 5.53592L13.5421 4.55056ZM8.20114 9.89141C8.98459 9.10819 10.047 8.66821 11.1548 8.66821C12.2626 8.66821 13.3251 9.10819 14.1085 9.89141C14.3516 10.1344 14.3516 10.5283 14.1087 10.7714C13.8657 11.0144 13.4717 11.0145 13.2287 10.7715C12.6786 10.2216 11.9326 9.91265 11.1548 9.91265C10.377 9.91265 9.63111 10.2216 9.08103 10.7714C9.08101 10.7714 9.08105 10.7714 9.08103 10.7714L5.51783 14.3346C5.23767 14.6052 5.01413 14.9288 4.8604 15.2867C4.70667 15.6446 4.62575 16.0295 4.62236 16.419C4.61898 16.8085 4.6932 17.1947 4.84069 17.5552C4.98818 17.9157 5.20599 18.2432 5.48141 18.5187C5.75682 18.7941 6.08434 19.0119 6.44483 19.1594C6.80533 19.3069 7.19159 19.3811 7.58107 19.3777C7.97056 19.3743 8.35547 19.2934 8.71335 19.1397C9.07123 18.9859 9.39491 18.7625 9.6655 18.4823L9.67321 18.4743L10.6528 17.4957C10.8959 17.2528 11.2899 17.253 11.5328 17.4961C11.7757 17.7392 11.7755 18.1332 11.5324 18.3761L10.5566 19.351C10.172 19.748 9.71247 20.0649 9.20452 20.2831C8.69482 20.502 8.14661 20.6173 7.59189 20.6221C7.03717 20.6269 6.48704 20.5212 5.9736 20.3111C5.46017 20.1011 4.99371 19.7909 4.60145 19.3986C4.20919 19.0063 3.89897 18.5399 3.68891 18.0265C3.47885 17.513 3.37315 16.9629 3.37797 16.4082C3.38279 15.8534 3.49803 15.3052 3.71699 14.7955C3.9352 14.2876 4.25205 13.828 4.64917 13.4434L8.20114 9.89141Z",fill:n}))},Cr=(0,Jn.PA)((e=>{let{onClick:n,reportMessage:r}=e;const{extraActions:i}=gr();return t.createElement(_r,{name:Er.CopyLink,Icon:Ar,reportMessage:r,onClick:e=>{i.copyLink(),n(e)}})})),kr=(0,Jn.PA)((e=>{let{onClick:n,className:r,reportMessage:i}=e;const{extraActions:o}=gr();return t.createElement(_r,{name:Er.CopyLinkAtTime,Icon:Ar,reportMessage:i,onClick:e=>{n(e),o.copyLinkAtTime()},className:r})})),Pr=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M8 7L3 12L8 17",stroke:n,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M16 7L21 12L16 17",stroke:n,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}))},Ir=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.29808 2.39908C7.63 2.31006 7.97123 2.50697 8.06025 2.83888L8.76017 5.44865C8.84919 5.78056 8.65228 6.12179 8.32036 6.21081C7.98845 6.29983 7.64722 6.10292 7.5582 5.77101L6.85828 3.16124C6.76926 2.82933 6.96617 2.4881 7.29808 2.39908ZM13.9904 4.19151C14.2334 4.4345 14.2334 4.82847 13.9905 5.07147L12.079 6.98307C11.836 7.22607 11.442 7.22608 11.199 6.9831C10.956 6.74011 10.956 6.34614 11.199 6.10314L13.1105 4.19154C13.3535 3.94854 13.7474 3.94853 13.9904 4.19151ZM2.39931 7.29723C2.48831 6.96531 2.82953 6.76838 3.16145 6.85738L5.77197 7.55734C6.10389 7.64634 6.30081 7.98756 6.21182 8.31948C6.12282 8.65139 5.7816 8.84832 5.44968 8.75932L2.83916 8.05936C2.50724 7.97037 2.31032 7.62914 2.39931 7.29723ZM8.65154 8.65072C8.82249 8.47979 9.07697 8.42333 9.30416 8.50595L19.213 12.1094C19.4555 12.1975 19.6184 12.4262 19.6224 12.6842C19.6265 12.9422 19.471 13.176 19.2314 13.2718L15.6035 14.7231L19.4403 18.5601C19.6833 18.8031 19.6833 19.1971 19.4403 19.4401C19.1973 19.683 18.8033 19.683 18.5603 19.44L14.7236 15.6031L13.2724 19.2311C13.1766 19.4707 12.9428 19.6263 12.6848 19.6222C12.4268 19.6181 12.1981 19.4552 12.1099 19.2127L8.50675 9.30334C8.42414 9.07614 8.4806 8.82166 8.65154 8.65072ZM14.278 13.913C14.1972 13.9432 14.1213 13.9908 14.0563 14.0558C13.9913 14.1208 13.9437 14.1967 13.9135 14.2775L12.7224 17.2554L10.1319 10.1311L17.2558 12.7218L14.278 13.913ZM6.98291 11.1981C7.22602 11.441 7.22622 11.835 6.98335 12.0781L5.07365 13.9897C4.83078 14.2328 4.43681 14.233 4.1937 13.9901C3.95058 13.7472 3.95039 13.3533 4.19326 13.1102L6.10295 11.1986C6.34582 10.9554 6.73979 10.9552 6.98291 11.1981Z",fill:n}))},Tr=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.62225C7.9254 4.62225 4.62225 7.9254 4.62225 12C4.62225 16.0747 7.9254 19.3778 12 19.3778C16.0747 19.3778 19.3778 16.0747 19.3778 12C19.3778 7.9254 16.0747 4.62225 12 4.62225ZM3.37781 12C3.37781 7.23811 7.23811 3.37781 12 3.37781C16.762 3.37781 20.6223 7.23811 20.6223 12C20.6223 16.762 16.762 20.6223 12 20.6223C7.23811 20.6223 3.37781 16.762 3.37781 12ZM12 11.3778C12.3437 11.3778 12.6223 11.6564 12.6223 12V16C12.6223 16.3437 12.3437 16.6223 12 16.6223C11.6564 16.6223 11.3778 16.3437 11.3778 16V12C11.3778 11.6564 11.6564 11.3778 12 11.3778ZM12 7.37781C11.6564 7.37781 11.3778 7.65639 11.3778 8.00003C11.3778 8.34367 11.6564 8.62225 12 8.62225H12.01C12.3537 8.62225 12.6323 8.34367 12.6323 8.00003C12.6323 7.65639 12.3537 7.37781 12.01 7.37781H12Z",fill:n}))},xr=(0,Jn.PA)((e=>{let{onClick:n,className:r,reportMessage:i}=e;const{extraActions:o}=gr();return t.createElement(_r,{name:Er.Info,reportMessage:i,Icon:Tr,onClick:e=>{n(e),H.B.isMobile?o.copyTechInfo():o.toggleTechInfo()},className:r})})),Rr=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.1158 3.44951C11.1659 3.20525 9.18635 3.58989 7.48147 4.54608C6.2129 5.25757 5.14773 6.25681 4.37237 7.45145V5.00015C4.37237 4.65651 4.0938 4.37793 3.75015 4.37793C3.40651 4.37793 3.12793 4.65651 3.12793 5.00015V9.00015C3.12793 9.34379 3.40651 9.62237 3.75015 9.62237H7.75015C8.0938 9.62237 8.37237 9.34379 8.37237 9.00015C8.37237 8.65651 8.0938 8.37793 7.75015 8.37793H5.26152C5.93552 7.24418 6.90832 6.29435 8.09022 5.63147C9.56143 4.80633 11.2732 4.47286 12.9611 4.6843C14.649 4.89574 16.2156 5.63978 17.4206 6.79827C18.6253 7.95647 19.4017 9.46431 19.6342 11.0883C19.6829 11.4285 19.9981 11.6648 20.3383 11.6161C20.6785 11.5674 20.9148 11.2522 20.8661 10.912C20.5937 9.0089 19.6847 7.24864 18.2831 5.90117C16.8818 4.55398 15.0658 3.69378 13.1158 3.44951ZM4.16739 12.3835C4.50798 12.3377 4.82114 12.5768 4.86685 12.9174C5.08605 14.5508 5.8174 16.0608 6.94404 17.2162C8.07034 18.3712 9.52884 19.1076 11.0935 19.3167C12.658 19.5257 14.2468 19.1967 15.616 18.3776C16.7214 17.7163 17.6352 16.7644 18.2683 15.6224H15.7502C15.4065 15.6224 15.1279 15.3438 15.1279 15.0002C15.1279 14.6565 15.4065 14.3779 15.7502 14.3779H19.7502C20.0938 14.3779 20.3724 14.6565 20.3724 15.0002V19.0002C20.3724 19.3438 20.0938 19.6224 19.7502 19.6224C19.4065 19.6224 19.1279 19.3438 19.1279 19.0002V16.6145C18.4059 17.7727 17.424 18.7461 16.2549 19.4455C14.6465 20.4077 12.7747 20.7968 10.9287 20.5501C9.0829 20.3035 7.3702 19.4357 6.05309 18.085C4.73632 16.7347 3.8876 14.9766 3.63346 13.0829C3.58775 12.7423 3.8268 12.4292 4.16739 12.3835Z",fill:n}))},Lr=(0,Jn.PA)((e=>{let{onClick:n,className:r,reportMessage:i}=e;const{extraActions:o}=gr();return t.createElement(_r,{name:Er.LoopVideo,Icon:Rr,reportMessage:i,onClick:e=>{n(e),o.loopVideo()},className:r,isActive:o.isLooping,onChange:()=>o.loopVideo()})})),Or=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24","data-testid":"replay-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.803 11.062a8 8 0 1 1 3.429 7.541c-.334-.228-.376-.693-.118-1.005.258-.312.719-.352 1.057-.13a6.534 6.534 0 1 0-2.926-6.104l.591-.454a.75.75 0 0 1 .913 1.19l-1.946 1.495a.75.75 0 0 1-1.052-.138l-1.596-2.079a.75.75 0 0 1 1.19-.914l.458.598Z",fill:n}))},Nr=(0,Jn.PA)((e=>{let{onClick:n,className:r,reportMessage:i}=e;const{extraActions:o}=gr();return t.createElement(_r,{name:Er.Replay,reportMessage:i,Icon:Or,onClick:e=>{n(e),o.replay()},className:r})})),Mr=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M18.7694 5.17722C18.7124 5.1312 17.3501 4.05054 15.1974 4.05054C14.0795 4.05054 12.958 4.57908 11.8734 5.09022C10.8681 5.56399 9.91858 6.01149 9.07851 6.01149C7.78142 6.01149 6.70641 5.52985 6.24173 5.28367V4.05584H5V19.9494H6.2417V14.7142C6.92048 15.0084 7.91904 15.3242 9.07848 15.3242C10.1981 15.3242 11.3203 14.7884 12.4056 14.2702C13.4102 13.7905 14.3591 13.3375 15.1974 13.3375C16.8672 13.3375 17.9474 14.1562 17.9903 14.1894L19 15.023V5.3636L18.7694 5.17722ZM17.7583 12.637C17.1421 12.3628 16.2675 12.0958 15.1974 12.0958C14.0779 12.0958 12.9557 12.6316 11.8705 13.1497C10.8658 13.6294 9.91684 14.0825 9.07845 14.0825C7.80745 14.0825 6.74955 13.6063 6.27271 13.3503V6.6708C6.94982 6.95382 7.9361 7.25319 9.07845 7.25319C10.1965 7.25319 11.318 6.72464 12.4027 6.21344C13.4079 5.7397 14.3574 5.29223 15.1974 5.29223C16.4371 5.29223 17.3518 5.74352 17.7583 5.98957V12.637H17.7583Z",fill:n}))},Dr=[{Component:Nr,forSeekableOnly:!0,forEmbedOnly:!1,reportMessage:"replay"},{Component:Lr,forSeekableOnly:!0,forWebOnly:!0,forEmbedOnly:!1,forNotLive:!0,forNotInteractive:!0,reportMessage:"replayVideo"},{Component:Cr,forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"copy-link"},{Component:kr,forSeekableOnly:!0,forEmbedOnly:!1,forNotInteractive:!0,reportMessage:"copy-link-at-time"},{Component:e=>{let{onClick:n,className:r,reportMessage:i}=e;const{extraActions:o}=gr();return t.createElement(_r,{name:Er.CopyTag,Icon:Pr,reportMessage:i,onClick:e=>{n(e),o.copyTag()},className:r})},forSeekableOnly:!1,forEmbedOnly:!1,forNotInteractive:!0,reportMessage:"copy-tag"},{Component:Sr,forSeekableOnly:!1,forEmbedOnly:!0,reportMessage:"claim"},{Component:e=>{let{onClick:n,reportMessage:r}=e;const{extraActions:i}=gr();return t.createElement(_r,{name:Er.HotkeysManual,Icon:Ir,reportMessage:r,onClick:e=>{n(e),i.hotkeysManual()}})},forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"hotkeys-manual"},{Component:xr,forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"copy-info"},{Component:e=>{let{onClick:n,className:r,reportMessage:i}=e;const{extraActions:o}=gr();return t.createElement(_r,{name:Er.ReportError,Icon:Mr,reportMessage:i,onClick:e=>{n(e),o.reportError()},className:r})},forSeekableOnly:!1,forEmbedOnly:!1,reportMessage:"report-error"}],Br="context-menu-module__menu___Umjcn";var Fr=a(1374);const Hr=e=>{let{targetRef:t,handler:n}=e;return(0,Zn.Wr)(t,n),null},Vr=(0,Jn.PA)((e=>{const n=(0,t.useRef)(null),r=(0,Fr._)(),{hiddenItems:i}=e,[o,a]=(0,t.useState)(),s=gr(),{isSeekable:l,playerMode:u,playerWrapperElement:c,onClick:d,isEmbed:h,isLive:p,isOpen:m,isInteractiveVideo:v}=s,_=(0,t.useCallback)((e=>{let{forSeekableOnly:t,forEmbedOnly:n,forWebOnly:r,forNotLive:o,reportMessage:a,forNotInteractive:s}=e;return(!v||!s)&&((l||!t)&&(h||!n)&&(!h||!r)&&(!p||!o)&&(!i||0===i.length||-1===i.indexOf(a)))}),[l,h,p,i,v]),f=Dr.filter(_),g=(0,t.useCallback)((e=>{e.preventDefault(),s.isOpen=!1}),[s]);return(0,t.useEffect)((()=>{if(!c)return;const e=e=>{if(e.preventDefault(),"pointerType"in e&&"touch"===(null==e?void 0:e.pointerType))return;const{clientX:t,clientY:n}=e,r=e.target.getBoundingClientRect(),i=r.y,o=r.x;s.isOpen=!0;a({getBoundingClientRect:()=>{const r=e.target.getBoundingClientRect();return new DOMRect(t+r.x-o,n+r.y-i)}})};return c.addEventListener("contextmenu",e),()=>{c.removeEventListener("contextmenu",e)}}),[s,c]),(0,t.useEffect)((()=>{m&&(s.isOpen=!1)}),[u]),t.createElement(Qn.e0,{anchorElement:o,hidePopperOnHidingElement:!1,isPopperShown:m,popperOptions:{placement:"auto-start",modifiers:[{name:"preventOverflow",options:{boundary:r,altAxis:!0}}]},portal:!1,popperKey:Qn.m0.tooltip,customPopperZIndex:999,renderPopperElements:()=>t.createElement("div",{ref:n,className:Br},f.map((e=>{let{Component:n,reportMessage:r}=e;return t.createElement(n,{key:r,reportMessage:r,onClick:d,isEmbed:h})})))},m&&t.createElement(Hr,{targetRef:n,handler:g}))})),Ur=t.memo((e=>{let{hiddenItems:n}=e;return t.createElement(Vr,{hiddenItems:n})}));var jr,Wr;let zr,Gr,qr;var Kr;let Yr,Xr,Qr;new(Wr=class extends I.j8{constructor(e,t,n,r,i,o){var a;super(),this.__isOpen=P.sH.box(!1),this.__counterHelper=void 0,this.__dataPlugin=void 0,this.__videoLayout=void 0,this.__playback=void 0,this.__isEmbed=void 0,this._itemsToExclude=null,this._hiddenItems=null,this.extraActions=r,this.__dataPlugin=e,this.__videoLayout=t,this.__playback=i,this.__counterHelper=n instanceof Xn?n.counterHelper:void 0,this.__isEmbed=null!==(a=null==o?void 0:o.value)&&void 0!==a&&a,this.sendStat=this.sendStat.bind(this),this.onClick=this.onClick.bind(this),(0,P.Gn)(this,{isOpen:P.EW,isInteractiveVideo:P.EW})}get isSeekable(){return!this.__dataPlugin.isLive||this.__dataPlugin.isDVR&&!this.__dataPlugin.isTVStream}get playerMode(){return this.__videoLayout.playerMode}get isOpen(){return this.__isOpen.get()}set isOpen(e){e&&this.sendStat("show_extended_player_menu"),this.__isOpen.set(e)}sendStat(e){var t;null===(t=this.__counterHelper)||void 0===t||t.get("mainContextMenuItemClick")({clickedItemTitle:e})}onClick(e){const t=e.currentTarget&&e.currentTarget.getAttribute("data-reportmessage")||"";this.isOpen=!1,"replayVideo"!==t?this.sendStat(t):this.sendStat(this.isLooping?"replay_video_off":"replay_video_on")}get playerWrapperElement(){return this.__videoLayout.wrapperRef}get isLive(){return this.__dataPlugin.isLive}get isLooping(){return this.__playback.isLooping}get isEmbed(){return this.__isEmbed}get itemsToExclude(){return this._itemsToExclude}get hiddenItems(){return this._hiddenItems}get isInteractiveVideo(){return this.__dataPlugin.isInteractiveVideo}},[qr,zr]=(0,k.A)(Wr,[(0,I.k_)({implement:"IContextMenuPlugin",ctor_args:["IDataPlugin","IVideoLayoutPlugin","IStatisticState","IExtraActionsPlugin","IPlayback",{implement:"IsEmbed",optional:!0}]})],[],0,void 0,I.j8).c,Gr=Wr,(jr=class extends ft{constructor(){super(qr),this.ContextMenu=Ur,zr()}})[Gr]=void 0,jr);class Zr extends I.j8{constructor(e){super(),this._node=(Yr(this),P.sH.box(null)),this._isConnected=P.sH.box(!1),this._observer=null,this._config=e,(0,P.Gn)(this,{node:P.EW,isConnected:P.EW})}get node(){return this._node.get()}set node(e){this._node.set(e)}get isConnected(){return this._isConnected.get()}set isConnected(e){this._isConnected.set(e)}checkConnectedToDOM(){if(!this.node)return void(this.isConnected=!1);(this.node.isConnected||document.body.contains(this.node))&&(this.isConnected=!0,this.disconnectObserver())}initObserver(){this._observer=new MutationObserver((()=>this.checkConnectedToDOM())),document.body&&this._observer.observe(document.body,{childList:!0,subtree:!0})}disconnectObserver(){this._observer&&(this._observer.disconnect(),this._observer=null)}init(){const e=(0,P.mJ)((()=>this.node),(e=>{if(this.disconnectObserver(),e){if(e.isConnected||document.body.contains(e))return void(this.isConnected=!0);this.initObserver()}}));return()=>{this.disconnectObserver(),e()}}resetObserver(){return(0,P.mJ)((()=>this._config.get("videoId")),(()=>{this.disconnectObserver(),this.isConnected=!1,this.node&&this.initObserver()}))}}Kr=Zr,({e:[Yr],c:[Qr,Xr]}=(0,k.A)(Kr,[(0,I.k_)({implement:"IDomNodeTrackerPlugin",ctor_args:["IPlayerConfigPlugin"]})],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"resetObserver"]],0,void 0,I.j8)),Xr();a(4992);const Jr=function(t,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=new URLSearchParams((0,l.A)({utm_source:"embed",utm_medium:"referral",utm_campaign:t.utm_campaign,utm_content:t.utm_content},Object.fromEntries(Object.entries({utm_term:t.utm_term,t:"channel"!==t.type?t.t:void 0,p:t.p,popup:t.popup,productCode:t.productCode,onboarding_id:t.onboarding_id}).filter((e=>{let[,t]=e;return void 0!==t})))));if(H.B.isMobile){const o=(0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)({},t.hostname&&{hostname:t.hostname}),t.userId&&{user_id:t.userId}),t.dist&&{dist:t.dist}),t.appmetrica_tracking_id&&{appmetrica_tracking_id:t.appmetrica_tracking_id}),n.includes("channel")&&t.channelId&&{channel_id:t.channelId}),r&&jn()&&{client_id:jn()}),r&&(0,e.fL)()&&{cid:(0,e.fL)()});Object.entries(o).forEach((e=>{let[t,n]=e;n&&i.set(t,n)}))}return i};function $r(e){const{dist:t}=(0,r.al)(window.location.href,!0,"dist");return e?t||"":"".concat((0,O.qO)((0,O.IN)())).concat(t?"_".concat(t):"")}var ei;let ti,ni;class ri extends I.j8{constructor(e,t){super(),this._data=void 0,this.data=e,this.playback=t,this._data=e,this.generateTrackingLink=this.generateTrackingLink.bind(this)}generateTrackingLink(e){var t;let{campaign:n,type:i="video",id:o,additionalParameters:a={},noMobileRedirect:s=!1}=e;const u=String(this._data.video_id),c=(e=>{const{videoId:t,type:n,channelId:r}=e,i="video"===n?"video/".concat(t):"channel/".concat(r),o=Jr(e,i),a=H.B.isMobile&&!e.noMobileRedirect?"https://".concat("1164705",".").concat("redirect.appmetrica.yandex.com","/").concat(i):"https://rutube.ru/".concat(i);return"".concat(a,"/?").concat(o.toString())})((0,l.A)((0,l.A)((0,l.A)((0,l.A)({},a),this._data.viewer&&{userId:String(this._data.viewer)}),s&&{noMobileRedirect:"true"}),{},{p:(0,r.al)(window.location.href).p,channelId:String(null===(t=this._data.author)||void 0===t?void 0:t.id),videoId:o||u,hostname:(0,O.qO)((0,O.IN)()),type:i,dist:$r(!0),appmetrica_tracking_id:this.getAppmetricaTrackingId(n),utm_campaign:n,utm_content:u,utm_term:$r(),t:String(Math.round(this.playback.currentTime))}));return"".concat(c).concat(H.B.isMobile&&!s?"&id=".concat(o||u):"")}getAppmetricaTrackingId(e){return{logo:"1037877625579705379",main_logo:"1037877625579705379",title:"1109935222251589310",pausescreen:"245396394041434729",endscreen:"1109935224885674290",subscribe:"29071315776328984",channel:"605532070562855472",channel_left:"1110017734780921159",serial:"245244101715316941",time_tags:"173267859139527576",button_watch_on_rutube:"",button_watch_no_ad:"",adoff_player:""}[e]}}ei=ri,[ni,ti]=(0,k.A)(ei,[(0,I.k_)({implement:"ITrackingLinksPlugin",ctor_args:["IDataPlugin","IPlayback"]})],[],0,void 0,I.j8).c,ti();var ii=a(8817);let oi=function(e){return e.seekForward="seekForward",e.seekBackward="seekBackward",e.mute="mute",e.unmute="unmute",e.volumeUp="volumeUp",e.volumeDown="volumeDown",e.subtitles="subtitles",e.nextTimeMark="nextTimeMark",e.previousTimeMark="previousTimeMark",e.percentRewind="percentRewind",e.playbackRate="playbackRate",e}({});var ai=a(9845);const si=()=>(0,fr.p5)().resolve("IInfoLayerPlugin"),li="info-layer-icon-module__notButton___xT03g",ui="info-layer-icon-module__withBg___E1P0L",ci="info-layer-icon-module__withBgBig___yEf3i",di=(0,t.forwardRef)(((e,n)=>{let{icon:r,color:i,big:o,wrapperClassName:a,className:s,style:u,children:c}=e;return t.createElement("div",{ref:n,className:er()(ui,a,{[ci]:o})},t.createElement("div",{className:er()(li,s),style:(0,l.A)({background:"transparent"},u||{})},r?t.createElement(r,{color:i}):c))})),hi=e=>{let{color:n="white"}=e;return t.createElement("svg",{"data-testid":"play-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M8 5v14l10-7L8 5Z",fill:n,stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},pi=e=>{let{color:n="white"}=e;return t.createElement("svg",{"data-testid":"pause-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"15",y:"5",width:"2",height:"14",rx:".5",fill:n}),t.createElement("rect",{x:"7",y:"5",width:"2",height:"14",rx:".5",fill:n}))},mi=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fill:n,d:"M6 6h12v12H6z"}))},vi=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t.createElement("path",{fill:n,fillRule:"evenodd",d:"m13.93 5.93-1.76 1.76a.1.1 0 0 1-.17-.07V4.1c0-.09.1-.13.17-.07l1.76 1.76a.1.1 0 0 1 0 .14Zm1.7.63c.2-.35.66-.47.99-.24A8 8 0 1 1 12 4.86v1.46a6.54 6.54 0 1 0 3.88 1.28.8.8 0 0 1-.25-1.04Zm-6.11 9.3h1.2v-5.71h-.99L7.9 11.6l.59.73.65-.53a7.71 7.71 0 0 0 .42-.4 43.12 43.12 0 0 0-.03 1.14v3.3Zm6.65-1.62a6.29 6.29 0 0 0-.1-2.82 2.03 2.03 0 0 0-.66-1.01c-.3-.24-.67-.35-1.13-.35-.49 0-.88.11-1.17.35-.29.23-.5.57-.63 1.01-.13.44-.2.97-.2 1.58 0 .61.08 1.14.22 1.58.14.44.36.77.65 1 .3.24.67.36 1.13.36a2 2 0 0 0 .93-.2c.26-.14.46-.33.62-.58.16-.25.27-.56.34-.92Zm-2.61-.15c-.05-.29-.07-.65-.07-1.09 0-.43.02-.8.07-1.09.05-.29.13-.5.24-.65a.57.57 0 0 1 .48-.23c.2 0 .36.08.47.23.12.14.2.36.25.65.05.3.08.66.08 1.1 0 .43-.03.8-.08 1.09-.05.29-.13.5-.25.65a.57.57 0 0 1-.47.21.57.57 0 0 1-.48-.22c-.11-.14-.2-.36-.24-.65Z",clipRule:"evenodd"}))},_i=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t.createElement("path",{fill:n,fillRule:"evenodd",d:"m10.07 5.93 1.76 1.76a.1.1 0 0 0 .17-.07v-1.3A6.54 6.54 0 1 1 8.12 7.6a.8.8 0 0 0 .25-1.04.68.68 0 0 0-.99-.24A8 8 0 1 0 12 4.86V4.1a.1.1 0 0 0-.17-.07l-1.76 1.76a.1.1 0 0 0 0 .14Zm-.55 9.93h1.2v-5.71h-.99L7.9 11.6l.59.73.65-.53a7.71 7.71 0 0 0 .42-.4 42.75 42.75 0 0 0-.03 1.14v3.3Zm6.65-1.62a6.29 6.29 0 0 0-.1-2.82 2.03 2.03 0 0 0-.66-1.01c-.3-.24-.67-.35-1.13-.35-.49 0-.88.11-1.17.35-.29.23-.5.57-.63 1.01-.13.44-.2.97-.2 1.58 0 .61.08 1.14.22 1.58.14.44.36.77.65 1 .3.24.67.36 1.13.36a2 2 0 0 0 .93-.2c.26-.14.46-.33.62-.58.16-.25.27-.56.34-.92Zm-2.61-.15c-.05-.29-.07-.65-.07-1.09 0-.43.02-.8.07-1.09.05-.29.13-.5.24-.65a.57.57 0 0 1 .48-.23c.2 0 .36.08.47.23.12.14.2.36.25.65.05.3.08.66.08 1.1 0 .43-.03.8-.08 1.09-.05.29-.13.5-.25.65a.57.57 0 0 1-.47.21.57.57 0 0 1-.48-.22c-.11-.14-.2-.36-.24-.65Z",clipRule:"evenodd"}))};var fi=a(4825),gi=a(4224);let bi=function(e){return e.PLAY="play",e.STOP="stop",e.PAUSE="pause",e.NEXT_SEEK="next_seek",e.PREV_SEEK="prev_seek",e.VOLUME_UP="volume_up",e.VOLUME_DOWN="volume_down",e.MUTE="mute",e.UNMUTE="unmute",e.LINK="link",e.TAG="tag",e.REPLAY_SQUARE="replaySquare",e.INFO="info",e.FLAG="flag",e.SEEK_TO_NEXT_TIME_MARK="seek_to_next_time_mark",e.SEEK_TO_PREV_TIME_MARK="seek_to_prev_time_mark",e.FORWARD_FAST="forward_fast",e.LOOP="loop",e}({});const yi={[bi.PLAY]:hi,[bi.PAUSE]:pi,[bi.STOP]:mi,[bi.NEXT_SEEK]:vi,[bi.PREV_SEEK]:_i,[bi.VOLUME_UP]:fi.i,[bi.VOLUME_DOWN]:()=>t.createElement(fi.i,{low:!0}),[bi.MUTE]:gi.L,[bi.UNMUTE]:fi.i,[bi.LINK]:Ar,[bi.TAG]:Pr,[bi.REPLAY_SQUARE]:Or,[bi.INFO]:Tr,[bi.FLAG]:Mr,[bi.SEEK_TO_NEXT_TIME_MARK]:()=>t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6666 5.7513C18.6666 5.22203 19.0956 4.79297 19.6249 4.79297C20.0322 4.79297 20.3802 5.04708 20.5189 5.40541C20.5888 5.50283 20.6299 5.62226 20.6299 5.7513V17.2513C20.6299 17.3803 20.5888 17.4998 20.5189 17.5972C20.3802 17.9555 20.0322 18.2096 19.6249 18.2096C19.0956 18.2096 18.6666 17.7806 18.6666 17.2513V11.8847L11 17.2513V12.3722L4 17.251V5.75098L11 10.6298V5.7513L18.6666 11.1179V5.7513Z",fill:"white"})),[bi.SEEK_TO_PREV_TIME_MARK]:()=>t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.96332 5.7513C5.96332 5.22203 5.53426 4.79297 5.00498 4.79297C4.59767 4.79297 4.24971 5.04708 4.11097 5.40541C4.0411 5.50283 3.99997 5.62226 3.99997 5.7513V17.2513C3.99997 17.3803 4.0411 17.4998 4.11097 17.5972C4.24971 17.9555 4.59767 18.2096 5.00498 18.2096C5.53426 18.2096 5.96332 17.7806 5.96332 17.2513V11.8847L13.6299 17.2513V12.3722L20.6299 17.251V5.75098L13.6299 10.6298V5.7513L5.96332 11.1179V5.7513Z",fill:"white"})),[bi.FORWARD_FAST]:e=>{let{color:n="white "}=e;return t.createElement("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M8.7562 0.544534C8.5882 0.634444 8.48333 0.809522 8.48333 1.00007V5.59181C8.47361 5.58428 8.46358 5.57706 8.45326 5.57017L0.953256 0.570173C0.794714 0.464478 0.590866 0.454624 0.422867 0.544534C0.254869 0.634444 0.149994 0.809522 0.149994 1.00007V11.0001C0.149994 11.1906 0.254869 11.3657 0.422867 11.4556C0.590866 11.5455 0.794714 11.5357 0.953256 11.43L8.45326 6.42996C8.46358 6.42308 8.47361 6.41586 8.48333 6.40832V11.0001C8.48333 11.1906 8.5882 11.3657 8.7562 11.4556C8.9242 11.5455 9.12805 11.5357 9.28659 11.43L16.7866 6.42996C16.9303 6.33414 17.0167 6.17282 17.0167 6.00007C17.0167 5.82732 16.9303 5.666 16.7866 5.57017L9.28659 0.570173C9.12805 0.464478 8.9242 0.454624 8.7562 0.544534Z",fill:n}))},[bi.LOOP]:Rr},Ei={wrapper:"info-layer-module__wrapper___HuYcm",labelBox:"info-layer-module__labelBox___SR51I",labelBoxAnimated:"info-layer-module__labelBoxAnimated___LYOhD",infoLayerLabelFadeout:"info-layer-module__infoLayerLabelFadeout___QuYne",label:"info-layer-module__label___O3giF",iconBox:"info-layer-module__iconBox___xf2b6",sm:"info-layer-module__sm___yLpF6",btn:"info-layer-module__btn___HF35Z",md:"info-layer-module__md___Xwv9c",lg:"info-layer-module__lg___MSHN9",xlg:"info-layer-module__xlg___AiyoD",btnAnimated:"info-layer-module__btnAnimated___JnYUa",infoLayerIconFadeout:"info-layer-module__infoLayerIconFadeout___IQGWZ"};var wi=a(140),Si=a(9346);const Ai=(0,Jn.PA)((()=>{const e=(0,t.useRef)(null),n=si(),{activeInfo:r,labelToShow:i,hidden:o,labelIcon:a,withoutAnimation:s}=n,l=n.getCustomStyles(),u=a?yi[a]:void 0,{getDataAttribute:c}=(0,wi.f)();if(!r||o)return null;const{updatedAt:d,icon:h}=r,p=n.getSizeClassName(Ei),m=()=>{n.setActiveInfo(null)};return t.createElement("div",{className:er()(Ei.wrapper,p),ref:e,key:d},i&&t.createElement("div",{className:er()(l||Ei.labelBox,{[Ei.labelBoxAnimated]:!s}),onAnimationEnd:m},t.createElement("span",(0,ai.A)({className:Ei.label,role:"alert","aria-live":"polite"},c(Si.R.ALERT)),i,u&&t.createElement(u,null))),h&&t.createElement("div",{className:Ei.iconBox},t.createElement("div",{className:er()({[Ei.btnAnimated]:!s}),onAnimationEnd:i?void 0:m},t.createElement(di,{big:!0,wrapperClassName:Ei.btn,icon:h?yi[h]:void 0}))))})),Ci=t.memo((function(){return t.createElement(Ai,null)}));let ki=function(e){return e.PLAY="play",e.STOP="stop",e.PAUSE="pause",e.NEXT_SEEK="next_seek",e.PREV_SEEK="prev_seek",e.VOLUME_UP="volume_up",e.VOLUME_DOWN="volume_down",e.MUTE="mute",e.UNMUTE="unmute",e.LINK="link",e.TAG="tag",e.REPLAY_SQUARE="replaySquare",e.INFO="info",e.FLAG="flag",e.SEEK_TO_NEXT_TIME_MARK="seek_to_next_time_mark",e.SEEK_TO_PREV_TIME_MARK="seek_to_prev_time_mark",e.FORWARD_FAST="forward_fast",e.LOOP="loop",e}({});const Pi=[ki.LINK,ki.TAG,ki.REPLAY_SQUARE,ki.LOOP];var Ii,Ti;let xi,Ri,Li,Oi;var Ni;let Mi,Di,Bi;new(Ti=class extends I.j8{constructor(e,t,n,r,i,o){super(),this.__playerSize=void xi(this),this.__playback=void 0,this.__shortcuts=void 0,this.__extraActions=void 0,this.__data=void 0,this.__forceToShow=!1,this.__activeInfo=P.sH.box(null),this.__isFirstReaction=!0,this.__isInfoPrevented=!1,this._visibilityState=o,(0,P.Gn)(this,{playerWidth:P.EW,labelToShow:P.EW,hidden:P.EW,forceToShow:P.EW,activeInfo:P.EW,isInfoPrevented:P.EW,getSizeClassName:P.XI,setActiveInfo:P.XI}),this.__playerSize=e,this.__playback=t,this.__shortcuts=n,this.__extraActions=r,this.__data=i}init(){const e=this.setPlayPause(),t=this.setMuteInfo(),n=this.setSeekForwardInfo(),r=this.setSeekBackwardInfo(),i=this.setSeekForwardIPlaybacknfo(),o=this.setSeekBackwardIPlaybacknfo(),a=this.setVolumeUp(),s=this.setVolumeDown(),l=this.setSubtitles(),u=this.setCopyTech(),c=this.setCopyLinkAtTime(),d=this.setCopyLink(),h=this.setCopyEmbedPlayerCode(),p=this.setShowTechInfo(),m=this.setReplay(),v=this.setLoopVideo(),_=this.setPlaybackRate(),f=this.setPlaybackRateFromShortcuts(),g=this.toggleFramelessMode();return()=>{[e,t,n,r,i,o,a,s,l,u,c,d,h,p,m,_,f,g,v].forEach((e=>e()))}}initVisibilityChange(){return(0,P.mJ)((()=>this._visibilityState.isVisible),(()=>{this.isInfoPrevented=!0}))}setPlayPause(){return(0,P.mJ)((()=>this.__playback.paused),(e=>{H.B.isMobile||(this.__isFirstReaction?this.__isFirstReaction=!1:e?this.__data.isTVStream?this.setActiveInfo({icon:ki.STOP}):this.setActiveInfo({icon:ki.PAUSE}):this.setActiveInfo({icon:ki.PLAY}))}))}setSeekForwardInfo(){return this.subscribeShortcutsEvent(oi.seekForward,(()=>{this.setActiveInfo({icon:ki.NEXT_SEEK})}))}setSeekForwardIPlaybacknfo(){return this.subscribePlaybackActions(ii.p.defaultForwardSeek,(()=>{this.setActiveInfo({icon:ki.NEXT_SEEK})}))}setSeekBackwardIPlaybacknfo(){return this.subscribePlaybackActions(ii.p.defaultBackwardSeek,(()=>{this.setActiveInfo({icon:ki.PREV_SEEK})}))}setSeekBackwardInfo(){return this.subscribeShortcutsEvent(oi.seekBackward,(()=>{this.setActiveInfo({icon:ki.PREV_SEEK})}))}setMuteInfo(){return this.subscribePlaybackActions(ii.p.mute,(()=>{"Enabled"!==this.__playback.autoPlayWithMute&&this.setActiveInfo({label:"Ð—Ð²ÑƒÐº Ð²".concat(this.__playback.muted?"":"Ñ‹","ÐºÐ»ÑŽÑ‡ÐµÐ½"),icon:this.__playback.muted?ki.UNMUTE:ki.MUTE})}))}setPlaybackRateFromShortcuts(){return this.subscribeShortcutsEvent(oi.playbackRate,(e=>{let{newRate:t}=e;this.setActiveInfo({label:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ: ".concat(100*t,"%"),shortLabel:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ: ".concat(t)})}))}setPlaybackRate(){return this.subscribePlaybackActions(ii.p.playbackRate,(e=>{let{rate:t,withoutInfo:n}=e;n||this.setActiveInfo({label:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ: ".concat(100*t,"%"),shortLabel:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ: ".concat(t)})}))}setVolumeUp(){return this.subscribeShortcutsEvent(oi.volumeUp,(e=>{let{newVolume:t}=e;this.setActiveInfo({icon:ki.VOLUME_UP,label:"Ð“Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚ÑŒ ".concat(t,"%")})}))}setVolumeDown(){return this.subscribeShortcutsEvent(oi.volumeDown,(e=>{let{newVolume:t}=e;t>0?this.setActiveInfo({icon:ki.VOLUME_DOWN,label:"Ð“Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚ÑŒ ".concat(t,"%")}):this.setActiveInfo({icon:ki.MUTE,label:"Ð—Ð²ÑƒÐº Ð²Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½"})}))}setSubtitles(){return this.subscribeShortcutsEvent(oi.subtitles,(e=>{this.setActiveInfo({label:"Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹ Ð²".concat(e?"":"Ñ‹","ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹")})}))}setCopyTech(){return this.subscribeExtraActions(yr.copyTechInfo,(()=>{this.forceToShow=!0,this.setActiveInfo({label:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾"})}))}setCopyLinkAtTime(){return this.subscribeExtraActions(yr.copyLinkAtTime,(()=>{this.setActiveInfo({icon:ki.LINK})}))}setCopyLink(){return this.subscribeExtraActions(yr.copyLink,(()=>{this.setActiveInfo({icon:ki.LINK})}))}setCopyEmbedPlayerCode(){return this.subscribeExtraActions(yr.copyCode,(()=>{this.setActiveInfo({icon:ki.TAG})}))}setShowTechInfo(){return this.subscribeExtraActions(yr.toggleTechInfo,(()=>{}))}setReplay(){return this.subscribeExtraActions(yr.replay,(()=>{this.setActiveInfo({icon:ki.REPLAY_SQUARE})}))}setLoopVideo(){return this.subscribeExtraActions(yr.repeatVideo,(()=>{this.setActiveInfo({icon:ki.LOOP})}))}subscribeShortcutsEvent(e,t){return this.__shortcuts.on(e,t),()=>{this.__shortcuts.off(e,t)}}subscribeExtraActions(e,t){var n;return null===(n=this.__extraActions)||void 0===n||n.on(e,t),()=>{var n;null===(n=this.__extraActions)||void 0===n||n.off(e,t)}}subscribePlaybackActions(e,t){var n;return null===(n=this.__playback)||void 0===n||n.on(e,t),()=>{var n;null===(n=this.__playback)||void 0===n||n.off(e,t)}}toggleFramelessMode(){return this.subscribePlaybackActions(ii.p.toggleFramelessMode,(e=>{const t=e?"Ð‘ÐµÐ· Ð¿Ð¾Ð»ÐµÐ¹":"C Ð¿Ð¾Ð»ÑÐ¼Ð¸";this.forceToShow=!0,this.setActiveInfo({label:t,shortLabel:t})}))}get activeInfo(){return this.__activeInfo.get()}get playerWidth(){var e;return(null===(e=this.__playerSize.size)||void 0===e?void 0:e.width)||0}get labelToShow(){if(!this.activeInfo)return"";const{label:e,shortLabel:t}=this.activeInfo;return this.playerWidth&&this.playerWidth<550&&t?t:e||""}get forceToShow(){return this.__forceToShow}set forceToShow(e){this.__forceToShow=e}get hidden(){var e,t,n;return!(null===(e=this.__data.appearance)||void 0===e||!e.forbid_html_controls)||H.B.isMobile&&!((n=null===(t=this.activeInfo)||void 0===t?void 0:t.icon)&&Pi.includes(n))&&!this.__forceToShow}get labelIcon(){var e;return null===(e=this.activeInfo)||void 0===e?void 0:e.labelIcon}get withoutAnimation(){var e;return(null===(e=this.activeInfo)||void 0===e?void 0:e.withoutAnimation)||!1}get isInfoPrevented(){return this.__isInfoPrevented}set isInfoPrevented(e){this.__isInfoPrevented=e}setActiveInfo(e){var t,n;if(null!==e&&null!==(t=this.activeInfo)&&void 0!==t&&t.persistent||this.isInfoPrevented||this.__playback.isInfoPrevented)return this.isInfoPrevented=!1,void(this.__playback.isInfoPrevented=!1);const r=(0,l.A)((0,l.A)({},e),{},{updatedAt:null!==(n=null==e?void 0:e.updatedAt)&&void 0!==n?n:(new Date).getTime()});this.__activeInfo.set(r)}getSizeClassName(e){return this.__playerSize.getSizeClassName(e)}customStylesForLabel(){}getCustomStyles(){return this.customStylesForLabel()}},({e:[xi],c:[Oi,Ri]}=(0,k.A)(Ti,[(0,I.k_)({implement:"IInfoLayerPlugin",ctor_args:["IPlayerSizePlugin","IPlayback","IShortcutsPlugin",{implement:"IExtraActionsPlugin",optional:!0},"IDataPlugin","IVisibilityStatePlugin"]})],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"initVisibilityChange"]],0,void 0,I.j8)),Li=Ti,(Ii=class extends ft{constructor(){super(Oi),this.InfoLayerPluginView=Ci,Ri()}})[Li]=void 0,Ii);class Fi extends I.j8{constructor(e,t,n,r,i){super(),this._isMediaSession=(Mi(this),"object"==typeof navigator&&"mediaSession"in navigator),this._data=e,this._playback=t,this._nextPlugin=n,this._playlist=r,this._config=i,(0,P.Gn)(this,{isSeekable:P.EW},{autoBind:!0})}setMediaSessionHandlers(){if(!this._isMediaSession)return;navigator.mediaSession.setActionHandler("play",(()=>{var e;this._playback.isPlaying||null!==(e=this._config)&&void 0!==e&&e.get("isPlaybackDisabled")||this._playback.play().catch(console.warn)})),navigator.mediaSession.setActionHandler("pause",(()=>{this._playback.isPlaying&&this._playback.pause()}));const e=this.syncTrackData.bind(this);return this._playback.player.addEventListener("play",e),this._playback.player.addEventListener("pause",e),()=>{navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.metadata=null,navigator.mediaSession.playbackState="none",this._playback.player.removeEventListener("play",e),this._playback.player.removeEventListener("pause",e)}}setMediaMetaData(){return(0,P.mJ)((()=>{var e;return{title:this._data.title,poster:this._data.poster,author:null===(e=this._data.author)||void 0===e?void 0:e.name}}),(e=>{let{title:t,poster:n,author:r}=e;this._isMediaSession&&(navigator.mediaSession.metadata=new MediaMetadata({title:t,artist:r,artwork:[{src:n||"",type:"image/jpg",sizes:"709x398"}]}))}))}setupMediaSessionNavigation(){if(!this._isMediaSession)return;const e=()=>{var e;null===(e=this._playlist)||void 0===e||e.onClickPrev()},t=()=>{var e;null===(e=this._nextPlugin)||void 0===e||e.onClick()},n=()=>{var e;null===(e=this._playlist)||void 0===e||e.onClickNext()};return(0,P.mJ)((()=>{var e,t,n,r;return{nextPlaylistVideo:null===(e=this._playlist)||void 0===e?void 0:e.nextVideo,prevPlaylistVideo:null===(t=this._playlist)||void 0===t?void 0:t.prevVideo,nextRecommendedVideo:null===(n=this._nextPlugin)||void 0===n?void 0:n.nextVideo,isVideoFromPlaylist:null===(r=this._playlist)||void 0===r?void 0:r.playlistId}}),(r=>{let{nextPlaylistVideo:i,prevPlaylistVideo:o,nextRecommendedVideo:a,isVideoFromPlaylist:s}=r;if(s)return navigator.mediaSession.setActionHandler("previoustrack",o?e:null),void navigator.mediaSession.setActionHandler("nexttrack",i?n:null);a&&navigator.mediaSession.setActionHandler("nexttrack",t)}))}setSeekButtons(){const e=()=>{this._playback.seekForward(10)},t=()=>{this._playback.seekBack(10)},n=e=>{e.seekTime&&(this._playback.seek(e.seekTime),this.syncTrackData())};return(0,P.mJ)((()=>({seekable:this.isSeekable})),(r=>{let{seekable:i}=r;this._isMediaSession&&i&&(navigator.mediaSession.setActionHandler("seekforward",e),navigator.mediaSession.setActionHandler("seekbackward",t),navigator.mediaSession.setActionHandler("seekto",n))}),{fireImmediately:!0})}syncPositionOnChange(){return(0,P.mJ)((()=>({position:this._playback.currentTime,duration:this._playback.duration})),this.syncTrackData.bind(this),{fireImmediately:!0})}syncTrackData(){if(this._isMediaSession){navigator.mediaSession.playbackState=this._playback.isPlaying?"playing":"paused";const e=void 0!==this._playback.currentTime&&!isNaN(this._playback.currentTime),t=void 0!==this._playback.duration&&!isNaN(this._playback.duration),n=void 0!==this._playback.playbackRate&&!isNaN(this._playback.playbackRate);e&&t&&n&&navigator.mediaSession.setPositionState({position:this._playback.currentTime,duration:this._playback.duration,playbackRate:this._playback.playbackRate})}}get isSeekable(){return!this._data.isLive||this._data.isDVR&&!this._data.isTVStream}}var Hi,Vi;let Ui,ji;Ni=Fi,({e:[Mi],c:[Bi,Di]}=(0,k.A)(Ni,[(0,I.k_)({implement:"MediaSessionPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"INextVideoPlugin",optional:!0},{implement:"IPlaylistPlugin",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0}]})],[[(0,I.o7)(),2,"setMediaSessionHandlers"],[(0,I.o7)(),2,"setMediaMetaData"],[(0,I.o7)(),2,"setupMediaSessionNavigation"],[(0,I.o7)(),2,"setSeekButtons"],[(0,I.o7)(),2,"syncPositionOnChange"]],0,void 0,I.j8)),Di();class Wi extends(Hi=I.j8){static assertInstance(e){if(!(e instanceof ji))throw new Error("not a PlayerConfigPlugin")}static getObservableKey(e){return"__".concat(e.toString())}constructor(e){super(),this._warehouse={};for(const t in e.value)this.createProperty(t,e.value[t])}createProperty(e,t){const n=ji.getObservableKey(e);Object.defineProperty(this._warehouse,n,{value:P.sH.box(t),writable:!1})}get(e){const t=ji.getObservableKey(e);return t in this._warehouse||this.createProperty(e,void 0),this._warehouse[t].get()}set(e,t){const n=ji.getObservableKey(e);n in this._warehouse||this.createProperty(e,t),(0,P.h5)((()=>{this._warehouse[n].set(t)}))}setBulk(e){(0,P.h5)((()=>e.forEach((e=>{let{key:t,value:n}=e;const r=ji.getObservableKey(t);r in this._warehouse||this.createProperty(t,n),this._warehouse[r].set(n)}))))}}Vi=Wi,[ji,Ui]=(0,k.A)(Vi,[(0,I.k_)({implement:"IPlayerConfigPlugin",ctor_args:["InitialProps"]})],[],0,void 0,Hi).c,Ui();a(9928);var zi=a(1862);const Gi={common:zi.b9,stats:zi.nd},qi=(e,t)=>{if("number"!=typeof e||!t)return null;const n=Gi[t],r=Object.keys(n).reverse(),i=r.find(((t,n)=>e>Number(r[n])));return i?n[Number(i)]:null},Ki=(e,t)=>{if(t){if(e<375)return zi.K0.MS;if(e>=375&&e<768)return zi.K0.MM;if(e>=768)return zi.K0.ML}else{if(e<632)return zi.K0.DXS;if(e>=632&&e<803)return zi.K0.DS;if(e>=803&&e<912)return zi.K0.DM;if(e>=912&&e<1388)return zi.K0.DL;if(e>=1388)return zi.K0.DXL}return zi.K0.DM};function Yi(e,t){var n=this;let r;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(r),r=setTimeout((()=>e.apply(n,o)),t)}}var Xi;let Qi,Zi,Ji;class $i extends I.j8{constructor(e){super(),this._wrapperRef=(Qi(this),P.sH.box(null)),this._size=P.sH.box(null),this._playerSizeValue=P.sH.box(zi.K0.DM),this._iconSizeValue=P.sH.box(zi.Ev[zi.K0.DM]),this._sizeObserver=null,this._coordinates=P.sH.box(null),this._windowWidth=P.sH.box(0),this._isEmbed=e,(0,P.Gn)(this,{wrapperRef:P.EW,size:P.EW,sizeId:P.EW,windowWidth:P.EW,getSizeClassName:P.XI,coordinates:P.EW,updateWindowWidth:P.XI,playerSizeValue:P.EW,iconSizeValue:P.EW,isSmallPlayer:P.EW})}get wrapperRef(){return this._wrapperRef.get()}set wrapperRef(e){this._wrapperRef.set(e)}get size(){return this._size.get()}set size(e){this._size.set(e)}get sizeId(){var e;return qi(null===(e=this.size)||void 0===e?void 0:e.width,"common")}get sizeIdForStats(){var e;return qi(null===(e=this.size)||void 0===e?void 0:e.width,"stats")}get coordinates(){return this._coordinates.get()}set coordinates(e){this._coordinates.set(e)}get windowWidth(){return this._windowWidth.get()}get playerSizeValue(){return this._playerSizeValue.get()}set playerSizeValue(e){this._playerSizeValue.set(e)}get iconSizeValue(){return this._iconSizeValue.get()}set iconSizeValue(e){this._iconSizeValue.set(e)}get isSmallPlayer(){return"S"===this.iconSizeValue}updateWindowWidth(){globalThis.window&&this._windowWidth.set(window.innerWidth)}initPlayerSize(){return(0,P.mJ)((()=>{var e;return{width:null===(e=this.size)||void 0===e?void 0:e.width,windowWidth:this.windowWidth}}),(e=>{let{width:t=0,windowWidth:n}=e;this.playerSizeValue=this._isEmbed.value?Ki(t,H.B.isMobile):((e,t)=>{if(t){if(e<375)return zi.K0.MS;if(e>=375&&e<768)return zi.K0.MM;if(e>=768)return zi.K0.ML}else{if(e<1024)return zi.K0.DXS;if(e>=1024&&e<1280)return zi.K0.DS;if(e>=1280&&e<1440)return zi.K0.DM;if(e>=1440&&e<1920)return zi.K0.DL;if(e>=1920&&e<2560)return zi.K0.DXL;if(e>=2560)return zi.K0.DXXL}return zi.K0.DM})(n,H.B.isMobile),this.iconSizeValue=zi.Ev[this.playerSizeValue]}))}init(){const e=[];if(e.push((0,P.mJ)((()=>this.wrapperRef),(e=>{this._sizeObserver&&this._sizeObserver.disconnect(),e&&(this.size={width:e.offsetWidth,height:e.offsetHeight},this.initResizeObserver(e))}))),globalThis.window){const t=Yi((()=>{(0,P.h5)((()=>{this.updateWindowWidth()}))}),100);this.updateWindowWidth(),window.addEventListener("resize",t),e.push((()=>window.removeEventListener("resize",t)))}return()=>e.forEach((e=>e()))}initResizeObserver(e){const t=Yi((()=>{this.size={width:e.offsetWidth,height:e.offsetHeight};const{x:t,y:n}=e.getBoundingClientRect();(0,P.h5)((()=>this.coordinates={x:t,y:n}))}),100);this._sizeObserver=new ResizeObserver(t),this._sizeObserver.observe(e)}getSizeClassName(e){const t=this.sizeId||"";return t in e?e[t]:void 0}}function eo(){}Xi=$i,({e:[Qi],c:[Ji,Zi]}=(0,k.A)(Xi,[(0,I.k_)({implement:"IPlayerSizePlugin",ctor_args:["IsEmbed"]})],[[(0,I.o7)(),2,"initPlayerSize"],[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),Zi();const to=/(rutube|rtbcdn)\.(ru|su)/,no=e=>{let{previewUrl:t,time:n}=e;return"".concat(t,"/Sec").concat(n,".jpg?size=m")};var ro;let io,oo,ao;class so extends I.j8{constructor(e,t,n,r){super(),this._previewPosition=(io(this),P.sH.box(null)),this._isShowPreview=P.sH.box(!1),this._isAllowedToShowPreview=P.sH.box(!1),this._time=P.sH.box(null),this._tipType=P.sH.box("double-tap"),this._url=P.sH.box(""),this._isEmbed=void 0,this._data=e,this._playback=t,this._provider=n,this._isEmbedResolvable=r,(0,P.Gn)(this,{isAllowedToShowPreview:P.EW,isShowPreview:P.EW,url:P.EW,previewPosition:P.EW,setAnotherTip:P.XI,time:P.EW,tipType:P.EW}),this._isEmbed=r.value,this.setAnotherTip=this.setAnotherTip.bind(this)}init(){const e=this.clearPreview();return(0,P.mJ)((()=>this._previewPosition.get()),(e=>{this.isShowPreview=null!==e&&this.isAllowedToShowPreview,null===this._previewPosition.get()&&(this.time=null);const t=this._playback.duration||0,n=this._previewPosition.get()||0,r=Math.floor(t*(n/100));this.time=r,this.url=no({previewUrl:this._provider.previewUrl,time:r})||""})),(0,P.mJ)(eo,e)}initReactions(){const e=[(0,P.mJ)((()=>{var e;return{isLiveStream:null===(e=this._data)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.live_streams)||void 0===e?void 0:e.hls,isPreviewUrlValid:to.test(this._provider.previewUrl),ended:this._playback.ended}}),(e=>{let{isLiveStream:t,isPreviewUrlValid:n,ended:r}=e;return this.isAllowedToShowPreview=!t&&n&&!r}))];return()=>e.forEach((e=>e()))}get isEmbed(){return this._isEmbed}get isAllowedToShowPreview(){return this._isAllowedToShowPreview.get()}set isAllowedToShowPreview(e){this._isAllowedToShowPreview.set(e)}get isShowPreview(){return this._isShowPreview.get()}set isShowPreview(e){this._isShowPreview.set(e)}get time(){return this._time.get()}set time(e){this._time.set(e)}get url(){return this._url.get()}set url(e){this._url.set(e)}get previewPosition(){return this._previewPosition.get()}set previewPosition(e){this._previewPosition.set(e)}get tipType(){return this._tipType.get()}get manifestUrl(){return this._provider.manifestUrl}get previewUrl(){return this._provider.previewUrl}setAnotherTip(){this._tipType.set("double-tap"===this.tipType?"long-press":"double-tap")}clearPreview(){const e=()=>{(0,P.h5)((()=>{this._isShowPreview.set(!1)}))};return this._playback.player.addEventListener("seeked",e),()=>{this._playback.player.removeEventListener("seeked",e)}}}ro=so,({e:[io],c:[ao,oo]}=(0,k.A)(ro,[(0,I.k_)({implement:"IPreviewPlugin",ctor_args:["IDataPlugin","IPlayback","IProviderPlugin","IsEmbed"]})],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"initReactions"]],0,void 0,I.j8)),oo();a(5745);const lo="auto",uo=["144p","240p","360p","480p","720p","1080p","1440p","2160p","4320p"],co={144:"144p",240:"240p",360:"360p",480:"480p",720:"720p",1080:"1080p",1440:"1440p",2160:"2160p",4320:"4320p"},ho=(e,t,n)=>{if(!e&&!t)return 0;const r=e&&t&&(e/t===zi.qZ||t>e),i=e&&r?e:t;return n&&e?e/zi.$c:i||0},po=(e,t)=>{const n=Object.keys(co),r=!(!t||!e)&&t/e>parseFloat(zi.$c.toFixed(1));for(let i=1;i<n.length;i++){const o=+n[i-1],a=+n[i];if(ho(t,e,r)<=o+(a-o)/2)return co[o]}const i=Number(n[n.length-1]);return co[i]},mo={getItem(e){return null},setItem(e,t){},removeItem(e){},clear(){},get length(){return 0},key(e){return null}};class vo{getItem(e){try{return this.storage.getItem(e)}catch(e){console.warn(e)}}getItemBoolean(e){const t=this.storage.getItem(e);return"string"==typeof t&&"1"===t}setItem(e,t){try{return this.storage.setItem(e,String(t))}catch(e){console.warn(e)}}setItemBoolean(e,t){try{return this.storage.setItem(e,t?"1":"0")}catch(e){console.warn(e)}}removeItem(e){try{return this.storage.removeItem(e)}catch(e){console.warn(e)}}clear(){this.storage.clear()}}const _o=new class extends vo{constructor(){super(...arguments),this.storage="undefined"!=typeof window?window.localStorage:mo}},fo=new class extends vo{constructor(){super(...arguments),this.storage="undefined"!=typeof window?window.sessionStorage:mo}};var go;let bo,yo,Eo;class wo extends I.j8{constructor(){super(),this.__qualities=(bo(this),P.sH.box([])),this.__activeQualityIndex=P.sH.box(-1),this.__autoQuality=P.sH.box(!1),this.__embedQuality=P.sH.box(""),this.__manuallySettedQualityIndex=P.sH.box(-1),(0,P.Gn)(this,{qualities:P.EW,activeQualityIndex:P.EW,activeQualityLevel:P.EW,embedQuality:P.EW,manuallySettedQualityIndex:P.EW,manuallySettedQuality:P.EW,activeQualityValue:P.EW,autoQuality:P.EW,frameDuration:P.EW})}init(){return(0,P.mJ)((()=>({activeQualityIndex:this.activeQualityIndex,autoQuality:this.autoQuality})),(e=>{let{activeQualityIndex:t,autoQuality:n}=e;if(-1===t||n)_o.setItem(zi.Ok.USER_QUALITY,lo);else{const e=this.qualities.find((e=>e.index===t));e&&_o.setItem(zi.Ok.USER_QUALITY,parseInt(e.value).toString())}}))}get qualities(){return(0,P.HO)(this.__qualities.get())}set qualities(e){const t=[{level:-1,value:lo,index:-1}],n=e.filter((e=>e.height)),r=(n.length?(e=>e.map(((e,t)=>{let n;return n="number"==typeof e.qualityIndex?e.qualityIndex:"number"==typeof e.level?e.level:t,{value:po(e.height,e.width),height:e.height,width:e.width,level:n,bitrate:e.bitrate,frameRate:e.frameRate,frameDuration:e.frameDuration,edge:e.edge,isAuto:e.isAuto,codec:e.codec}})))(n):(e=>e.filter((e=>e.bitrate)).map(((e,t)=>{let n;n="number"==typeof e.qualityIndex?e.qualityIndex:"number"==typeof e.level?e.level:t;const r={level:n,bitrate:e.bitrate,frameRate:e.frameRate,frameDuration:e.frameDuration,edge:e.edge,isAuto:e.isAuto,codec:e.codec};return e.bitrate&&e.bitrate>35e6?(0,l.A)((0,l.A)({},r),{},{value:"2160p",height:2160,width:3840}):e.bitrate&&e.bitrate>16e6?(0,l.A)((0,l.A)({},r),{},{value:"1440p",height:1440,width:2560}):e.bitrate&&e.bitrate>65e5?(0,l.A)((0,l.A)({},r),{},{value:"1080p",height:1080,width:1920}):e.bitrate&&e.bitrate>45e5?(0,l.A)((0,l.A)({},r),{},{value:"720p",height:720,width:1280}):e.bitrate&&e.bitrate>25e5?(0,l.A)((0,l.A)({},r),{},{value:"480p",height:480,width:640}):e.bitrate&&e.bitrate>1e6?(0,l.A)((0,l.A)({},r),{},{value:"360p",height:360,width:480}):(0,l.A)((0,l.A)({},r),{},{value:"144p",height:144,width:256})})))(e)).sort(((e,t)=>{if(t.height&&e.height){if(e.height<t.height)return 1;if(t.height<e.height)return-1}return 0}));r.forEach(((e,t)=>{e.index=t+1})),t.push(...r),this.__qualities.set(t)}get activeQuality(){return this.qualities.find((e=>e.index===this.activeQualityIndex))}get activeQualityIndex(){return this.__activeQualityIndex.get()}set activeQualityIndex(e){this.__activeQualityIndex.set(e)}get activeQualityLevel(){const e=this.qualities.find((e=>e.index===this.activeQualityIndex));return e?e.level:-1}set activeQualityLevel(e){const t=this.qualities.find((t=>t.level===e));t&&void 0!==t.index&&(this.activeQualityIndex=t.index)}set manuallySettedQualityIndex(e){this.__manuallySettedQualityIndex.set(e)}get manuallySettedQualityIndex(){return this.__manuallySettedQualityIndex.get()}get manuallySettedQuality(){var e;const t=this.__manuallySettedQualityIndex.get();return null===t?null:(null===(e=this.qualities.find((e=>e.index===t)))||void 0===e?void 0:e.value)||lo}get activeQualityValue(){const e=this.qualities.find((e=>e.index===this.activeQualityIndex));return(null==e?void 0:e.value)||lo}get activeQualityTransferValue(){return this.activeQualityValue===lo?this.activeQualityValue:parseInt(this.activeQualityValue).toString()}get autoQuality(){return this.__autoQuality.get()}get frameDuration(){var e;return null===(e=this.activeQuality)||void 0===e?void 0:e.frameDuration}set autoQuality(e){this.__autoQuality.set(e)}get embedQuality(){return this.__embedQuality.get()}set embedQuality(e){this.__embedQuality.set(e)}getUserQuality(){try{const e=this.getQualityValue();if("string"!=typeof e)return null;if(e===lo)return-1;const t=this.qualities.find((t=>parseInt(t.value).toString()===e));return t?t.level:this.findFallbackQuality(e)}catch(e){return null}}getQualityValue(){return this.embedQuality||_o.getItem(zi.Ok.USER_QUALITY)||""}findFallbackQuality(e){const t=uo.findIndex((t=>t===e+"p"));if(-1===t)return-1;if(t<=3){for(let e=t-1;e>=0;e--){const t=this.qualities.find((t=>t.value===uo[e]));if(t)return t.level}for(let e=1;e<=uo.length-t;e++){const n=this.qualities.find((n=>n.value===uo[t+e]));if(n)return n.level}}if(t>3){for(let e=1;e<=uo.length-t;e++){const n=this.qualities.find((n=>n.value===uo[t+e]));if(n)return n.level}for(let e=t-1;e>=0;e--){const t=this.qualities.find((t=>t.value===uo[e]));if(t)return t.level}}return-1}}var So;let Ao,Co;go=wo,({e:[bo],c:[Eo,yo]}=(0,k.A)(go,[(0,I.k_)({implement:"IQualitiesPlugin",ctor_args:[]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),yo();let ko;class Po extends I.j8{constructor(e){super(),this._playback=void Ao(this),this._lastProcessedTimestamp=null,this._watchTime=P.sH.box(0),this._incrementTimer=null,this._isPauseScreenAvailable=P.sH.box(!1),this._tenSecPassed=P.sH.box(!1),this._playback=e,(0,P.Gn)(this,{isPauseScreenAvailable:P.EW,tenSecPassed:P.EW,watchTime:P.EW})}init(){const e=[];return e.push((0,P.mJ)((()=>this._playback.isPlaying),(e=>{e?(this.start(),this.increment()):this.stop()}))),()=>e.forEach((e=>e))}clearTimer(){return()=>{this.clear()}}resetWatchTime(){this.watchTime=0,this.isPauseScreenAvailable=!1}start(){this._lastProcessedTimestamp=Date.now()}increment(){this._playback.isPlaying?this._incrementTimer=setTimeout((()=>{const e=Date.now(),t=this._lastProcessedTimestamp?e-this._lastProcessedTimestamp:0;this.watchTime>=1e4&&!this.tenSecPassed&&(this.tenSecPassed=!0),this.watchTime>=zi.F1&&!this.isPauseScreenAvailable&&(this.isPauseScreenAvailable=!0),t>0&&t<250?(this.watchTime+=t,this._playback.fragmentTime&&(this._playback.fragmentTime+=t)):t>=250&&(this.watchTime+=200,this._playback.fragmentTime&&(this._playback.fragmentTime+=200)),this._lastProcessedTimestamp=e,this.increment()}),200):this.clear()}clear(){this._incrementTimer&&(clearTimeout(this._incrementTimer),this._incrementTimer=null)}stop(){this._lastProcessedTimestamp&&(this.watchTime+=Date.now()-this._lastProcessedTimestamp),this._lastProcessedTimestamp=null}get watchTime(){return this._watchTime.get()}set watchTime(e){this._watchTime.set(e)}get tenSecPassed(){return this._tenSecPassed.get()}set tenSecPassed(e){this._tenSecPassed.set(e)}get isPauseScreenAvailable(){return this._isPauseScreenAvailable.get()}set isPauseScreenAvailable(e){this._isPauseScreenAvailable.set(e)}}So=Po,({e:[Ao],c:[ko,Co]}=(0,k.A)(So,[(0,I.k_)({implement:"IStatisticWatchTimePlugin",ctor_args:["IPlayback"]})],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"clearTimer"]],0,void 0,I.j8)),Co();var Io,To,xo=a(4766);let Ro,Lo,Oo,No;new(To=class extends I.j8{constructor(t,n,r,i){super(),this._isMediaSession=(Ro(this),"object"==typeof navigator&&"mediaSession"in navigator),this._resolve=void 0,this._uuid=P.sH.box(""),this._followedLink=P.sH.box(""),this._followedResourceId=P.sH.box(),this._rlineId=P.sH.box(""),this._guid=P.sH.box(),this._playlistId=void 0,this._playerConfig=void 0,this._isBackground=P.sH.box(),this._playback=n,this._visibilityState=i,this._resolve=t.value,this.uuid=(0,e.yk)(),this.guid=(0,xo.A)(),this._playlistId=null==r?void 0:r.get("playlistId"),this._playerConfig=r,this.isBackground=!i.isVisible,(0,P.Gn)(this,{uuid:P.EW,followedLink:P.EW,followedResourceId:P.EW,rlineId:P.EW,guid:P.EW,isBackground:P.EW})}allowBackground(){const e=!H.B.isMobile,t=Boolean(this.userId);return e||t}setBackgroundViewHandlers(){const e=()=>{this.isBackground=this.shouldBeBackground},t=(0,P.mJ)((()=>this._visibilityState.isVisible),(()=>{e()}));return()=>{this.isBackground=!1,t()}}get shouldBeBackground(){return document.hidden&&this.allowBackground()&&this._isMediaSession}get isBackground(){return this._isBackground.get()}set isBackground(e){this._isBackground.set(e)}get uuid(){return this._uuid.get()}set uuid(e){this._uuid.set(e)}get isPlaying(){return this._playback.isPlaying}get followedResourceId(){return this._followedResourceId.get()}set followedResourceId(e){this._followedResourceId.set(e)}get followedLink(){return this._followedLink.get()}set followedLink(e){this._followedLink.set(e)}get rlineId(){return this._rlineId.get()}set rlineId(e){this._rlineId.set(e)}get guid(){return this._guid.get()}set guid(e){this._guid.set(e)}get playlistId(){return this._playlistId}get userId(){var e;return null===(e=this._playerConfig)||void 0===e?void 0:e.get("userId")}},({e:[Ro],c:[No,Lo]}=(0,k.A)(To,[(0,I.k_)({implement:"IStatisticValues",ctor_args:["Resolve","IPlayback",{implement:"IPlayerConfigPlugin",optional:!0},"IVisibilityStatePlugin"]})],[[(0,I.o7)(),2,"setBackgroundViewHandlers"]],0,void 0,I.j8)),Oo=To,(Io=class extends ft{constructor(){super(No),this.useStatisticStore=()=>(0,fr.Ks)("IStatisticValues"),this.getStatisticStore=e=>e("IStatisticValues"),Lo()}})[Oo]=void 0,Io);var Mo=a(9912);const Do=()=>(0,fr.p5)().resolve("IStubPlugin"),Bo="https://".concat("static.rutube.ru","/static/img/svg/player-stubs/countdown-default-bg.svg");class Fo extends t.Component{constructor(e){super(e),this.state={hasUnknownError:!1}}static getDerivedStateFromError(){return{hasUnknownError:!0}}componentDidCatch(){this.setState({hasUnknownError:!0})}componentDidMount(){this.state.hasUnknownError&&this.props.stubPlugin.setStub("info",{title:zi.gE[this.props.stubPlugin.activeLanguage].title,backgroundImage:Bo})}componentDidUpdate(){this.state.hasUnknownError&&this.props.stubPlugin.setStub("info",{title:zi.gE[this.props.stubPlugin.activeLanguage].title,backgroundImage:Bo})}render(){return this.props.children}}const Ho="stub-iframe-module__iframeWrapper___Wzny2",Vo="stub-iframe-module__preview___Pz7U_",Uo="spinner-module__spinner___wvZBi",jo=e=>{let{showDelay:n=100,show:r=!0,className:i}=e;const o=(0,t.useRef)(),[a,s]=t.useState((()=>r)),{getDataAttribute:l}=(0,wi.f)();return(0,t.useEffect)((()=>()=>(null==o?void 0:o.current)&&clearTimeout(o.current)),[]),(0,t.useEffect)((()=>{null!=o&&o.current&&clearTimeout(o.current),r?n?o.current=setTimeout((()=>s(r)),n):s(r):s(!1)}),[n,r]),a?t.createElement("div",(0,ai.A)({"data-testid":"spinner",className:er()(Uo,i)},l(Si.R.SPINNER_VIDEO))):null},Wo=e=>{let{url:n,title:r,isExternalLoading:i,isIframeLoaded:o}=e;const{isPreview:a}=Do(),s=i?{opacity:o?1:0}:void 0;return t.createElement(t.Fragment,null,t.createElement("div",{className:Ho,style:s},t.createElement("iframe",{src:n,title:r,allowFullScreen:!0,className:er()({[Vo]:a})})),i&&!o&&t.createElement(jo,null))},zo="stub-info-module__stub___eVOUW",Go="stub-info-module__blurry___XdUjD",qo="stub-info-module__body___aZXEV",Ko="stub-info-module__title___iL8Nr",Yo="stub-info-module__description___hP_s1",Xo="stub-info-module__header___ziZR1",Qo="stub-info-module__lang___rILT2",Zo="stub-info-module__active___Q7vXY",Jo="stub-info-module__preview___HpI6t",$o=e=>{let{title:n,hasLanguagePicker:r,backgroundImage:i,description:o,activeLanguage:a,setLanguage:s,children:l,isPreview:u,isBlurred:c=!1}=e;return t.createElement("div",{"data-testid":"stub",className:er()(zo,{[Go]:c,[Jo]:u}),style:{backgroundImage:i?"url(".concat(i,")"):void 0}},t.createElement("div",{className:Xo},r&&t.createElement("div",null,t.createElement("span",{onClick:()=>s(Mo.Y.RU),className:er()(Qo,{[Zo]:a===Mo.Y.RU})},"Rus"),t.createElement("span",{onClick:()=>s(Mo.Y.ENG),className:er()(Qo,{[Zo]:a===Mo.Y.ENG})},"Eng"))),t.createElement("div",{className:qo},n&&t.createElement("div",{className:Ko,"data-testid":"stub-title"},n),o&&t.createElement("div",{className:Yo,"data-testid":"stub-description"},o),l))},ea="stub-info-with-action-module__buttons___lECec",ta="stub-info-with-action-module__button___ljPFC",na="stub-info-with-action-module__preview___qMvIe",ra=["btnText","onBtnClick","backgroundColor","isPreview"],ia=e=>{let{btnText:n,onBtnClick:r,backgroundColor:i,isPreview:o}=e,a=(0,V.A)(e,ra);return t.createElement($o,(0,ai.A)({},a,{isPreview:o}),t.createElement("div",{className:er()(ea,{[na]:o})},t.createElement("button",{className:ta,type:"button",onClick:e=>r(e.nativeEvent),style:{backgroundColor:i}},n)))},oa=(0,Jn.PA)((()=>{var e;const n=Do(),r=e=>{n.activeLanguage=e};if(!n.isStubAvailable)return null;if(n.hasCustomComponent&&n.customStubComponent){const e=n.customStubComponent;return t.createElement(e,null)}switch(null===(e=n.stub)||void 0===e?void 0:e.type){case"info":return t.createElement($o,(0,ai.A)({},n.stub.params,{activeLanguage:n.activeLanguage,setLanguage:r,email:n.email,isPreview:null==n?void 0:n.isPreview}));case"infoWithAction":return t.createElement(ia,(0,ai.A)({},n.stub.params,{activeLanguage:n.activeLanguage,setLanguage:r,email:n.email,isPreview:null==n?void 0:n.isPreview}));case"iframe":return t.createElement(Wo,n.stub.params);default:return null}})),aa=(0,Jn.PA)((e=>{let{children:n}=e;const r=Do();return null!==r.stub?t.createElement(oa,null):t.createElement(Fo,{stubPlugin:r},n)})),sa=t.memo((function(e){let{children:n}=e;return t.createElement(aa,null,n)}));var la,ua;let ca,da,ha,pa;new(ua=class extends I.j8{constructor(e,t,n){super(),this._email=(ca(this),P.sH.box("")),this.__stub=P.sH.box(null),this.__activeLanguage=P.sH.box(Mo.Y.RU),this.__customStubComponent=null,this.__hasCustomComponent=P.sH.box(!1),this._isPreview=void 0,this._config=e,t&&(this.email=t.value),this._isPreview=Boolean(null==n?void 0:n.value),(0,P.Gn)(this,{stub:P.EW,email:P.EW,activeLanguage:P.EW,hasCustomComponent:P.EW})}setStub(e,t){this.__stub.set({type:e,params:t})}stubAvailable(){var e;const t=(null===(e=this.stub)||void 0===e||null===(e=e.params)||void 0===e?void 0:e.type)===zi.GL.PAID_ACCESS,n=this._config.get("paywallEnabled");return void 0===n||(t&&n||!t)}get isStubAvailable(){return this.stubAvailable()}setCustomStubComponent(e){this.__customStubComponent=e,this.hasCustomComponent=null!==e}get stub(){return this.__stub.get()}set stub(e){this.__stub.set(e)}get activeLanguage(){return this.__activeLanguage.get()}get email(){return this._email.get()}set email(e){this._email.set(e)}set activeLanguage(e){this.__activeLanguage.set(e)}get customStubComponent(){return this.__customStubComponent}get hasCustomComponent(){return this.__hasCustomComponent.get()}set hasCustomComponent(e){this.__hasCustomComponent.set(e)}get isPreview(){return this._isPreview}},({e:[ca],c:[pa,da]}=(0,k.A)(ua,[(0,I.k_)({implement:"IStubPlugin",ctor_args:["IPlayerConfigPlugin",{implement:"StubEmail",optional:!0},{implement:"IsPreview",optional:!0}]})],[[P.XI,2,"setStub"]],0,void 0,I.j8)),ha=ua,(la=class extends ft{constructor(){super(pa),this.StubPluginView=sa,da()}})[ha]=void 0,la);var ma,va=a(7234);let _a,fa,ga;class ba extends I.j8{constructor(e){super(),this._isUserAdult=(_a(this),P.sH.box(!1)),this.__isAutoplayEnabled=P.sH.box(!0),this._playOptions=e,(0,P.Gn)(this,{isUserAdult:P.EW,isAutoplayEnabled:P.EW})}init(){const e=_o.getItem(zi.Ok.LS_KEY_USER_ADULT),t="string"==typeof e&&"1"===e,n=_o.getItem(zi.Ok.AUTOPLAY_NEXT_FLAG),r="string"!=typeof n||"1"===n;(0,P.h5)((()=>{this._isUserAdult.set(t),this.__isAutoplayEnabled.set(r)})),va.Ug.emit(zi.L2.IS_USER_ADULT,{value:t})}get isUserAdult(){var e;return null===(e=this._playOptions.data)||void 0===e||!e.is_adult||this._playOptions.data.is_adult&&this._isUserAdult.get()}set isUserAdult(e){this._isUserAdult.set(e),_o.setItem(zi.Ok.LS_KEY_USER_ADULT,e?"1":"0"),va.Ug.emit(zi.L2.IS_USER_ADULT,{value:e})}get isAutoplayEnabled(){return this.__isAutoplayEnabled.get()}set isAutoplayEnabled(e){this.__isAutoplayEnabled.set(e),_o.setItem(zi.Ok.AUTOPLAY_NEXT_FLAG,e?"1":"0")}}var ya;let Ea,wa,Sa;ma=ba,({e:[_a],c:[ga,fa]}=(0,k.A)(ma,[(0,I.k_)({implement:"IUserSettingsPlugin",ctor_args:["IDataPlugin"]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),fa();class Aa extends I.j8{constructor(){super(),this._isVisible=(Ea(this),P.sH.box("visible"===document.visibilityState)),(0,P.Gn)(this,{isVisible:P.EW})}initVisibilityChangeHandler(){const e=()=>{this.isVisible="visible"===document.visibilityState};return document.addEventListener("visibilitychange",e),window.addEventListener("pagehide",e),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("pagehide",e)}}get isVisible(){return this._isVisible.get()}set isVisible(e){this._isVisible.set(e)}}var Ca;let ka,Pa;ya=Aa,({e:[Ea],c:[Sa,wa]}=(0,k.A)(ya,[(0,I.k_)("IVisibilityStatePlugin")],[[(0,I.o7)(),2,"initVisibilityChangeHandler"]],0,void 0,I.j8)),wa();class Ia extends I.j8{constructor(){super(),this.attributes={},this.getDataAttribute=this.getDataAttribute.bind(this)}getDataAttribute(e){return this.attributes[e]||{}}}Ca=Ia,[Pa,ka]=(0,k.A)(Ca,[(0,I.k_)("IDataAttributePlugin")],[],0,void 0,I.j8).c,ka();var Ta=a(290);class xa{constructor(){this.events=void 0,this.events={}}emit(e,t){const n=this.events[e]&&this.events[e].slice();if(n&&n.length)for(let e=0;e<n.length;e+=1)n[e](t)}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}once(e,t){let n=!1;const r=i=>{n||(n=!0,this.off(e,r),t(i))};return this.on(e,r)}off(e,t){const n=this.events[e];if(n){const r=n.indexOf(t);r>-1&&n.splice(r,1),n.length<1&&delete this.events[e]}}}const Ra=(e,t)=>e.reduce(((e,n)=>(e[n[t]]?e[n[t]].push(n):e[n[t]]=[n],e)),{}),La=/mobile?/,Oa="ADFOX",Na="NATIVE",Ma=[{id:Oa,url:"https://yandex.ru/ads/system/adsdk.js",globalName:"ya"}],Da=["preroll","midroll","midpostroll","postroll","livemidroll"],Ba="raichu-adver-tag",Fa="raichu_yasdk_container",Ha="debug_raichu_advert";let Va=function(e){return e.init="init",e.load="load",e.start="start",e.startTriggered="start_triggered",e.alreadyStarted="already_started",e.earlyStartAttempt="early_start_attempt",e.end="end",e.error="error",e.initError="initError",e.skippable="adSkippableStateChange",e.adBlockerFound="ad-blocker-found",e.request="request",e.sdkLoadTimeout="sdk_load_timeout",e.sdkLoadError="skd_load_error",e}({});const Ua=(e,t,n)=>{var r;const i=document.createElement("script");i.src=e,i.onload=t,i.onerror=n;const o=document.getElementsByTagName("script")[0];null==o||null===(r=o.parentNode)||void 0===r||r.insertBefore(i,o)},ja={},Wa=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ua;const o=e=>window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:void 0,a=o(t);return a&&r(a)?Promise.resolve(a):new Promise(((r,a)=>{if(ja[e])return void ja[e].push({resolve:r,reject:a});ja[e]=[{resolve:r,reject:a}];const s=t=>{ja[e].forEach((e=>e.resolve(t)))};if(n){const e=()=>window[n];window[n]=()=>{e&&e(),s(o(t))}}i(e,(()=>{n||s(o(t))}),(t=>{ja[e].forEach((e=>{e.reject(t)})),delete ja[e]}))}))};class za extends Error{constructor(e){super(e),this.name="SdkLoadError"}}class Ga extends Error{constructor(e){super(e),this.name="SdkLoadTimeoutError"}}class qa{constructor(e){this.sdkReadyPromises={},this._eventEmitter=e,this.init()}init(){this.sdkReadyPromises=this.load()}load(){return Ma.reduce(((e,t)=>(e[t.id]=Promise.race([this.loadAdvertSdk(t),this.loadTimer(t.id)]).catch((e=>{this.logError(e)})),e)),{})}async loadAdvertSdk(e){try{return await Wa(e.url,e.globalName)}catch(t){throw new za("SDK ".concat(e.id," loading error"))}}loadTimer(e){return new Promise(((t,n)=>{setTimeout((()=>{n(new Ga("SDK ".concat(e," loading timeout exceed")))}),7e3)}))}logError(e){let t;if(e instanceof Error){switch(e.name){case"SdkLoadError":t=Va.sdkLoadError;break;case"SdkLoadTimeoutError":t=Va.sdkLoadTimeout;break;default:t=Va.error}t&&this._eventEmitter.emit(t,{errorMessage:e.message})}}}class Ka{constructor(){this.__disposers=[]}destroy(){this.__disposers.forEach((e=>e()))}}const Xa=e=>Da.includes(e),Qa=e=>e.reduce(((e,t)=>(e[t.name]=t.limit,e)),{});class Za extends Ka{constructor(e,t){super(),this._timer=null,this._managePrerolls=e=>{const t=this._manager.items.preroll,n=Qa(this._manager.limits).preroll;e&&null!=t&&t.length&&!this._manager.advertForbidden&&(this._manager.currentItems=n?t.slice(0,n):t,this._manager.currentState="show")},this._runDurationTimer=()=>{var e;this._timer&&(clearTimeout(this._timer),this._timer=null);const t=null===(e=this._playback)||void 0===e||null===(e=e.adapter)||void 0===e?void 0:e.liveMidrollDuration;t&&(this._timer=setTimeout((()=>{this._manager.destroyCurrent()}),1e3*parseInt(t)))},this._manager=e,this._playback=t}init(){this.__disposers.push((0,P.mJ)((()=>this._playback.wasStarted),this._managePrerolls)),this.__disposers.push((0,P.mJ)((()=>{var e;return null===(e=this._playback.adapter)||void 0===e?void 0:e.liveMidrollActive}),(e=>{const t=this._manager.items.livemidroll;e&&null!=t&&t.length&&!this._manager.currentItems.length&&(this._manager.currentItems=t,this._manager.currentState="prefetch")}))),this.__disposers.push((0,P.mJ)((()=>{var e;return null===(e=this._playback)||void 0===e||null===(e=e.adapter)||void 0===e?void 0:e.liveMidrollStartPlay}),(e=>{e&&this._manager.currentItems.length&&!this._manager.advertForbidden&&(this._manager.currentState="show",this._runDurationTimer())}))),this.__disposers.push((0,P.mJ)((()=>({state:this._manager.currentState,hasItems:this._manager.currentItems.length,loading:this._manager.isLoading})),(e=>{let{state:t,hasItems:n,loading:r}=e;n?"show"===t&&r&&this._playback.pause():this._playback.playWithHandlePermissions(!0)}))),this.__disposers.push((0,P.mJ)((()=>0===this._manager.currentItems.length),(e=>{e&&this._timer&&(clearTimeout(this._timer),this._timer=null)})))}}class Ja extends Ka{constructor(e,t){super(),this._limits=P.sH.box({}),this._items=P.sH.box({}),this._viewedItems=P.sH.box([]),this._manageStartTime=e=>{const t=this.items[0]||this.items[Math.floor(this._playback.currentTime)]||[];if(e){const{viewedItems:e,limits:n}=this,r=Th({items:t,viewedItems:e,limits:n});r.length&&!this._manager.advertForbidden&&(this._addViewed(r),this._manager.currentItems=r,this._manager.currentState="show",this._playback.preventStatSend=!0)}},this._manageEndTime=e=>{if(!e)return;if(this._manager.currentItems&&"prefetch"===this._manager.currentState&&!this._manager.advertForbidden)return void(this._manager.currentState="show");const t=this.items[Math.floor(this._playback.duration)],{limits:n,viewedItems:r}=this;if(null!=t&&t.length){const e=Th({items:t,viewedItems:r,limits:n});e.length&&!this._manager.advertForbidden?(this._addViewed(e),this._manager.currentItems=e,this._manager.currentState="show"):this._playback.canReplay=!0}else this._playback.canReplay=!0},this._manageTimeUpdate=e=>{const{isPlaying:t}=this._playback;var n;t&&!this._playback.ended&&(!this._manager.currentItems.length||this._manager.startTimer?this._manager.currentItems.length||(0===e&&null!==(n=this.items[0])&&void 0!==n&&n.length?this._manageStartTime(!0):this._managePlaybackTime(e)):this._manageAdvertStartTimer(e))},this._manageAdvertStartTimer=e=>{const{duration:t}=this._playback,n=Math.round(t-e);if(!(n<2||"prefetch"!==this._manager.currentState||this._manager.startTimer)){var r;const t=null===(r=this._manager.currentItems[0])||void 0===r?void 0:r.start;(e>=t||Math.floor(t-e)<=5)&&(this._manager.startTimer=Math.min(5,n))}},this._onChangeActivePage=()=>{var e;null===(e=this._manager.currentProvider)||void 0===e||e[document.hidden?"pause":"resume"]()},this._manager=e,this._playback=t,this.reCalc(),(0,P.Gn)(this,{limits:P.EW,viewedItems:P.EW,items:P.EW})}init(){this.__disposers.push((0,P.mJ)((()=>({ready:this._manager.playbackReady,provider:this._manager.currentProvider})),(e=>{let{ready:t,provider:n}=e;t&&n&&n.registerEvents({onEnd:this.onEnd.bind(this)})}))),this.__disposers.push((0,P.mJ)((()=>this._playback.wasStarted),this._manageStartTime)),this.__disposers.push((0,P.mJ)((()=>this._playback.ended),this._manageEndTime)),this.__disposers.push((0,P.mJ)((()=>Math.floor(this._playback.currentTime)),this._manageTimeUpdate)),this.__disposers.push((0,P.mJ)((()=>({state:this._manager.currentState,hasItems:!!this._manager.currentItems.length,ended:this._playback.ended,loaded:this._manager.isLoaded})),(e=>{let{state:t,hasItems:n,ended:r}=e;n||r?"show"===t&&this._playback.pause():(this._playback.preventStatSend=!1,this._playback.isCommunicationBannerPrevented=!0,this._playback.isPlaying||this._playback.playWithHandlePermissions())}),{equals:P.m3.structural}))}reCalc(){const e=this._manager.items.preroll||[],t=this._manager.items.midroll||[],n=this._manager.items.midpostroll||[],r=this._manager.items.postroll||[];this.limits=Qa(this._manager.limits),this.items=this.calcAdverts([...e,...t,...n,...r]),this._playback.wasStarted&&this._playback.canReplay&&(this.viewedItems=[],this._playback.canReplay=!1,this._manageStartTime(!0)),this._updateCuePoints()}calcAdverts(e){const t=Ra(e,"start");return Object.keys(t).forEach((e=>{t[e].sort(((e,t)=>{var n,r;const i=parseInt((null===(n=e.name.match(/^[a-z]+(\d+)$/))||void 0===n?void 0:n[1])||"0",10),o=parseInt((null===(r=t.name.match(/^[a-z]+(\d+)$/))||void 0===r?void 0:r[1])||"0",10);if(i===o){return Da.findIndex((t=>e.name.startsWith(t)))>Da.findIndex((e=>t.name.startsWith(e)))?1:-1}return i>o?1:-1}))})),t}_updateCuePoints(){this._manager.cuePoints=Object.keys(this.items).map((e=>Number(e)))}_addViewed(e){const t=e.map((e=>e.name));this.viewedItems=[...this.viewedItems,...t]}_managePlaybackTime(e){const t=Object.keys(this.items).filter((t=>Number.parseFloat(t)>=e));if(t.length){let n;for(const r of t){const t=parseInt(r,10),i=t-e,o=(this.items[r],5);if(t===e||i>0&&i<=o){n=r;break}if(i>0)break}if(n&&this.items[n]){const{viewedItems:t,limits:r}=this,i=Th({items:this.items[n],viewedItems:t,limits:r});i.length&&(this._addViewed(i),this._manager.currentItems=i,this._manager.currentState="prefetch",this._manageAdvertStartTimer(e))}}}onEnd(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(document.removeEventListener("visibilitychange",this._onChangeActivePage),this._manager.currentAdvert){const{name:t,type:n}=this._manager.currentAdvert;this.viewedItems=[...this.viewedItems,t],void 0!==this.limits[n]&&e&&(this.limits=(0,l.A)((0,l.A)({},this.limits),{},{[n]:(this.limits[n]||1)-1}))}this._updateCuePoints()}onError(e){this.viewedItems.push(e.name)}get limits(){return this._limits.get()}set limits(e){this._limits.set(e)}get items(){return this._items.get()}set items(e){this._items.set(e)}get viewedItems(){return this._viewedItems.get()}set viewedItems(e){this._viewedItems.set(e)}}var $a=a(7516);const es="advert-timer-module__wrapper___JgyiO",ts="advert-timer-module__smallPlayer___hVxwm",ns="advert-timer-module__withControls___M6z2l";function rs(){return(0,fr.p5)().resolve("IAdvertPlugin")}const is=e=>e("IAdvertPlugin"),os=(0,Jn.PA)((()=>{const{currentState:e,startTimer:n,isShowAdvertTimer:r,preventAdvertStart:i}=rs(),{isShowControls:o}=(0,pt.useControls)(),{isSmallPlayer:a}=(0,$a.a)();return!e||"show"===e||i||!r||H.B.isMobile&&o?null:t.createElement("span",{className:er()(es,{[ns]:o,[ts]:a}),"data-testid":"ad-countdown"},"Ð ÐµÐºÐ»Ð°Ð¼Ð° Ð½Ð°Ñ‡Ð½Ñ‘Ñ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· ",n?Math.ceil(n):0)}));var as=a(472),ss=a(3218);const ls=["played","ended","live","isAudio","tooltipDisabled","tabIndex"],us=e=>{let{played:n=!1,ended:r=!1,live:i=!1,isAudio:o=!1,tooltipDisabled:a=!1,tabIndex:s=0}=e,l=(0,V.A)(e,ls),u=hi,c=wn.m_.Play,d="Ð’Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÑÑ‚Ð¸";return!i&&n?(u=pi,d="ÐŸÑ€Ð¸Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",c=wn.m_.Pause):i&&n&&(u=mi,d="ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",c=wn.m_.Stop),!i&&r&&(u=Or,d="ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÑŒ",c=o?wn.m_.RepeatAudio:wn.m_.Repeat),t.createElement(ss.r,(0,ai.A)({tabIndex:s,"data-testid":"ui-play","aria-label":(0,as.T)(d,"K",!0)},l,{tooltipTitle:a?void 0:c,tooltipZIndex:wn.m_.ControlsTooltipZIndex,icon:u}))},cs="https://".concat("static.rutube.ru","/static/img/jpg/black.jpg"),ds="yandex-advert-module__SDKWrapper___RUvIF",hs="yandex-advert-module__SDKVideo___jxyQd",ps="yandex-advert-module__SDKVideoHidden___ECHmh",ms="advert-counter-module__wrapper___NuVzb",vs=(0,Jn.PA)((()=>{const{currentAdvert:e,currentState:n,blockState:i,customTitle:o}=rs();if(e&&"show"===n&&i&&i.total>1){const{total:n,viewed:a}=i,s="".concat(o||(e=>{const t=(0,r.al)(e.url_template);return(null==t?void 0:t.gowast_title)||"Ð ÐµÐºÐ»Ð°Ð¼Ð°"})(e)," ".concat(a+1," Ð¸Ð· ").concat(n));return t.createElement("span",{role:"alert","aria-live":"polite",className:ms},s)}return null})),_s="advert-timeline-module__timeline___QbYLv",fs="advert-timeline-module__timeline_filled___lSokD",gs=(0,Jn.PA)((()=>{const{currentProgress:e}=rs();return e?t.createElement("div",{className:_s},t.createElement("div",{className:fs,style:{transform:"scaleX(".concat(e.toString(),"%)")}})):null})),bs=e=>{const n=rs().playback.volume;return(0,t.useCallback)((()=>{if(e.current){e.current.volume>n&&(e.current.volume=n)}}),[e,n])};a(6530);var ys=a(5374);class Es{constructor(e,t){this._events=[],this._error=!1,this._destroyed=!1,this.config=void 0,this.traceId=null,this.sdkReadyPromise=void 0,this.config=e,this.sdkReadyPromise=t,this.traceId=(0,xo.A)()}registerInternalEvents(){const e=this.prepareEvents({onError:()=>this._onError()});this.subscribe(e)}registerEvents(e){this._events.push(e);const t=this.prepareEvents(e);this.subscribe(t)}forceDispatch(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._events.forEach((t=>{var r;null===(r=t[e])||void 0===r||r.call(t,...n)}))}_onError(){this._error=!0}destroy(){this._destroyed=!0}}const ws=e=>{const t=e.xmlString;return(new DOMParser).parseFromString(t,"text/xml")},Ss=e=>{var t,n;if(!e||!window.DOMParser)return;const r=null!==(t=null===(n=ws(e).querySelector("Creative Duration"))||void 0===n||null===(n=n.childNodes[0])||void 0===n?void 0:n.nodeValue)&&void 0!==t?t:"";if(!r)return e.children.length?Ss(e.children[0]):void 0;const i=r.split(":"),o=parseInt(i[2],10)+60*parseInt(i[1],10);return"number"==typeof o?o:void 0},As=e=>{var t;if(e&&window.DOMParser)return(null===(t=ws(e).querySelector("Ad"))||void 0===t?void 0:t.getAttribute("id"))||""},Cs=e=>{var t,n;if(!e||!window.DOMParser)return 0;const r=ws(e),i=null===(t=r.querySelector("[skipoffset]"))||void 0===t?void 0:t.getAttribute("skipoffset"),o=null===(n=r.querySelector("[type=skipTime]"))||void 0===n?void 0:n.textContent;return ks(i,1)||ks(o)};function ks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?parseInt(e.split(":")[t],10):0}const Ps=e=>{var t;if(!e||!window.DOMParser)return;const n=ws(e).querySelector("Extension[type=campaignId]");return(null==n||null===(t=n.textContent)||void 0===t?void 0:t.trim())||""},Is=["AdClickThru","AdContentSizeChange","AdPlayingStateChange","AdPodClose","AdPodComplete","AdPodError","AdPodImpression","AdPodSkipped","AdPodStarted","AdPodStopped","AdPodVideoFirstQuartile","AdPodVideoMidpoint","AdPodVideoThirdQuartile","AdRemainingTimeChange","AdSkippableStateChange","AdStarted","AdStopped","AdVolumeAvailabilityStateChange","AdVolumeChange","AllAdPodVideoComplete"];a(8116),a(3122),a(5544),a(135),a(7863),a(5506),a(1399),a(7334),a(2472),a(8898),a(3642),a(509),a(6986),a(1433),a(1e3),a(9020),a(2932),a(8956),a(8492);const Ts=e=>{if(!e)return;const t=(new TextEncoder).encode(e),n=Array.from(t,(e=>String.fromCodePoint(e))).join("");return window.btoa(n)};var xs;let Rs;class Ls extends Es{constructor(e,t,n){var i;super(e,n),this._instance=(Rs(this),null),this._urlParams=void 0,this._adfoxParams=void 0,this._timeout=void 0,this._duration=null,this._viewedPercent=0,this._info=null,this._placeholders=null,this.url=void 0,this.url_template=void 0,this._preventAdvertLogic=void 0,this._playbackParams=null,this._adSkippable=!1,this.sdkReadyPromise=void 0,this.config=void 0,this.load=async()=>{const e=this._getSdkParams();try{const t=await this.sdkReadyPromise;if(t){const n=await t.videoAd.loadModule("AdLoader"),r=await n.AdLoader.create(e),i=await r.loadAd();this._instance={adViewer:i},this._setInfo(i.getNonYandexVastXmlTree()),this._setPlaceholders(i),this.volume=0,this._debug(i.getNonYandexVastXmlTree())}}catch(e){throw console.warn(e),e}},this.skipAd=()=>{var e;null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.skipAd()},this.config=e,this.config.data=(0,l.A)((0,l.A)({},e.data),{},{url_template:e.data.url_template}),this.url_template=this.config.data.url_template,this.url=t(this.config.data.url_template),this._urlParams=(0,r.al)(this.url),this._adfoxParams=(0,r.al)(this.url.toLowerCase(),!0,"ownerid"),this._preventAdvertLogic=(null===(i=this._playbackParams)||void 0===i?void 0:i.preventStartAdvert)||!1,this.sdkReadyPromise=n,this._timeout=1e3*(this.config.data.adtimeout||zi.kC),(0,P.Gn)(this,{volume:P.EW})}_getSdkParams(){if(this.url.indexOf("adfoxsdk")>=0)return{wrapperMaxCount:5,adFoxParameters:{ownerId:this._adfoxParams.ownerid,params:this._adfoxParams,containerId:Fa}};if(this.url.indexOf("ads/adfox")>=0)return{wrapperMaxCount:5,category:+this._urlParams.category||0,vastUrl:this.url,adBreakType:this.config.data.type};{const e=window.location.href,t=/ssp.rutube|adfox=1/.test(this.url),n={wrapperMaxCount:5,partnerId:+this._urlParams.partnerid,impId:+this._urlParams.impid,category:+this._urlParams.category||0,vmapLoadTimeout:this._timeout,targetRef:e,additionalParams:{"partner-stat-id":e}},r={wrapperMaxCount:5,vmapLoadTimeout:this._timeout,targetRef:e,adBreakType:"preroll",vastUrl:this.url};return t?r:n}}subscribe(e){Object.keys(e).forEach((t=>{const n=t,r=e[n];var i;r&&(null===(i=this._instance)||void 0===i||null===(i=i.adPlaybackController)||void 0===i||i.subscribe(n,r))}))}prepareEvents(e){const t=e.onSuccess?(0,ys.once)(e.onSuccess):void 0;let n=!1;return{AdPodStarted:()=>{var t;n||(null===(t=e.onStart)||void 0===t||t.call(e),n=!0)},AdPodError:t=>{var n;return null===(n=e.onError)||void 0===n?void 0:n.call(e,t)},AdPodSkipped:()=>{var t;null===(t=e.onSkip)||void 0===t||t.call(e)},AdPodClose:()=>{var t;null===(t=e.onClose)||void 0===t||t.call(e)},AdClickThru:()=>{var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e)},AdPodImpression:()=>{var t;return null===(t=e.onImpression)||void 0===t?void 0:t.call(e)},AdPodStopped:()=>{var t;n||(null===(t=e.onInitError)||void 0===t||t.call(e))},AdStopped:()=>{var t;this._destroyed||(null===(t=e.onEnd)||void 0===t||t.call(e,!0))},AdPodComplete:()=>{null==t||t()},AdPlayingStateChange:t=>{if("string"!=typeof t){var r,i;if(!n&&"play"===(null==t?void 0:t.playingState))null===(r=e.onEarlyStartAttempt)||void 0===r||r.call(e);if(n&&null!=t&&t.playingState&&["pause","play"].includes(t.playingState))null===(i=e.onPlayingState)||void 0===i||i.call(e,"play"===(null==t?void 0:t.playingState))}},AdRemainingTimeChange:()=>{var t,n;const r=null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t?void 0:t.getAdRemainingTime();this._duration||(this._duration=r||null);const i=((e,t)=>{if(!e||null===t)return 0;let n=e-t;return n&&!isNaN(n)?(n=Math.max(n,0),Math.min(n/e*100,100)):0})(this._duration,r||null);this._viewedPercent=this._viewedPercent>i?this._viewedPercent:i,null===(n=e.onProgress)||void 0===n||n.call(e,this._viewedPercent)},AdSkippableStateChange:t=>{var n;"string"!=typeof t&&(null!=t&&t.skippableState&&(this.adSkippable=!0,null==e||null===(n=e.onSkippableStateChangeToTrue)||void 0===n||n.call(e)))},AdPodVideoFirstQuartile:()=>{var t;null===(t=e.onViewQuartile)||void 0===t||t.call(e,"first")},AdPodVideoMidpoint:()=>{var t;null===(t=e.onViewQuartile)||void 0===t||t.call(e,"second")},AdPodVideoThirdQuartile:()=>{var t;null===(t=e.onViewQuartile)||void 0===t||t.call(e,"third")},AdVolumeChange:()=>{var t;void 0!==this.volume&&n&&(null===(t=e.onVolumeChange)||void 0===t||t.call(e,this.volume))}}}initPlayback(e){this._playbackParams=e;const{video:t,wrapper:n}=e;this.volume=0;const r=Boolean(t.offsetWidth&&t.offsetWidth>450);var i;(this._fixNotAllowed(t),this._instance)&&(this._instance.adPlaybackController=null===(i=this._instance)||void 0===i?void 0:i.adViewer.createPlaybackController(t,n,{vpaidTimeout:this._timeout,bufferEmptyLimit:3,bufferFullTimeout:5e3,controlsSettings:{controlsVisibility:{play:r,mute:r,adLabel:!1,timeline:!1,loader:!0}}}),this.registerInternalEvents())}_setInfo(e){e&&(this._info={campaignId:Ps(e),duration:Ss(e),skipDuration:Cs(e),advertId:As(e),vastBase64:Ts(e.xmlString),framework:"VAST"})}_debug(e){const t="undefined"!=typeof window&&-1!==window.location.search.indexOf("debug_yandex_sdk"),n=null==e?void 0:e.xmlString;if(t){var r,i,o,a;const e=e=>(new DOMParser).parseFromString(e,"text/xml");console.info("xmlString:",e(n)),console.info("Creative Duration",e(n).querySelector("Creative Duration")),console.info("Creative Linear",null===(r=e(n))||void 0===r?void 0:r.querySelector("Creative Linear")),console.info("Duration:",null===(i=this.info)||void 0===i?void 0:i.duration),console.info("SkipDuration:",null===(o=this.info)||void 0===o?void 0:o.skipDuration),console.info("isSkippable:",null===(a=this._instance)||void 0===a||null===(a=a.adPlaybackController)||void 0===a?void 0:a.getAdSkippableState()),Is.forEach((e=>{var t;null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t||t.subscribe(e,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.info(e,n)}))}))}}_setPlaceholders(e){try{var t,n,r,i,o,a;if(!e)throw new Error("No adViewer");const s=As(e.getNonYandexVastXmlTree())||(null==e||null===(t=e.getAdMetadata)||void 0===t||null===(t=t.call(e)[0])||void 0===t?void 0:t.adId)||"",u=(null===(n=this._info)||void 0===n?void 0:n.campaignId)||e.getNonYandexVastXmlTree()&&(null===(r=this._info)||void 0===r||null===(r=r.advertId)||void 0===r||null===(r=r.split("-"))||void 0===r?void 0:r[0])||"",c=this.advert.url_template||"",d=this.ownerId||"",h=(null===(i=this._info)||void 0===i?void 0:i.duration)||e.getAdDuration()||"",p=(null===(o=this._instance)||void 0===o||null===(o=o.adPlaybackController)||void 0===o?void 0:o.getAdSkippableState())&&null!==(a=this._info)&&void 0!==a&&a.skipDuration?"1":"0";this._placeholders=(0,l.A)((0,l.A)({},this._placeholders),{},{advertId:s,campaignId:u,adsUrlTemplate:c,adsOwnerId:d,adDur:h,adsSkipt:p})}catch(e){console.log(e)}}_fixNotAllowed(e){const t=e.play.bind(e);e.play=()=>t().catch((n=>{if("NotAllowedError"===(null==n?void 0:n.name)&&!e.muted)return e.muted=!0,t().catch(console.warn);throw n})).finally((()=>{e.play=t}))}preload(){var e,t,n,r;if(!this._playbackParams)return;const{quality:i}=this._playbackParams,o={desiredBitrate:null!==(e=null==i?void 0:i.bitrate)&&void 0!==e?e:319600,preferableAdSize:{height:null!==(t=null==i?void 0:i.height)&&void 0!==t?t:720,width:null!==(n=null==i?void 0:i.width)&&void 0!==n?n:1280}};null===(r=this._instance)||void 0===r||null===(r=r.adViewer)||void 0===r||r.preload((0,l.A)({videoSlot:this._playbackParams.video},o))}play(){var e;this._preventAdvertLogic?this.destroy():null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.playAd()}resume(){var e;null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.resumeAd()}pause(){var e;null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e||e.pauseAd()}toggleControls(e){var t;null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t||t.setControlsVisibility({play:e,mute:e,adLabel:!1,timeline:!1,loader:!0})}destroy(){var e;super.destroy(),null!==(e=this._instance)&&void 0!==e&&null!==(e=e.adViewer)&&void 0!==e&&e.destroy&&(this._instance.adViewer.destroy(),this._instance=null)}get info(){return this._info}get placeholders(){return this._placeholders}get volume(){var e;return null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e?void 0:e.getAdVolume()}set volume(e){var t;null===(t=this._instance)||void 0===t||null===(t=t.adPlaybackController)||void 0===t||t.setAdVolume(e||0)}get advert(){return this.config.data}get adVolumeAvailability(){var e;return null===(e=this._instance)||void 0===e||null===(e=e.adPlaybackController)||void 0===e?void 0:e.getAdVolumeAvailabilityState()}get adSkippable(){return this._adSkippable}set adSkippable(e){this._adSkippable=e}get ownerId(){return this._adfoxParams.ownerid}}xs=Ls,[Rs]=(0,k.A)(xs,[],[[I.zm,2,"preload"],[I.zm,2,"play"],[I.zm,2,"resume"],[I.zm,2,"pause"],[I.zm,2,"toggleControls"],[I.zm,2,"destroy"]],0,void 0,Es).e;const Os=pn.builder().use(Sn).group("qualities").event("changeQuality").message((()=>({methodName:wn.t_.QUALITY}))).commit().endGroup().build(),Ns=pn.builder().use(Sn).group("CommunicationBanner").event("Show").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.CBANNER_SHOW,resolvers:[{names:["{{onboarding_id}}"],value:t.onboardingId},{names:["{{anums_lp}}"],value:String(t.anumsLp)}]}})).commit().event("Click").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.CBANNER_CLICK,resolvers:[{names:["{{onboarding_id}}"],value:t.onboardingId},{names:["{{anums_lp}}"],value:String(t.anumsLp)},{names:["{{num_lp}}"],value:String(t.numLp)},{names:["{{ind_lp}}"],value:String(t.indLp)}]}})).commit().event("Close").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.CBANNER_CLOSE,resolvers:[{names:["{{onboarding_id}}"],value:t.onboardingId},{names:["{{anums_lp}}"],value:String(t.anumsLp)}]}})).commit().endGroup().build(),Ms=pn.builder().use(Sn).group("activities").event("showCreditsSkipButton").message((()=>({methodName:wn.jI.CREDS_SKIP_SHOW}))).commit().event("clickCreditsSkipButton").message((()=>({methodName:wn.jI.CREDS_SKIP_CLICK}))).commit().event("showCreditsWatchButton").message((()=>({methodName:wn.jI.CREDS_WATCH_SHOW}))).commit().event("clickCreditsWatchButton").message((()=>({methodName:wn.jI.CREDS_WATCH_CLICK}))).commit().event("showIntroSkipButton").message((()=>({methodName:wn.jI.INTRO_SKIP_SHOW}))).commit().event("clickIntroSkipButton").message((()=>({methodName:wn.jI.INTRO_SKIP_CLICK}))).commit().event("showIntroWatchButton").message((()=>({methodName:wn.jI.INTRO_WATCH_SHOW}))).commit().event("clickIntroWatchButton").message((()=>({methodName:wn.jI.INTRO_WATCH_CLICK}))).commit().event("showNextEpisodeButton").params().message((e=>{var t,n;let{params:r}=e;return{methodName:wn.jI.NEXT_EPISODE_SHOW,resolvers:[{names:["{{vl_video_id}}"],value:null!==(t=r.nextItemId)&&void 0!==t?t:""},{names:["{{cs_id_list}}"],value:null!==(n=r.userSubscriptionId)&&void 0!==n?n:""}]}})).commit().event("clickNextEpisodeButton").params().message((e=>{var t,n;let{params:r}=e;return{methodName:wn.jI.NEXT_EPISODE_CLICK,resolvers:[{names:["{{vl_video_id}}"],value:null!==(t=r.nextItemId)&&void 0!==t?t:""},{names:["{{cs_id_list}}"],value:null!==(n=r.userSubscriptionId)&&void 0!==n?n:""}]}})).commit().event("autoNextEpisodeButton").params().message((e=>{var t,n;let{params:r}=e;return{methodName:wn.jI.NEXT_EPISODE_AUTO,resolvers:[{names:["{{vl_video_id}}"],value:null!==(t=r.nextItemId)&&void 0!==t?t:""},{names:["{{cs_id_list}}"],value:null!==(n=r.userSubscriptionId)&&void 0!==n?n:""}]}})).commit().group("interactive").event("click").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.INTERACTIVE_BUTTON,resolvers:[{names:["{{action}}"],value:"click"},{names:["{{stage}}"],value:String(t.stage)},{names:["{{Ñurrent_fragment}}"],value:String(t.current)},{names:["{{clicked_fragment}}"],value:String(t.clicked)},{names:["{{frag_num}}"],value:String(t.clicked)}]}})).commit().endGroup().endGroup().build(),Ds={ADVERT_STAT_RECEIVE:"adreceive",ADVERT_STAT_RECEIVE_PREROLL:"adreceivepreroll",ADVERT_STAT_RECEIVE_MIDROLL:"adreceivemidroll",ADVERT_STAT_RECEIVE_POSTROLL:"adreceivepostroll",ADVERT_STAT_RECEIVE_OVERLAY:"adreceiveoverlay",ADVERT_STAT_START:"adstart",ADVERT_STAT_START_PREROLL:"adstartpreroll",ADVERT_STAT_START_MIDROLL:"adstartmidroll",ADVERT_STAT_START_POSTROLL:"adstartpostroll",ADVERT_STAT_START_OVERLAY:"adstartoverlay",ADVERT_STAT_BLOCK_START:"ad_block_start",ADVERT_STAT_BLOCK_START_PREROLL:"ad_preroll_block_start",ADVERT_STAT_BLOCK_START_MIDROLL:"ad_midroll_block_start",ADVERT_STAT_BLOCK_START_NEWMIDROLL:"ad_newmidroll_block_start",ADVERT_STAT_BLOCK_START_LIVEMIDROLL:"ad_livemidroll_block_start",ADVERT_STAT_BLOCK_START_POSTROLL:"ad_postroll_block_start",ADVERT_STAT_BLOCK_END:"ad_block_end",ADVERT_STAT_BLOCK_END_PREROLL:"ad_preroll_block_end",ADVERT_STAT_BLOCK_END_MIDROLL:"ad_midroll_block_end",ADVERT_STAT_BLOCK_END_NEWMIDROLL:"ad_newmidroll_block_end",ADVERT_STAT_BLOCK_END_LIVEMIDROLL:"ad_livemidroll_block_end",ADVERT_STAT_BLOCK_END_POSTROLL:"ad_postroll_block_end",ADVERT_STAT_END:"ad_end",ADVERT_STAT_END_CLOSE:"ad_end_close",ADVERT_STAT_CLICK:"ad_click",ADVERT_STAT_CLOSE:"adclose",ADVERT_STAT_ERROR:"ad_error",ADVERT_STAT_SEND:"adsend",ADVERT_STAT_SKIP:"ad_skip",ADVERT_STAT_SEND_PREROLL:"adsendpreroll",ADVERT_STAT_SEND_MIDROLL:"adsendmidroll",ADVERT_STAT_SEND_POSTROLL:"adsendpostroll",ADVERT_STAT_SEND_OVERLAY:"adsendoverlay",FIRST_QUARTILE:"ad_25",SECOND_QUARTILE:"ad_50",THIRD_QUARTILE:"ad_75",RULE_RESPONSE:"ad_rule_response"},Bs=["event"],Fs=["event"],Hs=e=>{var t;return[{names:["{{type_ad}}"],value:e.type||""},{names:["{{ads_url_template}}"],value:e.urlTemplate||""},{names:["{{adformat}}"],value:e.advertName||""},{names:["{{format}}"],value:e.advertName||""},{names:["{{campaign_id}}"],value:e.campaignId||""},{names:["{{ads_owner_id}}"],value:e.ownerId||""},{names:["{{ad_dur}}"],value:(null===(t=e.duration)||void 0===t?void 0:t.toString())||""},{names:["{{ads_skipt}}"],value:e.skipDuration||""},{names:["{{ad_id}}"],value:e.advertId||""}]},Vs=pn.builder().use(Sn).group("advert").event("request").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.AD_REQUEST,resolvers:Hs(t)}})).commit().event("send").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_SEND,resolvers:Hs(t)}})).commit().event("sendByType").params().message((e=>{let{params:{advertName:t,type:n}}=e;return{methodName:Ds["ADVERT_STAT_SEND_".concat(n.toUpperCase())],resolvers:[{names:["{{adformat}}"],value:t}]}})).commit().event("receive").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_RECEIVE,resolvers:Hs(t)}})).commit().event("receiveByType").params().message((e=>{var t;let{params:n}=e;return{methodName:Ds["ADVERT_STAT_RECEIVE_".concat(null===(t=n.type)||void 0===t?void 0:t.toUpperCase())],resolvers:Hs(n)}})).commit().event("start").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_START,resolvers:Hs(t)}})).commit().event("startByType").params().message((e=>{let{params:t}=e;return{methodName:Ds["ADVERT_STAT_START_".concat(t.type.toUpperCase())],resolvers:Hs(t)}})).commit().event("close").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_CLOSE,resolvers:Hs(t)}})).commit().event("skip").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_SKIP,resolvers:Hs(t)}})).commit().event("error").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_ERROR,resolvers:[...Hs(t),{names:["{{ad_errorcode}}"],value:t.errorCode||""},{names:["{{ad_traceid}}"],value:t.errorTraceId||""}]}})).commit().event("click").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_CLICK,resolvers:Hs(t)}})).commit().event("adClick").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_CLICK,resolvers:Hs(t)}})).commit().event("end").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_END,resolvers:Hs(t)}})).commit().event("loadAfterAd").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.LOAD_AFTER_AD,resolvers:Hs(t)}})).commit().event("unload").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_END_CLOSE,useBeacon:!0,resolvers:Hs(t)}})).commit().event("blockStart").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_BLOCK_START,resolvers:Hs(t)}})).commit().event("blockStartByType").params().message((e=>{let{params:t}=e;return{methodName:Ds["ADVERT_STAT_BLOCK_START_".concat(t.type.toUpperCase())],resolvers:Hs(t)}})).commit().event("blockStartYm").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.ADVERT_STAT_BLOCK_START,resolvers:Hs(t)}})).commit().event("blockStartYmCustom").params().message((e=>{let{params:{event:t}}=e,n=(0,V.A)(e.params,Bs);return{methodName:wn.t_[t],resolvers:Hs(n)}})).commit().event("blockEnd").params().message((e=>{let{params:t}=e;return{methodName:Ds.ADVERT_STAT_BLOCK_END,resolvers:Hs(t)}})).commit().event("blockEndByType").params().message((e=>{let{params:t}=e;return{methodName:Ds["ADVERT_STAT_BLOCK_END_".concat(t.type.toUpperCase())],resolvers:Hs(t)}})).commit().event("blockEndYm").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.ADVERT_STAT_BLOCK_END,resolvers:Hs(t)}})).commit().event("blockEndYmCustom").params().message((e=>{let{params:{event:t}}=e,n=(0,V.A)(e.params,Fs);return{methodName:wn.t_[t],resolvers:Hs(n)}})).commit().event("view").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.AD_VIEW,resolvers:Hs(t)}})).commit().event("firstQuartile").params().message((e=>{let{params:t}=e;return{methodName:Ds.FIRST_QUARTILE,resolvers:Hs(t)}})).commit().event("secondQuartile").params().message((e=>{let{params:t}=e;return{methodName:Ds.SECOND_QUARTILE,resolvers:Hs(t)}})).commit().event("thirdQuartile").params().message((e=>{let{params:t}=e;return{methodName:Ds.THIRD_QUARTILE,resolvers:Hs(t)}})).commit().event("ruleResponse").params().message((e=>{let{params:{section:t}}=e;return{methodName:Ds.RULE_RESPONSE,resolvers:[{names:["{{ads_section}}"],value:String(t)}]}})).commit().group("mrc").group("halfVisible").event("oneSec").params().message((e=>{let{params:t}=e;return{methodName:wn.jI.ADVERT_MRC_50_1,resolvers:Hs(t)}})).commit().event("twoSec").params().message((e=>{let{params:t}=e;return{methodName:wn.jI.ADVERT_MRC_50_2,resolvers:Hs(t)}})).commit().endGroup().group("fullVisible").event("oneSec").params().message((e=>{let{params:t}=e;return{methodName:wn.jI.ADVERT_MRC_100_1,resolvers:Hs(t)}})).commit().event("twoSec").params().message((e=>{let{params:t}=e;return{methodName:wn.jI.ADVERT_MRC_100_2,resolvers:Hs(t)}})).commit().endGroup().endGroup().endGroup().build(),Us=pn.builder().use(Sn).group("captions").event("show").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.SUBTITLES,resolvers:[{names:["{{action}}"],value:t.action},{names:["{language}"],value:t.language},{names:["{result}"],value:t.result}]}})).commit().event("click").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.SUBTITLES,resolvers:[{names:["{{action}}"],value:t.action},{names:["{language}"],value:t.language},{names:["{result}"],value:t.result}]}})).commit().endGroup().build(),js=pn.builder().use(Sn).group("channelSubscription").event("show").message((()=>({methodName:wn.t_.SUBSCRIBE_SHOW}))).commit().group("click").event("subscribe").message((()=>({methodName:wn.t_.SUBSCRIBE_CLICK}))).commit().event("unsubscribe").message((()=>({methodName:wn.t_.UNSUBSCRIBE_CLICK}))).commit().endGroup().group("notify").event("on").message((()=>({methodName:wn.t_.SUBSCRIBE_NOTIFY_ON}))).commit().event("off").message((()=>({methodName:wn.t_.SUBSCRIBE_NOTIFY_OFF}))).commit().endGroup().endGroup().build(),Ws=pn.builder().use(Sn).group("chapters").event("menuClick").message((()=>({methodName:wn.t_.CHAPTER_MENU_CLICK}))).commit().event("descriptionClick").message((()=>({methodName:wn.t_.CHAPTER_DESC_CLICK}))).commit().event("buttonShow").message((()=>({methodName:wn.t_.CHAPTER_BUTTON_SHOW}))).commit().event("buttonClick").message((()=>({methodName:wn.t_.CHAPTER_BUTTON_CLICK}))).commit().endGroup().build(),zs=pn.builder().use(Sn).group("controls").event("logoClick").params().message((e=>{let{params:{videoUrl:t}}=e;return{methodName:wn.t_.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:wn.NN.SITE_LOGO},{names:["{{clicked_url}}"],value:t}]}})).commit().event("unmuteClick").message((()=>({methodName:wn.t_.UNMUTE_CLICK}))).commit().event("unmuteShow").message((()=>({methodName:wn.t_.UNMUTE_VIEW}))).commit().endGroup().build(),Gs=pn.builder().use(Sn).group("endScreen").event("channelLogoClick").params().message((e=>{let{params:{clickedUrl:t}}=e;return{methodName:wn.t_.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:wn.NN.CHANNEL_LOGO},{names:["{{clicked_url}}"],value:t}]}})).commit().event("show").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_SHOW,resolvers:[{names:["{{rec_vl}}"],value:t.videoId}]}})).commit().event("nextVideoClick").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_CLICK,resolvers:[{names:["{{vl_video_id}}"],value:t.videoId}]}})).commit().event("nextVideoAuto").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.RECOMMENDATIONS_END_SCREEN_NEXT_VIDEO_AUTO,resolvers:[{names:["{{vl_video_id}}"],value:t.videoId}]}})).commit().event("showRecommendations").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.RECOMMENDATIONS_END_SCREEN_RECS_SHOW,resolvers:[{names:["{{rec_vl}}"],value:t.videoIds.join(",")}]}})).commit().event("recommendationClick").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.RECOMMENDATIONS_END_SCREEN_RECS_CLICK,resolvers:[{names:["{{vl_video_id}}"],value:t.videoId}]}})).commit().event("action").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.END_SCREEN,resolvers:[{names:["{{end_screen}}"],value:t.end_screen},{names:["{{clicked_url}}"],value:t.clicked_url||""},{names:["{{next_video_id}}"],value:t.next_video_id||""},{names:["{{list_of_cards}}"],value:t.list_of_cards?JSON.stringify(t.list_of_cards):""},{names:["{{toggle}}"],value:t.toggle}]}})).commit().event("clickAction").params().message((e=>{let{params:t}=e;return{methodName:wn.jI.CLICK_ENDSCREEN_ACTION,resolvers:[{names:["{{click_video}}"],value:t.videoId}]}})).commit().event("click").params().message((e=>{let{params:t}=e;return{methodName:wn.jI.CLICK_ENDSCREEN,resolvers:[{names:["{{click_video}}"],value:t.videoId}]}})).commit().event("cancel").params().message((()=>({methodName:wn.jI.CANCEL_ENDSCREEN}))).commit().event("showAlt").params().message((()=>({methodName:wn.jI.SHOW_ENDSCREEN}))).commit().endGroup().build(),qs=pn.builder().use(Sn).group("playerMode").event("fullscreen").params().message((e=>{let{params:{isFullScreen:t}}=e;return{methodName:t?wn.jI.ENTER_FULLSCREEN:wn.jI.EXIT_FULL_SCREEN}})).commit().event("change").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.SCREEN_MODE,resolvers:[{names:["{{screen_mode}}"],value:t}]}})).commit().endGroup().build(),Ks=pn.builder().use(Sn).group("pauseScreen").event("show").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.RECOMMENDATIONS_PAUSE_SCREEN_SHOW,resolvers:[{names:["{{rec_vl}}"],value:t.videoIds.join(",")}]}})).commit().event("click").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.RECOMMENDATIONS_PAUSE_SCREEN_CLICK,resolvers:[{names:["{{vl_video_id}}"],value:t.videoId}]}})).commit().event("action").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.PAUSE_SCREEN,resolvers:[{names:["{{action}}"],value:t.action},{names:["{{list_of_cards}}"],value:t.list_of_cards?JSON.stringify(t.list_of_cards):""},{names:["{{clicked_url}}"],value:t.clicked_url||""},{names:["{{position}}"],value:t.position||""}]}})).commit().endGroup().group("recommendationButton").event("show").params().message((()=>({methodName:wn.t_.RECOMMENDATIONS_BUTTON_SHOW,resolvers:[]}))).commit().event("click").params().message((()=>({methodName:wn.t_.RECOMMENDATIONS_BUTTON_CLICK,resolvers:[]}))).commit().endGroup().build(),Ys=pn.builder().use(Sn).group("pictureInPicture").event("enterClick").message((()=>({methodName:wn.jI.PIP_ENTER_CLICK}))).commit().event("exitClick").message((()=>({methodName:wn.jI.PIP_EXIT_CLICK}))).commit().event("backShow").message((()=>({methodName:wn.jI.PIP_BACK_SHOW}))).commit().event("backClick").message((()=>({methodName:wn.jI.PIP_BACK_CLICK}))).commit().endGroup().build(),Xs=pn.builder().use(Sn).group("platformSubscription").event("showRemoveAdsButton").params().message((e=>{let{params:t}=e;return{methodName:wn.jI.AD_OFF_BUTTON_SHOW,resolvers:Hs(t)}})).commit().event("clickRemoveAdsButton").params().message((e=>{let{params:t}=e;return{methodName:wn.jI.AD_OFF_BUTTON_CLICK,resolvers:Hs(t)}})).commit().endGroup().build(),Qs=pn.builder().use(Sn).group("replayWidget").event("click").message((()=>({methodName:wn.t_.FROM_BEGINNINIG}))).commit().endGroup().group("watchFromStart").event("click").message((()=>({methodName:wn.t_.WATCH_FROM_START_CLICK}))).commit().event("show").message((()=>({methodName:wn.t_.WATCH_FROM_START_SHOW}))).commit().endGroup().build(),Zs=pn.builder().use(Sn).group("seasons").event("ButtonShow").params().message((()=>({methodName:wn.t_.RECOMMENDATIONS_SEASONS_BUTTON_SHOW,resolvers:[]}))).commit().event("show").params().message((()=>({methodName:wn.t_.RECOMMENDATIONS_SEASONS_OPEN,resolvers:[]}))).commit().event("click").params().message((e=>{let{params:{clicked_url:t}}=e;return{methodName:wn.t_.RECOMMENDATIONS_SEASONS_EPISODE_CLICK,resolvers:[{names:["{{clicked_url}}"],value:t}]}})).commit().endGroup().build(),Js=pn.builder().use(Sn).group("prevVideo").event("Click").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.PREV_VIDEO,resolvers:[{names:["{{clicked_url}}"],value:t.clicked_url},{names:["{{previous_video}}"],value:t.prev_video_id}]}})).commit().endGroup().build(),$s=pn.builder().use(Sn).group("settings").event("autoplay").params().message((e=>{let{params:{action:t}}=e;return{methodName:wn.t_.PLAYBACK_AUTOPLAY,resolvers:[{names:["{{action}}"],value:t}]}})).commit().event("playbackRate").params().message((e=>{let{params:t}=e;return{methodName:wn.t_.SPEED,resolvers:[{names:["{{playback_speed}}"],value:String(t)}]}})).commit().event("click").message((()=>({methodName:wn.t_.SETTINGS_CLICK}))).commit().group("moreMenu").event("copyLinkVideo").message((()=>({methodName:wn.t_.MORE_MENU_COPY_LINK_VIDEO}))).commit().event("copyLinkAtTime").message((()=>({methodName:wn.t_.MORE_MENU_COPY_LINK_AT_TIME}))).commit().event("copyTag").message((()=>({methodName:wn.t_.MORE_MENU_COPY_TAG}))).commit().event("replay").message((()=>({methodName:wn.t_.MORE_MENU_REPLAY}))).commit().event("reportError").message((()=>({methodName:wn.t_.MORE_MENU_REPORT_ERROR}))).commit().event("copyInfo").message((()=>({methodName:wn.t_.MORE_MENU_COPY_INFO}))).commit().event("reportVideo").message((()=>({methodName:wn.t_.MORE_MENU_REPORT_VIDEO}))).commit().event("hotkeyManual").message((()=>({methodName:wn.t_.MORE_MENU_HOTKEY_MANUAL}))).commit().event("replayVideoOn").message((()=>({methodName:wn.t_.MORE_MENU_REPLAY_VIDEO_ON}))).commit().event("replayVideoOff").message((()=>({methodName:wn.t_.MORE_MENU_REPLAY_VIDEO_OFF}))).commit().endGroup().group("contextMenu").event("itemClick").params().message((e=>{let{params:{clickedItemTitle:t}}=e;return{methodName:wn.t_.EXTENDED_PLAYER_MENU,clickedItemTitle:t,resolvers:[{names:["{{clicked_item_title}}"],value:t}]}})).commit().endGroup().endGroup().build(),el=pn.builder().use(Sn).group("sharing").event("Share").params().message((e=>{let{params:{socialNetwork:t}}=e;return{methodName:wn.t_.SHARE,resolvers:[{names:["{{action}}"],value:"share"},{names:["{{social_network}}"],value:t}]}})).commit().event("Show").message((()=>({methodName:wn.t_.SHARE,resolvers:[{names:["{{action}}"],value:"show"}]}))).commit().endGroup().build(),tl=pn.builder().use(Sn).group("header").event("logoClick").params().message((e=>{let{params:{videoUrl:t}}=e;return{methodName:wn.t_.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:wn.NN.CHANNEL_LOGO},{names:["{{clicked_url}}"],value:t}]}})).commit().event("titleClick").params().message((e=>{let{params:{videoUrl:t}}=e;return{methodName:wn.t_.CLICK_EVENT,resolvers:[{names:["{{type_button}}"],value:wn.NN.VIDEO_TITLE},{names:["{{clicked_url}}"],value:t}]}})).commit().endGroup().build(),nl=pn.builder().use(Sn).group("mrc").group("halfVisible").event("oneSec").message((()=>({methodName:wn.jI.MRC_50_1}))).commit().event("twoSec").message((()=>({methodName:wn.jI.MRC_50_2}))).commit().endGroup().group("fullVisible").event("oneSec").message((()=>({methodName:wn.jI.MRC_100_1}))).commit().event("twoSec").message((()=>({methodName:wn.jI.MRC_100_2}))).commit().endGroup().endGroup().build();var rl;let il,ol;rl=class extends Xn{constructor(e,t,n,r){super(e,t,n,r),this._counterHelper=void 0,this._counterHelper=this.buildCounter()}getCounter(){return super.getCounter().extends(Ks).extends(Zs).extends($s).extends(Us).extends(qs).extends(tl).extends(Vs).extends(js).extends(zs).extends(el).extends(Xs).extends(Qs).extends(Ws).extends(Ys).extends(Os).extends(Ms).extends(Ns).extends(Js).extends(nl).extends(Gs)}buildCounter(){return this.getCounter().build()}get counterHelper(){return this._counterHelper}},[ol,il]=(0,k.A)(rl,[(0,I.k_)({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","Resolve","IPlaceholdersState"]})],[],0,void 0,Xn).c,il();const al=()=>{const e=(0,fr.Ks)("IStatisticState");return e instanceof ol?e:null},sl=()=>{const e=(0,fr.ei)("IStatisticState");return e instanceof ol?e:null},ll=[{names:["{{touch_point}}"],selector:()=>(0,O.yA)()?"embed":"web"}];class ul extends Error{constructor(e,t){super(e),this.fatal=void 0,this.fatal=t}}class cl{constructor(e,t,n){this._playAfterQualityChange=!1,this._timeAfterQualityChange=void 0,this._isChangingQuality=!1,this.instance=void 0,this._provider=e,this._playback=t,this._src=n}_onDataLoaded(){this._isChangingQuality=!1}_onCanPlay(){this._isChangingQuality||(this._timeAfterQualityChange&&(this._playback.seek(this._timeAfterQualityChange),this._timeAfterQualityChange=void 0),this._playAfterQualityChange&&(this._playAfterQualityChange=!1,this._playback.play().catch((e=>{console.warn("_onCanPlay:",e)}))))}init(){return this._playback.player.addEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.addEventListener("canplay",this._onCanPlay.bind(this)),this._playback.player.src=this._src,new Promise((e=>{e(this)}))}destroy(){this._playback.player.removeEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.removeEventListener("canplay",this._onCanPlay.bind(this)),this._playback.pause(),this._playback.player.removeAttribute("src"),this._playback.load()}get type(){return"default"}changeLevel(e){this._provider.autoQuality=-1===e,this._isChangingQuality=!0;const t=this._provider.qualities.findIndex((t=>t.level===e)),n=this._provider.qualities.findIndex((e=>e.isAuto));this._provider.activeQualityIndex=this._provider.autoQuality?n:t;const r=this._provider.qualities[this._provider.activeQualityIndex];if(r&&this._playback){this._playback.paused?this._playAfterQualityChange=!1:(this._playback.pause(),this._playAfterQualityChange=!0),this._playback&&r.edge&&(this._timeAfterQualityChange=this._playback.currentTime,this._playback.src=r.edge,this._playback.load())}}}const dl=4e3,hl="manifestLoadError",pl="manifestParsingError",ml="levelLoadError",vl="fragLoadError",_l="bufferAppendError",fl="manifestIncompatibleCodecsError",gl="keySystemNoKeys",bl="keySystemNoAccess",yl="keySystemNoSession",El="keySystemNoConfiguredLicense",wl="keySystemLicenseRequestFailed",Sl="keySystemServerCertificateUpdateFailed",Al={manifestLoadError:hl,manifestLoadTimeOut:"manifestLoadTimeOut",manifestParsingError:pl,levelLoadError:ml,levelLoadTimeOut:"levelLoadTimeOut",fragLoadError:vl,fragLoadTimeOut:"fragLoadTimeOut",bufferAppendError:_l,bufferAppendingError:_l,manifestIncompatibleCodecsError:fl,keySystemNoKeys:gl,keySystemNoAccess:bl,keySystemNoSession:yl,keySystemNoConfiguredLicense:El,keySystemLicenseRequestFailed:wl,keySystemServerCertificateUpdateFailed:Sl},Cl={MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:10,MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE:11,XLINK_LOADER_LOADING_FAILURE_ERROR_CODE:12,SEGMENT_BASE_LOADER_ERROR_CODE:15,TIME_SYNC_FAILED_ERROR_CODE:16,FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE:17,FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE:18,URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE:19,APPEND_ERROR_CODE:20,REMOVE_ERROR_CODE:21,DATA_UPDATE_FAILED_ERROR_CODE:22,CAPABILITY_MEDIASOURCE_ERROR_CODE:23,CAPABILITY_MEDIAKEYS_ERROR_CODE:24,DOWNLOAD_ERROR_ID_MANIFEST_CODE:25,DOWNLOAD_ERROR_ID_SIDX_CODE:26,DOWNLOAD_ERROR_ID_CONTENT_CODE:27,DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:28,DOWNLOAD_ERROR_ID_XLINK_CODE:29,MANIFEST_ERROR_ID_PARSE_CODE:31,MANIFEST_ERROR_ID_NOSTREAMS_CODE:32,TIMED_TEXT_ERROR_ID_PARSE_CODE:33,MANIFEST_ERROR_ID_MULTIPLEXED_CODE:34,MEDIASOURCE_TYPE_UNSUPPORTED_CODE:35,MEDIA_KEYERR_CODE:100,MEDIA_KEYERR_UNKNOWN_CODE:101,MEDIA_KEYERR_CLIENT_CODE:102,MEDIA_KEYERR_SERVICE_CODE:103,MEDIA_KEYERR_OUTPUT_CODE:104,MEDIA_KEYERR_HARDWARECHANGE_CODE:105,MEDIA_KEYERR_DOMAIN_CODE:106,MEDIA_KEY_MESSAGE_ERROR_CODE:107,MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE:108,SERVER_CERTIFICATE_UPDATED_ERROR_CODE:109,KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE:110,MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE:111,KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE:112,KEY_SESSION_CREATED_ERROR_CODE:113,MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE:114,MSS_NO_TFRF_CODE:200,MSS_UNSUPPORTED_CODEC_CODE:201,OFFLINE_ERROR:11e3,INDEXEDDB_QUOTA_EXCEED_ERROR:11001,INDEXEDDB_INVALID_STATE_ERROR:11002,INDEXEDDB_NOT_READABLE_ERROR:11003,INDEXEDDB_NOT_FOUND_ERROR:11004,INDEXEDDB_NETWORK_ERROR:11005,INDEXEDDB_DATA_ERROR:11006,INDEXEDDB_TRANSACTION_INACTIVE_ERROR:11007,INDEXEDDB_NOT_ALLOWED_ERROR:11008,INDEXEDDB_NOT_SUPPORTED_ERROR:11009,INDEXEDDB_VERSION_ERROR:11010,INDEXEDDB_TIMEOUT_ERROR:11011,INDEXEDDB_ABORT_ERROR:11012,INDEXEDDB_UNKNOWN_ERROR:11013},kl={[Cl.DOWNLOAD_ERROR_ID_MANIFEST_CODE]:hl,[Cl.MANIFEST_ERROR_ID_PARSE_CODE]:pl,[Cl.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE]:ml,[Cl.DOWNLOAD_ERROR_ID_CONTENT_CODE]:vl,[Cl.APPEND_ERROR_CODE]:_l,[Cl.CAPABILITY_MEDIASOURCE_ERROR_CODE]:fl,[Cl.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE]:gl,[Cl.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE]:bl,[Cl.KEY_SESSION_CREATED_ERROR_CODE]:yl,[Cl.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE]:El,[Cl.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE]:wl,[Cl.SERVER_CERTIFICATE_UPDATED_ERROR_CODE]:Sl,[Cl.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE]:"MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE",[Cl.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE]:"MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE",[Cl.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE]:"XLINK_LOADER_LOADING_FAILURE_ERROR_CODE",[Cl.SEGMENT_BASE_LOADER_ERROR_CODE]:"SEGMENT_BASE_LOADER_ERROR_CODE",[Cl.TIME_SYNC_FAILED_ERROR_CODE]:"TIME_SYNC_FAILED_ERROR_CODE",[Cl.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE]:"FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE",[Cl.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE]:"FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE",[Cl.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE]:"URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE",[Cl.REMOVE_ERROR_CODE]:"REMOVE_ERROR_CODE",[Cl.DATA_UPDATE_FAILED_ERROR_CODE]:"DATA_UPDATE_FAILED_ERROR_CODE",[Cl.CAPABILITY_MEDIAKEYS_ERROR_CODE]:"CAPABILITY_MEDIAKEYS_ERROR_CODE",[Cl.DOWNLOAD_ERROR_ID_SIDX_CODE]:"DOWNLOAD_ERROR_ID_SIDX_CODE",[Cl.DOWNLOAD_ERROR_ID_XLINK_CODE]:"DOWNLOAD_ERROR_ID_XLINK_CODE",[Cl.MANIFEST_ERROR_ID_NOSTREAMS_CODE]:"MANIFEST_ERROR_ID_NOSTREAMS_CODE",[Cl.TIMED_TEXT_ERROR_ID_PARSE_CODE]:"TIMED_TEXT_ERROR_ID_PARSE_CODE",[Cl.MANIFEST_ERROR_ID_MULTIPLEXED_CODE]:"MANIFEST_ERROR_ID_MULTIPLEXED_CODE",[Cl.MEDIASOURCE_TYPE_UNSUPPORTED_CODE]:"MEDIASOURCE_TYPE_UNSUPPORTED_CODE",[Cl.MSS_NO_TFRF_CODE]:"MSS_NO_TFRF_CODE",[Cl.MSS_UNSUPPORTED_CODEC_CODE]:"MSS_UNSUPPORTED_CODEC_CODE",[Cl.OFFLINE_ERROR]:"OFFLINE_ERROR",[Cl.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE]:"KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE",[Cl.MEDIA_KEYERR_CLIENT_CODE]:"MEDIA_KEYERR_CLIENT_CODE",[Cl.MEDIA_KEYERR_CODE]:"MEDIA_KEYERR_CODE",[Cl.MEDIA_KEYERR_DOMAIN_CODE]:"MEDIA_KEYERR_DOMAIN_CODE",[Cl.MEDIA_KEYERR_HARDWARECHANGE_CODE]:"MEDIA_KEYERR_HARDWARECHANGE_CODE",[Cl.MEDIA_KEYERR_OUTPUT_CODE]:"MEDIA_KEYERR_OUTPUT_CODE",[Cl.MEDIA_KEYERR_SERVICE_CODE]:"MEDIA_KEYERR_SERVICE_CODE",[Cl.MEDIA_KEYERR_UNKNOWN_CODE]:"MEDIA_KEYERR_UNKNOWN_CODE",[Cl.MEDIA_KEY_MESSAGE_ERROR_CODE]:"MEDIA_KEY_MESSAGE_ERROR_CODE"},Pl=[Cl.DOWNLOAD_ERROR_ID_MANIFEST_CODE,Cl.MANIFEST_ERROR_ID_PARSE_CODE,Cl.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE,Cl.CAPABILITY_MEDIASOURCE_ERROR_CODE,Cl.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,Cl.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,Cl.KEY_SESSION_CREATED_ERROR_CODE,Cl.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,Cl.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,Cl.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,Cl.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,Cl.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Cl.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,Cl.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,Cl.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,Cl.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,Cl.DATA_UPDATE_FAILED_ERROR_CODE,Cl.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,Cl.MSS_UNSUPPORTED_CODEC_CODE,Cl.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,Cl.MEDIA_KEYERR_CODE,Cl.MEDIA_KEY_MESSAGE_ERROR_CODE,Cl.CAPABILITY_MEDIAKEYS_ERROR_CODE,Cl.DOWNLOAD_ERROR_ID_XLINK_CODE,Cl.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,Cl.MEDIA_KEYERR_CLIENT_CODE,Cl.MEDIA_KEYERR_DOMAIN_CODE,Cl.MEDIA_KEYERR_HARDWARECHANGE_CODE,Cl.MEDIA_KEYERR_OUTPUT_CODE,Cl.MEDIA_KEYERR_SERVICE_CODE],Il=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return{retryIntervals:{MPD:e,MediaSegment:e,InitializationSegment:e,IndexSegment:e,other:e},retryAttempts:{MPD:t,MediaSegment:t,InitializationSegment:t,BitstreamSwitchingSegment:t,IndexSegment:t,other:t},manifestRequestTimeout:1e4,fragmentRequestTimeout:2e4}},Tl=e=>e&&"string"==typeof e.type&&e.error&&"object"==typeof e.error&&"number"==typeof e.error.code&&Object.values(Cl).includes(e.error.code)&&"string"==typeof e.error.message&&"object"==typeof e.error.data,xl=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("-")},Rl=e=>Tl(e)?e.error.code in kl?kl[e.error.code]:xl(e.error.message,String(e.error.code)):(e=>e&&"string"==typeof e.type&&"download"===e.error&&e.event&&"object"==typeof e.event&&"string"==typeof e.event.id&&"string"==typeof e.event.url&&e.event.request instanceof XMLHttpRequest)(e)?xl(e.error,e.event.url):(e=>e&&"string"==typeof e.type&&"manifestError"===e.error&&e.event&&"object"==typeof e.event&&"string"==typeof e.event.id&&"string"==typeof e.event.message&&(void 0===e.event.manifest||"object"==typeof e.event.manifest)&&(void 0===e.event.event||"string"==typeof e.event.event))(e)?xl(e.error,e.event.message):(e=>e&&"string"==typeof e.type&&"cc"===e.error&&e.event&&"object"==typeof e.event&&"string"==typeof e.event.id&&"string"==typeof e.event.message&&"string"==typeof e.event.cc)(e)?xl(e.error,e.event.message,e.event.cc):(e=>e&&"string"==typeof e.type&&"string"==typeof e.error&&["capability","mediasource","key_session","key_message"].includes(e.error)&&"string"==typeof e.event)(e)?xl(e.error,e.event):"Unknown error",Ll="https://".concat("static.rutube.ru","/static/player_sdk/dash/4.7.4/dash.all.min.js");class Ol{canPlayHandler(e){const t=e.getBitrateInfoListFor("video");this._providerPlugin.qualities=t,this._eventBus.emit(zi.L2.QUALITY_LIST,{list:this._getBitratesHeight()}),this._eventBus.emit(zi.L2.BITRATES_LEVELS,{bitrates:this._getBitratesBandwidth()});this._providerPlugin.activeQualityIndex=(()=>{const t=e.getQualityFor("video");let n=-1;return this._providerPlugin.qualities.forEach(((e,r)=>{e.level===t&&(n=r)})),n})()}constructor(e,t,n){this._instance=null,this._eventBus=void 0,this._getBitratesBandwidth=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.bitrate&&e.push(t.bitrate),e)),[]),this._getBitratesHeight=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.height&&e.push(t.height),e)),[]),this._initParams=e,this._providerPlugin=t,this._eventBus=null!=n?n:va.Ug}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(await Wa(Ll,"dashjs")).MediaPlayer().create();t.updateSettings({streaming:(0,l.A)((0,l.A)({},Il()),{},{abr:{initialBitrate:{video:-1}}})}),this._initParams.drmLink&&t.setProtectionData({"com.widevine.alpha":{serverURL:this._initParams.drmLink,priority:1}}),t.initialize(this._initParams.playbackPlugin.player,this._initParams.src,e.autoPlay);return this.instance=(0,l.A)((0,l.A)({},t),{},{liveSyncPosition:null,currentLevel:t.getQualityFor("video"),levels:()=>{const e=t.getBitrateInfoListFor("video");for(const t of e)t&&!t.url&&(t.url="");return e},bandwidthEstimate:()=>1e3*t.getAverageThroughput("video")}),t.on("error",(e=>{this.handleDashError(e)})),t.on("canPlay",(()=>this.canPlayHandler(t))),t.on("fragmentLoadingCompleted",this.onFragmentLoadingCompleted.bind(this)),this||null}handleDashError(e){(e=>Tl(e)&&Pl.includes(Number(e.error.code)))(e)&&(this._providerPlugin.hasLoadError=!0)}get instance(){return this._instance}set instance(e){this._instance=e}destroy(){var e;null===(e=this._instance)||void 0===e||e.destroy()}changeLevel(e){var t,n,r,i;const o=this._providerPlugin.qualities.findIndex((t=>t.level===e));var a;if(-1===e)return null===(a=this._instance)||void 0===a||a.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}}),this._eventBus.emit(zi.L2.CURRENT_QUALITY,{quality:{height:-1,quality:this._providerPlugin.activeQualityTransferValue,isAutoQuality:this._providerPlugin.autoQuality}}),void this._eventBus.emit(zi.L2.BITRATE_SWITCH,{bitrate:-1});null===(t=this._instance)||void 0===t||t.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),null===(n=this._instance)||void 0===n||n.setQualityFor("video",e);const s=this._providerPlugin.qualities[o];this._eventBus.emit(zi.L2.CURRENT_QUALITY,{quality:{height:null!==(r=s.height)&&void 0!==r?r:0,quality:this._providerPlugin.activeQualityTransferValue,isAutoQuality:this._providerPlugin.autoQuality}}),this._eventBus.emit(zi.L2.BITRATE_SWITCH,{bitrate:null!==(i=s.bitrate)&&void 0!==i?i:0})}onOnlineToggle(e){var t;const n=e?Il():Il(500,1/0);null===(t=this._instance)||void 0===t||t.updateSettings({streaming:(0,l.A)({},n)})}onFragmentLoadingCompleted(e){const t=e.request.serviceLocation,n=t?t.split("//")[1].split("/")[0]:"";this._providerPlugin.previewUrl=t,this._providerPlugin.cdnHost=n}}const Nl=()=>{var e,t;return null!==(e=window.performance)&&void 0!==e&&e.now?parseInt(null===(t=window.performance.now())||void 0===t?void 0:t.toFixed()):(new Date).getTime()},Ml="SCTE35-OUT",Dl="EXT-X-DATERANGE",Bl="PLANNED-DURATION";class Fl{constructor(e,t,n){this.fallbackTimer=null,this._hls=e,this._params=t,this._error=n}handleError(){var e;const{playbackPlugin:t}=this._params;this._error.type===(null===(e=this._hls.Hls)||void 0===e?void 0:e.ErrorTypes.MEDIA_ERROR)&&this.onBufferStalledError(),x()&&t.currentTime.toFixed(0)===t.duration.toFixed(0)&&this.onSafariBufferError()}onBufferStalledError(){var e,t,n;const{playbackPlugin:r}=this._params,i=Math.max((null===(e=this._hls.instance)||void 0===e?void 0:e.currentLevel)||0,0),o=null!==(t=null===(n=this._hls.instance)||void 0===n?void 0:n.levels[i].url.length)&&void 0!==t?t:1,a=e=>{r.player.buffered&&r.player.buffered.length&&r.player.buffered.end(r.player.buffered.length-1)<=e+.01&&this._hls.removeDamagedStream(i)};if(o>1&&r.player.buffered){const e=r.player.buffered.end(r.player.buffered.length-1);this.fallbackTimer=setTimeout((()=>a(e)),dl)}}onSafariBufferError(){const{playbackPlugin:e}=this._params;e.seek(e.duration+1)}onDestroy(){null!==this.fallbackTimer&&clearTimeout(this.fallbackTimer)}}const Hl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3,i=e;return()=>{i<=0?n&&n():setTimeout((()=>{t(),navigator.onLine&&(i-=1)}),r)}};class Vl{constructor(e,t,n){this.loadRetry=void 0,this._hls=e,this._provider=t,this._error=n,this.loadRetry=Hl(10,(()=>{var e;null===(e=this._hls.instance)||void 0===e||e.startLoad()}),(()=>{this._provider.hasLoadError=!0}))}handleError(){var e,t,n;switch(this._error.type){case null===(e=this._hls.Hls)||void 0===e?void 0:e.ErrorTypes.NETWORK_ERROR:this.loadRetry();break;case null===(t=this._hls.Hls)||void 0===t?void 0:t.ErrorTypes.MEDIA_ERROR:this._hls.onMediaError();break;default:null===(n=this._hls.instance)||void 0===n||n.destroy()}}}let Ul=function(e){return e.PUBLIC="public",e.PRIVATE="private",e}({}),jl=function(e){return e.EXPECT_START="expect_start",e.STREAM_ACTIVE="actual",e.STREAM_DISABLE="disable",e.STREAM_WAIT="wait",e.STREAM_DONE="done",e.STREAM_FINISH_ERR="fin_err",e.STREAM_IDLE="idle",e.STREAM_BLOCKED="blocked",e.STATUS_PLAYING="play_now",e.STATUS_FINISHED="already_finish",e}({});class Wl{constructor(e,t,n,r){this.numOfFragLoadRetry=5,this._hls=e,this._params=t,this._provider=n,this._error=r}handleError(){var e,t,n,r;const{playbackPlugin:i}=this._params,{isTVStream:o}=null!==(e=null==i?void 0:i.data)&&void 0!==e?e:{},a=(null===(t=this._error.frag)||void 0===t?void 0:t.level)||0;if((null!==(n=null===(r=this._hls.instance)||void 0===r?void 0:r.levels[a].url.length)&&void 0!==n?n:1)<=1)if(this.numOfFragLoadRetry<=0){var s;null===(s=this._hls.instance)||void 0===s||s.stopLoad();const{streamStatus:e}=i.adapter||{};e===jl.STREAM_ACTIVE||o?setTimeout((()=>{var e;this._hls.instance&&(this._hls.instance.currentLevel=-1,this.numOfFragLoadRetry=5,null===(e=this._hls.instance)||void 0===e||e.startLoad())}),dl):(this._provider.hasLoadError=!0,console.warn("FRAG_LOAD_ERROR:",this._error))}else navigator.onLine&&(this.numOfFragLoadRetry-=1)}}class zl{constructor(e,t){var n;this._retryCount=void 0,this._hls=e,this._provider=t,this._retryCount=(null===(n=this._hls.instance)||void 0===n?void 0:n.config.fragLoadingMaxRetry)||1}handleError(){if(this._hls.instance&&!this._provider.autoQuality)this._hls.instance.currentLevel=-1;else if(this._retryCount>=1)this._retryCount--;else{var e;this._provider.hasLoadError=!0,null===(e=this._hls.instance)||void 0===e||e.stopLoad()}}}class Gl{constructor(e,t){this._hls=e,this._provider=t}handleError(){this._hls.destroy(),this._provider.hasLoadError=!0}}class ql{constructor(e,t,n){this._retryConfig=null,this.levelLoadRetry=null,this._hls=e,this._provider=t,this._error=n}handleError(){var e,t,n,r,i;const o=this._error.url;this._provider.cdnHost=null!==(e=null===(t=(0,O.Qv)(o))||void 0===t?void 0:t.host)&&void 0!==e?e:"",this.prepareHandling();const a=null!==(n=null===(r=this._error)||void 0===r||null===(r=r.context)||void 0===r?void 0:r.level)&&void 0!==n?n:0;var s;1===(null===(i=this._hls.instance)||void 0===i||null===(i=i.levels[a])||void 0===i?void 0:i.url.length)&&null!==this.levelLoadRetry&&(null===(s=this._hls.instance)||void 0===s||s.stopLoad(),this.levelLoadRetry())}prepareHandling(){var e;if(this.retryConfig)return;const t=(null===(e=this._hls.instance)||void 0===e?void 0:e.config.playlistLoadPolicy.default.errorRetry)||null;t?(this.retryConfig=t,this.setLevelLoadRetry()):this.levelLoadRetry=null}setLevelLoadRetry(){const e=this.retryConfig;this.levelLoadRetry=Hl(e.maxNumRetry,(()=>{var e;null===(e=this._hls.instance)||void 0===e||e.startLoad()}),(()=>{this._provider.hasLoadError=!0}),e.retryDelayMs)}set retryConfig(e){this._retryConfig=e}get retryConfig(){return this._retryConfig}}class Kl{constructor(e,t,n,r){this.numOfManifestLoadRetry=10,this.manifestLoadRetry=void 0,this._hls=e,this._params=t,this._provider=n,this._error=r,this.manifestLoadRetry=Hl(this.numOfManifestLoadRetry,this.retry.bind(this),(()=>{this._provider.hasLoadError=!0}))}retry(){var e,t;null===(e=this._hls.instance)||void 0===e||e.loadSource(this._params.src),null===(t=this._hls.instance)||void 0===t||t.startLoad()}handleError(){var e,t,n;const r=this._error.url;this._provider.cdnHost=null!==(e=null===(t=(0,O.Qv)(r))||void 0===t?void 0:t.host)&&void 0!==e?e:"";const{playbackPlugin:i}=this._params,{isLive:o,isTVStream:a}=null!==(n=null==i?void 0:i.data)&&void 0!==n?n:{};if(o){const{streamStatus:e}=i.adapter||{};var s;if(e===jl.STREAM_ACTIVE||a)null===(s=this._hls.instance)||void 0===s||s.stopLoad(),setTimeout(this.retry.bind(this),dl)}else this.manifestLoadRetry()}}class Yl{constructor(e,t,n){this.errors=new Map,this.currentErrors=[],this._hls=e,this._params=t,this._provider=n}prepareHandlers(e){var t;if(null===e||null===(t=this._hls)||void 0===t||!t.Hls)return;const n=this._hls.Hls.ErrorDetails;e.fatal?this.pushCurrentError(new Vl(this._hls,this._provider,e)):e.details===n.LEVEL_EMPTY_ERROR?this.pushCurrentError(new Gl(this._hls,this._provider)):e.details===n.MANIFEST_LOAD_ERROR?this.pushCurrentError(new Kl(this._hls,this._params,this._provider,e)):e.details===n.LEVEL_LOAD_ERROR||e.details===n.LEVEL_LOAD_TIMEOUT?this.pushCurrentError(new ql(this._hls,this._provider,e)):e.details===n.FRAG_LOAD_ERROR?this.pushCurrentError(new Wl(this._hls,this._params,this._provider,e)):e.details===n.BUFFER_STALLED_ERROR?this.pushCurrentError(new Fl(this._hls,this._params,e)):e.details===n.FRAG_LOAD_TIMEOUT&&this.pushCurrentError(new zl(this._hls,this._provider))}pushCurrentError(e){const t=this.errors.get(e.constructor);t?this.currentErrors.push(t):(this.currentErrors.push(e),this.errors.set(e.constructor,e))}handleErrors(){this.currentErrors.forEach((e=>{e.handleError()})),this.currentErrors=[]}purge(){this.currentErrors.forEach((e=>{e.onDestroy&&e.onDestroy()})),this.errors=new Map}}const Xl={debug:"undefined"!=typeof window&&window.location.search.includes("raichu_hls_debug"),enableWorker:!0,lowLatencyMode:!0,maxMaxBufferLength:zi.JT,autoStartLoad:!0,startLevel:3,liveSyncDurationCount:2,capLevelToPlayerSize:!0,manifestLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:5e3,timeoutRetry:{maxNumRetry:1,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:10,retryDelayMs:1e3,maxRetryDelayMs:2e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:5e3,timeoutRetry:{maxNumRetry:1,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:4,retryDelayMs:1e3,maxRetryDelayMs:2e3}}}};a(4175),a(5343);const Ql=(e,t)=>{t.previewUrl=e?(null==e?void 0:e.split(".mp4")[0])+".mp4"||0:""},Zl=e=>{var t;return(null==e||null===(t=e.details)||void 0===t?void 0:t.fragments)||[]},Jl=e=>e.tagList.reduce(((e,t)=>(e[t[0]]=t[1],e)),{}),$l=e=>{const t=Zl(e);return 0===t.length?{}:t.reduce(((e,t)=>(e[t.relurl]=Jl(t),e)),{})},eu=e=>{if(e){return e.split(",").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{})}return{}},tu=(e,t,n,r)=>{if(!n)return[];const i=r||$l(e);let o;const a=((e,t)=>{const n=Zl(e);return n?n.reduce(((e,n)=>(Jl(n)[t]&&n.relurl&&e.push(n.relurl),e)),[]):[]})(e,n);return a.reduce(((e,r)=>(i[r]&&(o=eu(i[r][n]),o[t]&&e.push(r)),e)),[])},nu=e=>{if(!e)return;const t=parseFloat(e);if(t&&!isNaN(t)){if(t>100)return 120;if(t>50)return 60}},ru=e=>{var t;if(!e||!Array.isArray(e._attrs))return zi.hW;const n=null===(t=e._attrs.find((e=>e["FRAME-RATE"])))||void 0===t?void 0:t["FRAME-RATE"];if(!n)return zi.hW;const r=parseFloat(n);return r>0?1/r:zi.hW},iu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e)return e;if(t){const e=/.+(\d\d\d\d|\d\d)_?(\d\d)_?(\d\d)_(\d\d)_?(\d\d)_?(\d\d)-\d+\.ts/.exec(t)||[],n=(e?[...e.splice(1,6)]:[]).map((e=>parseInt(e)));if(6===n.length&&!n.some(isNaN)){const[e,t,r,i,o,a]=n,s=new Date(e<100?e+2e3:e,t-1,r,i,o,a),l=(new Date).getTimezoneOffset()+180;return s.getTime()-60*l*1e3}}},ou="https://".concat("static.rutube.ru","/static/player_sdk/hls/1.4.3/hls.min.js?hash=123");class au{constructor(e,t){this.Hls=void 0,this.instance=null,this.recoverDecodingErrorDate=null,this.recoverSwapAudioCodecDate=null,this.currentFragId=void 0,this.levelTags={},this.advertNextFrag=!1,this.advertThisFrag=!1,this.needToPrefetchMidroll=!1,this.fragmentTimeWasSet=!1,this.hlsErrorManager=void 0,this._getBitratesBandwidth=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.bitrate&&e.push(t.bitrate),e)),[]),this._getBitratesHeight=()=>this._providerPlugin.qualities.reduce(((e,t)=>(t.height&&e.push(t.height),e)),[]),this.onVideoEvent=e=>{if("error"===e.type){const t=e.currentTarget.error;null!=t&&t.MEDIA_ERR_DECODE&&this.onMediaError()}},this._params=e,this._providerPlugin=t,this.hlsErrorManager=new Yl(this,this._params,this._providerPlugin)}async init(){var e,t,n,r,i,o,a,s,u;let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{playbackPlugin:d}=this._params;return this.Hls=await this.loadSdk(),this.Hls&&this.Hls.isSupported()?(this.instance=new this.Hls((0,l.A)((0,l.A)({},Xl),this.parseConfig(c))),d.player?(null===(e=this.instance)||void 0===e||e.on(this.Hls.Events.MEDIA_ATTACHED,this.onMediaAttached.bind(this)),null===(t=this.instance)||void 0===t||t.on(this.Hls.Events.MANIFEST_PARSED,this.onLevelsLoaded.bind(this)),null===(n=this.instance)||void 0===n||n.on(this.Hls.Events.LEVEL_UPDATED,this.onLevelUpdated.bind(this)),null===(r=this.instance)||void 0===r||r.on(this.Hls.Events.FRAG_CHANGED,this.onFragmentChanged.bind(this)),null===(i=this.instance)||void 0===i||i.on(this.Hls.Events.FRAG_LOADED,this.onFragmentLoaded.bind(this)),null===(o=this.instance)||void 0===o||o.on(this.Hls.Events.ERROR,this.onError.bind(this)),null===(a=this.instance)||void 0===a||a.on(this.Hls.Events.LEVEL_LOADED,this.onLevelLoaded.bind(this)),null===(s=this.instance)||void 0===s||s.on(this.Hls.Events.LEVEL_SWITCHING,this.onLevelSwitching.bind(this)),d.player.addEventListener("error",this.onVideoEvent),null===(u=this.instance)||void 0===u||u.attachMedia(d.player),this||null):null):null}startLoad(e){var t;null===(t=this.instance)||void 0===t||t.startLoad(null!=e?e:-1)}stopLoad(){var e;null===(e=this.instance)||void 0===e||e.stopLoad()}changeLevel(e){this.instance&&(this.instance.nextLevel=e,this._providerPlugin.autoQuality=Boolean(this.instance&&this.instance.autoLevelEnabled),this.sendChangeQualityPostmessages(e))}async loadSdk(){try{return await Wa(ou,"Hls")}catch(e){throw console.warn(e),new ul("Fail to load Hls SDK",!0)}}onMediaAttached(){var e;null===(e=this.instance)||void 0===e||e.loadSource(this._params.src)}onLevelsLoaded(e,t){const{levels:n}=t;this._providerPlugin.qualities=n.map(((e,t)=>{var n,r,i;if(!this._providerPlugin.previewUrl){var o;if("720p"===po(e.height))Ql(null===(o=e.url)||void 0===o?void 0:o[0],this._providerPlugin)}return{id:t,width:e.width,height:e.height,edge:null===(n=e.url)||void 0===n?void 0:n[0],bitrate:e.bitrate,frameRate:(r=e,nu(Array.isArray(r._attrs)?null===(i=r._attrs.find((e=>e["FRAME-RATE"])))||void 0===i?void 0:i["FRAME-RATE"]:void 0)),frameDuration:ru(e),codec:e.videoCodec}}));const r=this._providerPlugin.getUserQuality();this.instance&&null!==r&&(this.instance.loadLevel=r),va.Ug.emit(zi.L2.QUALITY_LIST,{list:this._getBitratesHeight()}),va.Ug.emit(zi.L2.BITRATES_LEVELS,{bitrates:this._getBitratesBandwidth()})}onLevelLoaded(e,t){this._providerPlugin.activeQualityLevel=t.level,this._providerPlugin.autoQuality=Boolean(this.instance&&this.instance.autoLevelEnabled)}onLevelSwitching(e,t){const n=this._providerPlugin.activeQualityLevel,{level:r}=t;var i;!1===this._providerPlugin.autoQuality&&Boolean(this.instance&&this.instance.autoLevelEnabled)&&n>r&&(null===(i=this._providerPlugin.toastPlugin)||void 0===i||i.handleChunkLoadError());this._providerPlugin.autoQuality=Boolean(this.instance&&this.instance.autoLevelEnabled),this._providerPlugin.activeQualityLevel=r,n!==r&&this.sendChangeQualityPostmessages(r)}onLevelUpdated(e,t){var n,r;this._providerPlugin.previewUrl||Ql(t.details.url,this._providerPlugin);let i=null,o=null;this._providerPlugin.cdnHost=null!==(n=null===(r=(0,O.Qv)(t.details.url))||void 0===r?void 0:r.host)&&void 0!==n?n:"";const a=Zl(t);this.levelTags=$l(t);const s=tu(t,Ml,Dl,this.levelTags),l=s[s.length-1];if(a[0]){const e=iu(a[0].programDateTime,a[0].relurl);!this.fragmentTimeWasSet&&e&&(this.fragmentTimeWasSet=!0,this._params.playbackPlugin.fragmentTime=e)}a.forEach(((e,t)=>{const n=e.relurl;n===this.currentFragId&&(i=t),n===l&&(o=t)})),"number"==typeof o&&"number"==typeof i&&o-i<=3&&o-i>0&&(this.needToPrefetchMidroll=!0)}onFragmentChanged(e,t){const{playbackPlugin:n}=this._params;this.hlsErrorManager.purge();const r=t.frag.relurl&&this.levelTags[t.frag.relurl];this.currentFragId=t.frag.relurl;const i=iu(t.frag.programDateTime,t.frag.relurl);i&&(this._params.playbackPlugin.fragmentTime=i);let o=null,a=null;this.advertThisFrag&&(this.advertThisFrag=!1),this.advertNextFrag&&(this.advertNextFrag=!1,this.advertThisFrag=!0),r&&r[Dl]&&(o=eu(r[Dl]),o[Ml]&&(this.advertNextFrag=!0),o[Bl]&&(a=o[Bl])),n.adapter&&(n.adapter.liveMidrollData={startPlay:this.advertThisFrag,needToPrefetch:this.needToPrefetchMidroll,duration:a,active:this.needToPrefetchMidroll}),this.needToPrefetchMidroll=!1}onFragmentLoaded(e,t){const{loaded:n=0}=t.frag.stats;this._providerPlugin.bytesToVigo+=n}onError(e,t){return this.hlsErrorManager.prepareHandlers(t),this.hlsErrorManager.handleErrors(),this.instance}onMediaError(){const{playbackPlugin:e}=this._params,t=Nl();if(!this.recoverDecodingErrorDate||t-this.recoverDecodingErrorDate>3e3){this.recoverDecodingErrorDate=Nl(),console.warn("trying to recover media error.");try{var n;null===(n=this.instance)||void 0===n||n.recoverMediaError()}catch(e){console.warn(e)}}else if(!this.recoverSwapAudioCodecDate||t-this.recoverSwapAudioCodecDate>3e3){this.recoverSwapAudioCodecDate=Nl(),console.warn("trying to swap audio codec and recover media error.");try{var r,i;null===(r=this.instance)||void 0===r||r.swapAudioCodec(),null===(i=this.instance)||void 0===i||i.recoverMediaError()}catch(e){console.warn(e)}}else console.warn("cannot recover. Last media error recovery failed."),e.seek(e.currentTime+1)}removeDamagedStream(e,t){var n,r,i,o,a;const s=(null===(n=this.instance)||void 0===n?void 0:n.levels)||[],l=null===(r=s[e])||void 0===r?void 0:r.details,u=t||(null==l?void 0:l.url)||(null===(i=s[e])||void 0===i?void 0:i.uri),c=null!==(o=null===(a=s[e])||void 0===a?void 0:a.url)&&void 0!==o?o:[];for(let e=0;e<c.length;e++)if(c[e]===u)for(let t=0;t<s.length;t++){var d,h;if(null!==(d=s[t])&&void 0!==d&&d.url&&s[t].url.length>e)null===(h=this.instance)||void 0===h||h.removeLevel(t,e)}}changeConfig(e){const t=this.parseConfig(e);this.instance&&Object.keys(t).forEach((e=>{const n=e;this.instance&&(this.instance.config[n]=t[n])}))}parseConfig(e){const t={};return Object.keys(e).forEach((n=>{switch(n){case"autoLoad":t.autoStartLoad=e.autoLoad;break;case"maxBuffer":t.maxMaxBufferLength=e.maxBuffer;break;case"backBuffer":t.backBufferLength=e.backBuffer;break;case"fragLoadPolicy":t.fragLoadPolicy=e.fragLoadPolicy}})),t}sendChangeQualityPostmessages(e){var t,n,r;const i=null===(t=this._providerPlugin.qualities)||void 0===t?void 0:t.find((t=>t.level===e));va.Ug.emit(zi.L2.CURRENT_QUALITY,{quality:{height:null!==(n=null==i?void 0:i.height)&&void 0!==n?n:0,quality:this._providerPlugin.activeQualityTransferValue,isAutoQuality:this._providerPlugin.autoQuality}}),va.Ug.emit(zi.L2.BITRATE_SWITCH,{bitrate:null!==(r=null==i?void 0:i.bitrate)&&void 0!==r?r:0})}destroy(){var e;const{playbackPlugin:t}=this._params;t.pause(),t.player.removeEventListener("error",this.onVideoEvent),null===(e=this.instance)||void 0===e||e.destroy(),this.hlsErrorManager.purge(),Ql(null,this._providerPlugin)}}const su="application/vnd.apple.mpegurl",lu="com.apple.fps.1_0";a(6169);const uu=(e,t,n)=>{const r="string"==typeof t?(e=>{const t=e.length,n=new ArrayBuffer(2*t),r=new Uint16Array(n);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r})(t):t,i=e.byteLength+4+r.byteLength+4+n.byteLength;let o=0;const a=new ArrayBuffer(i),s=new DataView(a),l=new Uint8Array(a,o,e.byteLength);l.set(e),o+=l.byteLength,s.setUint32(o,r.byteLength,!0),o+=4;const u=new Uint16Array(a,o,r.length);u.set(r),o+=u.byteLength,s.setUint32(o,n.byteLength,!0),o+=4;return new Uint8Array(a,o,n.byteLength).set(n),new Uint8Array(a,0,a.byteLength)};class cu extends cl{constructor(e,t,n,r,i,o){super(e,t,r),this._certificate=null,this._keySession=null,this._saveMode=void 0,this.provider=e,this._certificateUrl=n,this._src=r,this._drmLink=i,this._saveMode=o}async init(){const e=this._playback.player;this._playback.player.addEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.addEventListener("canplay",this._onCanPlay.bind(this)),await this.fillPreviewUrl();try{await this._loadCertificate()}catch(e){if(!(e instanceof Error))throw new ul("Unknown error",!0);const t=e;throw"SaveMode"===t.message?new ul(t.message,!1):new ul(t.message,!0)}return e.onwebkitneedkey=this._onNeedKey.bind(this),e.src=this._src,this}async fillPreviewUrl(){try{var e;const t=await fetch("".concat(this._src)),n=await t.text();this.provider.previewUrl=(null===(e=n.split("\n").find((e=>e.startsWith("https://"))))||void 0===e?void 0:e.split(".mp4")[0])+".mp4"}catch(e){console.warn("Parse m3u8 error: ".concat(e.message.toString()))}}async _loadCertificate(){try{const e=await fetch(this._certificateUrl);this._certificate=await e.arrayBuffer()}catch(e){const t=null==e?void 0:e.message;if(!this._saveMode.hasBeenInteracted)throw this._saveMode.isSaveMode=!0,Error("SaveMode");const n="Could not load certificate ".concat(this._certificateUrl,". Message: ").concat(t);throw this._provider.initError=n,Error(n)}}_onNeedKey(e){if(!this._certificate)return;const t=this._playback.player,n=(e=>{if("undefined"==typeof document)return"";const t=document.createElement("a");t.href=e;const n=t.hostname||"";return t.remove(),n})((r=e.initData,String.fromCharCode.apply(null,new Uint16Array(r.buffer))));var r;const i=uu(e.initData,n,new Uint8Array(this._certificate));this._makeKeys(),t.webkitKeys&&(this._keySession=t.webkitKeys.createSession(su,i),this._keySession&&(this._keySession.onwebkitkeyerror=this._onKeyError.bind(this),this._keySession.onwebkitkeymessage=this._onKeyMessage.bind(this)))}_onKeyMessage(e){(async()=>{try{const t=await this._getLicense(e.message);e.target.update(new Uint8Array(t))}catch(e){const t="Could not load drm license";this._provider.initError=t,console.warn(t)}})()}_onKeyError(){this._provider.initError="Drm key error"}_makeKeys(){if(void 0===window.WebKitMediaKeys)return;const e=this._playback.player;if(!e.webkitKeys){if(!window.WebKitMediaKeys.isTypeSupported(lu,su))return;var t;null===(t=e.webkitSetMediaKeys)||void 0===t||t.call(e,new window.WebKitMediaKeys(lu))}}async _getLicense(e){return(await fetch(this._drmLink,{method:"POST",headers:new Headers({"Content-type":"application/octet-stream"}),body:e})).arrayBuffer()}destroy(){var e;null===(e=this._keySession)||void 0===e||e.close();const t=this._playback.player;var n;t.webkitKeys&&(null===(n=t.webkitSetMediaKeys)||void 0===n||n.call(t,void 0),t.onwebkitneedkey=()=>{})}}const du=async e=>{try{const t=await fetch(e).then((e=>e.text()));return function(){let e=[];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("\n");if("#EXTM3U"!==t[0])return e;t.shift();let n=0;for(;n<t.length-2;){const r=t[n],i=/CODECS="([^"]+)"/i,o=/^#EXT-X-STREAM-INF:(?=.*BANDWIDTH=(\d+))(?=(.*FRAME-RATE=(\d+))?)(?=.*RESOLUTION=(\d+)x(\d+))/i.exec(r),a=i.exec(r),s=t[n+1];if(o&&0===s.indexOf("http")){const t=o.map((e=>parseInt(e,10)));e.push({id:e.length,bitrate:t[1],frameRate:nu(t[3].toString()),width:t[4],height:t[5],codec:a&&a[1]||"",edge:s,value:"",level:0}),n+=2}else n+=1}e=e.reduce(((e,t)=>{const n=e.find((e=>e.width===t.width&&e.codec===t.codec));return n||e.push(t),e}),[]),e.sort(((e,t)=>e.height===t.height?(e.bitrate||0)>(t.bitrate||0)?1:-1:(e.height||0)>(t.height||0)?1:-1));let r=0,i=-1;return e.map((e=>(e.level=r===e.height?i:i+1,i=e.level,r=e.height||0,e)))}(t).reverse()}catch(e){console.warn("Parse m3u8 error: ".concat(e.message.toString()))}return[]};class hu extends cl{async init(){var e;this._playback.player.addEventListener("loadeddata",this._onDataLoaded.bind(this)),this._playback.player.addEventListener("canplay",this._onCanPlay.bind(this));const t=await du(this._src);this._playback.fragmentTime=await(async e=>{if(!e)return null;const{edge:t}=e[0]||{};if(!t)return null;try{const e=await fetch(t).then((e=>e.text())),n=/^#EXT-X-PROGRAM-DATE-TIME:(.+)/im.exec(e),r=/^(.+\.ts)/im.exec(e),i=n&&n[1]?Date.parse(n[1]):null,o=r&&r[1]?r[1]:"";if(i||o){const e=iu(i,o);if(e)return e}}catch(e){console.warn(e)}return null})(t);const[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:360;const n=e.length?[...e].reduce(((e,n)=>Math.abs(n.height-t)<Math.abs(e.height-t)?n:e)):null;return[e.findIndex((e=>e===n)),n]}(t);n>-1&&(t[n].isAuto=!0),this._provider.qualities=t;const i=this._provider.getUserQuality(),o=t.find((e=>e.level===i)),a=o||r;return this._playback.src=(null==a?void 0:a.edge)||this._src,this._provider.activeQualityIndex=this._provider.qualities.findIndex((e=>(null==a?void 0:a.edge)===e.edge)),null!==(e=this._provider.qualities[this._provider.activeQualityIndex])&&void 0!==e&&e.isAuto&&(this._provider.autoQuality=!0),this._provider.previewUrl=this._playback.src.replace(/(.*\.mp4|.m3u8|.mpd)(.*)$/,"$1"),this._playback.load(),this}}function pu(e){const t=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}();if(!t)return!1;const n=window.SourceBuffer||window.WebKitSourceBuffer,r=!e||t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported(e),i=!n||n.prototype&&"function"==typeof n.prototype.appendBuffer&&"function"==typeof n.prototype.remove;return r&&i}var mu;let vu,_u;const fu="https://".concat("static.rutube.ru","/static/player_sdk/fairplay.cer");let gu;class bu extends I.j8{constructor(e,t,n,r,i,o){super(),this.__qualitiesPlugin=void vu(this),this.__provider=P.sH.box(null),this.__type=P.sH.box(null),this.__previewUrl=P.sH.box(""),this.__cdnHost=P.sH.box(""),this.__hasLoadError=P.sH.box(!1),this.__initError=P.sH.box(""),this.__manifestUrl=P.sH.box(""),this.__bytesToVigo=P.sH.box(0),this._isProviderInit=P.sH.box(!1),this.counterHelper=void 0,this.__config=e,this.saveMode=n,this._eventBus=i,this.toastPlugin=o,(0,P.Gn)(this,{manifestUrl:P.EW,previewUrl:P.EW,provider:P.EW,type:P.EW,qualities:P.EW,changeQuality:P.XI,activeQualityIndex:P.EW,activeQualityValue:P.EW,autoQuality:P.EW,bytesToVigo:P.EW,initProvider:P.XI,initError:P.EW,isProviderInit:P.EW,hasLoadError:P.EW,cdnHost:P.EW}),this.__qualitiesPlugin=t,this.changeQuality=this.changeQuality.bind(this),this.counterHelper=r&&r instanceof ol?r.counterHelper:void 0}init(){return(0,P.mJ)((()=>this.provider),(e=>{e instanceof au?this.type="Hls":e instanceof cu?this.type="Safari":e instanceof Ol?this.type="Dash":e instanceof cl&&(this.type="Base")}))}destroyProvider(){return()=>{var e;return null===(e=this.provider)||void 0===e?void 0:e.destroy()}}switchVideoId(){return(0,P.mJ)((()=>this.__config.get("videoId")),(()=>{this.isProviderInit=!1,this.cdnHost=""}))}get eventBus(){var e;return null===(e=this._eventBus)||void 0===e?void 0:e.value}get manifestUrl(){return this.__manifestUrl.get()}set manifestUrl(e){this.__manifestUrl.set(e)}get previewUrl(){return this.__previewUrl.get()}set previewUrl(e){this.__previewUrl.set(e)}set hasLoadError(e){this.__hasLoadError.set(e)}get hasLoadError(){return this.__hasLoadError.get()}get qualities(){return this.__qualitiesPlugin.qualities}set qualities(e){this.__qualitiesPlugin.qualities=e}get activeQuality(){return this.__qualitiesPlugin.activeQuality}get activeQualityIndex(){return this.__qualitiesPlugin.activeQualityIndex}set activeQualityIndex(e){this.__qualitiesPlugin.activeQualityIndex=e}get activeQualityLevel(){return this.__qualitiesPlugin.activeQualityLevel}set activeQualityLevel(e){this.__qualitiesPlugin.activeQualityLevel=e}get activeQualityValue(){return this.__qualitiesPlugin.activeQualityValue}get activeQualityTransferValue(){return this.__qualitiesPlugin.activeQualityTransferValue}get autoQuality(){return this.__qualitiesPlugin.autoQuality}set autoQuality(e){this.__qualitiesPlugin.autoQuality=e}get cdnHost(){return this.__cdnHost.get()}set cdnHost(e){this.__cdnHost.set(e)}get provider(){return this.__provider.get()}set provider(e){this.__provider.set(e)}get type(){return this.__type.get()}set type(e){this.__type.set(e)}get bytesToVigo(){return this.__bytesToVigo.get()}set bytesToVigo(e){this.__bytesToVigo.set(e)}changeQuality(e,t){var n,r;this.__qualitiesPlugin.activeQualityIndex=e,this.__qualitiesPlugin.autoQuality=-1===t,this.__qualitiesPlugin.manuallySettedQualityIndex=e,null===(n=this.provider)||void 0===n||n.changeLevel(t),null===(r=this.counterHelper)||void 0===r||r.get("mainQualitiesChangeQuality")()}changeConfig(e){var t,n;null===(t=this.provider)||void 0===t||null===(n=t.changeConfig)||void 0===n||n.call(t,e)}destroy(){var e;null===(e=this.provider)||void 0===e||e.destroy()}isNativeHlsSupport(){const e=document.createElement("video"),t=e.canPlayType("application/x-mpegURL")||e.canPlayType("application/vnd.apple.mpegurl");return Boolean(t)}initProvider(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;this.manifestUrl=e;const i=e=>{(0,P.h5)((()=>{this.provider=e,this.isProviderInit=!0}));const{startTime:r}=n;r&&t.seek(r)},o=e=>e.fatal?void(this.initError=e.message):void 0,a=(0,O.rS)(e);if("m3u8"===a)if(!r&&pu('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')){const n=new au({playbackPlugin:t,src:e},this);this.initHlsProvider(n,i,o,{})}else if(this.saveMode&&r&&x()){new cu(this,t,fu,e,r,this.saveMode).init().then(i).catch((e=>{o(e)}))}else if(!r&&this.isNativeHlsSupport()){new hu(this,t,e).init().then(i).catch((e=>{o(e)}))}else o(new ul("Hls is not supported",!0));else if("mpd"===a)if(pu()){var s;const n=new Ol({playbackPlugin:t,src:e,drmLink:r},this,null===(s=this._eventBus)||void 0===s?void 0:s.value);this.initDashProvider(n,i,o)}else o(new ul("Dash provider unsupported on device",!0));else if("mp4"===a){new cl(this,t,e).init().then(i).catch((e=>{o(e)}))}}initHlsProvider(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.init(r).then(t).catch((e=>{n(e)}))}initDashProvider(e,t,n){e.init().then(t).catch((e=>{n(e)}))}isProviderInitialized(e){return this.prepareLinkToCompare(this.manifestUrl)===this.prepareLinkToCompare(e)&&this.isProviderInit}get isProviderInit(){return this._isProviderInit.get()}set isProviderInit(e){this._isProviderInit.set(e)}get initError(){return this.__initError.get()}set initError(e){this.__initError.set(e)}get currentFragId(){var e;return null===(e=this.provider)||void 0===e?void 0:e.currentFragId}prepareLinkToCompare(e){var t;const n=(0,O.Qv)(e||"http://example.com");return null==n||n.searchParams.set("expire",""),null==n||n.searchParams.set("sign",""),null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:""}getUserQuality(){return this.__qualitiesPlugin.getUserQuality()}}mu=bu,({e:[vu],c:[gu,_u]}=(0,k.A)(mu,[(0,I.k_)({implement:"IProviderPlugin",ctor_args:["IPlayerConfigPlugin","IQualitiesPlugin",{implement:"ISaveModePlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"EventBus",optional:!0},{implement:"IToastsPlugin",optional:!0}]})],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"destroyProvider"],[(0,I.o7)(),2,"switchVideoId"]],0,void 0,I.j8)),_u();const yu=()=>(0,fr.Ks)("IProviderPlugin"),Eu=e=>e("IProviderPlugin"),wu=(0,Jn.PA)((()=>{var e;const n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=rs(),o=yu(),a=(0,Zn.Qf)("(orientation: landscape)"),{currentState:s,currentAdvert:l,events:u,currentProvider:c,playbackReady:d}=i;(0,t.useEffect)((()=>{if(!d&&r.current&&n.current&&c){const e="number"==typeof o.activeQualityIndex&&o.activeQualityIndex>0?o.activeQualityIndex:0;c&&c instanceof Ls&&(c.initPlayback({video:n.current,wrapper:r.current,quality:o.qualities[e],preventStartAdvert:i.preventAdvertStart,hideControls:i.isControlsHidden}),i.playbackReady=!0)}}),[d,c,i,o]),(0,t.useEffect)((()=>{c instanceof Ls&&n.current&&c.toggleControls(n.current.offsetWidth>450)}),[c,a]);const h=bs(n),p=(0,t.useCallback)((e=>{n.current=e,i.advertVideo=e}),[l]);return t.createElement(t.Fragment,null,t.createElement(vs,null),t.createElement("div",{className:er()(ds,{[ps]:"show"!==s}),id:Fa,ref:r},t.createElement("video",{"data-testid":"advert-video",className:er()(Ba,hs),poster:cs,ref:p,playsInline:!0,onError:e=>{var t;return u.onError&&u.onError((null===(t=e.currentTarget.error)||void 0===t?void 0:t.message)||"Video node error")},onVolumeChange:h,muted:Boolean(null==l||null===(e=l.name)||void 0===e?void 0:e.includes("preroll"))})),t.createElement(gs,null))})),Su="advert-module__advert___fza65",Au="advert-module__loader___nW18n",Cu="advert-module__playBtnWrap___EUsLI",ku="advert-module__playBtn___UhANV",Pu=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},t.createElement("path",{d:"M15.44 5.56c.24.24.24.64 0 .88L9.88 12l5.56 5.56a.62.62 0 0 1-.88.88l-6-6a.62.62 0 0 1 0-.88l6-6a.62.62 0 0 1 .88 0Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))},Iu="advert-skip-module__button___BYlNe",Tu="advert-skip-module__text___k94gg",xu="advert-skip-module__textAction___uwtzY",Ru="advert-skip-module__skipAd___ltNVP",Lu="advert-skip-module__vendorUi___A84lj",Ou="advert-skip-module__disableAd___D1FwN";function Nu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adId:e.adId||null,sequence:e.sequence||null,apiFramework:e.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const Mu=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function Du(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[],i=Hu(e);!t.ERRORCODE||n.isCustomCode||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=zu(Math.round(1e8*Math.random())),t.TIMESTAMP=(new Date).toISOString(),t.RANDOM=t.random=t.CACHEBUSTING;for(const e in t)t[e]=Wu(t[e]);for(const e in i){const n=i[e];"string"==typeof n&&r.push(Bu(n,t))}return r}function Bu(e,t){const n=(e=Fu(e,t)).match(/[^[\]]+(?=])/g);if(!n)return e;let r=n.filter((e=>Mu.indexOf(e)>-1));return 0===r.length?e:(r=r.reduce(((e,t)=>(e[t]=-1,e)),{}),Fu(e,r))}function Fu(e,t){let n=e;for(const e in t){const r=t[e];n=n.replace(new RegExp("(?:\\[|%%)(".concat(e,")(?:\\]|%%)"),"g"),r)}return n}function Hu(e){return Array.isArray(e)?e.map((e=>e&&e.hasOwnProperty("url")?e.url:e)):e}function Vu(e){return/^(https?:\/\/|\/\/)/.test(e)}function Uu(e,t){for(let n=0;n<t.length;n++)if(ju(t[n],e))return!0;return!1}function ju(e,t){if(e&&t){const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);return n.length===r.length&&e.id===t.id&&e.url===t.url}return!1}function Wu(e){return encodeURIComponent(e).replace(/[!'()*]/g,(e=>"%".concat(e.charCodeAt(0).toString(16))))}function zu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.toString().padStart(t,"0")}const Gu={track:function(e,t,n){Du(e,t,n).forEach((e=>{"undefined"!=typeof window&&null!==window&&((new Image).src=e)}))},resolveURLTemplates:Du,extractURLsFromTemplates:Hu,filterUrlTemplates:function(e){return e.reduce(((e,t)=>{const n=t.url||t;return Vu(n)?e.validUrls.push(n):e.invalidUrls.push(n),e}),{validUrls:[],invalidUrls:[]})},containsTemplateObject:Uu,isTemplateObjectEqual:ju,encodeURIComponentRFC3986:Wu,replaceUrlMacros:Bu,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},flatten:function e(t){return t.reduce(((t,n)=>t.concat(Array.isArray(n)?e(n):n)),[])},joinArrayOfUniqueTemplateObjs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Array.isArray(e)?e:[],r=Array.isArray(t)?t:[];return n.concat(r).reduce(((e,t)=>(Uu(t,e)||e.push(t),e)),[])},isValidTimeValue:function(e){return Number.isFinite(e)&&e>=-2},addLeadingZeros:zu,isValidUrl:Vu,isBrowserEnvironment:function(){return"undefined"!=typeof window},formatMacrosValues:function(e){return"object"!=typeof e?e:JSON.stringify(e)}};function qu(e){return["true","TRUE","True","1"].includes(e)}const Ku={childByName:function(e,t){return Array.from(e.childNodes).find((e=>e.nodeName===t))},childrenByName:function(e,t){return Array.from(e.childNodes).filter((e=>e.nodeName===t))},resolveVastAdTagURI:function(e,t){if(!t)return e;if(e.startsWith("//")){const{protocol:t}=location;return"".concat(t).concat(e)}if(!e.includes("://")){const n=t.slice(0,t.lastIndexOf("/"));return"".concat(n,"/").concat(e)}return e},parseBoolean:qu,parseNodeText:function(e){return e&&(e.textContent||e.text||"").trim()},copyNodeAttribute:function(e,t,n){const r=t.getAttribute(e);r&&n.setAttribute(e,r)},parseAttributes:function(e){return Array.from(e.attributes).reduce(((e,t)=>(e[t.nodeName]=t.nodeValue,e)),{})},parseDuration:function(e){if(null==e)return-1;if(Gu.isNumeric(e))return parseInt(e);const t=e.split(":");if(3!==t.length)return-1;const n=t[2].split(".");let r=parseInt(n[0]);2===n.length&&(r+=parseFloat("0.".concat(n[1])));const i=parseInt(60*t[1]),o=parseInt(60*t[0]*60);return isNaN(o)||isNaN(i)||isNaN(r)||i>3600||r>60?-1:o+i+r},getStandAloneAds:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>!parseInt(e.sequence,10)))},getSortedAdPods:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>parseInt(e.sequence,10))).sort(((e,t)=>e.sequence-t.sequence))},assignAttributes:function(e,t){e&&Array.from(e).forEach((e=>{let{nodeName:n,nodeValue:r}=e;if(n&&r&&t.hasOwnProperty(n)){let e=r;"boolean"==typeof t[n]&&(e=qu(e)),t[n]=e}}))},mergeWrapperAdData:function(e,t){var n;e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),t.viewableImpression.length>0&&(e.viewableImpression=[...e.viewableImpression,...t.viewableImpression]),e.followAdditionalWrappers=t.followAdditionalWrappers,e.allowMultipleAds=t.allowMultipleAds,e.fallbackOnNoAd=t.fallbackOnNoAd;const r=(t.creatives||[]).filter((e=>e&&"companion"===e.type)),i=r.reduce(((e,t)=>((t.variations||[]).forEach((t=>{(t.companionClickTrackingURLTemplates||[]).forEach((t=>{Gu.containsTemplateObject(t,e)||e.push(t)}))})),e)),[]);e.creatives=r.concat(e.creatives);const o=t.videoClickTrackingURLTemplates&&t.videoClickTrackingURLTemplates.length,a=t.videoCustomClickURLTemplates&&t.videoCustomClickURLTemplates.length;if(e.creatives.forEach((e=>{if(t.trackingEvents&&t.trackingEvents[e.type])for(const n in t.trackingEvents[e.type]){const r=t.trackingEvents[e.type][n];Array.isArray(e.trackingEvents[n])||(e.trackingEvents[n]=[]),e.trackingEvents[n]=e.trackingEvents[n].concat(r)}"linear"===e.type&&(o&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),a&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)),!t.videoClickThroughURLTemplate||null!==e.videoClickThroughURLTemplate&&void 0!==e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)),"companion"===e.type&&i.length&&(e.variations||[]).forEach((e=>{e.companionClickTrackingURLTemplates=Gu.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates,i)}))})),t.adVerifications&&(e.adVerifications=e.adVerifications.concat(t.adVerifications)),t.blockedAdCategories&&(e.blockedAdCategories=e.blockedAdCategories.concat(t.blockedAdCategories)),null!==(n=t.creatives)&&void 0!==n&&n.length){const n=t.creatives.filter((e=>{var t;return(null===(t=e.icons)||void 0===t?void 0:t.length)&&!e.mediaFiles.length}));n.length&&(e.creatives=e.creatives.concat(n))}}};function Yu(e,t){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:n,sequence:r,apiFramework:i}=Nu(e);return{id:t,adId:n,sequence:r,apiFramework:i,type:"companion",required:null,variations:[]}}(t);return n.required=e.getAttribute("required")||null,n.variations=Ku.childrenByName(e,"Companion").map((e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adType:"companionAd",width:e.width||0,height:e.height||0,assetWidth:e.assetWidth||null,assetHeight:e.assetHeight||null,expandedWidth:e.expandedWidth||null,expandedHeight:e.expandedHeight||null,apiFramework:e.apiFramework||null,adSlotId:e.adSlotId||null,pxratio:e.pxratio||"1",renderingMode:e.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(Ku.parseAttributes(e));t.htmlResources=Ku.childrenByName(e,"HTMLResource").reduce(((e,t)=>{const n=Ku.parseNodeText(t);return n?e.concat(n):e}),[]),t.iframeResources=Ku.childrenByName(e,"IFrameResource").reduce(((e,t)=>{const n=Ku.parseNodeText(t);return n?e.concat(n):e}),[]),t.staticResources=Ku.childrenByName(e,"StaticResource").reduce(((e,t)=>{const n=Ku.parseNodeText(t);return n?e.concat({url:n,creativeType:t.getAttribute("creativeType")||null}):e}),[]),t.altText=Ku.parseNodeText(Ku.childByName(e,"AltText"))||null;const n=Ku.childByName(e,"TrackingEvents");n&&Ku.childrenByName(n,"Tracking").forEach((e=>{const n=e.getAttribute("event"),r=Ku.parseNodeText(e);n&&r&&(Array.isArray(t.trackingEvents[n])||(t.trackingEvents[n]=[]),t.trackingEvents[n].push(r))})),t.companionClickTrackingURLTemplates=Ku.childrenByName(e,"CompanionClickTracking").map((e=>({id:e.getAttribute("id")||null,url:Ku.parseNodeText(e)}))),t.companionClickThroughURLTemplate=Ku.parseNodeText(Ku.childByName(e,"CompanionClickThrough"))||null;const r=Ku.childByName(e,"AdParameters");return r&&(t.adParameters={value:Ku.parseNodeText(r),xmlEncoded:r.getAttribute("xmlEncoded")||null}),t})),n}function Xu(e,t){let n;const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:n,sequence:r,apiFramework:i}=Nu(e);return{id:t,adId:n,sequence:r,apiFramework:i,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(t);r.duration=Ku.parseDuration(Ku.parseNodeText(Ku.childByName(e,"Duration")));const i=e.getAttribute("skipoffset");if(null==i)r.skipDelay=null;else if("%"===i.charAt(i.length-1)&&-1!==r.duration){const e=parseInt(i,10);r.skipDelay=r.duration*(e/100)}else r.skipDelay=Ku.parseDuration(i);const o=Ku.childByName(e,"VideoClicks");if(o){const e=Ku.childByName(o,"ClickThrough");r.videoClickThroughURLTemplate=e?{id:e.getAttribute("id")||null,url:Ku.parseNodeText(e)}:null,Ku.childrenByName(o,"ClickTracking").forEach((e=>{r.videoClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:Ku.parseNodeText(e)})})),Ku.childrenByName(o,"CustomClick").forEach((e=>{r.videoCustomClickURLTemplates.push({id:e.getAttribute("id")||null,url:Ku.parseNodeText(e)})}))}const a=Ku.childByName(e,"AdParameters");a&&(r.adParameters={value:Ku.parseNodeText(a),xmlEncoded:a.getAttribute("xmlEncoded")||null}),Ku.childrenByName(e,"TrackingEvents").forEach((e=>{Ku.childrenByName(e,"Tracking").forEach((e=>{let t=e.getAttribute("event");const i=Ku.parseNodeText(e);if(t&&i){if("progress"===t){if(n=e.getAttribute("offset"),!n)return;t="%"===n.charAt(n.length-1)?"progress-".concat(n):"progress-".concat(Ku.parseDuration(n))}Array.isArray(r.trackingEvents[t])||(r.trackingEvents[t]=[]),r.trackingEvents[t].push(i)}}))})),Ku.childrenByName(e,"MediaFiles").forEach((e=>{Ku.childrenByName(e,"MediaFile").forEach((e=>{r.mediaFiles.push(function(e){const t={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute("id"),t.fileURL=Ku.parseNodeText(e),t.deliveryType=e.getAttribute("delivery"),t.codec=e.getAttribute("codec"),t.mimeType=e.getAttribute("type"),t.mediaType=e.getAttribute("mediaType")||"2D",t.apiFramework=e.getAttribute("apiFramework"),t.fileSize=parseInt(e.getAttribute("fileSize")||0),t.bitrate=parseInt(e.getAttribute("bitrate")||0),t.minBitrate=parseInt(e.getAttribute("minBitrate")||0),t.maxBitrate=parseInt(e.getAttribute("maxBitrate")||0),t.width=parseInt(e.getAttribute("width")||0),t.height=parseInt(e.getAttribute("height")||0);const n=e.getAttribute("scalable");n&&"string"==typeof n&&(t.scalable=Ku.parseBoolean(n));const r=e.getAttribute("maintainAspectRatio");return r&&"string"==typeof r&&(t.maintainAspectRatio=Ku.parseBoolean(r)),t}(e))}));const t=Ku.childByName(e,"InteractiveCreativeFile");t&&(r.interactiveCreativeFile=function(e){const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,apiFramework:e.apiFramework||null,variableDuration:Ku.parseBoolean(e.variableDuration),fileURL:null}}(Ku.parseAttributes(e));return t.fileURL=Ku.parseNodeText(e),t}(t));const n=Ku.childByName(e,"ClosedCaptionFiles");n&&Ku.childrenByName(n,"ClosedCaptionFile").forEach((e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,language:e.language||null,fileURL:null}}(Ku.parseAttributes(e));t.fileURL=Ku.parseNodeText(e),r.closedCaptionFiles.push(t)}));const i=Ku.childByName(e,"Mezzanine"),o=function(e){const t={};let n=!1;return["delivery","type","width","height"].forEach((r=>{e&&e.getAttribute(r)?t[r]=e.getAttribute(r):n=!0})),n?null:t}(i);if(o){const e={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};e.id=i.getAttribute("id"),e.fileURL=Ku.parseNodeText(i),e.delivery=o.delivery,e.codec=i.getAttribute("codec"),e.type=o.type,e.width=parseInt(o.width,10),e.height=parseInt(o.height,10),e.fileSize=parseInt(i.getAttribute("fileSize"),10),e.mediaType=i.getAttribute("mediaType")||"2D",r.mezzanine=e}}));const s=Ku.childByName(e,"Icons");return s&&Ku.childrenByName(s,"Icon").forEach((e=>{r.icons.push(function(e){const t={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[],altText:null,hoverText:null};t.program=e.getAttribute("program"),t.height=parseInt(e.getAttribute("height")||0),t.width=parseInt(e.getAttribute("width")||0),t.xPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("xPosition")),t.yPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("yPosition")),t.apiFramework=e.getAttribute("apiFramework"),t.pxratio=e.getAttribute("pxratio")||"1",t.offset=Ku.parseDuration(e.getAttribute("offset")),t.duration=Ku.parseDuration(e.getAttribute("duration")),t.altText=e.getAttribute("altText"),t.hoverText=e.getAttribute("hoverText"),Ku.childrenByName(e,"HTMLResource").forEach((e=>{t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=Ku.parseNodeText(e)})),Ku.childrenByName(e,"IFrameResource").forEach((e=>{t.type=e.getAttribute("creativeType")||0,t.iframeResource=Ku.parseNodeText(e)})),Ku.childrenByName(e,"StaticResource").forEach((e=>{t.type=e.getAttribute("creativeType")||0,t.staticResource=Ku.parseNodeText(e)}));const n=Ku.childByName(e,"IconClicks");if(n){t.iconClickThroughURLTemplate=Ku.parseNodeText(Ku.childByName(n,"IconClickThrough")),Ku.childrenByName(n,"IconClickTracking").forEach((e=>{t.iconClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:Ku.parseNodeText(e)})}));const e=Ku.childByName(n,"IconClickFallbackImages");e&&Ku.childrenByName(e,"IconClickFallbackImage").forEach((e=>{t.iconClickFallbackImages.push({url:Ku.parseNodeText(e)||null,width:e.getAttribute("width")||null,height:e.getAttribute("height")||null})}))}return t.iconViewTrackingURLTemplate=Ku.parseNodeText(Ku.childByName(e,"IconViewTracking")),t}(e))})),r}function Qu(e,t){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:n,sequence:r,apiFramework:i}=Nu(e);return{id:t,adId:n,sequence:r,apiFramework:i,type:"nonlinear",variations:[],trackingEvents:{}}}(t);return Ku.childrenByName(e,"TrackingEvents").forEach((e=>{let t,r;Ku.childrenByName(e,"Tracking").forEach((e=>{t=e.getAttribute("event"),r=Ku.parseNodeText(e),t&&r&&(Array.isArray(n.trackingEvents[t])||(n.trackingEvents[t]=[]),n.trackingEvents[t].push(r))}))})),Ku.childrenByName(e,"NonLinear").forEach((e=>{const t={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};t.id=e.getAttribute("id")||null,t.width=e.getAttribute("width"),t.height=e.getAttribute("height"),t.expandedWidth=e.getAttribute("expandedWidth"),t.expandedHeight=e.getAttribute("expandedHeight"),t.scalable=Ku.parseBoolean(e.getAttribute("scalable")),t.maintainAspectRatio=Ku.parseBoolean(e.getAttribute("maintainAspectRatio")),t.minSuggestedDuration=Ku.parseDuration(e.getAttribute("minSuggestedDuration")),t.apiFramework=e.getAttribute("apiFramework"),Ku.childrenByName(e,"HTMLResource").forEach((e=>{t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=Ku.parseNodeText(e)})),Ku.childrenByName(e,"IFrameResource").forEach((e=>{t.type=e.getAttribute("creativeType")||0,t.iframeResource=Ku.parseNodeText(e)})),Ku.childrenByName(e,"StaticResource").forEach((e=>{t.type=e.getAttribute("creativeType")||0,t.staticResource=Ku.parseNodeText(e)}));const r=Ku.childByName(e,"AdParameters");r&&(t.adParameters={value:Ku.parseNodeText(r),xmlEncoded:r.getAttribute("xmlEncoded")||null}),t.nonlinearClickThroughURLTemplate=Ku.parseNodeText(Ku.childByName(e,"NonLinearClickThrough")),Ku.childrenByName(e,"NonLinearClickTracking").forEach((e=>{t.nonlinearClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:Ku.parseNodeText(e)})})),n.variations.push(t)})),n}function Zu(e){const t=[];return e.forEach((e=>{const n=Ju(e);n&&t.push(n)})),t}function Ju(e){if("#comment"===e.nodeName)return null;const t={name:null,value:null,attributes:{},children:[]},n=e.attributes,r=e.childNodes;if(t.name=e.nodeName,e.attributes)for(const e in n)if(n.hasOwnProperty(e)){const r=n[e];r.nodeName&&r.nodeValue&&(t.attributes[r.nodeName]=r.nodeValue)}for(const e in r)if(r.hasOwnProperty(e)){const n=Ju(r[e]);n&&t.children.push(n)}if(0===t.children.length||1===t.children.length&&["#cdata-section","#text"].indexOf(t.children[0].name)>=0){const n=Ku.parseNodeText(e);""!==n&&(t.value=n),t.children=[]}return null===(i=t).value&&0===Object.keys(i.attributes).length&&0===i.children.length?null:t;var i}function $u(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}const ec={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function tc(e,t){if(!ec[e.nodeName]||!ec[e.nodeName].attributes)return;const n=ec[e.nodeName].attributes.filter((t=>!e.getAttribute(t)));n.length>0&&ic({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:n},t)}function nc(e,t,n){const r=ec[e.nodeName],i=!n&&"Wrapper"!==e.nodeName;if(r&&!i){if(r.subElements){const n=r.subElements.filter((t=>!Ku.childByName(e,t)));n.length>0&&ic({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:n},t)}n&&r.oneOfinLineResources&&(r.oneOfinLineResources.some((t=>Ku.childByName(e,t)))||ic({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:r.oneOfinLineResources},t))}}function rc(e){return e.children&&0!==e.children.length}function ic(e,t){let{name:n,parentName:r,attributes:i,subElements:o,oneOfResources:a}=e,s="Element '".concat(n,"'");s+=i?" missing required attribute(s) '".concat(i.join(", "),"' "):o?" missing required sub element(s) '".concat(o.join(", "),"' "):a?" must provide one of the following '".concat(a.join(", "),"' "):" is empty",t("VAST-warning",{message:s,parentElement:r,specVersion:4.1})}const oc=function e(t,n,r){if(t&&t.nodeName)if("InLine"===t.nodeName&&(r=!0),tc(t,n),rc(t)){nc(t,n,r);for(let i=0;i<t.children.length;i++)e(t.children[i],n,r)}else 0===Ku.parseNodeText(t).length&&ic({name:t.nodeName,parentName:t.parentNode.nodeName},n)};function ac(e,t){let{allowMultipleAds:n,followAdditionalWrappers:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Array.from(e.childNodes).filter((e=>{const t=e.nodeName.toLowerCase();return"inline"===t||!1!==r&&"wrapper"===t}));for(const r of i){if(Ku.copyNodeAttribute("id",e,r),Ku.copyNodeAttribute("sequence",e,r),Ku.copyNodeAttribute("adType",e,r),"Wrapper"===r.nodeName)return{ad:uc(r,t),type:"WRAPPER"};if("InLine"===r.nodeName)return{ad:sc(r,t,{allowMultipleAds:n}),type:"INLINE"};const i=r.nodeName.toLowerCase();t("VAST-warning",{message:"<".concat(r.nodeName,"inline"===i?"> must be written <InLine>":"> must be written <Wrapper>"),wrongNode:r})}}function sc(e,t){let{allowMultipleAds:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!1===n&&e.getAttribute("sequence")?null:lc(e,t)}function lc(e,t){let n=[];t&&oc(e,t);const r=Array.from(e.childNodes),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,sequence:e.sequence||null,adType:e.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(Ku.parseAttributes(e));return r.forEach((e=>{switch(e.nodeName){case"Error":i.errorURLTemplates.push(Ku.parseNodeText(e));break;case"Impression":i.impressionURLTemplates.push({id:e.getAttribute("id")||null,url:Ku.parseNodeText(e)});break;case"Creatives":i.creatives=function(e){const t=[];return e.forEach((e=>{const n={id:e.getAttribute("id")||null,adId:$u(e),sequence:e.getAttribute("sequence")||null,apiFramework:e.getAttribute("apiFramework")||null},r=[];let i;Ku.childrenByName(e,"UniversalAdId").forEach((e=>{const t={idRegistry:e.getAttribute("idRegistry")||"unknown",value:Ku.parseNodeText(e)};r.push(t)}));const o=Ku.childByName(e,"CreativeExtensions");o&&(i=Zu(Ku.childrenByName(o,"CreativeExtension")));for(const o in e.childNodes){const a=e.childNodes[o];let s;switch(a.nodeName){case"Linear":s=Xu(a,n);break;case"NonLinearAds":s=Qu(a,n);break;case"CompanionAds":s=Yu(a,n)}s&&(r&&(s.universalAdIds=r),i&&(s.creativeExtensions=i),t.push(s))}})),t}(Ku.childrenByName(e,"Creative"));break;case"Extensions":{const t=Ku.childrenByName(e,"Extension");i.extensions=Zu(t),i.adVerifications.length||(n=function(e){let t=null,n=[];return e.some((e=>t=Ku.childByName(e,"AdVerifications"))),t&&(n=cc(Ku.childrenByName(t,"Verification"))),n}(t));break}case"AdVerifications":i.adVerifications=cc(Ku.childrenByName(e,"Verification"));break;case"AdSystem":i.system={value:Ku.parseNodeText(e),version:e.getAttribute("version")||null};break;case"AdTitle":i.title=Ku.parseNodeText(e);break;case"AdServingId":i.adServingId=Ku.parseNodeText(e);break;case"Category":i.categories.push({authority:e.getAttribute("authority")||null,value:Ku.parseNodeText(e)});break;case"Expires":i.expires=parseInt(Ku.parseNodeText(e),10);break;case"ViewableImpression":i.viewableImpression.push(function(e){const t=(e,t)=>{const n=Ku.parseNodeText(t);return n&&e.push(n),e};return{id:e.getAttribute("id")||null,viewable:Ku.childrenByName(e,"Viewable").reduce(t,[]),notViewable:Ku.childrenByName(e,"NotViewable").reduce(t,[]),viewUndetermined:Ku.childrenByName(e,"ViewUndetermined").reduce(t,[])}}(e));break;case"Description":i.description=Ku.parseNodeText(e);break;case"Advertiser":i.advertiser={id:e.getAttribute("id")||null,value:Ku.parseNodeText(e)};break;case"Pricing":i.pricing={value:Ku.parseNodeText(e),model:e.getAttribute("model")||null,currency:e.getAttribute("currency")||null};break;case"Survey":i.survey={value:Ku.parseNodeText(e),type:e.getAttribute("type")||null};break;case"BlockedAdCategories":i.blockedAdCategories.push({authority:e.getAttribute("authority")||null,value:Ku.parseNodeText(e)})}})),n.length&&(i.adVerifications=i.adVerifications.concat(n)),i}function uc(e,t){const n=lc(e,t),r=e.getAttribute("followAdditionalWrappers"),i=e.getAttribute("allowMultipleAds"),o=e.getAttribute("fallbackOnNoAd");n.followAdditionalWrappers=!r||Ku.parseBoolean(r),n.allowMultipleAds=!!i&&Ku.parseBoolean(i),n.fallbackOnNoAd=o?Ku.parseBoolean(o):null;let a=Ku.childByName(e,"VASTAdTagURI");if(a?n.nextWrapperURL=Ku.parseNodeText(a):(a=Ku.childByName(e,"VASTAdTagURL"),a&&(n.nextWrapperURL=Ku.parseNodeText(Ku.childByName(a,"URL")))),n.creatives.forEach((e=>{if(["linear","nonlinear"].includes(e.type)){if(e.trackingEvents){n.trackingEvents||(n.trackingEvents={}),n.trackingEvents[e.type]||(n.trackingEvents[e.type]={});for(const t in e.trackingEvents){const r=e.trackingEvents[t];Array.isArray(n.trackingEvents[e.type][t])||(n.trackingEvents[e.type][t]=[]),r.forEach((r=>{n.trackingEvents[e.type][t].push(r)}))}}e.videoClickTrackingURLTemplates&&(Array.isArray(n.videoClickTrackingURLTemplates)||(n.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach((e=>{n.videoClickTrackingURLTemplates.push(e)}))),e.videoClickThroughURLTemplate&&(n.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(Array.isArray(n.videoCustomClickURLTemplates)||(n.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach((e=>{n.videoCustomClickURLTemplates.push(e)})))}})),n.nextWrapperURL)return n}function cc(e){const t=[];return e.forEach((e=>{const n={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},r=Array.from(e.childNodes);Ku.assignAttributes(e.attributes,n),r.forEach((e=>{let{nodeName:t,textContent:r,attributes:i}=e;switch(t){case"JavaScriptResource":case"ExecutableResource":n.resource=r.trim(),Ku.assignAttributes(i,n);break;case"VerificationParameters":n.parameters=r.trim()}}));const i=Ku.childByName(e,"TrackingEvents");i&&Ku.childrenByName(i,"Tracking").forEach((e=>{const t=e.getAttribute("event"),r=Ku.parseNodeText(e);t&&r&&(Array.isArray(n.trackingEvents[t])||(n.trackingEvents[t]=[]),n.trackingEvents[t].push(r))})),t.push(n)})),t}class dc{constructor(){this._handlers=[]}on(e,t){if("function"!=typeof t)throw new TypeError("The handler argument must be of type Function. Received type ".concat(typeof t));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(typeof e));return this._handlers.push({event:e,handler:t}),this}once(e,t){return this.on(e,function(e,t,n){const r={fired:!1,wrapFn:void 0};function i(){r.fired||(e.off(t,r.wrapFn),r.fired=!0,n.bind(e)(...arguments))}return r.wrapFn=i,i}(this,e,t))}off(e,t){return this._handlers=this._handlers.filter((n=>n.event!==e||n.handler!==t)),this}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=!1;return this._handlers.forEach((t=>{"*"===t.event&&(i=!0,t.handler(e,...n)),t.event===e&&(i=!0,t.handler(...n))})),i}removeAllListeners(e){return e?(this._handlers=this._handlers.filter((t=>t.event!==e)),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter((t=>t.event===e)).length}listeners(e){return this._handlers.reduce(((t,n)=>(n.event===e&&t.push(n.handler),t)),[])}eventNames(){return this._handlers.map((e=>e.event))}}let hc=0,pc=0;const mc=(e,t)=>{!e||!t||e<=0||t<=0||(pc=(pc*hc+8*e/t)/++hc)},vc={ERRORCODE:900,extensions:[]},_c="VAST response version not supported";class fc extends dc{constructor(){let{fetcher:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null}trackVastError(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.emit("VAST-error",Object.assign({},vc,t,...r)),Gu.track(e,t)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return pc}initParsingStatus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.rootURL="",this.resetParsingStatus(),mc(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(0===this.remainingAds.length)return Promise.reject(new Error("No more ads are available for the given VAST"));const t=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(t,{wrapperDepth:0,url:this.rootURL}).then((e=>this.buildVASTResponse(e)))}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(t),t.isRootVAST=!0,this.parse(e,t).then((e=>this.buildVASTResponse(e)))}buildVASTResponse(e){const t=function(e){let{ads:t,errorURLTemplates:n,version:r}=e;return{ads:t||[],errorURLTemplates:n||[],version:r||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(t),t}parseVastXml(e,t){let{isRootVAST:n=!1,url:r=null,wrapperDepth:i=0,allowMultipleAds:o,followAdditionalWrappers:a}=t;if(!e||!e.documentElement||"VAST"!==e.documentElement.nodeName){var s;this.emit("VAST-ad-parsed",{type:"ERROR",url:r,wrapperDepth:i});const t="VideoAdServingTemplate"===(null==e||null===(s=e.documentElement)||void 0===s?void 0:s.nodeName);throw new Error(t?_c:"Invalid VAST XMLDocument")}const l=[],u=e.documentElement.childNodes,c=e.documentElement.getAttribute("version");n&&c&&(this.vastVersion=c);for(const e in u){const t=u[e];if("Error"===t.nodeName){const e=Ku.parseNodeText(t);n?this.rootErrorURLTemplates.push(e):this.errorURLTemplates.push(e)}else if("Ad"===t.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)o=!0;else if(!1===o&&l.length>1)break;const e=ac(t,this.emit.bind(this),{allowMultipleAds:o,followAdditionalWrappers:a});e.ad?(l.push(e.ad),this.emit("VAST-ad-parsed",{type:e.type,url:r,wrapperDepth:i,adIndex:l.length-1,vastVersion:c})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return l}parse(e){let{url:t=null,resolveAll:n=!0,wrapperSequence:r=null,previousUrl:i=null,wrapperDepth:o=0,isRootVAST:a=!1,followAdditionalWrappers:s,allowMultipleAds:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&a&&(l=!0);try{u=this.parseVastXml(e,{isRootVAST:a,url:t,wrapperDepth:o,allowMultipleAds:l,followAdditionalWrappers:s})}catch(e){return Promise.reject(e)}if(1===u.length&&null!=r&&(u[0].sequence=r),!1===n){const e=Ku.getSortedAdPods(u),t=Ku.getStandAloneAds(u);e.length?u=e:t.length&&(u=[t.shift()]),this.remainingAds=t}return this.resolveAds(u,{wrapperDepth:o,previousUrl:i,url:t})}resolveAds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{wrapperDepth:t,previousUrl:n,url:r}=arguments.length>1?arguments[1]:void 0;const i=[];return n=r,e.forEach((e=>{const r=this.resolveWrappers(e,t,n);i.push(r)})),Promise.all(i).then((e=>Gu.flatten(e)))}resolveWrappers(e,t,n){const r=(0,l.A)({},e);return new Promise((e=>{var i;if(t++,!r.nextWrapperURL)return delete r.nextWrapperURL,e(r);if(!this.fetcher)return r.VASTAdTagURI=r.nextWrapperURL,delete r.nextWrapperURL,e(r);if(t>=this.maxWrapperDepth)return r.errorCode=302,delete r.nextWrapperURL,e(r);r.nextWrapperURL=Ku.resolveVastAdTagURI(r.nextWrapperURL,n);const o=null!==(i=this.parsingOptions.allowMultipleAds)&&void 0!==i?i:r.allowMultipleAds,a=r.sequence;this.fetcher.fetchVAST({url:r.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then((i=>this.parse(i,{url:r.nextWrapperURL,previousUrl:n,wrapperSequence:a,wrapperDepth:t,followAdditionalWrappers:r.followAdditionalWrappers,allowMultipleAds:o}).then((t=>{if(delete r.nextWrapperURL,0===t.length)return r.creatives=[],e(r);t.forEach((e=>{e&&Ku.mergeWrapperAdData(e,r)})),e(t)})))).catch((t=>{r.errorCode=t.message===_c?102:301,r.errorMessage=t.message,e(r)}))}))}completeWrapperResolving(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let t=e.ads.length-1;t>=0;t--){const n=e.ads[t],r=!n.creatives.some((e=>{var t;return(null===(t=e.mediaFiles)||void 0===t?void 0:t.length)>0}));!n.errorCode&&!r||n.VASTAdTagURI||(this.trackVastError(n.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),e.ads.splice(t,1))}}}let gc=null;const bc={data:{},length:0,getItem(e){return this.data[e]},setItem(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem(e){delete this.data[e],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};class yc{constructor(){this.storage=this.initStorage()}initStorage(){if(gc)return gc;try{gc="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){gc=null}return gc&&!this.isStorageDisabled(gc)||(gc=bc,gc.clear()),gc}isStorageDisabled(e){const t="__VASTStorage__";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}getItem(e){return this.storage.getItem(e)}setItem(e,t){return this.storage.setItem(e,t)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}}const Ec=12e4,wc={get:async function(e,t){try{const n=new AbortController,r=setTimeout((()=>{throw n.abort(),new Error("URLHandler: Request timed out after ".concat(t.timeout||Ec," ms (408)"))}),t.timeout||Ec),i=await fetch(e,(0,l.A)((0,l.A)({},t),{},{signal:n.signal,credentials:t.withCredentials?"include":"omit"})).finally((()=>{clearTimeout(r)})),o=function(e){return Gu.isBrowserEnvironment()&&"https:"===window.location.protocol&&e.url.includes("http://")?"URLHandler: Cannot go from HTTPS to HTTP.":200===e.status&&e.ok?null:"URLHandler: ".concat(e.statusText," (").concat(e.status,")")}(i);return o?{error:new Error(o),statusCode:i.status}:async function(e){const t=await e.text();let n;return n=Gu.isBrowserEnvironment()?new DOMParser:new((await a.e(365).then(a.t.bind(a,9365,19))).DOMParser),{xml:n.parseFromString(t,"text/xml"),details:{byteLength:t.length,statusCode:e.status,rawXml:t}}}(i)}catch(e){return{error:e,statusCode:"AbortError"===e.name?408:null}}}};class Sc{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||wc,this.fetchingOptions={timeout:e.timeout||Ec,withCredentials:Boolean(e.withCredentials)}}addURLTemplateFilter(e){"function"==typeof e&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var t;let{url:n,maxWrapperDepth:r,emitter:i,wrapperDepth:o=0,previousUrl:a=null,wrapperAd:s=null}=e;const u=Date.now();this.URLTemplateFilters.forEach((e=>{n=e(n)})),i("VAST-resolving",{url:n,previousUrl:a,wrapperDepth:o,maxWrapperDepth:r,timeout:this.fetchingOptions.timeout,wrapperAd:s});const c=await this.urlHandler.get(n,this.fetchingOptions),d=Math.round(Date.now()-u);if(i("VAST-resolved",(0,l.A)({url:n,previousUrl:a,wrapperDepth:o,error:(null==c?void 0:c.error)||null,duration:d,statusCode:(null==c?void 0:c.statusCode)||null},null==c?void 0:c.details)),mc(null==c||null===(t=c.details)||void 0===t?void 0:t.byteLength,d),c.error)throw new Error(c.error);return c.xml}}class Ac{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new yc;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=t,this.fetcher=new Sc,this.vastParser=new fc({fetcher:this.fetcher}),this.storage=n,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem("vast-client-last-successful-ad")}set lastSuccessfulAd(e){this.storage.setItem("vast-client-last-successful-ad",e)}get totalCalls(){return this.storage.getItem("vast-client-total-calls")}set totalCalls(e){this.storage.setItem("vast-client-total-calls",e)}get totalCallsTimeout(){return this.storage.getItem("vast-client-total-calls-timeout")}set totalCallsTimeout(e){this.storage.setItem("vast-client-total-calls-timeout",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetcher.setOptions(t),this.vastParser.parseVAST(e,t)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Date.now();return t.hasOwnProperty("resolveAll")||(t.resolveAll=!1),this.totalCallsTimeout<n?(this.totalCalls=1,this.totalCallsTimeout=n+36e5):this.totalCalls++,new Promise(((r,i)=>{if(this.cappingFreeLunch>=this.totalCalls)return i(new Error("VAST call canceled â€“ FreeLunch capping not reached yet ".concat(this.totalCalls,"/").concat(this.cappingFreeLunch)));const o=n-this.lastSuccessfulAd;if(o<0)this.lastSuccessfulAd=0;else if(o<this.cappingMinimumTimeInterval)return i(new Error("VAST call canceled â€“ (".concat(this.cappingMinimumTimeInterval,")ms minimum interval reached")));this.vastParser.initParsingStatus(t),this.fetcher.setOptions(t),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then((n=>(t.previousUrl=e,t.isRootVAST=!0,t.url=e,this.vastParser.parse(n,t).then((e=>{const t=this.vastParser.buildVASTResponse(e);r(t)}))))).catch((e=>i(e)))}))}}class Cc extends dc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.ad=t,this.creative=n,this.variation=r,this.muted=i,this.impressed=!1,this.skippable=!1,this.trackingEvents={},this.trackedProgressEvents=[],this.lastPercentage=0,this._alreadyTriggeredQuartiles={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"];for(const e in this.creative.trackingEvents){const t=this.creative.trackingEvents[e];this.trackingEvents[e]=t.slice(0)}!function(e){return"linear"===e.type}(this.creative)?this._initVariationTracking():this._initLinearTracking(),e&&this.on("start",(()=>{e.lastSuccessfulAd=Date.now()}))}_initLinearTracking(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}_initVariationTracking(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(const e in this.variation.trackingEvents){const t=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(t.slice(0)):this.trackingEvents[e]=t.slice(0)}"nonLinearAd"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return"companionAd"===e.adType}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}setDuration(e){Gu.isValidTimeValue(e)?(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}):this.emit("TRACKER-error",{message:"the duration provided is not valid. duration: ".concat(e)})}setProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!Gu.isValidTimeValue(e)||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given setProgress parameter has the wrong type. progress: ".concat(e,", macros: ").concat(Gu.formatMacrosValues(t))});const r=this.skipDelay||-1;if(-1===r||this.skippable||(r>e?this.emit("skip-countdown",r-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){const r=Math.round(e/this.assetDuration*100),i=[];if(e>0){i.push("start");for(let e=this.lastPercentage;e<r;e++)i.push("progress-".concat(e+1,"%"));i.push("progress-".concat(e));for(const t in this.quartiles)this.isQuartileReached(t,this.quartiles[t],e)&&(i.push(t),this._alreadyTriggeredQuartiles[t]=!0);this.lastPercentage=r}i.forEach((e=>{this.track(e,{macros:t,once:n})})),e<this.progress&&(this.track("rewind",{macros:t}),this.trackedProgressEvents&&this.trackedProgressEvents.splice(0))}this.progress=e}isQuartileReached(e,t,n){let r=!1;return t<=n&&!this._alreadyTriggeredQuartiles[e]&&(r=!0),r}setMuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.muted!==e&&this.track(e?"mute":"unmute",{macros:t}),this.muted=e):this.emit("TRACKER-error",{message:"One given setMuted parameter has the wrong type. muted: ".concat(e,", macros: ").concat(Gu.formatMacrosValues(t))})}setPaused(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.paused!==e&&this.track(e?"pause":"resume",{macros:t}),this.paused=e):this.emit("TRACKER-error",{message:"One given setPaused parameter has the wrong type. paused: ".concat(e,", macros: ").concat(Gu.formatMacrosValues(t))})}setFullscreen(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:t}),this.fullscreen=e):this.emit("TRACKER-error",{message:"One given setFullScreen parameter has the wrong type. fullscreen: ".concat(e,", macros: ").concat(Gu.formatMacrosValues(t))})}setExpand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:t}),this.track(e?"playerExpand":"playerCollapse",{macros:t})),this.expanded=e):this.emit("TRACKER-error",{message:"One given setExpand parameter has the wrong type. expanded: ".concat(e,", macros: ").concat(Gu.formatMacrosValues(t))})}setSkipDelay(e){Gu.isValidTimeValue(e)?this.skipDelay=e:this.emit("TRACKER-error",{message:"setSkipDelay parameter does not have a valid value. duration: ".concat(e)})}trackImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e})):this.emit("TRACKER-error",{message:"trackImpression parameter has the wrong type. macros: ".concat(e)})}trackViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.ad.viewableImpression.forEach((t=>{this.trackURLs(t.viewable,e)})):this.emit("TRACKER-error",{message:"trackViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackNotViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.ad.viewableImpression.forEach((t=>{this.trackURLs(t.notViewable,e)})):this.emit("TRACKER-error",{message:"trackNotViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackUndeterminedImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.ad.viewableImpression.forEach((t=>{this.trackURLs(t.viewUndetermined,e)})):this.emit("TRACKER-error",{message:"trackUndeterminedImpression given macros has the wrong type. macros: ".concat(e)})}error(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"object"==typeof e&&"boolean"==typeof t?this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:t}):this.emit("TRACKER-error",{message:"One given error parameter has the wrong type. macros: ".concat(Gu.formatMacrosValues(e),", isCustomCode: ").concat(t)})}errorWithCode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"string"==typeof e&&"boolean"==typeof t?(this.error({ERRORCODE:e},t),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")):this.emit("TRACKER-error",{message:"One given errorWithCode parameter has the wrong type. errorCode: ".concat(e,", isCustomCode: ").concat(t)})}complete(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("complete",{macros:e}):this.emit("TRACKER-error",{message:"complete given macros has the wrong type. macros: ".concat(e)})}notUsed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?(this.track("notUsed",{macros:e}),this.trackingEvents=[]):this.emit("TRACKER-error",{message:"notUsed given macros has the wrong type. macros: ".concat(e)})}otherAdInteraction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("otherAdInteraction",{macros:e}):this.emit("TRACKER-error",{message:"otherAdInteraction given macros has the wrong type. macros: ".concat(e)})}acceptInvitation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("acceptInvitation",{macros:e}):this.emit("TRACKER-error",{message:"acceptInvitation given macros has the wrong type. macros: ".concat(e)})}adExpand(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("adExpand",{macros:e}):this.emit("TRACKER-error",{message:"adExpand given macros has the wrong type. macros: ".concat(e)})}adCollapse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("adCollapse",{macros:e}):this.emit("TRACKER-error",{message:"adCollapse given macros has the wrong type. macros: ".concat(e)})}minimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("minimize",{macros:e}):this.emit("TRACKER-error",{message:"minimize given macros has the wrong type. macros: ".concat(e)})}verificationNotExecuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given verificationNotExecuted parameter has to wrong type. vendor: ".concat(e,", macros: ").concat(Gu.formatMacrosValues(t))});if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");const n=this.ad.adVerifications.find((t=>t.vendor===e));if(!n)throw new Error("No associated verification element found for vendor: ".concat(e));const r=n.trackingEvents;if(r&&r.verificationNotExecuted){const e=r.verificationNotExecuted;this.trackURLs(e,t),this.emit("verificationNotExecuted",{trackingURLTemplates:e})}}overlayViewDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&"object"==typeof t?(t.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:t})):this.emit("TRACKER-error",{message:"One given overlayViewDuration parameters has the wrong type. formattedDuration: ".concat(e,", macros: ").concat(Gu.formatMacrosValues(t))})}close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track(this.linear?"closeLinear":"close",{macros:e}):this.emit("TRACKER-error",{message:"close given macros has the wrong type. macros: ".concat(e)})}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("skip",{macros:e}):this.emit("TRACKER-error",{message:"skip given macros has the wrong type. macros: ".concat(e)})}load(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("loaded",{macros:e}):this.emit("TRACKER-error",{message:"load given macros has the wrong type. macros: ".concat(e)})}click(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==e&&"string"!=typeof e||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given click parameter has the wrong type. fallbackClickThroughURL: ".concat(e,", macros: ").concat(Gu.formatMacrosValues(t))});this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,t);const n=this.clickThroughURLTemplate||e,r=(0,l.A)({},t);if(n){this.progress&&(r.ADPLAYHEAD=this.progressFormatted());const e=Gu.resolveURLTemplates([n],r)[0];this.emit("clickthrough",e)}}trackProgressEvents(e,t,n){const r=parseFloat(e.split("-")[1]);Object.entries(this.trackingEvents).filter((e=>{let[t]=e;return t.startsWith("progress-")})).map((e=>{let[t,n]=e;return{name:t,time:parseFloat(t.split("-")[1]),urls:n}})).filter((e=>{let{time:t}=e;return t<=r&&t>this.progress})).forEach((e=>{let{name:r,urls:i}=e;!n&&this.trackedProgressEvents.includes(r)||(this.emit(r,{trackingURLTemplates:i}),this.trackURLs(i,t),n?delete this.trackingEvents[r]:this.trackedProgressEvents.push(r))}))}track(e){let{macros:t={},once:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t)return void this.emit("TRACKER-error",{message:"track given macros has the wrong type. macros: ".concat(t)});"closeLinear"===e&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close"),e.startsWith("progress-")&&!e.endsWith("%")&&this.trackProgressEvents(e,t,n);const r=this.trackingEvents[e],i=this.emitAlwaysEvents.indexOf(e)>-1;r?(this.emit(e,{trackingURLTemplates:r}),this.trackURLs(r,t)):i&&this.emit(e,null),n&&(delete this.trackingEvents[e],i&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}trackURLs(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{validUrls:i,invalidUrls:o}=Gu.filterUrlTemplates(e);o.length&&this.emit("TRACKER-error",{message:"Provided urls are malformed. url: ".concat(o)});const a=(0,l.A)({},n);this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(a.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(a.ADPLAYHEAD=this.progressFormatted())),null!==(t=this.creative)&&void 0!==t&&null!==(t=t.universalAdIds)&&void 0!==t&&t.length&&(a.UNIVERSALADID=this.creative.universalAdIds.map((e=>e.idRegistry.concat(" ",e.value))).join(",")),this.ad&&(this.ad.sequence&&(a.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(a.ADTYPE=this.ad.adType),this.ad.adServingId&&(a.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(a.ADCATEGORIES=this.ad.categories.map((e=>e.value)).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(a.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories.map((e=>e.value)).join(","))),Gu.track(i,a,r)}convertToTimecode(e){if(!Gu.isValidTimeValue(e))return"";const t=1e3*e,n=Math.floor(t/36e5),r=Math.floor(t/6e4%60),i=Math.floor(t/1e3%60),o=Math.floor(t%1e3);return"".concat(Gu.addLeadingZeros(n,2),":").concat(Gu.addLeadingZeros(r,2),":").concat(Gu.addLeadingZeros(i,2),".").concat(Gu.addLeadingZeros(o,3))}progressFormatted(){return this.convertToTimecode(this.progress)}}const kc="container-module__vpaidFrame___PnrFL",Pc="container-module__container___OP9MV",Ic="container-module__clickable___wdtMv",Tc=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Array.isArray(e)&&e.forEach((e=>{e&&fetch(e.replaceAll("[ERRORCODE]",t.toString()),{credentials:n?"include":"omit"}).catch((e=>{console.error(e)}))}))},xc=5,Rc=5e3,Lc=3e3,Oc=!0,Nc="control-module__control___ixtKN",Mc="control-module__controlBg___OOXIg",Dc="control-module__controlText___l68J4",Bc="control-module__icon___uB5OT",Fc="control-module__iconRight___RmLY1",Hc="control-module__noAction___X51_s",Vc="control-module__topLeft___kQQ9s",Uc="control-module__topRight___b9zGf",jc="control-module__bottomLeft___kPYZg",Wc="control-module__bottomRight___syyoX",zc="bottom-controls-module__bottomControls____eDxs",Gc="advert-state-module__advertState___O0sC6",qc=e=>"VPAID"===e.apiFramework,Kc=e=>!0,Yc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kc;if(!e.mediaFiles.length)return[];const n=e.mediaFiles.filter((e=>("video/mp4"===e.mimeType||qc(e))&&e.fileURL&&t(e)));return n.sort(((e,t)=>e.width===t.width?e.bitrate>t.bitrate?1:-1:e.width>t.width?1:-1)),n};class Xc extends Error{constructor(e){super("[Plutos]: ".concat(e))}}const Qc=async(e,t,n)=>new Promise(((r,i)=>{const o=setTimeout((()=>{null==n||n(),i(new Xc("Too long execution"))}),t);e.then(r).catch(i).finally((()=>clearTimeout(o)))}));class Zc{constructor(e,t,n,r){this._display="block",this._visible=!0,this._video=e,this._provider=t,this._advert=n,this._config=r}applyStyles(e,t){Object.keys(e).forEach((n=>{const r=n;(t||this._node).style.setProperty(n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase())),e[r]||null)}))}updateVisibility(e){this._visible=e,this.applyStyles({display:e?this._display:"none"})}updateConfig(e){this._config=(0,l.A)((0,l.A)({},this._config),e)}getChildren(e){return null}get node(){return this._node}destroy(){this._node.remove()}}class Jc extends Zc{constructor(){super(...arguments),this._node=document.createElement("div"),this.timeHandler=e=>{let{remain:t}=e;const{total:n,viewed:r}=this._config||{};this._node.innerText="".concat((n||0)>1?"".concat(r," Ð¸Ð· ").concat(n,"  Â· "):"").concat((e=>{if(e<60)return"0:".concat(e<10?"0":"").concat(e);const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n<10?"0":"").concat(n)})(Math.floor(t))),this.updateVisibility(!0)}}init(){this._provider.subscribe("timeUpdate",this.timeHandler),this.updateVisibility(!1),this._node.classList.add(Nc,Mc,Gc)}destroy(){this._provider.unsubscribe("timeUpdate",this.timeHandler),super.destroy()}}class $c extends Zc{constructor(){super(...arguments),this._node=document.createElement("button"),this._display="flex"}init(){this._node.innerHTML=this.getIcon(this._provider.volume<.1),this._node.classList.add(Nc,Mc),this._provider.subscribe("started",this.updateState.bind(this)),this._provider.subscribe("volumeChange",this.updateState.bind(this)),this._node.addEventListener("click",this.onClick.bind(this))}updateState(){this._node.innerHTML=this.getIcon(this._provider.volume<.1)}onClick(e){var t;(e.stopPropagation(),this._provider.volume<.1)?this._provider.volume=(null===(t=this._config)||void 0===t?void 0:t.volume)||.5:this._provider.volume=0;this.updateState()}getIcon(e){return'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path\n      d="M3 14.5714V9.42857H6.85714L10.7143 6V18L6.85714 14.5714H3Z"\n      stroke="#fff"\n      stroke-width="1.24"\n      stroke-linecap="round"\n      stroke-linejoin="round"\n    />\n    '.concat(e?this.getMutedPath():this.getUnmutedPath(),"\n  </svg>")}getMutedPath(){return'<path d="M20.5713 9L14.5713 15" stroke="#fff" stroke-width="1.24" stroke-linecap="round" stroke-linejoin="round" />\n      <path d="M14.5713 9L20.5713 15" stroke="#fff" stroke-width="1.24" stroke-linecap="round" stroke-linejoin="round" />'}getUnmutedPath(){return'<path d="M15 9.42773C15.5382 10.1441 15.8571 11.0346 15.8571 11.9996C15.8571 12.9646 15.5382 13.8551 15 14.5714" stroke="#fff" stroke-width="1.24" stroke-linecap="round" stroke-linejoin="round"></path>\n    <path d="M18.4292 6.85742C19.5052 8.28998 20.1429 10.0707 20.1429 12.0003C20.1429 13.9299 19.5052 15.7106 18.4292 17.1431" stroke="#fff" stroke-width="1.24" stroke-linecap="round" stroke-linejoin="round"></path>'}}class ed extends Zc{constructor(){super(...arguments),this._node=document.createElement("button"),this._display="flex",this.updateState=()=>{this._node.innerHTML=this.getIcon(!this._video.paused)}}init(){this._node.innerHTML=this.getIcon(!this._video.paused),this._node.classList.add(Nc,Mc),this._video.addEventListener("play",this.updateState),this._video.addEventListener("pause",this.updateState),this._node.addEventListener("click",this.onClick.bind(this))}onClick(e){e.stopPropagation(),this._video.paused?this._video.play():this._video.pause()}destroy(){this._video.removeEventListener("play",this.updateState),this._video.removeEventListener("pause",this.updateState),super.destroy()}getIcon(e){return'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">'.concat(e?this.getPause():this.getPlay(),"</svg>")}getPlay(){return'<path d="M8 5v14l10-7L8 5Z" fill="#fff" stroke="#fff" stroke-width="1.24" stroke-linecap="round" stroke-linejoin="round" />'}getPause(){return'<rect x="15" y="5" width="2" height="14" rx=".5" fill="#fff" />\n    <rect x="7" y="5" width="2" height="14" rx=".5" fill="#fff" />'}}class td extends Zc{constructor(){super(...arguments),this._node=document.createElement("div"),this._display="flex",this._playButton=null,this._muteButton=null,this._advertState=null}init(){var e,t;const{_video:n,_provider:r,_advert:i,_config:o}=this;null!=o&&o.playbackControls&&(this._playButton=new ed(n,r,i),this._node.append(this._playButton.node)),this._muteButton=new $c(n,r,i,{volume:(null==o?void 0:o.volume)||.5}),this._advertState=new Jc(n,r,i,null==o?void 0:o.blockState),this._node.append(this._muteButton.node,this._advertState.node),this._node.classList.add(jc,zc),null===(e=this._playButton)||void 0===e||e.init(),null===(t=this._muteButton)||void 0===t||t.init(),this._advertState.init()}destroy(){var e,t,n;null===(e=this._playButton)||void 0===e||e.destroy(),null===(t=this._muteButton)||void 0===t||t.destroy(),null===(n=this._advertState)||void 0===n||n.destroy(),super.destroy()}}const nd="cta-button-module__ctaButton___qMIxx",rd=(e,t)=>{if(!Array.isArray(e.extensions))return null;const n=e.extensions.find((e=>{var n;return(null===(n=e.attributes)||void 0===n?void 0:n.type)===t}));if(n)try{return n.value}catch(e){return null}return null},id=(e,t)=>{const n=rd(e,t);if(n)try{return JSON.parse(n)}catch(e){return null}},od=e=>{var t;return 1===(null===(t=id(e,"AdTitle"))||void 0===t?void 0:t.promo)?"ÐŸÑ€Ð¾Ð¼Ð¾":null};class ad extends Zc{constructor(){super(...arguments),this._node=document.createElement("button")}init(){var e,t,n;this._node.classList.add(Uc,Nc,Mc,Dc,nd),this._node.innerText=(e=this._advert,(null===(t=id(e,"CTA"))||void 0===t?void 0:t.name)||(null===(n=id(e,"AdCTA"))||void 0===n?void 0:n.name)||void 0||"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸"),this._node.addEventListener("click",(e=>{this._provider.click(e,!0)}))}}const sd="tooltip-module__tooltipArea___uSVR_",ld="tooltip-module__topLeft___pBhs7",ud="info-button-module__infoTooltip___ePNH5";class cd extends Zc{constructor(e,t,n){super(e,t,n),this._node=document.createElement("div"),this._display="flex",this._button=document.createElement("button"),this._tooltip=document.createElement("div"),this.title="Ð ÐµÐºÐ»Ð°Ð¼Ð°",this.onClick=e=>{e.stopPropagation();const t=this._tooltip.style.display;this._tooltip.style.display="none"!==t&&t?"none":"block"},this._video=e,this._provider=t,this.title=od(n)||this.title}init(){const e=this.getText();this._node.classList.add(Vc),this._button.classList.add(Nc,Mc,Dc,Bc,Fc),e?(this._tooltip.classList.add(sd,ld,ud),this._tooltip.innerHTML=e,this._node.append(this._tooltip),this._button.addEventListener("click",this.onClick)):(this._tooltip.remove(),this._button.classList.add(Hc)),this._button.innerHTML="<span>".concat(this.title,"</span>").concat(e?" ".concat(this.getButtonIcon()):""),this._node.prepend(this._button)}getText(){const e=(t=this._advert,id(t,"AdTune"));var t;return e&&1===e.show?"<span>".concat(e.advertiserInfo,"</span><br/><span>ERID: ").concat(e.token||"","</span>"):null}getButtonIcon(){return'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 10.6c.4 0 .7.4.7.8v4.4a.7.7 0 1 1-1.5 0v-4.4c0-.4.4-.8.8-.8ZM11.2 8.2c0-.4.4-.7.8-.7A.8.8 0 0 1 12 9a.8.8 0 0 1-.8-.8Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17ZM2 12a10 10 0 1 1 20 0 10 10 0 0 1-20 0Z" fill="#fff"/></svg>'}}const dd="loader-module__wrapper___X3Bd4",hd="loader-module__spinner___m93en";class pd extends Zc{constructor(){super(...arguments),this._node=document.createElement("div"),this._display="block",this._show=this.updateVisibility.bind(this,!0),this._hide=this.updateVisibility.bind(this,!1)}init(){this._hide();const e=document.createElement("div");e.classList.add(hd),this._node.classList.add(dd),this._node.append(e),this._video.addEventListener("waiting",this._show),this._video.addEventListener("play",this._hide)}destroy(){this._video.removeEventListener("waiting",this._show),this._video.removeEventListener("play",this._hide)}}const md="progress-bar-module__progressBar___HWstE",vd="progress-bar-module__inner___IhQYS";class _d{constructor(e){this._externalHandlers={},this._started=!1,this._ended=!1,this._skipable=!1,this._skipped=!1,this._preloaded=!1,this._startTimer=null,this._params=e,this._skipable=0===e.creative.skipDelay}subscribe(e,t){var n;this._externalHandlers[e]||(this._externalHandlers[e]=[]),null===(n=this._externalHandlers[e])||void 0===n||n.push(t)}unsubscribe(e,t){var n;this._externalHandlers[e]&&(this._externalHandlers[e]=null===(n=this._externalHandlers[e])||void 0===n?void 0:n.filter((e=>e!==t)))}dispatch(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=this._externalHandlers[e])||void 0===t||t.forEach((e=>{e(...r)}))}destroy(){this._startTimer&&clearTimeout(this._startTimer)}get started(){return this._started}get ended(){return this._ended}get skipable(){return this._skipable}get skipped(){return this._skipped}get clickable(){return!1}}var fd=a(3983),gd=a.n(fd);const bd=(e,t)=>{if(!e||null===t)return 0;let n=e-t;return n&&!isNaN(n)?(n=Math.max(n,0),Math.min(n/e*100,100)):0};class yd extends _d{constructor(){var e;super(...arguments),e=this,this.preload=()=>new Promise((e=>{var t;(null===(t=this._params.creative.mediaFiles[0])||void 0===t?void 0:t.fileURL)||""||e(!1),this._params.video.src=this.getSrc();const n=setTimeout((()=>{this._preloaded=!0,e(!0)}),this._params.startTimeout);this._params.video.addEventListener("canplay",(()=>{clearTimeout(n),this._preloaded=!0,e(!0)}),{once:!0}),this._params.video.addEventListener("error",(()=>{clearTimeout(n),this._params.tracker.error({ERRORCODE:405}),e(!1)}),{once:!0})})),this.handleWindowUnload=()=>{this._params.tracker.close()},this.handleMuted=()=>{this._params.tracker.setMuted(this._params.video.muted),this.dispatch("volumeChange",this.volume)},this.handleImpression=()=>{this._params.tracker.trackImpression(),this.dispatch("impression")},this.handleCompanionImpression=()=>{this._params.companionTracker&&this._params.companionTracker.trackImpression()},this.handleComplete=()=>{this._ended=!0,this._params.tracker.complete()},this.handlePause=()=>{this._params.video.ended||this._params.tracker.setPaused(!0),this.dispatch("playingState",!1)},this.handleResume=()=>{this._started&&this._params.tracker.setPaused(!1),this.dispatch("playingState",!0)},this.handleTimeUpdate=()=>{const{currentTime:e}=this._params.video,{duration:t}=this._params.creative,n=t-e;this._params.tracker.setProgress(e),this.dispatch("timeUpdate",{viewed:e,viewedPercent:bd(t,n),remain:n}),e>t&&this.handleComplete()},this.handleError=()=>{this._params.tracker.error({ERRORCODE:405}),this.dispatch("error")},this.handleFullScreen=()=>{this._params.tracker.setExpand(gd().isFullscreen),this._params.tracker.setFullscreen(gd().isFullscreen)},this.handleClose=()=>{this._params.tracker.close()},this.handleClickThrough=e=>{window.open(e,"_blank")},this.click=function(t){var n;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=t.target;(r||e._params.tracker&&"DIV"===i.tagName)&&(e._params.tracker.click(null,{CLICKPOS:[t.clientX,t.clientY]}),null===(n=e._params.companionTracker)||void 0===n||n.click(),e.dispatch("click"))}}init(){this.initEvents(),this.volume=this._params.volume}initEvents(){const{video:e,container:t,tracker:n,companionTracker:r}=this._params;e.addEventListener("volumechange",this.handleMuted),e.addEventListener("canplay",this.handleImpression),e.addEventListener("timeupdate",this.handleTimeUpdate),e.addEventListener("ended",this.handleComplete),e.addEventListener("play",this.handleResume),e.addEventListener("pause",this.handlePause),e.addEventListener("error",this.handleError),this.clickable&&(t.addEventListener("click",this.click),t.classList.add(Ic)),r&&e.addEventListener("canplay",this.handleCompanionImpression),window.addEventListener("beforeunload",this.handleWindowUnload),n.on("start",(()=>{this._started=!0,this.handleFullScreen(),e.addEventListener("play",this.handleResume),this.dispatch("started"),this.skipable&&this.dispatch("skippableStateChange",!0)})),this.skipable||n.on("skip-countdown",(e=>{this.dispatch("skipRemain",e),e||(this.dispatch("skippableStateChange",!0),this._skipable=!0)})),n.on("close",(()=>{this.dispatch("close"),this.dispatch("stopped")})),n.on("complete",(()=>{this.removeEvents(),this.dispatch("complete"),this.dispatch("stopped")})),n.on("skip",(()=>{this._skipped=!0,this.removeEvents(),this.dispatch("skipped"),this.dispatch("stopped")})),n.on("clickthrough",this.handleClickThrough),null==r||r.on("clickthrough",this.handleClickThrough),gd().isEnabled&&gd().on("change",this.handleFullScreen)}removeEvents(){const{video:e,companionTracker:t}=this._params;e.removeEventListener("volumechange",this.handleMuted),e.removeEventListener("canplay",this.handleImpression),e.removeEventListener("timeupdate",this.handleTimeUpdate),e.removeEventListener("ended",this.handleComplete),e.removeEventListener("play",this.handleResume),e.removeEventListener("pause",this.handlePause),e.removeEventListener("error",this.handleError),t&&e.removeEventListener("canplay",this.handleCompanionImpression),window.removeEventListener("beforeunload",this.handleWindowUnload),gd().isEnabled&&gd().off("change",this.handleFullScreen)}destroy(){super.destroy(),this.ended||this.skipped||this.handleClose(),this.removeEvents()}getSrc(){var e;const t=this._params.creative.mediaFiles;return(null===(e=t[t.length-1])||void 0===e?void 0:e.fileURL)||""}skip(){this._params.tracker.skip()}start(){this._startTimer=setTimeout((()=>{0===this._params.video.currentTime&&(this._params.tracker.error({ERRORCODE:900}),this.dispatch("error"))}),this._params.startTimeout);const{video:e}=this._params;this.started||(this._preloaded||(this._params.video.src=this.getSrc()),this._params.video.play().catch((()=>{e.muted||(this._params.video.muted=!0,this._params.video.play().catch((()=>{e.muted=!1})))})))}resume(){this._params.video.play()}pause(){this._params.video.pause()}get clickable(){var e;return!(null===(e=this._params.creative.videoClickThroughURLTemplate)||void 0===e||!e.url)}get volume(){return this._params.video.muted?0:this._params.video.volume}set volume(e){this._params.video.volume=e,this._params.video.muted=!e}}class Ed extends _d{constructor(e){super(e),this._iframe=document.createElement("iframe"),this._iframeLoaded=!1,this._creative=null,this._timeUpdateInterval=null,this._resizeObserver=null,this._lastTimeUpdatePayload=null,this._skippableByVpaid=!1,this._durationFromRemain=null,this._initVpaidAdPromise=null,this.handleStarted=()=>{this._started=!0,this.dispatch("started"),this._params.tracker.track("start"),this._timeUpdateInterval&&clearInterval(this._timeUpdateInterval),this.handleTimeUpdate(),this._timeUpdateInterval=setInterval(this.handleTimeUpdate,10)},this.handleComplete=()=>{this._ended=!0,this.dispatch("complete"),this._params.tracker.track("complete")},this.handleStart=()=>{},this.handleStopped=()=>{this._ended=!0,this.dispatch("stopped"),this._params.tracker.track("stopped")},this.handlePaused=()=>{this.dispatch("playingState",!1),this._params.tracker.setPaused(!0)},this.handleResume=()=>{this.dispatch("playingState",!0),this._params.tracker.setPaused(!1)},this.handleFirstQuartile=()=>{this._params.tracker.track("firstQuartile")},this.handleMidpoint=()=>{this._params.tracker.track("midpoint")},this.handleThirdQuartile=()=>{this._params.tracker.track("thirdQuartile")},this.handleUserClose=()=>{this._params.tracker.close(),this.dispatch("close")},this.handleDurationChange=()=>{this._timeUpdateInterval&&clearInterval(this._timeUpdateInterval),this.handleTimeUpdate(),this._timeUpdateInterval=setInterval(this.handleTimeUpdate,10)},this.handleTimeUpdate=()=>{var e,t;const n=(null===(e=this._creative)||void 0===e?void 0:e.getAdRemainingTime())||0;let r=this._durationFromRemain?this._durationFromRemain:(null===(t=this._creative)||void 0===t?void 0:t.getAdDuration())||0;if(r<=0&&n>0&&!this._durationFromRemain)this._durationFromRemain=n,r=n;else if(n<=0||r<=0&&!this._durationFromRemain)return;const i=r-n,o=Math.min(this._params.creative.duration,r),a=Math.max(o-i,0),s={viewed:i,remain:a,viewedPercent:bd(o,a)},l=JSON.stringify(s);var u,c;if(l!==this._lastTimeUpdatePayload)if(this._lastTimeUpdatePayload=l,this.dispatch("timeUpdate",{viewed:i,remain:a,viewedPercent:bd(o,a)}),i>=this._params.creative.duration)null===(u=this._creative)||void 0===u||u.stopAd(),null===(c=this._creative)||void 0===c||c.setAdVolume(0),this.handleComplete();else if(!this.skipable&&Number(this._params.creative.skipDelay)>=60){const e=Math.ceil(Number(this._params.creative.skipDelay)-i);this.dispatch("skipRemain",Math.max(0,e)),e<=0&&(this._skipable=!0)}},this.handleImpression=()=>{var e;this._params.tracker.trackImpression(),null===(e=this._params.companionTracker)||void 0===e||e.trackImpression(),this.dispatch("impression")},this.handleSkip=()=>{this._params.tracker.skip(),this.dispatch("skipped")},this.handleSkippableStateChange=()=>{if(!this.skipable){var e;(null===(e=this._creative)||void 0===e?void 0:e.getAdSkippableState())&&(this._skippableByVpaid=!0,this.dispatch("skippableStateChange",!0),this.dispatch("skipRemain",0))}},this.handleVolume=()=>{this._params.tracker.setMuted(this.volume<=.1),this.dispatch("volumeChange",this.volume)},this.handleClick=(e,t,n)=>{if(n){var r;const t=e||(null===(r=this._params.creative.videoClickThroughURLTemplate)||void 0===r?void 0:r.url);t&&this.handleClickLink(t)}this._params.tracker.click(),this.dispatch("click")},this.handleClickLink=e=>{window.open(e,"_blank")},this.handleExpanded=()=>{var e;const t=!(null===(e=this._creative)||void 0===e||!e.getAdExpanded());this._params.tracker.setFullscreen(t),this._params.tracker.setExpand(t)},this.handleError=()=>{this._params.tracker.error({ERRORCODE:405}),this.dispatch("error")},this._params=e}async init(){this._iframe.classList.add(kc),this._iframe.setAttribute("frameborder","0"),this._iframe.setAttribute("scrolling","no"),this._iframe.addEventListener("load",(()=>{this._iframeLoaded=!0})),this._params.container.prepend(this._iframe),await this.waitIframe();const e=await Qc(this.loadVpaid(),this._params.timeout,(()=>{this._params.tracker.error({ERRORCODE:402})}));if("function"!=typeof e)throw this._params.tracker.error({ERRORCODE:900}),new Xc('"getVpaid" is not a function');if(this._creative=e(),!((t=this._creative)&&t.handshakeVersion&&"function"==typeof t.handshakeVersion&&t.initAd&&"function"==typeof t.initAd&&t.startAd&&"function"==typeof t.startAd&&t.stopAd&&"function"==typeof t.stopAd&&t.skipAd&&"function"==typeof t.skipAd&&t.resizeAd&&"function"==typeof t.resizeAd&&t.pauseAd&&"function"==typeof t.pauseAd&&t.resumeAd&&"function"==typeof t.resumeAd&&t.expandAd&&"function"==typeof t.expandAd&&t.collapseAd&&"function"==typeof t.collapseAd&&t.subscribe&&"function"==typeof t.subscribe&&t.unsubscribe&&"function"==typeof t.unsubscribe))throw this._params.tracker.error({ERRORCODE:901}),new Xc("Bad VPAID object");var t;this.initEvents()}async initVpaidAd(){var e;if(!this._creative)throw new Xc("No VPAID Creative");this._initVpaidAdPromise=Qc(new Promise(((e,t)=>{var n,r;null===(n=this._creative)||void 0===n||n.subscribe((()=>{this._params.tracker.error({ERRORCODE:901}),t("VPAID Triggered error on init")}),"AdError"),null===(r=this._creative)||void 0===r||r.subscribe((()=>{e(),this.initResizeObserver(),this.volume=this._params.volume}),"AdLoaded")})),this._params.startTimeout);const t=null!==(e=this._params.creative.adParameters)&&void 0!==e&&e.value?{AdParameters:this._params.creative.adParameters.value}:null,n=this._iframe.contentWindow;if(!n)throw new Xc("No iframe window found");const r=n.document.body,i=n.document.createElement("div");i.classList.add(Pc),i.style.height="100%",r.style.margin="0",r.style.padding="0",n.document.body.appendChild(i);const o=this.getContainerSize();return this._creative.initAd(o.width,o.height,o.mode,5e3,t,{slot:i,videoSlot:this._params.video,videoSlotCanAutoPlay:!0}),this._initVpaidAdPromise}async preload(){return(this._initVpaidAdPromise?this._initVpaidAdPromise:this.initVpaidAd()).then((()=>!0)).catch((()=>!1))}loadVpaid(){return new Promise(((e,t)=>{var n;const r=document.createElement("script");r.async=!0,r.type="text/javascript",r.src=this._params.url,r.onload=()=>{var n;const r=null===(n=this._iframe.contentWindow)||void 0===n?void 0:n.getVPAIDAd;"function"==typeof r?e(r):t()},r.onerror=()=>{t()},null===(n=this._iframe.contentWindow)||void 0===n||n.document.head.appendChild(r)}))}waitIframe(){return this._iframeLoaded?Promise.resolve():new Promise((e=>{this._iframeLoaded=!0,this._iframe.addEventListener("load",e)}))}initEvents(){var e,t,n,r,i,o,a,s,l,u,c,d,h,p,m,v,_,f,g;window.location.search.includes("debug_plutos")&&this.debugEvents(),null===(e=this._creative)||void 0===e||e.subscribe(this.handleImpression,"AdImpression"),null===(t=this._creative)||void 0===t||t.subscribe(this.handleStarted,"AdStarted"),null===(n=this._creative)||void 0===n||n.subscribe(this.handleStart,"AdVideoStart"),null===(r=this._creative)||void 0===r||r.subscribe(this.handleComplete,"AdVideoComplete"),null===(i=this._creative)||void 0===i||i.subscribe(this.handleStopped,"AdStopped"),null===(o=this._creative)||void 0===o||o.subscribe(this.handlePaused,"AdPaused"),null===(a=this._creative)||void 0===a||a.subscribe(this.handleResume,"AdPlaying"),null===(s=this._creative)||void 0===s||s.subscribe(this.handleFirstQuartile,"AdVideoFirstQuartile"),null===(l=this._creative)||void 0===l||l.subscribe(this.handleMidpoint,"AdVideoMidpoint"),null===(u=this._creative)||void 0===u||u.subscribe(this.handleThirdQuartile,"AdVideoThirdQuartile"),null===(c=this._creative)||void 0===c||c.subscribe(this.handleVolume,"AdVolumeChange"),null===(d=this._creative)||void 0===d||d.subscribe(this.handleDurationChange,"AdDurationChange"),null===(h=this._creative)||void 0===h||h.subscribe(this.handleDurationChange,"AdRemainingTimeChange"),null===(p=this._creative)||void 0===p||p.subscribe(this.handleSkip,"AdSkipped"),null===(m=this._creative)||void 0===m||m.subscribe(this.handleSkippableStateChange,"AdSkippableStateChange"),null===(v=this._creative)||void 0===v||v.subscribe(this.handleUserClose,"AdUserClose"),null===(_=this._creative)||void 0===_||_.subscribe(this.handleClick,"AdClickThru"),null===(f=this._creative)||void 0===f||f.subscribe(this.handleExpanded,"AdExpandedChange"),null===(g=this._creative)||void 0===g||g.subscribe(this.handleError,"AdError")}debugEvents(){["AdLoaded","AdStarted","AdStopped","AdSkipped","AdPaused","AdSizeChange","AdPlaying","AdExpandedChange","AdSkippableStateChange","AdLinearChange","AdVolumeChange","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdUserAcceptInvitation","AdUserClose","AdUserMinimize","AdDurationChange","AdRemainingTimeChange","AdImpression","AdClickThru","AdInteraction","AdError","AdLog"].forEach((e=>{var t;null===(t=this._creative)||void 0===t||t.subscribe((function(){}),e)}))}initResizeObserver(){this._resizeObserver=new ResizeObserver((()=>{var e;const t=this.getContainerSize();null===(e=this._creative)||void 0===e||e.resizeAd(t.width,t.height,t.mode?"fullscreen":"normal")})),this._resizeObserver.observe(this._params.container)}getContainerSize(){const e=this._params.container.getBoundingClientRect();return{width:e.width,height:e.height,mode:gd().isEnabled&&gd().isFullscreen?"fullscreen":"normal"}}destroy(){var e,t,n,r,i,o,a,s,l,u,c,d,h,p,m,v,_,f,g,b;this._params.video.src="",null===(e=this._resizeObserver)||void 0===e||e.disconnect(),super.destroy(),null===(t=this._creative)||void 0===t||t.unsubscribe(this.handleImpression,"AdImpression"),null===(n=this._creative)||void 0===n||n.unsubscribe(this.handleStarted,"AdStarted"),null===(r=this._creative)||void 0===r||r.unsubscribe(this.handleStart,"AdVideoStart"),null===(i=this._creative)||void 0===i||i.unsubscribe(this.handleComplete,"AdVideoComplete"),null===(o=this._creative)||void 0===o||o.unsubscribe(this.handleStopped,"AdStopped"),null===(a=this._creative)||void 0===a||a.unsubscribe(this.handlePaused,"AdPaused"),null===(s=this._creative)||void 0===s||s.unsubscribe(this.handleResume,"AdPlaying"),null===(l=this._creative)||void 0===l||l.unsubscribe(this.handleFirstQuartile,"AdVideoFirstQuartile"),null===(u=this._creative)||void 0===u||u.unsubscribe(this.handleMidpoint,"AdVideoMidpoint"),null===(c=this._creative)||void 0===c||c.unsubscribe(this.handleThirdQuartile,"AdVideoThirdQuartile"),null===(d=this._creative)||void 0===d||d.unsubscribe(this.handleVolume,"AdVolumeChange"),null===(h=this._creative)||void 0===h||h.unsubscribe(this.handleDurationChange,"AdDurationChange"),null===(p=this._creative)||void 0===p||p.unsubscribe(this.handleDurationChange,"AdRemainingTimeChange"),null===(m=this._creative)||void 0===m||m.unsubscribe(this.handleSkip,"AdSkipped"),null===(v=this._creative)||void 0===v||v.unsubscribe(this.handleSkippableStateChange,"AdSkippableStateChange"),null===(_=this._creative)||void 0===_||_.unsubscribe(this.handleUserClose,"AdUserClose"),null===(f=this._creative)||void 0===f||f.unsubscribe(this.handleClick,"AdClickThru"),null===(g=this._creative)||void 0===g||g.unsubscribe(this.handleExpanded,"AdExpandedChange"),null===(b=this._creative)||void 0===b||b.unsubscribe(this.handleError,"AdError"),this._timeUpdateInterval&&clearInterval(this._timeUpdateInterval),this._iframe.style.display="none",setTimeout((()=>{var e;null===(e=this._iframe)||void 0===e||e.remove()}),3e3)}start(){(this._initVpaidAdPromise||this.initVpaidAd()).then((()=>{var e,t;const{video:n}=this._params;if(this.started)return;const r=n.play.bind(n);n.play=()=>r().catch((e=>{if("NotAllowedError"===(null==e?void 0:e.name)&&!n.muted)return n.muted=!0,r().catch((()=>{n.muted=!1}));throw e})).finally((()=>{n.play=r}));const i=this.getContainerSize();null===(e=this._creative)||void 0===e||e.resizeAd(i.width,i.height,i.mode),null===(t=this._creative)||void 0===t||t.startAd()})).catch((()=>{this.dispatch("error")}))}pause(){var e;null===(e=this._creative)||void 0===e||e.pauseAd()}resume(){var e;null===(e=this._creative)||void 0===e||e.resumeAd()}skip(){var e;this._skippableByVpaid?null===(e=this._creative)||void 0===e||e.skipAd():this.skipable&&this.handleSkip()}click(){}get volume(){var e;const{video:t}=this._params;return!t.paused||t.currentTime?t.muted?0:t.volume:(null===(e=this._creative)||void 0===e?void 0:e.getAdVolume())||0}set volume(e){var t;null===(t=this._creative)||void 0===t||t.setAdVolume(e||0),this._params.video.muted=e<.1}}class wd extends Zc{constructor(){super(...arguments),this._node=document.createElement("div"),this.innerDiv=document.createElement("div")}init(){this._node.append(this.innerDiv),this._node.classList.add(md),this.innerDiv.classList.add(vd),this._provider instanceof Ed?this._provider.subscribe("timeUpdate",this.updateState.bind(this)):this._video.addEventListener("play",this.autoUpdate.bind(this))}autoUpdate(){this._video.paused||(this.applyStyles({transform:"scaleX(".concat(this._video.currentTime/this._video.duration,")")},this.innerDiv),requestAnimationFrame(this.autoUpdate.bind(this)))}updateState(e){this.applyStyles({transform:"scaleX(".concat(e.viewedPercent,"%)")},this.innerDiv)}destroy(){super.destroy(),this._video.removeEventListener("play",this.autoUpdate.bind(this))}}const Sd="skip-module__skipWrapper___LuSG8",Ad="skip-module__customUi___xq4mM",Cd="skip-module__text___tKMjO",kd="skip-module__textAction___IyNJX",Pd="skip-module__skip___K0kwO",Id="skip-module__disableAd___Y_yn2",Td="ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ";class xd extends Zc{constructor(){super(...arguments),this._node=document.createElement("div"),this._skip=document.createElement("button"),this._disableAdvert=document.createElement("button"),this._display="flex",this.updateState=e=>{0===e?(this._provider.unsubscribe("skipRemain",this.updateState),this.activateSkipButton()):e>0&&(this._skip.style.display="flex",this._skip.innerHTML='<span class="'.concat(Cd,'">ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· ').concat(Math.ceil(e),"</span>"))},this.onClick=e=>{e.stopPropagation(),this._provider.skip()},this.activateSkipButton=()=>{this.applyStyles({display:"flex"},this._skip),this._skip.disabled=!1,this._skip.addEventListener("click",this.onClick),this._skip.innerHTML='<span class="'.concat(Cd," ").concat(kd,'">ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ</span> <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.6 5.6c-.3.2-.3.6 0 .8L14 12l-5.5 5.6a.6.6 0 0 0 .8.8l6-6c.3-.2.3-.6 0-.8l-6-6a.6.6 0 0 0-.8 0Z" fill="#fff"/></svg>')}}init(){var e,t,n,r;this._node.classList.add(Wc,Sd),null!==(e=this._config)&&void 0!==e&&e.onDisable?(this._disableAdvert.addEventListener("click",this._config.onDisable),this._disableAdvert.style.display="flex"):this._disableAdvert.style.display="none",this._disableAdvert.ariaLabel=(null===(t=this._config)||void 0===t?void 0:t.disableText)||Td,this._disableAdvert.innerText=(null===(n=this._config)||void 0===n?void 0:n.disableText)||Td,this._disableAdvert.tabIndex=0,this._disableAdvert.classList.add(Nc,Mc,Dc,Id),this._node.append(this._disableAdvert),null!==(r=this._config)&&void 0!==r&&r.vendorUi&&this._node.classList.add(Ad),this._skip.disabled=!0,this._skip.ariaLabel="ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ",this._skip.tabIndex=0,this._skip.classList.add(Nc,Mc,Dc,Pd),this._node.append(this._skip),this._provider.skipable&&this.activateSkipButton(),this._provider.subscribe("skipRemain",this.updateState)}updateConfig(e){var t;e.onDisable&&(null!==(t=this._config)&&void 0!==t&&t.onDisable&&this._disableAdvert.removeEventListener("click",this._config.onDisable),this._disableAdvert.addEventListener("click",e.onDisable),this._disableAdvert.style.display="flex");"onDisable"in e&&"function"!=typeof e.onDisable&&(this._disableAdvert.style.display="none"),super.updateConfig(e)}}class Rd{constructor(e){this._controls={},this.loader=void 0,this._params=e;const{video:t,provider:n,advert:r}=e;this.loader=new pd(t,n,r),n.subscribe("started",(()=>{this.renderControls()})),this.loader.init(),this.initControls()}initControls(){const{video:e,provider:t,advert:n}=this._params;this._controls={progress:new wd(e,t,n),info:new cd(e,t,n)},this._controls.bottom=new td(e,t,n,{blockState:this._params.blockState,playbackControls:!this._params.vendorUi,volume:this._params.volume}),this._controls.skip=new xd(e,t,n,{disableText:this._params.disableText,onDisable:this._params.onDisableAd,vendorUi:this._params.vendorUi}),t.clickable&&(this._controls.link=new ad(e,t,n)),Object.values(this._controls).forEach((e=>{e.init()}))}renderControls(){this._params.container.append(...Object.values(this._controls).map((e=>e.node)))}destroy(){Object.values(this._controls).forEach((e=>{e.destroy()})),this.loader.destroy()}updateControlsVisibility(e){Object.keys(e).forEach((t=>{var n;const r=t;null===(n=this._controls[r])||void 0===n||n.updateVisibility(!!e[r])}))}get controls(){return this._controls}}class Ld{constructor(e){this._container=document.createElement("div"),this._client=void 0,this._advert=null,this._creative=null,this._tracker=null,this._vpaid=null,this._videos=[],this._provider=null,this._ui=null,this._params=void 0,this._playbackParams=null,this._loaded=!1,this.checkRealAdvertTime=()=>{var e,t,n,r;null!==(e=this._playbackParams)&&void 0!==e&&e.video&&(null!==(n=this._creative)&&void 0!==n&&n.duration&&Math.abs(this._creative.duration-this._playbackParams.video.duration)>1&&(null===(r=this._tracker)||void 0===r||r.error({ERRORCODE:202})));null===(t=this._provider)||void 0===t||t.unsubscribe("impression",this.checkRealAdvertTime)},this._client=new Ac,this._params=(0,l.A)((0,l.A)({},e),{},{wrapperLimit:e.wrapperLimit||xc,loadTimeout:e.loadTimeout||Rc,startTimeout:e.startTimeout||Lc})}async loadAd(){var e;const t=await Qc(this._client.get(this._params.url,{withCredentials:Oc,wrapperLimit:this._params.wrapperLimit}),this._params.loadTimeout);if(this._advert=t.ads.find((e=>e.creatives.length>0))||null,!this._advert)throw new Xc("No valid advert found in response");var n,r;if(this._creative=this._advert.creatives.find((e=>"linear"===e.type))||null,!this._creative)throw Tc(null===(n=this._advert)||void 0===n?void 0:n.errorURLTemplates,403,Oc),new Xc("No valid creative found in response");if(this._creative.duration<1)throw Tc(null===(r=this._advert)||void 0===r?void 0:r.errorURLTemplates,101,Oc),new Xc("Invalid VAST");if(null===this._creative.skipDelay&&this._creative.duration>60?this._creative.skipDelay=60:this._creative.skipDelay&&this._creative.skipDelay>=this._creative.duration&&(this._creative.skipDelay=null),this._tracker=new Cc(this._client,this._advert,this._creative),!Yc(this._creative).length)throw this._tracker.error({ERRORCODE:403}),new Xc("No media file found in response");const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kc;return Yc(e,(e=>{const{width:n,height:r}=e;return!e.width||!e.height||t(e)&&n/r>=1}))}(this._creative);if(null==i||!i.length)throw this._tracker.error({ERRORCODE:203}),new Xc("Horizontal resolution media file not found in response");this._vpaid=(null===(e=(e=>e.find((e=>qc(e))))(i))||void 0===e?void 0:e.fileURL)||null,this._videos=(e=>e.filter((e=>"video/mp4"===e.mimeType)))(i),this._loaded=!0}async initPlayback(e){const t=isNaN(e.volume)||e.volume<0||e.volume>1?.5:e.volume;this._playbackParams=(0,l.A)((0,l.A)({},e),{},{volume:t});try{await this.initAd(this._vpaid||void 0)}catch(e){if(!this._vpaid||!this._videos.length)throw e;await this.initAd()}}async initAd(e){if(!(this._advert&&this._creative&&this._tracker&&this._playbackParams))throw new Xc("Advert was not loaded yet");this._container.classList.add(Pc),this._playbackParams.video.after(this._container);const t=this._advert.creatives.find((e=>"companion"===e.type))||null;const n={video:this._playbackParams.video,container:this._container,advert:this._advert,creative:this._creative,tracker:this._tracker,companionTracker:t?new Cc(null,this._advert,t):void 0,startTimeout:this._params.startTimeout,volume:this._playbackParams.volume};this._provider=e?new Ed((0,l.A)((0,l.A)({},n),{},{url:e,timeout:this._params.loadTimeout})):new yd((0,l.A)((0,l.A)({},n),{},{creative:(0,l.A)((0,l.A)({},this._creative),{},{mediaFiles:this._videos})})),this._ui=new Rd({video:this._playbackParams.video,provider:this._provider,advert:this._advert,container:this._container,vendorUi:this._provider instanceof Ed,blockState:this._playbackParams.blockState,disableText:this._playbackParams.disableText,onDisableAd:this._playbackParams.onDisableAd,volume:this._playbackParams.volume}),this._provider.subscribe("impression",this.checkRealAdvertTime);try{var r;await(null===(r=this._provider)||void 0===r?void 0:r.init())}catch(e){throw this._provider.unsubscribe("impression",this.checkRealAdvertTime),this._ui.destroy(),e}}destroy(){var e,t,n;null===(e=this._provider)||void 0===e||e.destroy(),null===(t=this._ui)||void 0===t||t.destroy(),null===(n=this._playbackParams)||void 0===n||n.video.removeAttribute("src"),this._container.remove(),this._loaded=!1}get provider(){return this._provider}get volume(){var e;return null===(e=this._provider)||void 0===e?void 0:e.volume}set volume(e){this._provider&&(this._provider.volume=e||0)}play(){var e;null===(e=this._provider)||void 0===e||e.start()}resume(){var e;null===(e=this._provider)||void 0===e||e.resume()}pause(){var e;null===(e=this._provider)||void 0===e||e.pause()}skip(){var e;null===(e=this._provider)||void 0===e||e.skip()}get customTitle(){return this._advert?od(this._advert):null}get info(){if(!this._advert||!this._creative)return null;let e;return this._loaded&&(e=this._vpaid?"VPAID":"VAST"),{duration:this._creative.duration,skipDuration:this._creative.skipDelay||void 0,campaignId:rd(this._advert,"campaignId")||rd(this._advert,"CampaignId")||void 0,advertId:rd(this._advert,"adId")||rd(this._advert,"AdId")||void 0,ownerId:rd(this._advert,"ownerId")||rd(this._advert,"OwnerId")||void 0,framework:e}}get ui(){return this._ui}get vendorUi(){return Boolean(this._vpaid)}}class Od extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(e),this._shouldRetry=void 0,this._shouldRetry=t,this.name="RetryableError",Object.setPrototypeOf(this,Od.prototype)}get shouldRetry(){return this._shouldRetry}}var Nd;let Md;class Dd extends Es{constructor(e,t,n){super(e,n),this._instance=(Md(this),null),this._playbackParams=null,this._urlParams=void 0,this.config=void 0,this.url_template=void 0,this._quartileEvents=new Set,this.adSkippable=!1,this.load=async()=>{const e=this._getSdkParams();try{this._instance=new Ld(e),await this._instance.loadAd()}catch(e){var t;throw null===(t=this._instance)||void 0===t||t.destroy(),console.warn(e),e instanceof Error?new Od(e.message,!e.message.includes("204")):e}},this.config=e,this.url_template=this.config.data.url_template,this.config.data=(0,l.A)((0,l.A)({},e.data),{},{url_template:t(e.data.url_template)}),this._urlParams=(0,r.al)(e.data.url_template)}async initPlayback(e){if(!this._instance)throw new Error("No instance found");this._playbackParams=e;try{var t;await this._instance.initPlayback((0,l.A)((0,l.A)({},e),{},{volume:e.volume?.5:0})),this.registerInternalEvents(),null===(t=this.ui)||void 0===t||t.updateControlsVisibility({skip:!1})}catch(e){this._onError()}}_getSdkParams(){const{xmltimeout:e,adtimeout:t}=this.config.data,n=e&&!isNaN(e)?1e3*e:void 0,r=t&&!isNaN(t)?1e3*t:void 0;return{wrapperLimit:5,url:this.config.data.url_template,loadTimeout:n,startTimeout:r}}subscribe(e){Object.keys(e).forEach((t=>{const n=e[t];var r;n&&(null===(r=this._instance)||void 0===r||null===(r=r.provider)||void 0===r||r.subscribe(t,n))}))}prepareEvents(e){let t=!1,n=!1;const r=e.onSuccess?(0,ys.once)(e.onSuccess):void 0,i=e.onEnd?(0,ys.once)((t=>{var n;this._destroyed||(null===(n=e.onEnd)||void 0===n||n.call(e,t))})):void 0;return{started:()=>{var n;t||(t=!0,null===(n=e.onStart)||void 0===n||n.call(e))},error:()=>{var t;null===(t=e.onError)||void 0===t||t.call(e,"Native advert player error"),null==i||i(!1)},skipped:()=>{var t;null===(t=e.onSkip)||void 0===t||t.call(e),null==i||i(!0)},close:()=>{var t;null===(t=e.onClose)||void 0===t||t.call(e),null==i||i(!0)},complete:()=>{null==r||r(),null==i||i(!0)},click:()=>{var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e)},impression:()=>{var t;return null===(t=e.onImpression)||void 0===t?void 0:t.call(e)},stopped:()=>{null==i||i(!0)},playingState:n=>{var r,i;!t&&n&&(null===(r=e.onEarlyStartAttempt)||void 0===r||r.call(e));t&&(null===(i=e.onPlayingState)||void 0===i||i.call(e,n))},timeUpdate:t=>{let{viewedPercent:n}=t;if("function"==typeof e.onViewQuartile){var r,i,o;if(n>=75&&!this._quartileEvents.has("third"))return null===(r=e.onViewQuartile)||void 0===r||r.call(e,"third"),void this._quartileEvents.add("third");if(n>=50&&!this._quartileEvents.has("second"))return null===(i=e.onViewQuartile)||void 0===i||i.call(e,"second"),void this._quartileEvents.add("second");if(n>=25&&!this._quartileEvents.has("first"))null===(o=e.onViewQuartile)||void 0===o||o.call(e,"first"),this._quartileEvents.add("first")}},skippableStateChange:t=>{var r;t&&!n&&(null===(r=e.onSkippableStateChangeToTrue)||void 0===r||r.call(e));this.adSkippable=t,n=t},skipRemain:t=>{var n;null===(n=e.onSkipRemain)||void 0===n||n.call(e,t)},volumeChange:t=>{var n;null===(n=e.onVolumeChange)||void 0===n||n.call(e,t)}}}play(){var e,t;null!==(e=this._playbackParams)&&void 0!==e&&e.preventStartAdvert||null===(t=this._instance)||void 0===t||t.play()}resume(){var e;null===(e=this._instance)||void 0===e||e.resume()}pause(){var e;null===(e=this._instance)||void 0===e||e.pause()}skipAd(){var e;null===(e=this._instance)||void 0===e||e.skip()}getCustomTitle(){var e;return(null===(e=this._instance)||void 0===e?void 0:e.customTitle)||null}preload(){var e,t;return null===(e=this._instance)||void 0===e||null===(e=e.provider)||void 0===e||null===(t=e.preload)||void 0===t?void 0:t.call(e)}destroy(){var e;super.destroy(),null===(e=this._instance)||void 0===e||e.destroy(),this._instance=null}get volume(){var e;return null===(e=this._instance)||void 0===e?void 0:e.volume}set volume(e){this._instance&&e&&(this._instance.volume=e)}get advert(){return this.config.data}get info(){var e;return(null===(e=this._instance)||void 0===e?void 0:e.info)||null}get placeholders(){var e,t;if(!this.info)return null;return{advertId:this.info.advertId||"",campaignId:this.info.campaignId||"",adsUrlTemplate:this.advert.url_template||"",adsOwnerId:this.ownerId,adDur:this.info.duration||"",adsSkipt:"number"==typeof(null===(e=this._instance)||void 0===e||null===(e=e.info)||void 0===e?void 0:e.skipDuration)&&null!==(t=this.info)&&void 0!==t&&t.skipDuration?"1":"0"}}get ui(){var e;return null===(e=this._instance)||void 0===e?void 0:e.ui}get isVendorUi(){var e;return null===(e=this._instance)||void 0===e?void 0:e.vendorUi}get ownerId(){var e;return(null===(e=this._instance)||void 0===e||null===(e=e.info)||void 0===e?void 0:e.ownerId)||this._urlParams.ownerId||100..toString()}}Nd=Dd,[Md]=(0,k.A)(Nd,[],[[I.zm,2,"play"],[I.zm,2,"resume"],[I.zm,2,"pause"],[I.zm,2,"skipAd"]],0,void 0,Es).e;const Bd=(0,Jn.PA)((e=>{let{removeAdsButton:n}=e;const[r,i]=(0,t.useState)(null),o=n,{currentProvider:a,playbackReady:s,isSkipable:l,skipAd:u}=rs(),c=a instanceof Dd,d=c&&a.isVendorUi;return(0,t.useEffect)((()=>{!c||null!=a&&a.adSkippable||null==a||a.registerEvents({onSkipRemain:e=>{i(Math.ceil(e))}})}),[c,a,s,i]),c?t.createElement(t.Fragment,null,o&&t.createElement(o,{isCustom:!0,className:er()(Iu,Ou,[{[Lu]:d}])}),c&&(null!==r||l)&&t.createElement("button",{className:er()(Iu,Ru,[{[Lu]:d}]),disabled:!l,onClick:()=>u()},t.createElement("span",{className:er()(Tu,{[xu]:l})},"ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ".concat(r?" Ñ‡ÐµÑ€ÐµÐ· ".concat(r):"")),l&&t.createElement(Pu,null))):o&&t.createElement(o,null)})),Fd="rutube-advert-module__SDKWrapper___dwe5k",Hd="rutube-advert-module__SDKVideo___In5R_",Vd="rutube-advert-module__SDKVideoHidden___G_6MZ",Ud=(0,Jn.PA)((()=>{const e=(0,t.useRef)(!1),n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=rs(),{currentAdvert:o,currentState:a,currentProvider:s,blockState:l,events:u,isEmbed:c,playbackReady:d,volumeInBlock:h}=i,{requestSubscription:p,canDisableAds:m,disableAdsButtonTitle:v}=zA();(0,t.useEffect)((()=>{if(!d&&!e.current&&r.current&&n.current&&s instanceof Dd){const t=i.playback.muted?0:i.playback.volume,r=null!==h?h:t;e.current=!0,null==s||s.initPlayback({volume:r,video:n.current,blockState:l?{total:l.total,viewed:l.viewed+1}:void 0}).then((()=>{i.playbackReady=!0})).catch((e=>{var t;null===(t=u.onError)||void 0===t||t.call(u,e.message),console.warn(e)}))}}),[d,s,i,l,m,v,c,u,p,h]);const _=bs(n),f=(0,t.useCallback)((e=>{n.current=e,i.advertVideo=e}),[o]);return t.createElement("div",{className:er()(Fd,{[Vd]:"show"!==a}),id:"native-advert_container",ref:r},t.createElement("video",{className:er()(Ba,Hd),poster:cs,ref:f,preload:"auto",playsInline:!0,onError:e=>{var t;return null===(t=u.onError)||void 0===t?void 0:t.call(u,e.type)},onVolumeChange:_}))})),jd=(0,Jn.PA)((e=>{let{removeAdsButton:n}=e;const{currentState:r,currentAdvert:i,currentProvider:o,currentItems:a,playbackReady:s,isLoaded:u,isNodeConnected:c,backgroundStyles:d,showPlayButton:h,resume:p}=rs();if(!a.length||"error"===r||!c)return null;const m=o instanceof Dd?Ud:wu,v=u&&s&&"show"===r;return t.createElement("div",{key:"raichu-advert","data-testid":"advert",className:Su,style:{pointerEvents:i||u?"all":"none",opacity:"show"===r?1:0,visibility:"show"!==r?"hidden":"visible"}},(!u||!s)&&t.createElement("div",{className:Au,style:(0,l.A)((0,l.A)({},d),{},{position:"absolute",width:"100%",height:"100%",zIndex:30,pointerEvents:"none"})},t.createElement(jo,null)),t.createElement("div",{style:{opacity:u?"1":"0"}},o&&m&&t.createElement(m,null),v&&t.createElement(Bd,{removeAdsButton:n}),h&&t.createElement(us,{withBg:!0,className:ku,wrapperClassName:Cu,tooltipDisabled:!0,onClick:p})))})),Wd="advert-timer-module__wrapper___jp0qc",zd="advert-timer-module__wrapper_hiddenControls___S97Nd",Gd="advert-timer-module__mobileControlsVisible____zDWP",qd=(0,Jn.PA)((()=>{const{currentState:e,startTimer:n,isShowAdvertTimer:r,preventAdvertStart:i}=rs(),{isShowControls:o}=(0,pt.useControls)(),a=er()(Wd,{[zd]:!o,[Gd]:H.B.isMobile&&o});return!e||"show"===e||i?null:r?t.createElement("span",{className:a,"data-testid":"ad-countdown"},"Ð ÐµÐºÐ»Ð°Ð¼Ð° Ð½Ð°Ñ‡Ð½Ñ‘Ñ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· ",n?Math.ceil(n):0):null})),Kd=e=>{let{removeAdsButton:n}=e;return t.createElement(t.Fragment,null,pt.ControlsPlugin.IsNewControls?t.createElement(os,null):t.createElement(qd,null),t.createElement(jd,{removeAdsButton:n}))},Yd=e=>{let{fn:t,timeout:n,maxAttempts:r,onRequest:i,onError:o}=e;return new Promise(((e,a)=>{let s,l=null,u=null,c=0;const d=performance.now(),h=()=>{l&&(clearTimeout(l),l=null),u&&(clearTimeout(u),u=null)};l=setTimeout((()=>{h(),a(s||new Error("Advert timeout exceeded"))}),n);const p=()=>{c++,i(),t().then((t=>{h(),e(t)})).catch((e=>{if(e instanceof Od&&!e.shouldRetry)return h(),void a(e);s=e;const t=performance.now()-d,i=n-t;if(i<=700||c>=r)return h(),void a(e);o(e);const l=Math.min(70*c,i);u=setTimeout((()=>p()),l)}))};p()}))},Xd=e=>(e.startsWith("https://ssp.rutube.")||e.startsWith("https://a.rutube.")||e.startsWith("https://yandex.ru")||e.includes("debug_url"))&&!e.includes("adfox=1");class Qd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;this.abortController=new AbortController,this.timeout=2e3,this.urls=[],this.advertsByUrl={},this.providersByUrl={},this.loaders={},this.done=!1,this.overallTimer=null,this.log={error:"",results:{}},this._advert=e,this._resolvePlaceholders=t,this._events=n,this._retryAttempts=r,this._sdkPromises=i,this._forceSdk=o,this.init()}prepareUrls(){this.urls=this._advert.url_template.split("#").map(((e,t)=>this.addUrlPrefix(e,t))).filter((e=>{if(!e)return!1;try{return new URL(e),!0}catch(e){return!1}}))}addUrlPrefix(e,t){return"".concat(e,"&order=").concat(t)}removeUrlPrefix(e){return e.replace(/&order=\d+$/,"")}init(){this.timeout=this._advert.xmltimeout?1e3*this._advert.xmltimeout+1:this.timeout,this.prepareUrls(),this.urls.forEach(((e,t)=>{const n=(0,l.A)((0,l.A)({},this._advert),{},{url_template:this.removeUrlPrefix(e)});if(n.sdk=(e=>{const{url_template:t}=e;return t?Xd(t)?Na:Oa:null})(n),n.sdk){if(this._forceSdk&&(n.sdk=this._forceSdk),"NATIVE"===n.sdk)this.providersByUrl[e]=new Dd({data:n},this._resolvePlaceholders,Promise.resolve("NATIVE"));else{if("ADFOX"!==n.sdk)return;var r;this.providersByUrl[e]=new Ls({data:n},this._resolvePlaceholders,null!==(r=this._sdkPromises.ADFOX)&&void 0!==r?r:Promise.reject("AdvertSdkLoader init error"))}this.advertsByUrl[e]=n}else this.urls.splice(t,1)}))}loadProvider(e,t){return new Promise(((n,r)=>{const i=this.abortController.signal;if(i.aborted)return r(i.reason);i.addEventListener("abort",(()=>{r(i.reason)})),e.sdkReadyPromise.then((i=>{if(!i)return r("No SDK ready");Promise.race([Yd({fn:e.load,timeout:this.timeout,maxAttempts:this._retryAttempts,onRequest:()=>this._events.onRequest(this.advertsByUrl[t],e),onError:n=>this._events.onError(this.advertsByUrl[t],e,n)}),this.loadTimer()]).then((e=>{n(e),this.log.results={url:!0}})).catch((n=>{var i;this.log.results[t]=(null==n||null===(i=n.toString)||void 0===i?void 0:i.call(n))||"unknown",this._events.onError(this.advertsByUrl[t],e,n),r(n)}))}))}))}loadTimer(){return new Promise(((e,t)=>{setTimeout((()=>{t(new Error("Advert loading timeout exceed"))}),this.timeout)}))}makeWaterfall(){Object.keys(this.providersByUrl).forEach((e=>{this.loaders[e]=this.loadProvider(this.providersByUrl[e],e)}))}cleanUp(e){this.overallTimer&&clearTimeout(this.overallTimer),this.abortController.abort("Needle advert url already loaded"),Object.keys(this.providersByUrl).forEach((t=>{var n;t!==e&&(null===(n=this.providersByUrl[t])||void 0===n||n.destroy(),delete this.providersByUrl[t],delete this.loaders[t])}))}async getResult(){return this.makeWaterfall(),Object.keys(this.loaders).length&&this.urls.length?new Promise((e=>{const t={};this.overallTimer=setTimeout((()=>{this.cleanUp(),this.log.error="Overall timeout exceed",this._events.onError(this._advert,void 0,"Waterfall: ".concat(this.log.error)),e({log:this.log,advert:this._advert})}),this.timeout+100);const n=()=>{if(!this.done)if(this.urls.length){let n=null,r=!1;for(const e of this.urls){if(void 0===t[e]){r=!0;break}if(t[e]){n=e;break}}n?(this.cleanUp(n),this.done=!0,e({advert:this.advertsByUrl[n],provider:this.providersByUrl[n],log:this.log})):r||(this.cleanUp(),e({log:this.log,advert:this._advert}))}else e({log:this.log,advert:this._advert})};Object.keys(this.loaders).forEach((e=>{this.loaders[e].then((()=>{t[e]=!0})).catch((()=>{var n;t[e]=!1,null===(n=this.providersByUrl[e])||void 0===n||n.destroy()})).finally((()=>{n()}))}))})):(this.log.error="No urls found",this._events.onError(this._advert,void 0,"Waterfall: ".concat(this.log.error)),{advert:this._advert,log:this.log})}}const Zd="1408",Jd="404",$d="1000",eh=e=>"string"==typeof e?e:e instanceof Error&&!("code"in e)?e.message:e&&"code"in e?e.code:"unknown message",th=e=>{const t=eh(e).toLowerCase();return t.includes("timeout")?Zd:t.includes("network")?Jd:$d},nh=(e,t)=>{let n=!1;return e.find((e=>e.name.includes("midpostroll")))&&(n=!0),e.reduce(((e,r)=>{const i=r.start>t||r.start<0&&t+r.start<0;if(r.name.search(La)>=0||i)return e;if(r.start>t)return e;const o=r.name,a=o.replace(/\d+/,"");let s=r.start<0?Math.floor(t)+r.start:r.start;"postroll"===a&&(s=Math.floor(t));const u=t-s,c=n&&r.name.includes("midroll")&&u<50;return Xa(a)&&(e=>new RegExp("^".concat(Da.join("|"),"(d+)?$")).test(e))(o)&&!c&&e.push((0,l.A)((0,l.A)({},r),{},{start:s,name:o,type:a})),e}),[])};var rh,ih;let oh,ah,sh,lh;var uh,ch;let dh,hh,ph;new(ih=class extends I.j8{constructor(e,t,n,r,i,o,a,s,u,c,d){super(),this.isEmbed=(oh(this),!1),this.isMobile=H.B.isMobile,this._adBlock=P.sH.box(null),this._items=P.sH.box({}),this._limits=P.sH.box([]),this._currentItems=P.sH.box([]),this._currentState=P.sH.box(null),this._currentProvider=P.sH.box(null),this._currentProgress=P.sH.box(0),this._playbackReady=P.sH.box(!1),this._loading=P.sH.box(!1),this._startTimer=P.sH.box(null),this._startTimerHandling=!1,this._preloadTimer=null,this._isPlaying=P.sH.box(!1),this._blockState=P.sH.box(null),this._cuePoints=P.sH.box([]),this._advertVideo=P.sH.box(null),this._preventAdvertStart=P.sH.box(!1),this._isAdvertEnded=P.sH.box(!1),this._isSkipable=P.sH.box(!1),this._isControlsHidden=P.sH.box(!1),this._advertRequestTimestamp=P.sH.box(null),this._customTitle=P.sH.box(null),this._volumeInBlock=P.sH.box(null),this._adapter=null,this._eventEmitter=void 0,this._canAutoplay=!1,this._isAdvertPlayingDisabled=!1,this._preventAdvertEndEvent=!1,this._preloaded=!1,this._errorPhase="load",this._retryAttempts=5,this._forceSdk=void 0,this.advertSdkLoader=void 0,this.onLoad=async()=>{var e,t,n,r;(this._eventEmitter.emit(Va.load,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""}),this.loading="loaded",this._canAutoplay=await(()=>{const e=document.createElement("video");return e.playsInline=!0,e.src="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAARmbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAA+gAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA5B0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+gAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAIAAAACAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPoAAAEAAABAAAAAAMIbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAAyAAAAMgBVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACs21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAnNzdGJsAAAAv3N0c2QAAAAAAAAAAQAAAK9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAIAAgBIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAANWF2Y0MBZAAK/+EAGWdkAAqs2V+IiMBEAAADAAQAAAMAyDxIllgBAAVo74bywP34+AAAAAAQcGFzcAAAAAEAAAABAAAAFGJ0cnQAAAAAAAAfkAAAH5AAAAAYc3R0cwAAAAAAAAABAAAAGQAAAgAAAAAUc3RzcwAAAAAAAAABAAAAAQAAANhjdHRzAAAAAAAAABkAAAABAAAEAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACgAAAAABAAAEAAAAAAEAAAAAAAAAAQAAAgAAAAABAAAKAAAAAAEAAAQAAAAAAQAAAAAAAAABAAACAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACgAAAAABAAAEAAAAAAEAAAAAAAAAAQAAAgAAAAABAAAKAAAAAAEAAAQAAAAAAQAAAAAAAAABAAACAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAGQAAAAEAAAB4c3RzegAAAAAAAAAAAAAAGQAAAsMAAAAMAAAADAAAAAwAAAAMAAAADQAAAA4AAAAMAAAADAAAAA0AAAAOAAAADAAAAAwAAAANAAAADgAAAAwAAAAMAAAADQAAAA4AAAAMAAAADAAAAA0AAAAOAAAADAAAAAwAAAAUc3RjbwAAAAAAAAABAAAElgAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTkuMTYuMTAwAAAACGZyZWUAAAP6bWRhdAAAAqkGBf//pdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNTUgcjI5MTcgMGE4NGQ5OCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTggLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0xIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgzIG1lPWRpYSBzdWJtZT0xIHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTAgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0wIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PTAgdGhyZWFkcz0xIGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0xIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmM9Y3JmIG1idHJlZT0wIGNyZj0yMC4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIHBiX3JhdGlvPTEuMzAgYXE9MToxLjAwAIAAAAASZYiEABL/6v/CVT+9s3RcRf/xAAAACEGaJBiCn/7wAAAACEGeQkIJf5KBAAAACAGeYUQR/5eAAAAACAGeY0QR/5eBAAAACUGaaDRMQU/+8QAAAApBnoZFESwT/4yBAAAACAGepUQR/5eBAAAACAGep0QS/5KAAAAACUGarDRMQU/+8AAAAApBnspFFSwT/4yBAAAACAGe6UQS/5KAAAAACAGe60QS/5KAAAAACUGa8DRMQU/+8QAAAApBnw5FFSwT/4yBAAAACAGfLUQS/5KBAAAACAGfL0QS/5KAAAAACUGbNDRMQU/+8AAAAApBn1JFFSwT/4yBAAAACAGfcUQS/5KAAAAACAGfc0QS/5KAAAAACUGbeDRMQU/+8QAAAApBn5ZFFSwU/4aAAAAACAGftUQS/5KBAAAACAGft0QS/5KB",e.autoplay=!0,e.style.visibility="hidden",document.body.appendChild(e),e.play().then((()=>!0)).catch((()=>!1)).finally((()=>{e.remove()}))})(),1===this.currentItems.length)&&(null===(n=this.playback.provider.provider)||void 0===n||null===(r=n.startLoad)||void 0===r||r.call(n,this._playback.currentTime))},this.onRequest=(e,t)=>{this._eventEmitter.emit(Va.request,{name:e.name||"",urlTemplate:e.url_template||"",provider:t}),this._stat.onRequest(e,t)},this.onStart=()=>{var e,t;this._stat.onStart(),this.stabilizeAdVolume(),this.advertVideo&&x()&&this.advertVideo.removeAttribute("poster"),(0,P.h5)((()=>this._isPlaying.set(!0))),this._pip&&(this._pip.isEnterToPiPForbidden=!0),this._eventEmitter.emit(Va.start,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.onAlreadyStarted=()=>{var e,t;this._eventEmitter.emit(Va.alreadyStarted,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.onEarlyStartAttempt=()=>{var e,t;this._eventEmitter.emit(Va.earlyStartAttempt,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.logError=(e,t,n)=>{var r,i,o;const a=null!==(r=null==t?void 0:t.traceId)&&void 0!==r?r:(0,xo.A)(),s=th(n);this._stat.onError(e,s,a,t),this._eventEmitter.emit(Va.error,{name:(null===(i=this.currentAdvert)||void 0===i?void 0:i.name)||"",urlTemplate:(null===(o=this.currentAdvert)||void 0===o?void 0:o.url_template)||"",errorMessage:eh(n),errorCode:th(n),traceId:a,adProvider:t,phase:this._errorPhase})},this.onError=()=>{var e;null!==(e=this.blockState)&&void 0!==e&&e.total&&(this.blockState.total=this.blockState.total-1)},this.onWaterfallError=()=>{this.onError()},this.onAdvertError=e=>{var t;const n=(null===(t=this.currentProvider)||void 0===t?void 0:t.advert)||this.currentAdvert;n&&this.currentProvider&&(this.logError(n,this.currentProvider,e),this.onError())},this.onInitError=()=>{var e,t;this._eventEmitter.emit(Va.initError,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})},this.onPlayingState=e=>{e&&"start"===this._errorPhase&&(this._errorPhase="playing"),this._stat.onPlayingState(e),(0,P.h5)((()=>this._isPlaying.set(e)))},this.onProgress=e=>{this.currentProgress=e},this.onEnd=e=>{if(!this.isAdvertEnded){var t,n;if(this.isAdvertEnded=!0,!this._preventAdvertEndEvent)this._eventEmitter.emit(Va.end,{name:(null===(t=this.currentAdvert)||void 0===t?void 0:t.name)||"",urlTemplate:(null===(n=this.currentAdvert)||void 0===n?void 0:n.url_template)||""});this._preventAdvertEndEvent=!1,this.loading=!1,(0,P.h5)((()=>this._isPlaying.set(!1))),this._pip&&(this._pip.isEnterToPiPForbidden=!1),this.currentAdvert&&(e&&(0,P.h5)((()=>{this.blockState&&this._blockState.set((0,l.A)((0,l.A)({},this.blockState),{},{viewed:this.blockState.viewed+1}))})),this.data.isLive&&this.currentAdvert.name.includes("preroll")&&this.playback.goLive(),this.removeCurrentAdvert())}},this.onImpression=()=>{var e;this._playback.volume>0&&null!==(e=this.currentProvider)&&void 0!==e&&e.volume&&this.currentProvider.volume>0&&this.stabilizeAdVolume()},this._onBlockStart=()=>{var e,t;(this._stat.onBlockStart(),(0,P.h5)((()=>this._blockState.set({total:this.currentItems.length,viewed:0}))),this.playback.isPlayerReady)&&(null===(e=this.playback.provider.provider)||void 0===e||null===(t=e.stopLoad)||void 0===t||t.call(e))},this._onBlockEnd=()=>{var e,t;this._stat.onBlockEnd(),(0,P.h5)((()=>this._blockState.set(null))),this.volumeInBlock=null,null===(e=this.playback.provider.provider)||void 0===e||null===(t=e.startLoad)||void 0===t||t.call(e,this._playback.currentTime),this._playback.ended&&(this._playback.canReplay=!0)},this.skipAd=()=>{var e,t,n;null!==(e=this.currentProvider)&&void 0!==e&&e.adSkippable&&(this.currentProvider&&(null===(t=(n=this.currentProvider).skipAd)||void 0===t||t.call(n),this.currentProvider.adSkippable=!1))},this.onVolumeChange=e=>{this.volumeInBlock=e},this.destroyCurrent=()=>{var e;null===(e=this.currentProvider)||void 0===e||e.destroy(),this._stat.clean(),this.currentItems=[],this.currentState=null,this.loading=!1},this.props=e,this._stat=t,this._playback=n,this._fullscreen=r,this._data=i,this._placeholders=o,this._embed=a,this._config=s,this._domNodeTracker=u,this._visibilityState=c,this._pip=d,this.isEmbed=e.value,this._eventEmitter=new xa,this.resume=this.resume.bind(this),(0,P.Gn)(this,{adBlock:P.EW,items:P.EW,limits:P.EW,currentItems:P.EW,currentState:P.EW,currentProvider:P.EW,currentProgress:P.EW,customTitle:P.EW,cuePoints:P.EW,loading:P.EW,isLoading:P.EW,isLoaded:P.EW,startTimer:P.EW,isPlaying:P.EW,blockState:P.EW,data:P.EW,preventAdvertStart:P.EW,isAdvertEnded:P.EW,isControlsHidden:P.EW,advertRequestTimestamp:P.EW,advertVideo:P.EW,playbackReady:P.EW,removeCurrentAdvert:P.XI,isSkipable:P.EW,onSkippableStateChangeToTrue:P.XI,volumeInBlock:P.EW}),this.onSkippableStateChangeToTrue=this.onSkippableStateChangeToTrue.bind(this),this.resolvePlaceholders=this.resolvePlaceholders.bind(this),this.advertSdkLoader=new qa(this._eventEmitter)}init(){var t;if("player-carousel"===(null===(t=this._embed)||void 0===t||null===(t=t.params)||void 0===t?void 0:t.platform))return;const n=[];return n.push((0,P.mJ)((()=>this._visibilityState.isVisible),(e=>{this._isAdvertPlayingDisabled||"show"!==this.currentState||(e?this.resume():this.pause())}))),n.push((0,P.mJ)((()=>this.currentItems),(e=>{window.location.search.includes(Ha)&&console.warn(JSON.parse(JSON.stringify(e)))}))),n.push((0,P.mJ)((()=>({isVideoPlaying:this._playback.isPlaying,isAdPlaying:this.isPlaying})),(e=>{let{isVideoPlaying:t,isAdPlaying:n}=e;var r;T()&&this._fullscreen.isFullscreen||t&&(n||this.currentAdvert&&!this.isShowAdvertTimer)&&(null===(r=this._playback)||void 0===r||r.pause(),this.resume())}))),n.push((0,P.mJ)((()=>this.currentAdvert),(()=>{var e;if(window.location.search.includes(Ha)&&console.warn("CURRENT ADVERT",JSON.parse(JSON.stringify(this.currentAdvert))),this._stat.advertUid=null,this.loading=!1,this._preloaded=!1,this.isAdvertEnded=!1,this.playbackReady=!1,null===(e=this.currentProvider)||void 0===e||e.destroy(),this._stat.advert=null,this._stat.provider=null,this._errorPhase="load",this.currentAdvert){if(T()&&this._fullscreen.isFullscreen)return void this.destroyOnIosFullScreen();(0,P.h5)((async()=>{try{var e,t;this._isSkipable.set(!1),this.loading="loading",this.advertRequestTimestamp=(new Date).getTime(),this._stat.makeUid();const n={onRequest:this.onRequest,onError:this.logError};this._eventEmitter.emit(Va.init,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""});const r=new Qd(this.currentAdvert,this.resolvePlaceholders.bind(this),n,this._retryAttempts,this.advertSdkLoader.sdkReadyPromises,this._forceSdk),i=await r.getResult();if(null==i||!i.provider)throw new Error("Waterfall error: ".concat(JSON.stringify(i.log)));this._stat.advert=i.advert,this._stat.provider=i.provider,this.currentProvider=i.provider,this.currentProvider.adSkippable&&this.onSkippableStateChangeToTrue(),this._errorPhase="start",this._stat.onLoad(),this.onLoad(),this._customTitle.set(this.currentProvider instanceof Dd?this.currentProvider.getCustomTitle():null)}catch(e){var n,r;this.loading=!1,this.onWaterfallError(),null===(n=this._adapter)||void 0===n||null===(r=n.onError)||void 0===r||r.call(n,this.currentAdvert),this.removeCurrentAdvert(),console.warn("Failed to init provider",null==e?void 0:e.toString())}}))}}))),n.push((0,P.mJ)((()=>{var e;return null===(e=this._data)||void 0===e?void 0:e.data}),(t=>{(0,P.h5)((async()=>{t&&(this.adBlock=await(0,e.qZ)("https://static.rutube.ru/static/img/png/adsdkbanner.png"),this.adBlock&&this._eventEmitter.emit(Va.adBlockerFound,{}))}))}))),n.push((0,P.mJ)((()=>this._config.get("videoId")),(()=>{if("show"===this.currentState&&this.currentAdvert&&this.currentProvider){var e,t;if(!this._preventAdvertEndEvent)this._eventEmitter.emit(Va.end,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""});this._stat.onBlockEnd(),this._stat.onUnload()}this._reset()}))),n.push((0,P.mJ)((()=>{var e;return null!==(e=this._config.get("userPaidSubscription"))&&void 0!==e?e:[]}),(e=>{var t;const n=(null===(t=e.filter((e=>e.is_active)))||void 0===t?void 0:t.length)>0;n&&this._reset()}))),n.push((0,P.mJ)((()=>{var e,t;return{advert:null===(e=this._data)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.advert,limits:null===(t=this._data)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.limits,isLive:this._data.isLive,duration:this._playback.duration}}),(e=>{let{advert:t,limits:n,isLive:r,duration:i}=e;if(n=[],!r&&(!i||isNaN(i)))return;let o=[],a={};(0,P.h5)((()=>{if(Array.isArray(n)&&(o=(e=>e.reduce(((e,t)=>{const n=t.name.search(La)>=0;if(t.name.search(La)>=0)return e;const r=n?t.name.replace(La,""):t.name;return Xa(r)&&e.push((0,l.A)((0,l.A)({},t),{},{name:r})),e}),[]))(n),this._limits.set(o)),Array.isArray(t)){const e=nh(t,this._playback.duration),n=r?zi.UX:zi.RR,i=e.filter((e=>n.includes(e.type)));a=Ra(i,"type"),this._items.set(a),window.location.search.includes(Ha)&&console.warn("ALL ADVERT",a)}var e,i;this._adapter?null===(e=(i=this._adapter).reCalc)||void 0===e||e.call(i):this.initAdapter()}))}))),n.push((0,P.mJ)((()=>this.preventAdvertStart),(e=>{e&&this.startTimer&&(this.startTimer=null,this._preloadTimer&&(clearInterval(this._preloadTimer),this._preloadTimer=null))}))),n.push((0,P.mJ)((()=>({isPlaying:this._playback.isPlaying,ended:this._playback.ended,startTimer:this.startTimer,loaded:this.isLoaded})),(e=>{let{isPlaying:t,startTimer:n,ended:r,loaded:i}=e;n&&(T()&&this._fullscreen.isFullscreen||this.advertForbidden?this.destroyOnIosFullScreen():t&&i&&!r?this._preloadTimer||(this._preloadTimer=setInterval((()=>this.runLeftTimeCounter()),50)):this._preloadTimer&&(clearInterval(this._preloadTimer),this._preloadTimer=null))}))),n.push((0,P.mJ)((()=>0===this.currentItems.length),(e=>{e&&(this.currentState=null)}))),n.push((0,P.mJ)((()=>this.playbackReady),(e=>{var t;e&&(this._stat.onPlaybackReady(),null===(t=this.currentProvider)||void 0===t||t.registerEvents(this.events))}))),n.push((0,P.mJ)((()=>({state:this.currentState,prevented:this.preventAdvertStart,provider:this.currentProvider,ready:this.playbackReady})),(e=>{let{state:t,prevented:n,provider:r,ready:i}=e;if(n)return this.removeCurrentAdvert(),void(this.playback.paused&&this.playback.play().catch(console.warn));var o,a;"show"===t&&r&&i&&(this._eventEmitter.emit(Va.startTriggered,{name:(null===(o=this.currentAdvert)||void 0===o?void 0:o.name)||"",urlTemplate:(null===(a=this.currentAdvert)||void 0===a?void 0:a.url_template)||""}),null==r||r.play())}),{equals:P.m3.default})),n.push((0,P.mJ)((()=>this.currentItems.length),(e=>{0===e&&this.blockState?this._onBlockEnd():e>0&&!this.blockState&&this._onBlockStart()}))),T()&&n.push((0,P.mJ)((()=>this._fullscreen.isFullscreen),(e=>{e&&this.destroyOnIosFullScreen()}))),()=>{this._reset(),n.forEach((e=>e()))}}initAdapter(){this._adapter=this._data.isLive?new Za(this,this._playback):new Ja(this,this._playback),this._adapter.init()}removeCurrentAdvert(){setTimeout((()=>{var e;this._preloaded=!1,null===(e=this.currentProvider)||void 0===e||e.destroy(),this.currentProvider=null,this.currentProgress=0,this.playbackReady=!1,this._isPlaying.set(!1),this._stat.clean(),(0,P.h5)((()=>{this._isSkipable.set(!1),this._currentItems.set(this.currentItems.slice(1))}))}))}stabilizeAdVolume(){var e,t;const n=!x()&&this.currentProvider instanceof Ls&&this.currentProvider.adVolumeAvailability,r=Boolean("userActivation"in window.navigator&&(null===(e=window.navigator)||void 0===e||null===(e=e.userActivation)||void 0===e?void 0:e.hasBeenActive)),i=null===(t=this.currentAdvert)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.includes("preroll");if((this._canAutoplay||r)&&n){var o;const e=((null===(o=this.currentProvider)||void 0===o?void 0:o.volume)||0)>1?this._playback.volume/100:this._playback.volume;let t=this._playback.muted||i?0:e/2;if(null!==this.volumeInBlock&&(t=this.volumeInBlock),t>0&&x())return;this.currentProvider&&this.currentProvider.volume!==t&&(this.currentProvider.volume=t)}}onSkippableStateChangeToTrue(){var e,t;this._isSkipable.set(!0),this._eventEmitter.emit(Va.skippable,{name:(null===(e=this.currentAdvert)||void 0===e?void 0:e.name)||"",urlTemplate:(null===(t=this.currentAdvert)||void 0===t?void 0:t.url_template)||""})}async preload(){if(this._preloaded=!0,this.currentAdvert){var e,t;var n,r;if(!1===await(null===(e=this.currentProvider)||void 0===e||null===(t=e.preload)||void 0===t?void 0:t.call(e)))this.currentItems.length<=1&&(this.startTimer=null),this.onAdvertError("Preload error"),null===(n=this._adapter)||void 0===n||null===(r=n.onError)||void 0===r||r.call(n,this.currentAdvert),this.removeCurrentAdvert()}}runLeftTimeCounter(){!this._startTimerHandling&&this.startTimer?(this._startTimerHandling=!0,this.startTimer=Math.max(0,Number((this.startTimer-.05).toFixed(2))),!this._preloaded&&"prefetch"===this.currentState&&!this.preventAdvertStart&&this.playbackReady&&this.startTimer<=4&&this.preload(),this.startTimer||this.preventAdvertStart||("hidden"===document.visibilityState?(this.removeCurrentAdvert(),this._preventAdvertEndEvent=!0):this.currentState="show"),this._startTimerHandling=!1,!this.startTimer&&this._preloadTimer&&(clearInterval(this._preloadTimer),this._preloadTimer=null)):this._preloadTimer&&(clearInterval(this._preloadTimer),this._preloadTimer=null)}_reset(){(0,P.h5)((()=>{var e,t;null===(e=this.currentProvider)||void 0===e||e.destroy(),this.currentProvider=null,null===(t=this._adapter)||void 0===t||t.destroy(),this._adapter=null,this._stat.clean(),this._isPlaying.set(!1),this._loading.set(!1),this._items.set({}),this._currentItems.set([]),this._currentState.set(null),this._currentProgress.set(0),this._startTimer.set(null),this._blockState.set(null),this._cuePoints.set([]),this._preventAdvertStart.set(!1),this._preloaded=!1,this.playbackReady=!1,this._errorPhase="load",this.volumeInBlock=null,this._preloadTimer&&(clearInterval(this._preloadTimer),this._preloadTimer=null)}))}destroyOnIosFullScreen(){this._preventAdvertEndEvent=!0,this.currentItems=[],this.removeCurrentAdvert(),this._isPlaying.set(!1),this.startTimer=null,this._playback.ended&&(this._playback.canReplay=!0),this._preloadTimer&&(clearInterval(this._preloadTimer),this._preloadTimer=null)}resolvePlaceholders(e){return this._placeholders.resolveCommonPlaceholders(e)}on(e,t){this._eventEmitter.on(e,t)}once(e,t){this._eventEmitter.once(e,t)}off(e,t){this._eventEmitter.off(e,t)}pause(){var e;"show"===this.currentState&&(null===(e=this.currentProvider)||void 0===e||e.pause())}resume(){var e;"show"===this.currentState&&(null===(e=this.currentProvider)||void 0===e||e.resume())}disableAdvertPlaying(){this._isAdvertPlayingDisabled=!0,this.pause()}enableAdvertPlaying(){this._isAdvertPlayingDisabled=!1,this.resume()}get preventAdvertStart(){return this._preventAdvertStart.get()}set preventAdvertStart(e){this._preventAdvertStart.set(e)}get adBlock(){return this._adBlock.get()}set adBlock(e){this._adBlock.set(e)}get isAdvertEnded(){return this._isAdvertEnded.get()}set isAdvertEnded(e){this._isAdvertEnded.set(e)}get items(){var e;return T()&&this._fullscreen.isFullscreen||"player-carousel"===(null===(e=this._embed)||void 0===e?void 0:e.params.platform)?{}:this._items.get()}get limits(){return this._limits.get()}get events(){return{onStart:this.onStart,onAlreadyStarted:this.onAlreadyStarted,onEarlyStartAttempt:this.onEarlyStartAttempt,onEnd:this.onEnd,onError:this.onAdvertError,onInitError:this.onInitError,onPlayingState:this.onPlayingState,onProgress:this.onProgress,onImpression:this.onImpression,onSkippableStateChangeToTrue:()=>this.onSkippableStateChangeToTrue(),onClick:()=>this._stat.onClick(),onSkip:()=>this._stat.onSkip(),onViewQuartile:this._stat.onViewQuartile,onSuccess:this._stat.onSuccess,onVolumeChange:this.onVolumeChange}}get currentAdvert(){return this.currentItems[0]||null}get currentState(){return this._currentState.get()}set currentState(e){this._currentState.set(e)}get currentItems(){return this._currentItems.get()}set currentItems(e){this._currentItems.set(e)}get startTimer(){return this._startTimer.get()}set startTimer(e){this._startTimer.set(e)}get currentProvider(){return this._currentProvider.get()}set currentProvider(e){this._currentProvider.set(e)}get currentProgress(){return this._currentProgress.get()}set currentProgress(e){this._currentProgress.set(e)}get isPlaying(){return this._isPlaying.get()}get blockState(){return this._blockState.get()}get isSafeMode(){const{minAge:e,maxAge:t}=this._config.get("safeModeConfig")||{};return null!=e&&null!=t}get loading(){return this._loading.get()}set loading(e){this._loading.set(e)}get isLoading(){return"loading"===this._loading.get()}get isLoaded(){return"loaded"===this._loading.get()}get data(){return this._data}get backgroundStyles(){return{backgroundColor:"black",backgroundSize:"cover",backgroundPosition:"center"}}get playback(){return this._playback}get cuePoints(){return this._cuePoints.get()}set cuePoints(e){this._cuePoints.set(e)}get advertVideo(){return this._advertVideo.get()}set advertVideo(e){this._advertVideo.set(e)}get isShowAdvertTimer(){return Boolean("prefetch"===this.currentState&&this.startTimer&&this.isLoaded)}get customTitle(){return this._customTitle.get()}get playbackReady(){return this._playbackReady.get()}set playbackReady(e){this._playbackReady.set(e)}get isNodeConnected(){return this._domNodeTracker.isConnected}get isControlsHidden(){return this._isControlsHidden.get()}set isControlsHidden(e){this._isControlsHidden.set(e)}get currentAdvertUid(){return this._stat.advertUid}get advertRequestTimestamp(){return this._advertRequestTimestamp.get()}set advertRequestTimestamp(e){this._advertRequestTimestamp.set(e)}get isSkipable(){return this._isSkipable.get()}get hideControlsOnAdvert(){return!1}get showPlayButton(){return this.currentProvider instanceof Ls&&!this.isPlaying&&this.currentProgress>0}get advertForbidden(){var e,t;return this.preventAdvertStart||!(null===(e=this._pip)||void 0===e||!e.isInPiP)&&(t=this._playback.currentVideoId,!window.location.pathname.includes("/video/".concat(t)))}set volumeInBlock(e){this._volumeInBlock.set(e)}get volumeInBlock(){return this._volumeInBlock.get()}},({e:[oh],c:[lh,ah]}=(0,k.A)(ih,[(0,I.k_)({implement:"IAdvertPlugin",ctor_args:["IsEmbed","IAdvertStatPlugin","IPlayback","IFullscreenPlugin","IDataPlugin","IPlaceholdersState",{implement:"IEmbedPlugin",optional:!0},"IPlayerConfigPlugin","IDomNodeTrackerPlugin","IVisibilityStatePlugin",{implement:"PictureInPicturePlugin",optional:!0}]})],[[(0,I.o7)(),2,"init"],[P.XI,2,"destroyOnIosFullScreen"],[I.zm,2,"disableAdvertPlaying"],[I.zm,2,"enableAdvertPlaying"]],0,void 0,I.j8)),sh=ih,(rh=class extends ft{constructor(){super(lh),this.Advert=Kd,ah()}})[sh]=void 0,rh),new(ch=class extends I.j8{constructor(e){super(),this._requestTimestamp=null,this._watchTimeInterval=null,this._lastTimestamp=0,this._watchTime=P.sH.box(0),this._advertUid=P.sH.box(null),this._advert=P.sH.box(null),this.provider=null,this._sentEvents=new Map,this.counterHelper=void 0,this.getCommonParams=(e,t)=>{var n,r,i,o;const{name:a,type:s}=e,l=t||this.provider;return{advertName:a,advertId:null==l||null===(n=l.placeholders)||void 0===n?void 0:n.advertId,campaignId:(null==l||null===(r=l.placeholders)||void 0===r?void 0:r.campaignId)||"",urlTemplate:e.url_template,duration:null==l||null===(i=l.placeholders)||void 0===i||null===(i=i.adDur)||void 0===i?void 0:i.toString(),skipDuration:null==l||null===(o=l.placeholders)||void 0===o?void 0:o.adsSkipt,ownerId:(null==l?void 0:l.ownerId)||"",type:s}},this.onLoad=()=>{var e,t;if(!this.advert)return;const n=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertReceive")(n),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertReceiveByType")(n)},this.onRequest=(e,t)=>{var n,i,o;this._requestTimestamp=(new Date).getTime();const a=this.getCommonParams(e,t);if(!a.ownerId){const t=(0,r.al)(e.url_template);a.ownerId=t.ownerId||"",!a.urlTemplate&&Xd(e.url_template)&&(a.ownerId=100..toString())}null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertRequest")(a),null===(i=this.counterHelper)||void 0===i||i.get("mainAdvertSend")(a),null===(o=this.counterHelper)||void 0===o||o.get("mainAdvertSendByType")(a)},this.onStart=()=>{var e,t,n;if(!this.advert)return;const r=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertStart")(r),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertStartByType")(r),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertView")(r)},this.onSuccess=()=>{var e,t;if(!this.advert)return;const n=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertEnd")(n),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertLoadAfterAd")(n)},this.onSkip=()=>{var e;if(!this.advert)return;const t=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertSkip")(t)},this.onClose=()=>{var e;if(!this.advert)return;const t=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertClose")(t)},this.onError=(e,t,n,r)=>{var i;const o=this.getCommonParams(e,r);null===(i=this.counterHelper)||void 0===i||i.get("mainAdvertError")((0,l.A)((0,l.A)({},o),{},{errorCode:t,errorTraceId:n}))},this.onClick=()=>{var e;if(!this.advert)return;const t=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertClick")(t)},this.onViewQuartile=e=>{var t;if(!this.advert)return;const n=this.getCommonParams(this.advert),r=ph.viewQuartileType[e];null===(t=this.counterHelper)||void 0===t||t.get(r)(n)},this.onUnload=()=>{var e;if(!this.advert)return;const t=this.getCommonParams(this.advert);null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertUnload")(t)},this.onBlockStart=()=>{var e,t,n,r;if(!this.advert)return;const i=this.getCommonParams(this.advert),o="ADVERT_STAT_BLOCK_START_".concat(i.type.toUpperCase());null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertBlockStart")(i),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertBlockStartByType")(i),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertBlockStartYm")(i),null===(r=this.counterHelper)||void 0===r||r.get("mainAdvertBlockStartYmCustom")((0,l.A)((0,l.A)({},i),{},{event:o}))},this.onBlockEnd=()=>{var e,t,n,r;if(!this.advert)return;const i=this.getCommonParams(this.advert),o="ADVERT_STAT_BLOCK_END_".concat(i.type.toUpperCase());null===(e=this.counterHelper)||void 0===e||e.get("mainAdvertBlockEnd")(i),null===(t=this.counterHelper)||void 0===t||t.get("mainAdvertBlockEndByType")(i),null===(n=this.counterHelper)||void 0===n||n.get("mainAdvertBlockEndYm")(i),null===(r=this.counterHelper)||void 0===r||r.get("mainAdvertBlockEndYmCustom")((0,l.A)((0,l.A)({},i),{},{event:o}))};const t=this._sentEvents;this.counterHelper=e&&e instanceof ol?new Proxy(e.counterHelper,{get(e,n,r){return"get"===n&&"function"==typeof e[n]?function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];const s=o[0],l=["mainAdvertRequest","mainAdvertError","mainAdvertSend","mainAdvertSendByType"].includes(s);return t.has(s)&&!l?()=>{}:(t.set(s,!0),Reflect.apply(e[n],r,o))}:Reflect.get(e,n,r)}}):void 0,(0,P.Gn)(this,{viewId:P.EW,watchTime:P.EW,advert:P.EW,advertUid:P.EW})}makeUid(){this.advertUid=(0,xo.A)()}onPlaybackReady(){window.addEventListener("beforeunload",this.onUnload)}onPlayingState(e){e?(this._lastTimestamp=(new Date).getTime(),this._watchTimeInterval=setInterval((()=>{this.watchTime+=(new Date).getTime()-this._lastTimestamp,this._lastTimestamp=(new Date).getTime()}),200)):(this._lastTimestamp&&(this.watchTime+=(new Date).getTime()-this._lastTimestamp,this._lastTimestamp=0),this._watchTimeInterval&&clearInterval(this._watchTimeInterval))}clean(){this.watchTime=0,window.removeEventListener("beforeunload",this.onUnload),this._sentEvents.clear()}get viewId(){var e;const t=(null===(e=this.provider)||void 0===e||null===(e=e.info)||void 0===e?void 0:e.advertId)||"";return"".concat(t,"_").concat(String(this._requestTimestamp),"_").concat(Math.random())}get watchTime(){return this._watchTime.get()}set watchTime(e){this._watchTime.set(e)}get advertUid(){return this._advertUid.get()}set advertUid(e){this._advertUid.set(e)}get advert(){return this._advert.get()}set advert(e){this._advert.set(e)}},[ph,dh]=(0,k.A)(ch,[(0,I.k_)({implement:"IAdvertStatPlugin",ctor_args:[{implement:"IStatisticState",optional:!0}]})],[],0,void 0,I.j8).c,hh=ch,(uh=class extends ft{constructor(){super(ph),this.viewQuartileType={first:"mainAdvertFirstQuartile",second:"mainAdvertSecondQuartile",third:"mainAdvertThirdQuartile"},dh()}})[hh]=void 0,uh);class mh{constructor(){this._timer=null,this._time=0,this._timestamp=null,this._oneSecPassed=P.sH.box(!1),this._twoSecPassed=P.sH.box(!1),(0,P.Gn)(this,{oneSecPassed:P.EW,twoSecPassed:P.EW})}start(){this._timestamp=Date.now(),this.increment()}increment(){this._timer=setTimeout((()=>{const e=Date.now(),t=this._timestamp?e-this._timestamp:0;this._time+=t,this._time>=2e3&&!this.twoSecPassed?this.twoSecPassed=!0:(this._time>=1e3&&!this.oneSecPassed&&(this.oneSecPassed=!0),this._timestamp=e,this.increment())}),200)}clear(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._time=0}reset(){this.clear(),this.oneSecPassed=!1,this.twoSecPassed=!1,this._timestamp=null}set oneSecPassed(e){this._oneSecPassed.set(e)}get oneSecPassed(){return this._oneSecPassed.get()}set twoSecPassed(e){this._twoSecPassed.set(e)}get twoSecPassed(){return this._twoSecPassed.get()}}const vh="mrc_50_1",_h="mrc_50_2",fh="mrc_100_1",gh="mrc_100_2";var bh,yh;let Eh;class wh extends(bh=I.j8){constructor(e,t){super(),this._isHalfVisible=(Eh(this),P.sH.box(!1)),this._halfVisibleTimer=null,this._isFullVisible=P.sH.box(!1),this._fullVisibleTimer=null,this._observer=null,this._lastRatio=0,this._sentEvents=new Map,this._isHidden=P.sH.box(!1),this._visibilityState=e,this._counterHelper=t,this._halfVisibleTimer=new mh,this._fullVisibleTimer=new mh,(0,P.Gn)(this,{isHalfVisible:P.EW,isFullVisible:P.EW,isHidden:P.EW})}checkIntersecting(e){e.forEach((e=>{e.isIntersecting&&(e.intersectionRatio>=.5?(!this._lastRatio||this._lastRatio&&this._lastRatio<.5)&&(this.isHalfVisible=!0):this.isHalfVisible=!1,this.isFullVisible=Boolean(1===e.intersectionRatio),this._lastRatio=e.intersectionRatio)}))}initObserver(e){e&&(this._observer=new IntersectionObserver(this.checkIntersecting.bind(this),{root:null,threshold:[0,.5,1]}),this._observer.observe(e))}disconnectObserver(){var e,t;this._observer&&(this._observer.disconnect(),this._observer=null,this._lastRatio=0,this._sentEvents.clear(),null===(e=this._halfVisibleTimer)||void 0===e||e.reset(),null===(t=this._fullVisibleTimer)||void 0===t||t.reset(),this.isHalfVisible=!1,this.isFullVisible=!1,this.isHidden=!1)}init(){const e=this.initDisposerHandler();return()=>{this.disconnectObserver(),e()}}initVisibilityChangeHandler(){return(0,P.mJ)((()=>{var e;return null===(e=this._visibilityState)||void 0===e?void 0:e.isVisible}),(e=>{this.isHidden=!e}))}initHalfTimer(){const e=[];return e.push((0,P.mJ)((()=>({isHalfVisible:this.isHalfVisible,isHidden:this.isHidden,isInPiP:this.isInPiP})),(e=>{let{isHalfVisible:t,isHidden:n,isInPiP:r}=e;var i;if((!t||n)&&!r)return void(null===(i=this._halfVisibleTimer)||void 0===i||i.clear());var o;this._sentEvents.has(vh)&&this._sentEvents.has(_h)||(null===(o=this._halfVisibleTimer)||void 0===o||o.start())}))),e.push((0,P.mJ)((()=>{var e;return null===(e=this._halfVisibleTimer)||void 0===e?void 0:e.oneSecPassed}),(e=>{e&&!this._sentEvents.has(vh)&&(this.sendMetric(vh),this._sentEvents.set(vh,!0))}))),e.push((0,P.mJ)((()=>{var e;return null===(e=this._halfVisibleTimer)||void 0===e?void 0:e.twoSecPassed}),(e=>{e&&!this._sentEvents.has(_h)&&(this.sendMetric(_h),this._sentEvents.set(_h,!0))}))),()=>e.forEach((e=>e()))}initFullTimer(){const e=[];return e.push((0,P.mJ)((()=>({isFullVisible:this.isFullVisible,isHidden:this.isHidden,isInPiP:this.isInPiP})),(e=>{let{isFullVisible:t,isHidden:n,isInPiP:r}=e;var i;if((!t||n)&&!r)return void(null===(i=this._fullVisibleTimer)||void 0===i||i.clear());var o;this._sentEvents.has(fh)&&this._sentEvents.has(gh)||(null===(o=this._fullVisibleTimer)||void 0===o||o.start())}))),e.push((0,P.mJ)((()=>{var e;return null===(e=this._fullVisibleTimer)||void 0===e?void 0:e.oneSecPassed}),(e=>{e&&!this._sentEvents.has(fh)&&(this.sendMetric(fh),this._sentEvents.set(fh,!0))}))),e.push((0,P.mJ)((()=>{var e;return null===(e=this._fullVisibleTimer)||void 0===e?void 0:e.twoSecPassed}),(e=>{e&&!this._sentEvents.has(gh)&&(this.sendMetric(gh),this._sentEvents.set(gh,!0))}))),()=>e.forEach((e=>e()))}set isHalfVisible(e){this._isHalfVisible.set(e)}get isHalfVisible(){return this._isHalfVisible.get()}set isFullVisible(e){this._isFullVisible.set(e)}get isFullVisible(){return this._isFullVisible.get()}set isHidden(e){this._isHidden.set(e)}get isHidden(){return this._isHidden.get()}}var Sh,Ah,Ch;let kh,Ph,Ih;yh=wh,[Eh]=(0,k.A)(yh,[],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"initVisibilityChangeHandler"],[(0,I.o7)(),2,"initHalfTimer"],[(0,I.o7)(),2,"initFullTimer"]],0,void 0,bh).e,new(Ch=class extends(Sh=wh){constructor(e,t,n,r){super(t,e instanceof ol?e.counterHelper:void 0),this._advert=n,this._advertStat=r}initDisposerHandler(){return(0,P.mJ)((()=>({node:this._advert.advertVideo,isPlaying:this._advert.isPlaying})),(e=>{let{node:t,isPlaying:n}=e;t?n&&!this._observer&&this.initObserver(t):this.disconnectObserver()}))}sendMetric(e){if(e in Ih.EVENTS&&this._advertStat.advert){var t;const n=this._advertStat.getCommonParams(this._advertStat.advert);null===(t=this._counterHelper)||void 0===t||t.get(Ih.EVENTS[e])(n)}}get isInPiP(){return!1}},[Ih,kh]=(0,k.A)(Ch,[(0,I.k_)({implement:"IAdvertStatisticMRCPlugin",ctor_args:["IStatisticState","IVisibilityStatePlugin","IAdvertPlugin","IAdvertStatPlugin"]})],[],0,void 0,Sh).c,Ph=Ch,(Ah=class extends ft{constructor(){super(Ih),this.EVENTS={[vh]:"mainAdvertMrcHalfVisibleOneSec",[_h]:"mainAdvertMrcHalfVisibleTwoSec",[fh]:"mainAdvertMrcFullVisibleOneSec",[gh]:"mainAdvertMrcFullVisibleTwoSec"},kh()}})[Ph]=void 0,Ah);const Th=e=>{let{items:t,limits:n,viewedItems:r}=e;const i=t.filter((e=>!r.includes(e.name)));if(!i.length)return i;const o=n[i[0].type];return void 0===o?i:o?i.slice(0,o):[]},xh={VIEW_MODE:"popover",PLACEMENT:"bottom-start",PLACEMENT_SEQUENCE:["bottom-start","bottom","bottom-end","top-start","top","top-end"],DEFAULT_VALUE:"#0E8DEE"},Rh=[{color:"#E53935",label:"ÐšÑ€Ð°ÑÐ½Ñ‹Ð¹"},{color:"#8E24AA",label:"Ð¤Ð¸Ð¾Ð»ÐµÑ‚Ð¾Ð²Ñ‹Ð¹"},{color:"#5E35B1",label:"Ð¡Ð¸Ñ€ÐµÐ½ÐµÐ²Ñ‹Ð¹"},{color:"#3949AB",label:"Ð¢Ñ‘Ð¼Ð½Ð¾-ÑÐ¸Ð½Ð¸Ð¹"},{color:"#0E8DEE",label:"Ð¡Ð¸Ð½Ð¸Ð¹"},{color:"#00CBFF",label:"Ð“Ð¾Ð»ÑƒÐ±Ð¾Ð¹"},{color:"#00897B",label:"Ð¢Ñ‘Ð¼Ð½Ð¾-Ð·ÐµÐ»Ñ‘Ð½Ñ‹Ð¹"},{color:"#43A047",label:"Ð—ÐµÐ»Ñ‘Ð½Ñ‹Ð¹"},{color:"#7CB342",label:"Ð¡Ð²ÐµÑ‚Ð»Ð¾-Ð·ÐµÐ»Ñ‘Ð½Ñ‹Ð¹"},{color:"#FBF819",label:"Ð–Ñ‘Ð»Ñ‚Ñ‹Ð¹",checkMarkColor:"var(--rt-colors-icon-static-dark-primary)"},{color:"#FDD835",label:"Ð¡Ð²ÐµÑ‚Ð»Ð¾-Ð¾Ñ€Ð°Ð½Ð¶ÐµÐ²Ñ‹Ð¹",checkMarkColor:"var(--rt-colors-icon-static-dark-primary)"},{color:"#FFB300",label:"ÐžÑ€Ð°Ð½Ð¶ÐµÐ²Ñ‹Ð¹",checkMarkColor:"var(--rt-colors-icon-static-dark-primary)"},{color:"#D57700",label:"Ð¢Ñ‘Ð¼Ð½Ð¾-Ð¾Ñ€Ð°Ð½Ð¶ÐµÐ²Ñ‹Ð¹"},{color:"#6D4C41",label:"ÐšÐ¾Ñ€Ð¸Ñ‡Ð½ÐµÐ²Ñ‹Ð¹"},{color:"#000000",label:"Ð§Ñ‘Ñ€Ð½Ñ‹Ð¹",borderColor:"var(--rt-colors-line-secondary)"},{color:"#9E9E9E",label:"Ð¢Ñ‘Ð¼Ð½Ð¾-ÑÐµÑ€Ñ‹Ð¹"},{color:"#E0E0E0",label:"Ð¡ÐµÑ€Ñ‹Ð¹",checkMarkColor:"var(--rt-colors-icon-static-dark-primary)"},{color:"#FFFFFF",label:"Ð‘ÐµÐ»Ñ‹Ð¹",checkMarkColor:"var(--rt-colors-icon-static-dark-primary)",borderColor:"var(--rt-colors-line-secondary)"}],Lh=()=>t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4C3.34315 4 2 5.34315 2 7V17C2 18.6569 3.34315 20 5 20H19C20.6569 20 22 18.6569 22 17V7C22 5.34315 20.6569 4 19 4H5ZM6.0001 12.2489C5.58589 12.2489 5.25006 12.5846 5.25 12.9988C5.24995 13.413 5.58569 13.7489 5.99991 13.7489L13.4999 13.7499C13.9141 13.7499 14.25 13.4142 14.25 13C14.2501 12.5858 13.9143 12.2499 13.5001 12.2499L6.0001 12.2489ZM6 15.2489C5.58579 15.2489 5.25 15.5847 5.25 15.9989C5.25 16.4131 5.58579 16.7489 6 16.7489H18C18.4142 16.7489 18.75 16.4131 18.75 15.9989C18.75 15.5847 18.4142 15.2489 18 15.2489H6ZM15.25 12.9989C15.25 12.5847 15.5858 12.2489 16 12.2489H18C18.4142 12.2489 18.75 12.5847 18.75 12.9989C18.75 13.4131 18.4142 13.7489 18 13.7489H16C15.5858 13.7489 15.25 13.4131 15.25 12.9989Z",fill:"white"})),Oh=()=>t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"2.62",y:"4.62",width:"18.76",height:"14.76",rx:"2.38",stroke:"white",strokeWidth:"1.24"}),t.createElement("path",{d:"M6 13H13.5",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M6 16H18",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M16 13H18",stroke:"white",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}));function Nh(){return(0,fr.p5)().resolve("ICaptionsPlugin")}function Mh(){return(0,fr.p5)().resolveOptional("ICaptionsPlugin")}const Dh=(0,Jn.PA)((e=>{let{size:n}=e;const r=Nh(),{playOptionsCaptions:i,isShowCaptions:o,onCaptionsButtonClick:a,onCaptionsButtonShow:s}=r,{getDataAttribute:l}=(0,wi.f)(),u=o?Lh:Oh,c=o?wn.m_.CaptionsOff:wn.m_.CaptionsOn,d=o?"Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹":"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹";return(0,t.useEffect)((()=>{s()}),[]),t.createElement(t.Fragment,null,Boolean(null==i?void 0:i.length)&&t.createElement(ss.r,(0,ai.A)({tabIndex:0,role:"button","aria-label":d,icon:u,onClick:a,tooltipTitle:c,tooltipPlacement:"top",tooltipZIndex:wn.m_.ControlsTooltipZIndex,size:n},l(o?Si.R.OFF_SUBTITLE_BUTTON:Si.R.ON_SUBTITLE_BUTTON))))})),Bh=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerSubtitlesFilled",__value:'<path fill="currentColor" fill-rule="evenodd" d="M1.25 8.25a5 5 0 0 1 5-5h11.5a5 5 0 0 1 5 5v7.5a5 5 0 0 1-5 5H6.25a5 5 0 0 1-5-5zm4.527 5.781a1 1 0 1 0 0 2h6.2a1 1 0 1 0 0-2zm8.723 1a1 1 0 0 1 1-1h2.773a1 1 0 1 1 0 2H15.5a1 1 0 0 1-1-1m-2.528-5a1 1 0 1 0 0 2h6.3a1 1 0 1 0 0-2zm-7.222 1a1 1 0 0 1 1-1h2.728a1 1 0 1 1 0 2H5.75a1 1 0 0 1-1-1" clip-rule="evenodd" />'})),Fh=(0,t.forwardRef)(Bh),Hh=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerSubtitles",__value:'<path fill="currentColor" fill-rule="evenodd" d="M4.777 15.031a1 1 0 0 1 1-1h6.2a1 1 0 1 1 0 2h-6.2a1 1 0 0 1-1-1m6.195-4a1 1 0 0 1 1-1h6.3a1 1 0 1 1 0 2h-6.3a1 1 0 0 1-1-1m-6.222 0a1 1 0 0 1 1-1h2.728a1 1 0 1 1 0 2H5.75a1 1 0 0 1-1-1m9.75 4a1 1 0 0 1 1-1h2.773a1 1 0 1 1 0 2H15.5a1 1 0 0 1-1-1" clip-rule="evenodd" /><path fill="currentColor" fill-rule="evenodd" d="M17.75 5.25H6.25a3 3 0 0 0-3 3v7.5a3 3 0 0 0 3 3h11.5a3 3 0 0 0 3-3v-7.5a3 3 0 0 0-3-3m-11.5-2a5 5 0 0 0-5 5v7.5a5 5 0 0 0 5 5h11.5a5 5 0 0 0 5-5v-7.5a5 5 0 0 0-5-5z" clip-rule="evenodd" />'})),Vh=(0,t.forwardRef)(Hh);var Uh=a(4493);const jh=(0,Jn.PA)((e=>{const n=Nh(),{iconSizeValue:r,tabIndex:i}=(0,pt.useControls)(),{playOptionsCaptions:o,isShowCaptions:a,onCaptionsButtonClick:s,onCaptionsButtonShow:l}=n,{getDataAttribute:u}=(0,wi.f)(),c=a?wn.m_.CaptionsOff:wn.m_.CaptionsOn,d=a?"Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹":"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹";if((0,t.useEffect)((()=>{l()}),[]),null!=o&&o.length)return t.createElement(Uh.S,(0,ai.A)({tabIndex:i,role:"button","aria-label":d,onClick:s,tooltipTitle:c,size:r},u(a?Si.R.OFF_SUBTITLE_BUTTON:Si.R.ON_SUBTITLE_BUTTON)),a?t.createElement(Fh,null):t.createElement(Vh,null))})),Wh=["script","object","applet","embed","frameset","iframe","form","textarea","input","select","button","img","picture","canvas","figure","audio","video"],zh=(e,t)=>{Array.from(e.childNodes).forEach((e=>{const n=e.nodeName.toLowerCase();if("#text"===n)return;zh(e,t);if(t.includes(n)){const t=document.createElement(n);t.innerHTML=e.innerHTML,e.replaceWith(t)}else e.replaceWith(...e.childNodes)}))},Gh=(e,t)=>{const n=(new DOMParser).parseFromString(e,"text/html");return n.querySelectorAll(Wh.join(",")).forEach((e=>e.remove())),zh(n.body,t),n.body.innerHTML},qh={"Ð ÑƒÑÑÐºÐ¸Ð¹":"ru","ÐÐ½Ð³Ð»Ð¸Ð¹ÑÐºÐ¸Ð¹":"en"},Kh=(0,Jn.PA)((e=>{var n;const{caption:r,cueChangeHandler:i,active:o,isCaptionsOn:a,isFullScreen:s}=e,l=(0,t.useRef)(null),[u,c]=(0,t.useState)(!1),d=Nh();return(0,t.useEffect)((()=>{if(null!=l&&l.current){const e=l.current.track;return o&&T()&&"disabled"===e.mode&&u&&(d.isShowCaptions=!1),e.mode="hidden",o&&a&&s&&T()&&(e.mode="showing",c(!0)),!o||s&&T()||(e.mode="hidden"),o||(e.mode="hidden",e.removeEventListener("cuechange",i)),o&&e.addEventListener("cuechange",i),()=>{e&&e.removeEventListener("cuechange",i)}}}),[l,o,a,s,i,u,d]),t.createElement("track",{id:"".concat(null!==(n=r.langTitle)&&void 0!==n?n:"track_0"),ref:l,src:r.file,kind:"captions",srcLang:qh[r.langTitle]})})),Yh="captions-module__captions___gmT8R",Xh="captions-module__captionsFontMedium___G2LHz",Qh="captions-module__captionsFontSmall___GsMSO",Zh="captions-module__captionsFontLarge___N0bIy",Jh="captions-module__captionsWithControls___bSHpO",$h="captions-module__span___IRTOI";var ep=a(7140),tp=a.n(ep);const np=(0,Jn.PA)((()=>{const e=Nh(),{controlBlockHeight:n,isShowControls:r}=(0,pt.useControls)(),{player:i,isNakedMode:o}=e,{getDataAttribute:a}=(0,wi.f)(),{captions:s,activeCaption:l,isShowCaptions:u,isFullscreen:c,captionsColor:d,captionsTextSize:h,captionsBackgroundColor:p,captionsBackgroundOpacity:m,parsedCaptions:v}=e,[_,f]=(0,t.useState)(null);(0,t.useEffect)((()=>{const t=t=>{const n=null==t?void 0:t.target;if(e.isFullscreen&&T()&&n&&s){const t=Array.from(n).find((e=>"showing"===e.mode)),r=null!=t&&t.id?s[null==t?void 0:t.id]:null;r&&(e.isShowCaptions=!0,e.activeCaption=r)}};return null==i||i.textTracks.addEventListener("change",t),()=>{null==i||i.textTracks.removeEventListener("change",t)}}),[i]);const g=(0,t.useCallback)((e=>{var t;const n=null==e?void 0:e.target;if(n&&null!==(t=n.activeCues)&&void 0!==t&&t.length){const e=n.activeCues[0],t=Gh(e.text,["b","i","strong","em"]);f(t),va.Ug.emit(zi.L2.CUE_CHANGE,{id:e.id,startTime:e.startTime,endTime:e.endTime,text:e.text,vertical:e.vertical,snapToLines:e.snapToLines,line:e.line,position:e.position,size:e.size,align:e.align})}else f(null)}),[]),b=(0,t.useMemo)((()=>{if(_&&u&&!o){var e,i,s;const o=(e=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null})(p),l={color:d,background:"rgba(".concat(null!==(e=null==o?void 0:o.r)&&void 0!==e?e:0,", ").concat(null!==(i=null==o?void 0:o.g)&&void 0!==i?i:0,", ").concat(null!==(s=null==o?void 0:o.b)&&void 0!==s?s:0,", ").concat(m/10,")")};return t.createElement("div",{className:er()(Yh,{[Xh]:"medium"===h,[Zh]:"large"===h,[Qh]:"small"===h,[Jh]:!pt.ControlsPlugin.IsNewControls}),style:pt.ControlsPlugin.IsNewControls&&r?{bottom:n}:{}},t.createElement("span",(0,ai.A)({className:$h,style:l,dangerouslySetInnerHTML:{__html:_}},a(Si.R.PLAYER_TEXT))))}return null}),[_,u,o,p,d,m,h,r,n,a]);return t.createElement(t.Fragment,null,(()=>{if(!i)return null;const e=Object.values(v).map((e=>t.createElement(Kh,{key:e.langTitle,active:e.langTitle===(null==l?void 0:l.langTitle),cueChangeHandler:g,caption:e,isCaptionsOn:u,isFullScreen:c})));return se.createPortal(e,i)})(),b)}));class rp{constructor(){this.setInitialLSettings=t=>{const n={active:t?"1":"0",color:"#ffffff",size:"medium",bgColor:"#000000",bgOpacity:7};e.ae.setItem(zi.Ok.CAPTIONS,JSON.stringify(n))},this.setInitialSSettings=()=>{fo.setItem(zi.Ok.CAPTIONS,JSON.stringify({lastSelectedLangCode:null,lastSelectedLangTitle:null}))},this.initLStorage=()=>{e.ae.getItem(zi.Ok.CAPTIONS)||this.setInitialLSettings()},this.initSStorage=()=>{fo.getItem(zi.Ok.CAPTIONS)||this.setInitialSSettings()}}getStorageItem(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=(n?fo:e.ae).getItem(zi.Ok.CAPTIONS);if(r){if(n){return JSON.parse(r)[t]}return JSON.parse(r)[t]}return null}prepareAndStore(t,n){const r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?fo:e.ae;let i=r.getItem(zi.Ok.CAPTIONS);if(i){let e=JSON.parse(i);e=(0,l.A)((0,l.A)({},e),{},{[t]:n}),i=JSON.stringify(e),r.setItem(zi.Ok.CAPTIONS,i)}}get activeFlag(){return this.getStorageItem("active")}get textColor(){return this.getStorageItem("color")}get textSize(){return this.getStorageItem("size")}get backgroundColor(){return this.getStorageItem("bgColor")}get backgroundOpacity(){return this.getStorageItem("bgOpacity")}get lastSelectedLangCode(){return this.getStorageItem("lastSelectedLangCode",!0)}get lastSelectedLangTitle(){return this.getStorageItem("lastSelectedLangTitle",!0)}}var ip;let op,ap,sp,lp,up,cp,dp;var hp=Pt("A"),pp=Pt("B");class mp extends I.j8{static get CaptionButton(){return pt.ControlsPlugin.IsNewControls?jh:Dh}static get Captions(){return np}get _captions(){return Ct(this,hp)[hp]}set _captions(e){Ct(this,hp)[hp]=e}get _parsedCaptions(){return Ct(this,pp)[pp]}set _parsedCaptions(e){Ct(this,pp)[pp]=e}constructor(e,t,n,r,i,o){super(),this._isShowCaptions=(op(this),P.sH.box(!1)),Object.defineProperty(this,hp,{writable:!0,value:sp(this,{})}),Object.defineProperty(this,pp,{writable:!0,value:(lp(this),up(this,{}))}),this._activeCaption=(cp(this),P.sH.box(null)),this._captionsColor=P.sH.box("#ffffff"),this._captionsBackgroundColor=P.sH.box("#000000"),this._captionsBackgroundOpacity=P.sH.box(7),this._captionsTextSize=P.sH.box("medium"),this._StorageInstance=void 0,this.counterHelper=void 0,this._config=e,this._dataStore=t,this._playback=n,this._fullscreen=r,this._controls=i,this._StorageInstance=new rp,this.counterHelper=o&&o instanceof ol?o.counterHelper:void 0,(0,P.Gn)(this,{isShowCaptions:P.EW,isNakedMode:P.EW,captions:P.EW,activeCaption:P.EW,playOptionsCaptions:P.EW,captionLanguage:P.EW,hasCaptions:P.EW,captionsColor:P.EW,captionsBackgroundColor:P.EW,captionsBackgroundOpacity:P.EW,captionsTextSize:P.EW,isControlsShown:P.EW,parsedCaptions:P.EW})}initStorageAndFields(){try{this._StorageInstance.initLStorage();const{activeFlag:e,textColor:t,textSize:n,backgroundColor:r,backgroundOpacity:i}=this._StorageInstance;this.isShowCaptions="1"===e,this.captionsColor=t,this.captionsTextSize=n,this.captionsBackgroundColor=r,this.captionsBackgroundOpacity=i,this._StorageInstance.initSStorage()}catch(e){console.info(e)}}initLoadAndParseCaptions(){return(0,P.mJ)((()=>({video:this.player,captions:this.captions})),(e=>{let{video:t,captions:n}=e;if(!t||!n||!Object.keys(n).length)return null;this.loadAndParseCaptions()}),{fireImmediately:!0})}initReactions(){return(0,P.mJ)((()=>this._dataStore.captions),(e=>{var t;if(this.parsedCaptions={},e&&(this.captions=e.reduce(((e,t)=>(t.langTitle in e?"vtt"===t.format&&(e[t.langTitle]=t):e[t.langTitle]=t,e)),{})),this.isShowCaptions&&null!=e&&e.length)if(this.activeCaption||this._StorageInstance.lastSelectedLangTitle){const e=this.activeCaption?this.findCaptionsByCaptionObject(this.activeCaption):this.captions[this._StorageInstance.lastSelectedLangTitle]||this.findCaptionsByCode(this._StorageInstance.lastSelectedLangCode);e?this.activeCaption=e:this.isShowCaptions=!1}else this.activeCaption=null!==(t=this.getDefaultCaptions())&&void 0!==t?t:null}))}initCaptionEventHandler(){const e=e=>{const t=null==e?void 0:e.data;t&&(0,P.h5)((()=>{var e;this.isShowCaptions=t.enabled,this.activeCaption=null!==(e=Object.values(this.captions).find((e=>e.sub_id===t.current)))&&void 0!==e?e:null}))};return va.Ug.subscribe(zi.L2.SET_CAPTION,e),()=>va.Ug.unsubscribe(zi.L2.SET_CAPTION,e)}initMessageEmitterMessage(){return(0,P.mJ)((()=>({isShowCaptions:this.isShowCaptions,activeCaption:this.activeCaption})),((e,t)=>{var n;let{isShowCaptions:r,activeCaption:i}=e;if(r!==(null==t?void 0:t.isShowCaptions)||(null==i?void 0:i.sub_id)!==(null==t||null===(n=t.activeCaption)||void 0===n?void 0:n.sub_id)){var o,a;const e=this.activeCaption&&!this.findCaptionsByCaptionObject(this.activeCaption);if(r&&(!i||e)){const e=this.getDefaultCaptions();e&&(this.activeCaption=e)}va.Ug.emit(zi.L2.CHANGE_CAPTION,{enabled:r,current:null!==(o=null===(a=this.activeCaption)||void 0===a?void 0:a.sub_id)&&void 0!==o?o:null})}}))}loadAndParseCaptions(){const e=this.captions;Object.keys(e).forEach((t=>{const n=t,r=e[n],i=(0,l.A)({},r);r&&!this.parsedCaptions[n]&&(async e=>{const t=await fetch(e);let n,r="";return t&&(n=await t.blob()),n&&(r=await tp()(n)),r})(r.file).then((e=>{if(i.file=e,this.parsedCaptions=(0,l.A)((0,l.A)({},this.parsedCaptions),{},{[n]:i}),!i.file)return null})).catch((e=>{console.warn("fetchCaptionError",e)}))}))}get isShowCaptions(){return this._isShowCaptions.get()}set isShowCaptions(e){this._StorageInstance.prepareAndStore("active",e?"1":"0"),this._isShowCaptions.set(e)}get isNakedMode(){return this._controls.isNakedMode}get parsedCaptions(){return this._parsedCaptions}set parsedCaptions(e){this._parsedCaptions=e}get captions(){return(0,P.HO)(this._captions)}set captions(e){this._captions=e}get hasCaptions(){return this.playOptionsCaptions.length>0}get playOptionsCaptions(){return this._dataStore.captions||[]}get activeCaption(){return this._activeCaption.get()}set activeCaption(e){this._activeCaption.set(e),e&&(this._StorageInstance.prepareAndStore("lastSelectedLangTitle",e.langTitle,!0),this._StorageInstance.prepareAndStore("lastSelectedLangCode",e.code,!0))}get captionLanguage(){var e;return(null===(e=this.activeCaption)||void 0===e?void 0:e.langTitle)||null}get captionsColor(){return this._captionsColor.get()}set captionsColor(e){this._StorageInstance.prepareAndStore("color",e),this._captionsColor.set(e)}get captionsBackgroundColor(){return this._captionsBackgroundColor.get()}set captionsBackgroundColor(e){this._StorageInstance.prepareAndStore("bgColor",e),this._captionsBackgroundColor.set(e)}get captionsBackgroundOpacity(){return this._captionsBackgroundOpacity.get()}set captionsBackgroundOpacity(e){this._StorageInstance.prepareAndStore("bgOpacity",e),this._captionsBackgroundOpacity.set(e)}get captionsTextSize(){return this._captionsTextSize.get()}set captionsTextSize(e){this._StorageInstance.prepareAndStore("size",e),this._captionsTextSize.set(e)}get isFullscreen(){return this._fullscreen.isFullscreen}get videoId(){return this._config.get("videoId")}get player(){return this._playback.player}get isControlsShown(){return this._controls.isShowControls}resetCaptionSettings(){this.captionsTextSize="medium",this.captionsColor="#ffffff",this.captionsBackgroundColor="#000000",this.captionsBackgroundOpacity=7}onCaptionsButtonShow(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainCaptionsShow")({language:this.isShowCaptions&&this.captionLanguage||"",action:"show",result:this.isShowCaptions?"on":"off"})}onCaptionsButtonClick(){var e;const t=!this.isShowCaptions;this.isShowCaptions=t,null===(e=this.counterHelper)||void 0===e||e.get("mainCaptionsClick")({result:t?"on":"off",language:t&&this.captionLanguage||"",action:"click"})}onCaptionsSettingsClick(e){var t;null===(t=this.counterHelper)||void 0===t||t.get("mainCaptionsClick")({result:"change",language:this.isShowCaptions?e:"",action:"change"})}getDefaultCaptions(){var e;return(this.captionLanguage?this.captions[this.captionLanguage]:Object.values(this.captions).find((e=>{var t;let{code:n}=e;return n===(null===(t=this.activeCaption)||void 0===t?void 0:t.code)})))||(null===(e=this._dataStore)||void 0===e||null===(e=e.captions)||void 0===e?void 0:e[0])}findCaptionsByCode(e){return Object.values(this.captions).find((t=>{let{code:n}=t;return n===e}))}findCaptionsByCaptionObject(e){const t=e.langTitle;return this.captions[t]||this.findCaptionsByCode(e.code)||null}get controlsHeight(){return this._controls.controlBlockHeight}getColorName(e){var t;const n=null==Rh?void 0:Rh.find((t=>{var n;return(null===(n=t.color)||void 0===n?void 0:n.toLocaleLowerCase())===(null==e?void 0:e.toLocaleLowerCase())}));return(0,ys.capitalize)(null!==(t=null==n?void 0:n.label)&&void 0!==t?t:"")}}ip=mp,({e:[sp,lp,up,cp,op],c:[dp,ap]}=(0,k.A)(ip,[(0,I.k_)({implement:"ICaptionsPlugin",ctor_args:["IPlayerConfigPlugin","IDataPlugin","IPlayback","IFullscreenPlugin","IControlsPlugin",{implement:"IStatisticState",optional:!0}]})],[[P.sH,1,"_captions"],[P.sH,1,"_parsedCaptions"],[(0,I.o7)(),2,"initStorageAndFields"],[(0,I.o7)(),2,"initLoadAndParseCaptions"],[(0,I.o7)(),2,"initReactions"],[(0,I.o7)(),2,"initCaptionEventHandler"],[(0,I.o7)(),2,"initMessageEmitterMessage"],[I.zm,2,"onCaptionsButtonShow"],[I.zm,2,"onCaptionsButtonClick"],[I.zm,2,"onCaptionsSettingsClick"]],0,void 0,I.j8)),ap();let vp=function(e){return e.PLAY="PL",e.STOP="STP",e.REWIND_FORWARD="RWF",e.REWIND_BACKWARD="RWB",e.X_REWIND="XRW",e.REWIND_FROM_CHAPTERS="RWE",e.REWIND_FROM_DESCRIPTION="RWD",e.REWIND_HOTKEY_FRAME="RWH",e.SKIP_TITLES="SKP",e}({});class _p{constructor(e,t,n){this.__statisticStore=void 0,this.__hbIntervalEvents=[],this.__startTimer=null,this.__scheduledEvent=null,this.__completeInterval=void 0,this.__send=void 0,this.__statisticStore=e,this.__completeInterval=n,this.__send=t}prepareIntervalsDisposer(){return(0,P.mJ)((()=>this.__statisticStore.hbIntervalEvents),(e=>this.prepareIntervals(e)))}prepareIntervals(e){this.__hbIntervalEvents=e.sort(((e,t)=>e.start-t.start)).reduce(((e,t)=>{if(t.count){const n=[...Array(t.count).keys()].map((()=>(0,l.A)({},t)));return e.concat(n)}return e.concat(t)}),[])}restartIntervals(){this.prepareIntervals(this.__statisticStore.hbIntervalEvents)}scheduleNext(){const[e]=this.__hbIntervalEvents;e&&(this.schedule(e,1e3*e.start),e.count>0&&this.__hbIntervalEvents.splice(0,1))}stop(){this.__startTimer&&(clearTimeout(this.__startTimer),this.__startTimer=null)}schedule(e,t){this.__scheduledEvent=e,this.__startTimer&&clearTimeout(this.__startTimer),this.__startTimer=setTimeout((()=>{this.__send(e),this.__startTimer=null,this.__scheduledEvent=null,this.__completeInterval()}),t)}get startTimer(){return this.__startTimer}get scheduledEvent(){return this.__scheduledEvent}}const fp=e=>Math.floor(1e3*e);var gp,bp;let yp,Ep,wp;class Sp extends(gp=I.j8){static pushUnique(e,t){e[e.length-1]!==t&&e.push(t)}constructor(e,t,n,r,i){super(),this._playerStore=void yp(this),this.__counterHelper=void 0,this.__statisticWatchTime=void 0,this._hbIntervals=void 0,this.__data=void 0,this._startRanges=[],this._endRanges=[],this._actions=[],this._rewindStart=null,this.__volumeChanges=[],this.__playbackRate=[],this.__final=!1,this.__destructionComplete=!1,this.__tvStreamDelta=0,this._temporaryDisableSeek=!1,this._playerStore=e,this.__statisticWatchTime=r,this._hbIntervals=new _p(t,this.send.bind(this),this.completeInterval.bind(this)),this.__counterHelper=n instanceof Xn?n.counterHelper:void 0,this.__data=i,this.handleSeek=Yi(this.handleSeek.bind(this),500),this.handleVolumeChange=Yi(this.handleVolumeChange.bind(this),500),(0,P.Gn)(this,{final:P.EW})}init(){const e=this._hbIntervals.prepareIntervalsDisposer();this.handlePlaybackRateChange({rate:this._playerStore.playbackRate});const t=this.subscribePlaybackEvent(ii.p.seek,this.handleSeekStart.bind(this)),n=(()=>{const e=this._playerStore.muted?0:this._playerStore.volume;return this.handleVolumeChange(e),this.subscribePlaybackEvent(ii.p.volumeChange,(e=>this.handleVolumeChange(e)))})(),r=this.subscribePlaybackEvent(ii.p.mute,(e=>this.handleVolumeChange(e?0:this._playerStore.volume))),i=this.subscribePlaybackEvent(ii.p.playbackRate,this.handlePlaybackRateChange.bind(this)),o=(0,P.mJ)((()=>this._playerStore.ended),(e=>{e&&this.lastEventAction!==vp.STOP&&(this._actions.push(vp.STOP),this.lastEventAction&&this._endRanges.push(this.currentTime),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime),this.__final=!0)}));return window.addEventListener("beforeunload",this.unloadHandler.bind(this)),()=>[t,n,r,i,o,e,()=>{this._hbIntervals.stop()},()=>{this.unloadHandler()},()=>{window.removeEventListener("beforeunload",this.unloadHandler.bind(this))}].forEach((e=>e()))}initIsPlayingDisposer(){return this.initIsPlayingDisposerHandler()}initIsPlayingDisposerHandler(){return(0,P.mJ)((()=>[this._playerStore.isPlaying,this._playerStore.wasStarted]),(e=>{let[t,n]=e;n&&(t?(this.handlePlay(),null===this._hbIntervals.startTimer&&this._hbIntervals.scheduleNext()):this.handlePause())}))}initSeekDisposer(){return this.initSeekDisposerHandler()}initSeekDisposerHandler(){return this.subscribePlaybackEvent(ii.p.seek,(e=>{let{from:t,to:n}=e;return this.handleSeek(t,n)}))}handlePlay(){if(this.__data.isTVStream&&0===this.__tvStreamDelta&&(this.__tvStreamDelta=this._playerStore.currentTime),this.lastEventAction!==vp.PLAY){const e=!this._startRanges.length&&this.currentTime<1?0:this.currentTime;this._startRanges.push(e),this._actions.push(vp.PLAY)}}handlePause(){this.lastEventAction&&this.lastEventAction!==vp.STOP&&(this._endRanges.push(this.currentTime),this._actions.push(vp.STOP),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime))}handleSeek(e,t){this._actions.push(vp.REWIND_HOTKEY_FRAME),this._startRanges.push(this._rewindStart||0),this._endRanges.push(t),this._rewindStart=null,this._playerStore.isPlaying&&(this._actions.push(vp.PLAY),this._startRanges.push(t))}handleSeekStart(e){let{from:t}=e;null===this._rewindStart&&this._playerStore.wasStarted&&(this._rewindStart=t,this._playerStore.isPlaying&&!this._temporaryDisableSeek&&this._endRanges.push(t))}handleVolumeChange(e){wp.pushUnique(this.__volumeChanges,e)}handlePlaybackRateChange(e){let{rate:t}=e;wp.pushUnique(this.__playbackRate,t)}send(e,t){var n;this._endRanges.length<this._startRanges.length&&this._endRanges.push(this.currentTime),null===(n=this.__counterHelper)||void 0===n||n.get("mainIntervalHbIntervalsStat")({urlTemplate:e.url_template,delay:e.delay,count:e.count,start:e.start,location:t})}completeInterval(){this.clearRanges(),this._playerStore.isPlaying&&(this._startRanges.push(this.currentTime),this._actions.push(vp.PLAY),this._hbIntervals.scheduleNext())}clearRanges(){this._startRanges=[],this._actions=[],this._endRanges=[],this.__volumeChanges=this.__volumeChanges.slice(-1),this.__playbackRate=this.__playbackRate.slice(-1)}unloadHandler(){this.__destructionComplete||(this.__final=!0,this._hbIntervals.scheduledEvent&&this.send(this._hbIntervals.scheduledEvent),this.lastEventAction!==vp.STOP&&(this._actions.push(vp.STOP),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime)),this.__destructionComplete=!0)}get lastStartRange(){if(!this._startRanges.length)return"";const[e]=this._startRanges.slice(-1);return fp(e).toString()}get startRanges(){return this._startRanges.map(fp).join(",")}get lastEndRange(){if(!this._endRanges.length)return"";const[e]=this._endRanges.slice(-1);return fp(e).toString()}get endRanges(){return this._endRanges.map(fp).join(",")}get lastEventAction(){const[e]=this._actions.slice(-1);return e}get eventActionsRange(){return this._actions.join(",")}get volumeChanges(){return this.__volumeChanges.map((e=>Math.floor(100*e))).join(",")}get playbackRate(){return this.__playbackRate.join(",")}get watchTime(){return String(Math.round(this.__statisticWatchTime.watchTime/1e3))}set final(e){this.__final=e}get final(){return this.__final}subscribePlaybackEvent(e,t){return this._playerStore.on(e,t),()=>{this._playerStore.off(e,t)}}get currentTime(){return 0!==this.__tvStreamDelta?this._playerStore.currentTime-this.__tvStreamDelta:this._playerStore.currentTime}}bp=Sp,({e:[yp],c:[wp,Ep]}=(0,k.A)(bp,[(0,I.k_)({implement:"IStatisticAggregatorPlugin",ctor_args:["IPlayback","IStatisticStore","IStatisticState","IStatisticWatchTimePlugin","IDataPlugin"]})],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"initIsPlayingDisposer"],[(0,I.o7)(),2,"initSeekDisposer"]],0,void 0,gp)),Ep();var Ap=a(5252);function Cp(){return(0,fr.p5)().resolve("IPreviewPlugin")}const kp="mobile-preview-tips-module__tipsContainer___eRuYW",Pp="mobile-preview-tips-module__doubleTap___ck2xx",Ip="mobile-preview-tips-module__isEmbed___AZwTo",Tp="mobile-preview-tips-module__triangles___eEmqN",xp="mobile-preview-tips-module__rotated___BNn8P",Rp=()=>t.createElement("svg",{width:"7",height:"8",viewBox:"0 0 7 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.07098 3.99998C7.07098 3.37302 6.71293 2.92887 6.33854 2.59841C5.98517 2.2865 5.48037 1.95868 4.90546 1.58534L4.45451 1.29244C3.7769 0.852255 3.19386 0.473506 2.70923 0.251768C2.21004 0.0233663 1.58636 -0.146654 0.970897 0.187484C0.355434 0.521621 0.158295 1.13727 0.0779271 1.68032C-9.51181e-05 2.20751 -5.11007e-05 2.90276 0 3.71078V4.28913C-5.11007e-05 5.09715 -9.51181e-05 5.79244 0.0779271 6.31963C0.158295 6.86268 0.355434 7.47833 0.970897 7.81246C1.58636 8.1466 2.21004 7.97658 2.70923 7.74818C3.19386 7.52644 3.77689 7.1477 4.45449 6.70752L4.90545 6.41462C5.48035 6.04128 5.98518 5.71344 6.33854 5.40154C6.71293 5.07108 7.07098 4.62693 7.07098 3.99998Z",fill:"#FFFFFF"})),Lp=e=>{let{isRotated:n}=e;return t.createElement("div",{className:er()(Tp,{[xp]:n})},t.createElement(Rp,null),t.createElement(Rp,null))},Op=e=>{let{type:n,isEmbed:r}=e;return t.createElement("div",{className:er()(kp,{[Ip]:r})},"long-press"===n&&t.createElement("p",null,"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð¸ ÑƒÐ´ÐµÑ€Ð¶Ð¸Ð²Ð°Ð¹Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÑÐºÐ¾Ñ€Ð¸Ñ‚ÑŒ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð´Ð¾ x2"),"double-tap"===n&&t.createElement("div",{className:Pp},t.createElement(Lp,{isRotated:!0}),t.createElement("p",null,"Ð”Ð²Ð°Ð¶Ð´Ñ‹ ÐºÐ¾ÑÐ½Ð¸Ñ‚ÐµÑÑŒ Ð²Ð¸Ð´ÐµÐ¾ ÑÐ¿Ñ€Ð°Ð²Ð° Ð¸Ð»Ð¸ ÑÐ»ÐµÐ²Ð°, ",t.createElement("br",null)," Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿ÐµÑ€ÐµÐ¼Ð¾Ñ‚Ð°Ñ‚ÑŒ ÐµÐ³Ð¾ Ð½Ð° 10 ÑÐµÐº. Ð²Ð¿ÐµÑ€Ñ‘Ð´ Ð¸Ð»Ð¸ Ð½Ð°Ð·Ð°Ð´"),t.createElement(Lp,null)))},Np="mobile-preview-module__wrapper___TITww",Mp="mobile-preview-module__preview___OhmTs";var Dp=a(9599);const Bp=(0,Jn.PA)((()=>{const{url:e,isAllowedToShowPreview:n,time:r,tipType:i,isEmbed:o}=Cp(),a=(0,pt.useControls)(),s=Cp(),{isFullScreen:l}=a,u=(0,t.useMemo)((()=>({height:l||o?void 0:"100%",aspectRatio:l||o?"16/9":void 0})),[l,o]);return(0,t.useLayoutEffect)((()=>(a.preventHideControls=!0,()=>{s.setAnotherTip(),a.preventHideControls=!1})),[s,a]),n&&H.B.isMobile?t.createElement("div",{className:Np,id:Dp.v.RAICHU_MOBILE_PREVIEW},i&&null!==r&&t.createElement(Op,{key:i,type:i,isEmbed:o}),null!==r&&t.createElement("img",{alt:"ÐŸÑ€ÐµÐ²ÑŒÑŽ",src:e,style:u,"aria-label":"mobile-preview-at-".concat(r||0),"aria-describedby":"mobile-preview",className:Mp,fetchPriority:"high",loading:"lazy"})):null})),Fp=()=>(0,fr.Ks)("IVideoLayoutPlugin"),Hp=e=>e("IVideoLayoutPlugin"),Vp="header-module__headerWrapper___b2mKD",Up="header-module__mobile___uTXjX",jp="header-module__header___fVbYe",Wp="header-module__headerControls___iUt8w",zp="header-module__headerInfo___dpHCi",Gp="header-module__headerShow___59oXn",qp="header-module__headerBackground___UZqnk",Kp="header-module__headerBackgroundSmall___AGgA0",Yp="header-module__headerBackgroundMobile___xBR8D",Xp="header-module__hidden___gPWPi",Qp="header-module__avatar___d_OZW",Zp="header-module__title___P7S0x",Jp="header-module__notClickable___jq6fm",$p="header-module__titleMobile___PuaJ3",em="header-module__channelItem___SoSSN",tm=(0,Jn.PA)((()=>{const{isMini:e,getAuthorUrl:n,authorData:r,showAvatar:i,availableLogoClick:o,counterHelper:a}=Fp(),s=n("channel_left");if(e||!i||!r)return null;const l=o?()=>{null==a||a.get("mainHeaderLogoClick")({videoUrl:s||""})}:void 0;return t.createElement("a",{"data-testid":"ui-author-logo",href:s,target:"_blank",className:Qp,rel:"noreferrer",title:r.name,onClick:l},t.createElement("img",{src:r.avatar_url||zi.k_,alt:r.name}))})),nm=()=>(0,fr.Ks)("ITrackingLinksPlugin"),rm=()=>(0,fr.ei)("ITrackingLinksPlugin");class im extends I.j8{constructor(e){super(),this._data=P.sH.box(null),this.data=e||{detail:{access_url:"",image:"",languages:[{lang:"rus",description:"",title:""},{lang:"eng",description:"",title:""}]}},(0,P.Gn)(this,{data:P.EW,color:P.EW,isDVR:P.EW,isLive:P.EW,hasHealthDisclaimer:P.EW,captions:P.EW})}get id(){var e;return null===(e=this.data)||void 0===e?void 0:e.id}get data(){return this._data.get()}set data(e){this._data.set(e)}get link(){var e,t;return(null===(e=this.data)||void 0===e||null===(e=e.video_balancer)||void 0===e?void 0:e.m3u8)||(null===(t=this.data)||void 0===t||null===(t=t.video_balancer)||void 0===t?void 0:t.m3u8_m4s)}get author(){var e;return null===(e=this.data)||void 0===e?void 0:e.author}get title(){var e;return null===(e=this.data)||void 0===e?void 0:e.title}get duration(){var e;return null===(e=this.data)||void 0===e?void 0:e.duration}get detail(){var e;return null===(e=this.data)||void 0===e?void 0:e.detail}get poster(){var e;return null===(e=this.data)||void 0===e?void 0:e.thumbnail_url}get ageRating(){var e;return null===(e=this.data)||void 0===e||null===(e=e.pg_rating)||void 0===e?void 0:e.age}get isAdult(){var e;return null===(e=this.data)||void 0===e?void 0:e.is_adult}get referer(){var e;return(null===(e=this.data)||void 0===e?void 0:e.referer)||""}get isLive(){var e;return!(null===(e=this.data)||void 0===e||null===(e=e.live_streams)||void 0===e||!e.hls)}get isDVR(){var e;return!(null===(e=this.data)||void 0===e||null===(e=e.live_streams)||void 0===e||null===(e=e.hls)||void 0===e||null===(e=e[0])||void 0===e||!e.is_dvr)&&this.duration!==1/0}get color(){var e;return(null===(e=this.data)||void 0===e?void 0:e.color)||""}get video_id(){var e;return null===(e=this.data)||void 0===e?void 0:e.video_id}get viewer(){var e;return null===(e=this.data)||void 0===e?void 0:e.viewer}get captions(){var e;return null===(e=this.data)||void 0===e?void 0:e.captions}get hasHealthDisclaimer(){var e,t;const n=this.ageRating;return Boolean((null===(e=this.data)||void 0===e||null===(e=e.category)||void 0===e?void 0:e.id)&&zi.am.includes(this.data.category.id)&&(null===(t=this.data)||void 0===t?void 0:t.is_licensed)&&(this.isAdult||n&&n>=16))}get appearance(){var e;return(null===(e=this.data)||void 0===e?void 0:e.appearance)||null}get isTVStream(){var e,t;return"brdcast_tag"===(null===(e=this.data)||void 0===e?void 0:e.stream_type)||"broadcast"===(null===(t=this.data)||void 0===t?void 0:t.stream_type)}get isInteractiveVideo(){return!1}get isSpatial(){var e,t;return null!==(e=null===(t=this.data)||void 0===t?void 0:t.is_spatial)&&void 0!==e&&e}get videoUrl(){var e;return null===(e=this.data)||void 0===e?void 0:e.video_url}}var om;let am,sm;om=class extends im{constructor(e){super(null==e?void 0:e.value),this._data=P.sH.box(null),(0,P.Gn)(this,{description:P.EW,videoUrl:P.EW,isTVStream:P.EW})}get data(){return this._data.get()}set data(e){this._data.set(e)}get link(){var e,t,n,r;return this.isLive?null===(r=this.data)||void 0===r||null===(r=r.live_streams)||void 0===r?void 0:r.hls[0].url:(null===(e=this.data)||void 0===e||null===(e=e.video_balancer)||void 0===e?void 0:e.m3u8)||(null===(t=this.data)||void 0===t||null===(t=t.video_balancer)||void 0===t?void 0:t.m3u8_m4s)||(null===(n=this.data)||void 0===n||null===(n=n.video_balancer)||void 0===n?void 0:n.default)}get title(){var e;return(null===(e=this.data)||void 0===e?void 0:e.title)||""}get description(){var e;return(null===(e=this.data)||void 0===e?void 0:e.description)||""}get videoUrl(){var e;return(null===(e=this.data)||void 0===e?void 0:e.video_url)||""}get authorData(){}get black_rabbit(){var e;return null===(e=this.data)||void 0===e?void 0:e.black_rabbit}},[sm,am]=(0,k.A)(om,[(0,I.k_)({implement:"IDataPlugin",ctor_args:[{implement:"VideoTrackData",optional:!0}]})],[],0,void 0,im).c,am();const lm=()=>(0,fr.Ks)("IDataPlugin"),um=()=>(0,fr.ei)("IDataPlugin");function cm(){return(0,fr.Ks)("IVideoSettingsPlugin")}const dm=(0,Jn.PA)((()=>{const{isMini:e,isFullScreen:n,isTouchDevice:r,availableTitleClick:i,showTitle:o,videoUrl:a,title:s,isPlaying:l,counterHelper:u,pause:c}=Fp(),d=(()=>{const{videoUrl:e}=lm(),{isEmbed:n}=cm(),{generateTrackingLink:r}=rm()||{},{currentTime:i,duration:o}=Fp().playback;return(0,t.useCallback)((()=>{const t=i<Math.floor(o)?"".concat(null!=e?e:"","?t=").concat(i):e;window.open(n&&"function"==typeof r?r({campaign:"title"}):t,"_blank")}),[e,i,o])})();if(!o)return null;const h=(0,t.useCallback)((e=>{null==e||e.preventDefault(),null==u||u.get("mainHeaderTitleClick")({videoUrl:a}),d(),l&&c()}),[d,c,l,u,a]),p=i?h:e=>{e.preventDefault()};return t.createElement("div",{className:er()(em)},t.createElement("a",{href:a,target:"_blank",className:er()(Zp,{[$p]:(r||e)&&!n,[Jp]:!i}),rel:"noreferrer",onClick:p},s))}));function hm(){return(0,fr.ei)("IActivitiesPlugin")}function pm(){var e;const t=hm();return Boolean(null!==(e=null==t?void 0:t.isInteractiveVideo)&&void 0!==e&&e)}const mm=()=>(0,fr.Ks)("IPictureInPictureViewPlugin"),vm=()=>(0,fr.ei)("IPictureInPictureViewPlugin"),_m=(0,Jn.PA)((e=>{const{children:n,pipControl:r}=e,{isTouchDevice:i,isShowHeader:o,isShowStartScreen:a}=Fp(),{isShowMobilePiPButton:s}=vm()||{},{isShowControls:l,playback:u}=(0,pt.useControls)(),{seeking:c}=u,{isShowPreview:d}=Cp(),h=pm(),p=(c||!l||d&&i)&&!a,m=r&&s&&!h;return t.createElement("div",{"data-testid":"ui-header",className:er()(Vp,{[Xp]:p,[Up]:i})},t.createElement("div",{className:er()(qp,{[Yp]:i,[Kp]:!o})}),t.createElement("div",{className:er()(jp,zp,{[Gp]:o})},m&&t.createElement(r,{size:"XXL",placement:"bottom",onboardingPlacement:"bottom"}),o&&t.createElement(t.Fragment,null,t.createElement(tm,null),t.createElement(dm,null))),n&&t.createElement("div",{className:er()(Wp)},n))}));var fm=a(6737);const gm=e=>{var n;const{target:r,callback:i,enable:o=!0}=e,a=ym(),s=(0,t.useRef)(i);return(0,t.useEffect)((()=>{s.current=i}),[i]),(0,fm.E)((()=>{if(!o||typeof window>"u")return;const e=r&&"current"in r?r.current:r;if(!e)return;let t=!1;const n=(e,n)=>{t||s.current(e,n)};return null==a||a.subscribe(e,n),()=>{t=!0,a&&e&&a.unsubscribe(e,n)}}),[s,r,a,o]),null!==(n=null==a?void 0:a.observer)&&void 0!==n?n:null};let bm;const ym=()=>typeof window>"u"?null:bm||(bm=function(){let e=!1,t=[];const n=new Map,r=new window.ResizeObserver(((r,i)=>{t=t.concat(r),e||window.requestAnimationFrame((()=>{const r=new Set;for(const e of t){if(r.has(e.target))continue;r.add(e.target);const t=n.get(e.target);null==t||t.forEach((t=>t(e,i)))}t=[],e=!1})),e=!0}));return{observer:r,subscribe(e,t){n.has(e)||(r.observe(e),n.set(e,[]));const i=n.get(e);i.push(t),n.set(e,i)},unsubscribe(e,t){var i;const o=null!==(i=n.get(e))&&void 0!==i?i:[];if(1===o.length)return r.unobserve(e),void n.delete(e);const a=o.indexOf(t);-1!==a&&o.splice(a,1),n.set(e,o)}}}());var Em=a(7163);const wm=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsUsersUser",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12 4a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7M6.5 7.5a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0m2.826 7h5.348c1.227 0 2.065 0 2.777.215a5 5 0 0 1 3.334 3.334c.216.712.215 1.55.215 2.777V21a1 1 0 0 1-2 0c0-1.468-.01-1.98-.13-2.37a3 3 0 0 0-2-2c-.39-.12-.902-.13-2.37-.13h-5c-1.468 0-1.98.01-2.37.13a3 3 0 0 0-2 2c-.12.39-.13.902-.13 2.37a1 1 0 1 1-2 0v-.174c0-1.227 0-2.065.215-2.777a5 5 0 0 1 3.334-3.334c.712-.216 1.55-.216 2.777-.215" clip-rule="evenodd" />'})),Sm=(0,t.forwardRef)(wm),Am="m",Cm={"10xl":120,"9xl":112,"8xl":104,"7xl":96,"6xl":88,"5xl":80,"4xl":72,"3xl":64,xxl:56,xl:48,l:40,m:32,s:24,xs:16},km=e=>{const t=e.split(/\s+/);return(t.length>1?[t[0][0],t[1][0]].filter(Boolean).join(""):e.slice(0,1)).toUpperCase()},Pm=["style","className","size","name","src","srcSet","sizes","alt"],Im={root:"_root_1be5d8_v1-27-0",hasImage:"_hasImage_1be5d8_v1-27-0",hasIcon:"_hasIcon_1be5d8_v1-27-0",image:"_image_1be5d8_v1-27-0",text:"_text_1be5d8_v1-27-0",icon:"_icon_1be5d8_v1-27-0","size-xs":"_size-xs_1be5d8_v1-27-0","size-s":"_size-s_1be5d8_v1-27-0","size-m":"_size-m_1be5d8_v1-27-0","size-l":"_size-l_1be5d8_v1-27-0","size-xl":"_size-xl_1be5d8_v1-27-0","size-xxl":"_size-xxl_1be5d8_v1-27-0","size-3xl":"_size-3xl_1be5d8_v1-27-0","size-4xl":"_size-4xl_1be5d8_v1-27-0","size-5xl":"_size-5xl_1be5d8_v1-27-0","size-6xl":"_size-6xl_1be5d8_v1-27-0","size-7xl":"_size-7xl_1be5d8_v1-27-0","size-8xl":"_size-8xl_1be5d8_v1-27-0","size-9xl":"_size-9xl_1be5d8_v1-27-0","size-10xl":"_size-10xl_1be5d8_v1-27-0"},Tm=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,size:o=Am,name:a,src:s,srcSet:u,sizes:c,alt:d}=e,h=(0,V.A)(e,Pm),[p,m]=(0,t.useState)(!1);(0,t.useEffect)((()=>{m(!1)}),[s]);const v=p&&!a||!s&&!a,_=(0,ve.c)(i,Im.root,Im["size-".concat(o)],{[Im.hasIcon]:v,[Im.hasImage]:s&&!p});return(0,S.jsx)("div",(0,l.A)((0,l.A)({role:"img",ref:n,style:r,className:_,"aria-label":a||d},h),{},{children:(()=>{var e;return s&&!p?(0,S.jsx)("img",{className:Im.image,src:s,srcSet:u,sizes:c,alt:d||a,width:Cm[o],height:Cm[o],onError:()=>m(!0)}):v?(0,S.jsx)(Sm,{className:Im.icon}):(0,S.jsx)("div",{className:Im.text,children:km(null!==(e=a||d)&&void 0!==e?e:"")})})()}))}));Tm.displayName="Avatar";const xm="avatar-module__avatar___jIyZz",Rm={S:"m",M:"xl",L:"3xl"},Lm=(0,Jn.PA)((()=>{const{isMini:e,getAuthorUrl:n,authorData:r,showAvatar:i,availableLogoClick:o,counterHelper:a}=Fp(),{iconSizeValue:s}=(0,$a.a)(),l=n("channel_left");if(e||!i||!r)return null;const u=o?()=>{null==a||a.get("mainHeaderLogoClick")({videoUrl:l||""})}:void 0;return t.createElement("a",{"data-testid":"ui-author-logo",href:l,target:"_blank",className:xm,rel:"noreferrer",title:r.name,onClick:u},t.createElement(Tm,{size:Rm[s],src:r.avatar_url||zi.k_,alt:r.name,name:r.name}))})),Om="title-module__wrapper___kNirp",Nm="title-module__title___WEBNV",Mm="title-module__clickable___FLZYr",Dm="title-module__S___Z7kQq",Bm="title-module__M____Ulba",Fm="title-module__L___fm0O6",Hm=(0,Jn.PA)((()=>{const{availableTitleClick:e,showTitle:n,videoUrl:i,title:o,isPlaying:a,counterHelper:s,pause:l}=Fp(),{iconSizeValue:u}=(0,$a.a)(),c=(()=>{const{videoUrl:e}=lm(),{isEmbed:n}=cm(),{generateTrackingLink:i}=rm()||{},{currentTime:o,duration:a}=Fp().playback;return(0,t.useCallback)((()=>{const t=o<Math.floor(a)?"".concat(null!=e?e:"","?t=").concat(o,"&p=").concat((0,r.al)(window.location.href).p):e;window.open(n&&"function"==typeof i?i({campaign:"title"}):t,"_blank")}),[e,o,a])})();if(!n)return null;const d=(0,t.useCallback)((e=>{null==e||e.preventDefault(),null==s||s.get("mainHeaderTitleClick")({videoUrl:i}),c(),a&&l()}),[c,l,a,s,i]),h=e?d:e=>{e.preventDefault()};return t.createElement("div",{className:er()(Om)},t.createElement("a",{href:i,target:"_blank",className:er()(Nm,{[Mm]:e,[Fm]:"L"===u,[Bm]:"M"===u,[Dm]:"S"===u}),rel:"noreferrer",onClick:h},o))})),Vm="header-module__wrapper___LrGLP",Um="header-module__mobile___ITm_1",jm="header-module__hidden___BSTDu",Wm="header-module__small___FSfCD",zm="header-module__title___dSaBU",Gm="header-module__background___xv2wM",qm="header-module__column___JMET1",Km="header-module__headerMargin___aFxpq",Ym=(0,Jn.PA)((e=>{const{shareButton:n,settingsButton:r,pipButton:i,snapshotButton:o}=e,a=Fp(),{isTouchDevice:s,isTitleVisible:l,isHeaderVisible:u}=a,{handleHideControlsByClick:c}=(0,pt.useControls)(),{isSmallPlayer:d}=(0,$a.a)(),[h,p]=(0,t.useState)(null);return gm({target:h,callback:e=>{var t;let{target:n}=e;return a.headerHeight=null!==(t=null==n?void 0:n.clientHeight)&&void 0!==t?t:0}}),t.createElement("div",(0,ai.A)({ref:p,"data-testid":"ui-header",className:er()(Vm,{[Wm]:d,[Um]:s,[jm]:!u})},Em.ED,{onMouseDown:e=>s&&(0,Em.aI)(null==e?void 0:e.target)&&c(e)}),t.createElement("div",(0,ai.A)({className:er()(Gm,{[Wm]:!l})},Em.ED)),t.createElement("div",{className:qm},i&&t.createElement(i,{modifier:Km})),t.createElement("div",{className:er()(qm,zm,Km)},l&&t.createElement(t.Fragment,null,t.createElement(Lm,null),t.createElement(Hm,null))),t.createElement("div",{className:qm},n&&t.createElement(n,null),r&&t.createElement(r,null),o&&t.createElement(o,null)))}));var Xm=a(7180);const Qm=(new Date).getTimezoneOffset()/60*-1,Zm=()=>String(Qm);var Jm=a(4823);const $m=()=>{const e={},t=Xm.A.get("jwt");return t&&(e.Authorization="Bearer ".concat(t)),e},ev=()=>{try{return Jm.env.API||window.location.origin}catch(e){console.info("getUrl",e)}return window.location.origin},tv=()=>{try{return Jm.env.PANGOLIN||"/pangolin/api/web"}catch(e){console.info("getPangolinUrl",e)}return window.location.origin},nv=async(e,t,n,i,o)=>{const a=(0,r.al)(window.location.href),s=a.hasOwnProperty("referer")?a.referer||"":(0,O.If)(),u=(()=>{const e=_o.getItem("raichu-av1-support");if("string"==typeof e)return!!Number(e);const t=document.createElement("video"),n=Boolean(t.canPlayType("video/mp4; codecs=av01.0.00M.10"));return _o.setItem("raichu-av1-support",n?"1":"0"),n})(),{minAge:c,maxAge:d}=i||{},h={ClientIP_TZ:Zm()};null==c&&null==d||(h["x-client-context"]="sm");const p=(0,l.A)({no_404:!0,p:a.p,quality:a.quality?1:void 0,admin_mode:a.admin_mode?1:void 0,platform:a.platform,referer:s,pver:"v2",client:"wdp",mq:o?0:"all",av1:u&&!o?1:0},n);t&&(p.yclid=t);const m=(0,r.Kj)(p);return(await fetch("".concat(ev(),"/api/play/options/").concat(e,"/?").concat(m.toString()),{headers:h})).json()},rv=e=>fetch("".concat(ev(),"/api/v2/video/stream/").concat(e,"/info/")).then((e=>e.json())).catch((e=>(console.warn(e),null))),iv=async e=>{let{videoId:t,client:n,limit:r=21,minAge:i,maxAge:o,playlistId:a,addLikedVideos:s}=e;const l=new URLSearchParams;l.set("client",n),l.set("limit",r.toString()),null!=i&&l.set("min_age",i.toString()),null!=o&&l.set("max_age",o.toString()),a&&l.set("playlist_id",a),s&&l.set("video_source","liked");const u="".concat(ev(),"/api/v2/video/end-screen/").concat(t,"/?").concat(l.toString()),c={};null==i&&null==o||(c["x-client-context"]="sm");return(await fetch(u,{headers:c})).json()};var ov,av;let sv,lv,uv,cv;new(av=class extends I.j8{constructor(e,t,n,r,i){super(),this._visible=(sv(this),P.sH.box(!1)),this._data=P.sH.box(null),this._isEmbed=P.sH.box(!1),this.counterHelper=void 0,this.getRecommendations=e=>e?this.recommendations.slice(0,e):this.recommendations,this._playerData=t,this._config=r,this.trackingLinks=i,this.counterHelper=n&&n instanceof Xn?n.counterHelper:void 0,this.isEmbed=e.value,(0,P.Gn)(this,{nextVideo:P.EW,recommendations:P.EW,isEmbed:P.EW,data:P.EW,visible:P.EW})}init(){const e=[];return e.push(this._makeVideoIdReaction()),()=>e.forEach((e=>e()))}_makeVideoIdReaction(){return(0,P.mJ)((()=>{var e;return{videoId:this._playerData.video_id,allow:null===(e=this._playerData.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_endscreen,_:this.isEmbed}}),(e=>{let{videoId:t,allow:n}=e;t&&n&&(0,P.h5)((async()=>{try{this.data=await iv(this._makeFetctEndScreenRequestParams(t))}catch(e){console.warn("Load end-screen error",e)}}))}))}_makeFetctEndScreenRequestParams(e){var t;return{videoId:e,client:this.isEmbed?"player":"wdp",limit:20,playlistId:null===(t=this._config.get("playlistId"))||void 0===t?void 0:t.toString()}}get data(){return this._data.get()}set data(e){this._data.set(e)}get thumbnailUrl(){return this._playerData.poster||""}get nextVideo(){var e;return(null===(e=this._data.get())||void 0===e?void 0:e.next_video)||null}get recommendations(){var e;return(null===(e=this._data.get())||void 0===e?void 0:e.recommendation)||[]}get isEmbed(){return this._isEmbed.get()}set isEmbed(e){this._isEmbed.set(e)}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}},({e:[sv],c:[cv,lv]}=(0,k.A)(av,[(0,I.k_)({implement:"IEndScreenPlugin",ctor_args:["IsEmbed","IDataPlugin","IStatisticState","IPlayerConfigPlugin",{implement:"ITrackingLinksPlugin",optional:!0}]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),uv=av,(ov=class extends ft{constructor(){super(cv),this.useEndScreen=()=>(0,fr.Ks)("IEndScreenPlugin"),this.useEndScreenOptional=()=>(0,fr.ei)("IEndScreenPlugin"),this.getEndScreen=e=>e("IEndScreenPlugin"),lv()}})[uv]=void 0,ov);const dv="touch-handlers-layout-module__layout___J1RlQ",hv="touch-handlers-layout-module__redesigned___aUgvO",pv="touch-handlers-layout-module__mobile___s2sMK",mv="touch-handlers-layout-module__withControls___pm7S1",vv="touch-handlers-layout-module__loadingOverlay___IcZ79",_v="touch-handlers-layout-module__waiting___L4GuH";var fv=a(6537);const gv=[.25,.5,.75,1,1.25,1.5,1.75,2];var bv,yv;let Ev;const wv={autoplay:!0,isLive:!1};class Sv extends(bv=I.j8){constructor(e,t,n,r){super(),this._notifier=void Ev(this),this._readyStateNotifier=void 0,this._timeUpdateNotifier=void 0,this._durationAndIsPlayingNotifier=void 0,this._pausedNotifier=void 0,this._endedNotifier=void 0,this._autoPlayWithMute=P.sH.box("NotInitialized"),this._isAutoPlay=P.sH.box(!1),this._wasStarted=P.sH.box(!1),this._isPlayerReady=P.sH.box(!1),this._playInitiator=P.sH.box(""),this._seeking=P.sH.box(!1),this.__buffering=P.sH.box(!1),this._isLooping=P.sH.box(!1),this._mount=P.sH.box(!1),this._volumeBeforeMute=P.sH.box(this.volume),this._isStatStartSent=P.sH.box(!1),this._preventStatSend=P.sH.box(!1),this._isInfoPrevented=P.sH.box(!1),this._isCommunicationBannerPrevented=P.sH.box(!0),this._options=void 0,this._pausedViaPlugin=P.sH.box(!1),this._fragmentTime=P.sH.box(null),this._tvRemainingTime=P.sH.box(null),this._hasMutedAutoplayFired=!1,this._tvRemainingTimeSec=P.sH.box(null),this._eventEmitter=void 0,this._player=void 0,this._mutedByUser=!1,this._config=n,this.__counterHelper=r,this._player=e,this._player.setAttribute("playsinline","true"),this._options=t||wv,this._eventEmitter=new xa,(0,P.Gn)(this,{currentTime:P.EW,muted:P.EW,buffering:P.EW,volume:P.EW,duration:P.EW,ended:P.EW,isPlaying:P.EW,waiting:P.EW,wasStarted:P.EW,isPlayerReady:P.EW,autoPlayWithMute:P.EW,playbackRate:P.EW,isLooping:P.EW,volumeBeforeMute:P.EW,playInitiator:P.EW,isInfoPrevented:P.EW,isAutoPlay:P.EW,mount:P.EW,pausedViaPlugin:P.EW,fragmentTime:P.EW,seeking:P.EW,isCommunicationBannerPrevented:P.EW,handleVolume:P.XI,handleMuted:P.XI,handlePlaybackRate:P.XI,seek:P.XI,seekBack:P.XI,seekForward:P.XI,seekStart:P.XI,seekEnd:P.XI,play:P.XI,pause:P.XI,progress:P.EW,setAutoPlayWithMuteState:P.XI,isStatStartSent:P.EW,preventStatSend:P.EW,tvRemainingTime:P.EW,tvRemainingTimeSec:P.EW},{autoBind:!0}),this.play=this.play.bind(this),this.pause=this.pause.bind(this),this.handleMuted=this.handleMuted.bind(this),this.handlePlaybackRate=this.handlePlaybackRate.bind(this),this.comparePlayers=this.comparePlayers.bind(this)}init(){const e=_o.getItem("volume"),t=this.mutedFromStorage;if(!e||"number"!=typeof parseFloat(e)||isNaN(parseFloat(e))||t||(this.volume=parseFloat(e),this.volumeBeforeMute=parseFloat(e)),this.restorePlaybackRateFromStorage(),this.autostartmute||0===this.volume||t){const e=this.autostartmute&&!t&&this.volume;this._player.muted=!0,e&&_o.setItem("muted","0")}null===e&&_o.setItem("volume",this._player.volume.toString())}resetPlayback(){return(0,P.mJ)((()=>this._config&&this._config.get("videoId")),(()=>{this.isLooping=!1,this._hasMutedAutoplayFired=!1,this.setAutoPlayWithMuteState("NotInitialized"),this.isCommunicationBannerPrevented=!0}))}initPlaybackSpeedSubscription(){const e=e=>{var t;const n=null==e||null===(t=e.data)||void 0===t?void 0:t.speed;n&&gv.includes(n)&&(this.playbackRate=n)};return va.Ug.subscribe(zi.L2.SET_PLAYBACK_SPEED,e),()=>va.Ug.unsubscribe(zi.L2.SET_PLAYBACK_SPEED,e)}initPreventPlay(){return(0,P.mJ)((()=>{var e;return{disabled:null===(e=this._config)||void 0===e?void 0:e.get("isPlaybackDisabled"),playing:this.isPlaying}}),(e=>{let{disabled:t,playing:n}=e;n&&t&&this.pause()}))}setMount(e){this.mount=e}getVideoIdReaction(){return(0,P.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>{this.isPlayerReady=!1,this.wasStarted=!1,this.isStatStartSent=!1,this.preventStatSend=!1,this.fragmentTime=null}))}handleError(){this._eventEmitter.emit(ii.p.error,null)}seekStart(){this._seeking.set(!0)}seekEnd(){this._seeking.set(!1)}async play(){return this.isVideoManuallyEnded()&&(this.currentTime=0),this._player.play().then((()=>this.setAutoPlayWithMuteState("Disabled"))).finally((()=>this.isCommunicationBannerPrevented=!1))}pause(){this._player.pause(),this.pausedViaPlugin=!0}get player(){return this._player}get volume(){var e,t;return null===(e=this._notifier)||void 0===e||e.reportObserved(),null===(t=this._player)||void 0===t?void 0:t.volume}get autostartmute(){const e=(0,r.al)(window.location.href).autostartmute;return!(!e||"false"===e)}get readyState(){var e,t;return null===(e=this._readyStateNotifier)||void 0===e||e.reportObserved(),null===(t=this._player)||void 0===t?void 0:t.readyState}get isLooping(){return this._isLooping.get()}set isLooping(e){this._isLooping.set(e)}set volume(e){_o.setItem("volume",null==e?void 0:e.toString()),this._player.volume=e,this._eventEmitter.emit(ii.p.volumeChange,e)}get isPlayerReady(){return this._isPlayerReady.get()}set isPlayerReady(e){this._isPlayerReady.set(e)}wasStartedHandler(){this.wasStarted||(0,P.h5)((()=>{this.wasStarted=!0}))}initPlayback(){this._player.addEventListener("play",this.wasStartedHandler);const e=this.bufferingStart(),t=this.bufferingEnd(),n=this.volumeChange(),r=this.loadedMetaData(),i=()=>this.handleError.bind(this),o=[];o.push((()=>{this._player.removeEventListener("play",this.wasStartedHandler)})),o.push((0,P.mJ)((()=>this._player),(e=>{this._notifier=(()=>{const t=()=>{var e;return null===(e=this._notifier)||void 0===e?void 0:e.reportChanged()};return(0,P.MN)("audio",(()=>{e.addEventListener("volumechange",t),e.addEventListener("seeking",t),e.addEventListener("ratechange",t),e.addEventListener("seeked",t),e.addEventListener("play",t),e.addEventListener("canplay",t),e.addEventListener("error",i)}),(()=>{e.removeEventListener("volumechange",t),e.removeEventListener("ratechange",t),e.removeEventListener("seeking",t),e.removeEventListener("seeked",t),e.removeEventListener("play",t),e.removeEventListener("canplay",t),e.removeEventListener("error",i)}))})()}))),o.push(this.autoplayReaction()),this._notifier=(()=>{const e=()=>{var e;return null===(e=this._notifier)||void 0===e?void 0:e.reportChanged()};return(0,P.MN)("audio",(()=>{this._player.addEventListener("volumechange",e),this._player.addEventListener("play",e),this._player.addEventListener("canplay",e),this._player.addEventListener("ratechange",e),this._player.addEventListener("error",i)}),(()=>{this._player.removeEventListener("volumechange",e),this._player.removeEventListener("play",e),this._player.removeEventListener("canplay",e),this._player.removeEventListener("ratechange",e),this._player.removeEventListener("error",i)}))})(),this._readyStateNotifier=(()=>{const e=()=>{var e;return null===(e=this._readyStateNotifier)||void 0===e?void 0:e.reportChanged()};return(0,P.MN)("readyState",(()=>{this._player.addEventListener("loadedmetadata",e),this._player.addEventListener("loadeddata",e),this._player.addEventListener("canplay",e),this._player.addEventListener("canplaythrough",e)}),(()=>{this._player.removeEventListener("loadedmetadata",e),this._player.removeEventListener("loadeddata",e),this._player.removeEventListener("canplay",e),this._player.removeEventListener("canplaythrough",e)}))})(),this._timeUpdateNotifier=(()=>{const e=()=>{var e;return null===(e=this._timeUpdateNotifier)||void 0===e?void 0:e.reportChanged()};return(0,P.MN)("timeUpdate",(()=>{this._player.addEventListener("timeupdate",e)}),(()=>{this._player.removeEventListener("timeupdate",e)}))})(),this._durationAndIsPlayingNotifier=(()=>{let e=0;const t=()=>{const t=this.getDurationValue();var n;t!==e&&(e=t,null===(n=this._durationAndIsPlayingNotifier)||void 0===n||n.reportChanged())};return(0,P.MN)("durationAndIsPlayingChange",(()=>{this._player.addEventListener("durationchange",t),this._player.addEventListener("playing",t),this._player.addEventListener("timeupdate",t)}),(()=>{this._player.removeEventListener("durationchange",t),this._player.removeEventListener("playing",t),this._player.removeEventListener("timeupdate",t)}))})(),this._pausedNotifier=(()=>{const e=()=>{var e;return null===(e=this._pausedNotifier)||void 0===e?void 0:e.reportChanged()};return(0,P.MN)("pausedChange",(()=>{this._player.addEventListener("play",e),this._player.addEventListener("pause",e),this._player.addEventListener("playing",e)}),(()=>{this._player.removeEventListener("play",e),this._player.removeEventListener("pause",e),this._player.removeEventListener("playing",e)}))})(),this._endedNotifier=(()=>{const e=()=>{var e;return null===(e=this._endedNotifier)||void 0===e?void 0:e.reportChanged()};return(0,P.MN)("endedChange",(()=>{this._player.addEventListener("play",e),this._player.addEventListener("ended",e),this._player.addEventListener("seeked",e)}),(()=>{this._player.removeEventListener("play",e),this._player.removeEventListener("ended",e),this._player.removeEventListener("seeked",e)}))})(),o.push(this.getVideoIdReaction());const a=this.seekStart.bind(this),s=this.seekEnd.bind(this);return this._player.addEventListener("seeking",a),this._player.addEventListener("seeked",s),o.push((()=>{this._player.removeEventListener("seeking",a),this._player.removeEventListener("seeked",s)})),o.push((0,P.mJ)((()=>({duration:this.duration,tvSchedule:this.tvSchedule})),(e=>{let{tvSchedule:t}=e;t&&(this.tvRemainingTime=(0,fv.A1)(t))}))),o.push((0,P.mJ)((()=>({tvSchedule:this.tvSchedule,currentTime:this.currentTime})),(e=>{let{tvSchedule:t}=e;t&&(this.tvRemainingTimeSec=(0,fv.A1)(t)/1e3)}))),o.push(r,e,t,n),o.push(this.initPreventPlay()),()=>o.forEach((e=>e()))}clearFragmentTime(){return()=>{this.fragmentTime=null}}get currentTime(){var e;return null===(e=this._timeUpdateNotifier)||void 0===e||e.reportObserved(),this._player.currentTime}set currentTime(e){var t;this._player.currentTime=e,null===(t=this._timeUpdateNotifier)||void 0===t||t.reportChanged()}isVideoManuallyEnded(){return!(!x()||!H.B.isiOSMobile)&&Math.abs(this._player.duration-this._player.currentTime)<Sv.TIME_COMPARISON_THRESHOLD}get ended(){var e;return null===(e=this._endedNotifier)||void 0===e||e.reportObserved(),this._player.ended||this.isVideoManuallyEnded()}get paused(){var e;return null===(e=this._pausedNotifier)||void 0===e||e.reportObserved(),this._player.paused}get isPlaying(){var e;return null===(e=this._durationAndIsPlayingNotifier)||void 0===e||e.reportObserved(),this._player.currentTime>=0&&!this.paused&&!this.ended&&this._player.readyState>2}get duration(){var e;return null===(e=this._durationAndIsPlayingNotifier)||void 0===e||e.reportObserved(),this.getDurationValue()}get muted(){var e;return null===(e=this._notifier)||void 0===e||e.reportObserved(),this._player.muted}set muted(e){this._player.muted!==e&&(this._mutedByUser=e,_o.setItem("muted",e?"1":"0"),this._player.muted=e,this._eventEmitter.emit(ii.p.mute,e))}get progress(){return this.currentTime/this.duration*100}get waiting(){var e;return null===(e=this._readyStateNotifier)||void 0===e||e.reportObserved(),(!this.paused&&!this.isPlaying||this._player.readyState<=2&&this.wasStarted||this.buffering)&&!this.ended}get wasStarted(){return this._wasStarted.get()}set wasStarted(e){this._wasStarted.set(e)}get playInitiator(){return this._playInitiator.get()}set playInitiator(e){this._playInitiator.set(e)}get seeking(){return this._seeking.get()}get playbackRate(){var e;return null===(e=this._notifier)||void 0===e||e.reportObserved(),this._player.playbackRate}set playbackRate(e){(this._options.isLive||isNaN(e)||e<.25||e>2)&&(e=1),_o.setItem(zi.Ok.PLAYBACK_RATE,e.toString()),e!==this._player.playbackRate&&va.Ug.emit(zi.L2.PLAYBACK_SPEED_CHANGED,{speed:e}),this._player.playbackRate=e}get isStatStartSent(){return this._isStatStartSent.get()}set isStatStartSent(e){this._isStatStartSent.set(e)}get preventStatSend(){return this._preventStatSend.get()}set preventStatSend(e){this._preventStatSend.set(e)}get isInfoPrevented(){return this._isInfoPrevented.get()}set isInfoPrevented(e){this._isInfoPrevented.set(e)}handlePlaybackRate(e,t){this.playbackRate=e,this._eventEmitter.emit(ii.p.playbackRate,{rate:e,withoutInfo:t})}restorePlaybackRateFromStorage(){const e=_o.getItem(zi.Ok.PLAYBACK_RATE);this.playbackRate=e?parseFloat(e):1}changePlayBackRate(e){const t=gv.indexOf(this.playbackRate);let n;return"up"===e?(n=t+1<gv.length?t+1:t,this.playbackRate=gv[n]):"down"===e&&(n=t-1>=0?t-1:t,this.playbackRate=gv[n]),"number"==typeof n?gv[n]:this.playbackRate}get autoPlayWithMute(){return this._autoPlayWithMute.get()}set autoPlayWithMute(e){this._autoPlayWithMute.set(e)}get buffering(){return this.__buffering.get()}set buffering(e){this.__buffering.set(e)}get isAutoPlay(){return this._isAutoPlay.get()}set isAutoPlay(e){this._isAutoPlay.set(e)}handleVolume(e){var t;e!==this.volume&&(this.muted=e<zi.bj,this.volume=e/100,null===(t=this._notifier)||void 0===t||t.reportChanged())}handleMuted(){var e;this.isInfoPrevented=!1;const t=!this.muted;this.muted=t,t?this.volumeBeforeMute=this.volume:(this.setAutoPlayWithMuteState("Disabled"),this.volume=this.volumeBeforeMute||1),null===(e=this._notifier)||void 0===e||e.reportChanged()}getBuffered(){const e=this._player.buffered,t=[{start:0,end:0}],n=Math.floor(this._player.currentTime);for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});const r=t.find((e=>n>=e.start&&n<e.end));return[t,r?r.end/this._player.duration*100:0,null!=r&&r.end?null==r?void 0:r.end:0]}seek(e){const t=this._player.currentTime;this.currentTime=Math.min(Math.max(0,e),this.duration-.1),Math.floor(t)!==Math.floor(this.currentTime)&&this.wasStarted&&this._eventEmitter.emit(ii.p.seek,{from:t,to:this.currentTime})}seekBack(e){this.seek(this.currentTime-e)}seekForward(e){this.seek(this.currentTime+e)}on(e,t){this._eventEmitter.on(e,t)}off(e,t){this._eventEmitter.off(e,t)}emit(e,t){this._eventEmitter.emit(e,t)}load(){this._player.load()}comparePlayers(e){return e===this._player}playWithHandlePermissions(){this.play().then((()=>{this.pausedViaPlugin=!1,this.muted&&!this._hasMutedAutoplayFired&&(this.isInfoPrevented=!0,this._mutedByUser||this.setAutoPlayWithMuteState("Enabled"),this._hasMutedAutoplayFired=!0)})).catch((e=>{"NotAllowedError"!==(null==e?void 0:e.name)||this.muted||(this.isInfoPrevented=!0,this.muted=!0,this.play().then((()=>{this.setAutoPlayWithMuteState("Enabled"),_o.setItem("muted","1")})).catch((e=>{this.muted=!1,console.warn(e)})))})).finally((()=>{this.isInfoPrevented=!1,this.isCommunicationBannerPrevented=!1}))}autoplayReaction(){var e;return null!==(e=this._config)&&void 0!==e&&e.get("preventAutoplay")?()=>{}:(0,P.mJ)((()=>({mount:this.mount,wasStarted:this.wasStarted,isPlayerReady:this.isPlayerReady,autoplay:this.autoplay})),(e=>{let{mount:t,wasStarted:n,isPlayerReady:r,autoplay:i}=e;t&&r&&!n&&i&&this.playWithHandlePermissions()}),{fireImmediately:!0})}bufferingStart(){const e=()=>{this.buffering=!0};return this._player.addEventListener("waiting",e),()=>{this._player.removeEventListener("waiting",e)}}bufferingEnd(){const e=()=>{this.buffering&&(this.buffering=!1)};return this._player.addEventListener("timeupdate",e),()=>{this._player.removeEventListener("timeupdate",e)}}volumeChange(){const e=()=>{this._player.muted||"Enabled"!==this.autoPlayWithMute||this.setAutoPlayWithMuteState("Disabled")};return this._player.addEventListener("volumechange",e),()=>{this._player.removeEventListener("volumechange",e)}}loadedMetaData(){const e=()=>this.restorePlaybackRateFromStorage();return this._player.addEventListener("loadedmetadata",e),()=>{this._player.removeEventListener("loadedmetadata",e)}}getDurationValue(){return this._options.isLive&&this._player.seekable.length?this._player.seekable.end(0):this._player.duration}setAutoPlayWithMuteState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Disabled";this.autoPlayWithMute=e}get autoplay(){return this._options.autoplay}get mount(){return this._mount.get()}set mount(e){this._mount.set(e)}get isLive(){var e;return Boolean(null===(e=this._options)||void 0===e?void 0:e.isLive)}get isTvStream(){var e;return Boolean(null===(e=this._options)||void 0===e?void 0:e.isTVStream)}get tvSchedule(){var e,t;return null!==(e=(0,P.HO)(null===(t=this._config)||void 0===t?void 0:t.get("tvSchedule")))&&void 0!==e?e:null}get isOutdated(){return!1}get volumeBeforeMute(){return this._volumeBeforeMute.get()}set volumeBeforeMute(e){this._volumeBeforeMute.set(e)}set pausedViaPlugin(e){this._pausedViaPlugin.set(e)}get pausedViaPlugin(){return this._pausedViaPlugin.get()}get fragmentTime(){return this._fragmentTime.get()}set fragmentTime(e){this._fragmentTime.set(e)}get tvRemainingTime(){return this._tvRemainingTime.get()}set tvRemainingTime(e){this._tvRemainingTime.set(e)}get isCommunicationBannerPrevented(){return this._isCommunicationBannerPrevented.get()}set isCommunicationBannerPrevented(e){this._isCommunicationBannerPrevented.set(e)}get mutedFromStorage(){return"1"===_o.getItem("muted")}get tvRemainingTimeSec(){return this._tvRemainingTimeSec.get()}set tvRemainingTimeSec(e){this._tvRemainingTimeSec.set(e)}}yv=Sv,[Ev]=(0,k.A)(yv,[],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"resetPlayback"],[(0,I.o7)(),2,"initPlaybackSpeedSubscription"],[I.zm,2,"wasStartedHandler"],[(0,I.o7)(),2,"initPlayback"],[(0,I.o7)(),2,"clearFragmentTime"],[I.zm,2,"seekBack"],[I.zm,2,"seekForward"]],0,void 0,bv).e,Sv.TIME_COMPARISON_THRESHOLD=.1;function Av(){const e=(0,fr.p5)().resolve("IPlayback");if(!(e instanceof Nv))throw new Error("VideoPlaybackPlugin not found in current player configuration");return e}const Cv=(0,Jn.PA)((function(){const e=Av().playbackComponent;return t.createElement(e,null)})),kv="playback-module__videoWrapper___Nsa3D",Pv="playback-module__userInteractionDisabled___k0L6S";class Iv extends Ka{constructor(e,t,n){super(),this._liveMidrollData=(0,P.sH)({startPlay:!1,needToPrefetch:!1,duration:null,active:!1}),this._streamInfo=(0,P.sH)({}),this._streamInfoInterval=null,this.setStreamInfoInterval=()=>(this._streamInfoInterval=setInterval((()=>{this.fetchLiveStreamInfo().catch((e=>{console.warn(e)}))}),15e3),()=>{this._streamInfoInterval&&clearInterval(this._streamInfoInterval)}),this._config=e,this._data=t,this._data.isTVStream||(this.fetchLiveStreamInfo().catch((e=>{console.warn(e)})),this.__disposers.push(this.setStreamInfoInterval())),(0,P.Gn)(this,{liveMidrollData:P.EW,liveMidrollStartPlay:P.EW,liveMidrollNeedToPrefetch:P.EW,liveMidrollDuration:P.EW,liveMidrollActive:P.EW,streamStatus:P.EW,accessStatus:P.EW})}init(){}async fetchLiveStreamInfo(){var e;const t=null===(e=this._config)||void 0===e?void 0:e.get("videoId");if(t){const e=await rv(t);(0,P.h5)((()=>{this._streamInfo=Object.assign(this._streamInfo,null!=e?e:{})})),va.Ug.emit(zi.L2.GET_STREAM_INFO,{streamInfo:e})}}get liveMidrollData(){return this._liveMidrollData}set liveMidrollData(e){this._liveMidrollData=(0,l.A)((0,l.A)({},this._liveMidrollData),e)}get liveMidrollStartPlay(){return this._liveMidrollData.startPlay}set liveMidrollStartPlay(e){this._liveMidrollData.startPlay=e}get liveMidrollNeedToPrefetch(){return this._liveMidrollData.needToPrefetch}set liveMidrollNeedToPrefetch(e){this._liveMidrollData.needToPrefetch=e}get liveMidrollDuration(){return this._liveMidrollData.duration}set liveMidrollDuration(e){this._liveMidrollData.duration=e}get liveMidrollActive(){return this._liveMidrollData.active}set liveMidrollActive(e){this._liveMidrollData.active=e}get streamStatus(){var e;return null===(e=this._streamInfo)||void 0===e?void 0:e.stream_status}get accessStatus(){var e;return null===(e=this._streamInfo)||void 0===e?void 0:e.access_status}}function Tv(e){let{videoWidth:t,videoHeight:n}=e;return xv([window.innerWidth,window.innerHeight])/xv([t,n])}function xv(e){return Math.max(...e)/Math.min(...e)}var Rv;let Lv,Ov,Nv;Rv=class extends Sv{static get Playback(){return Cv}constructor(e,n,r,i,o,a,s,l,u){var c;super(document.createElement("video"),null!=n?n:null,e,a&&a instanceof Xn?a.counterHelper:void 0),this._adapter=(Lv(this),P.sH.box(null)),this._isOutdated=P.sH.box(!1),this._isFrameless=P.sH.box(!1),this.__wasEnded=!1,this._currentVideoId=P.sH.box(""),this.playerContainer=null,this._shouldResumeLive=!1,this._playerInWrapper=!0,this._userInteractionDisabled=P.sH.box(!1),this._isInteractiveEnded=P.sH.box(!1),this._isInteractiveActive=P.sH.box(!1),this._shouldBeInLivePosition=!1,this._canReplay=P.sH.box(!1),this.playbackComponent=t.memo((e=>{var n;let{userInteractionDisabled:r}=e;const[i,o]=t.useState(null);return t.useEffect((()=>(i&&(this.setMount(!0),this.playerContainer=i,this._playerInWrapper&&i.appendChild(this.player)),()=>{this.setMount(!1),null!=i&&i.contains(this.player)&&(null==i||i.removeChild(this.player))})),[i]),t.createElement(t.Fragment,null,!(null!==(n=this._playOptions)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.is_spatial)&&t.createElement("div",{className:er()(kv,{[Pv]:r}),ref:o}))})),this._playOptions=n,this._providerPlugin=r,this._userSettingsPlugin=i,this._embed=o,this._userSettings=s,this._visibilityState=l,this._domNodeTracker=u,this.player.setAttribute("data-testid","video"),null!==(c=this._playOptions)&&void 0!==c&&c.isInteractiveVideo&&this.player.setAttribute("disablePictureInPicture","true"),(0,P.Gn)(this,{canReplay:P.EW,isVertical:P.EW,isLive:P.EW,isTvStream:P.EW,tvSchedule:P.EW,src:P.EW,adapter:P.EW,goLive:P.XI,setPlayerReady:P.XI.bound,isOutdated:P.EW,isFrameless:P.EW,currentVideoId:P.EW,toggleFramelessMode:P.XI.bound,setNeedToRefetchPlayOptions:P.XI.bound,isInteractiveEnded:P.EW,isInteractiveActive:P.EW,userInteractionDisabled:P.EW})}setPlayerReady(){this.isPlayerReady=!0}initPlayOptionsObserver(){return(0,P.mJ)((()=>{var e,t;return{link:null===(e=this._playOptions)||void 0===e?void 0:e.link,isAdultAllowed:null===(t=this._userSettings)||void 0===t?void 0:t.isUserAdult}}),(e=>{var t,n;let{link:r,isAdultAllowed:i}=e;const o=null===(t=this._config)||void 0===t?void 0:t.get("videoId");(!this._embed||null!==(n=this._embed)&&void 0!==n&&n.visible)&&r&&this.currentVideoId!==o&&i&&(this.currentVideoId=String(o),this.initProvider(r))}),{fireImmediately:!0})}initVideoPlayback(){const e=[];return e.push((()=>{this.player.remove()})),e.push((0,P.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>this.isPlayerReady=!1),{fireImmediately:!0})),e.push(this.initPlayOptionsObserver()),this._embed&&(e.push((0,P.mJ)((()=>{var e;return null===(e=this._embed)||void 0===e?void 0:e.visible}),(e=>{var t,n;!this._providerPlugin.provider&&e&&null!==(t=this._playOptions)&&void 0!==t&&t.link&&this.initProvider(null===(n=this._playOptions)||void 0===n?void 0:n.link)}),{fireImmediately:!0})),e.push((0,P.mJ)((()=>this._wasStarted),(e=>{var t,n;e&&(null===(t=this._providerPlugin.provider)||void 0===t||null===(n=t.changeConfig)||void 0===n||n.call(t,{maxBuffer:zi.JT}))})))),e.push((()=>{var e;null===(e=this.adapter)||void 0===e||e.destroy()})),this._player.addEventListener("loadedmetadata",this.setPlayerReady),e.push((()=>{var e;null===(e=this.adapter)||void 0===e||e.destroy(),this._player.removeEventListener("loadedmetadata",this.setPlayerReady)})),e.push((0,P.mJ)((()=>this.ended),(e=>{var t;e&&!this.__wasEnded&&(this.__wasEnded=!0,null===(t=this.__counterHelper)||void 0===t||t.get("mainContentPlaybackEnded")(),this.setAutoPlayWithMuteState("NotInitialized"))}))),e.push((0,P.mJ)((()=>({duration:this.duration,currentTime:this.currentTime,isOutdated:this.isOutdated})),(e=>{var t,n;let{duration:r,currentTime:i,isOutdated:o}=e;const a=x()&&H.B.isiOSMobile,s=null===(t=this.provider)||void 0===t||null===(t=t.provider)||void 0===t||null===(t=t.instance)||void 0===t?void 0:t.liveSyncPosition;if(this.isTvStream||!isFinite(r))return void(this.isOutdated=!1);const l=Math.min(i,r),u=null!==(n=a?this.getSafariLiveSyncPosition():s)&&void 0!==n?n:r-8,c=Math.floor(100*Math.abs(u-l))/100;a?this.isOutdated=!this._shouldBeInLivePosition&&c>6:this._shouldBeInLivePosition||(!o&&c>8&&(this.isOutdated=!0),o&&c<=6&&(this.isOutdated=!1))}))),()=>e.forEach((e=>e()))}getVideoIdReaction(){return(0,P.mJ)((()=>this.currentVideoId),(()=>{this.wasStarted=!1,this.isStatStartSent=!1,this.preventStatSend=!1,this.fragmentTime=null}))}autoPlayWhenPlayOptionsChanged(){return(0,P.mJ)((()=>{var e;return{mount:this.mount,isPlayerReady:this.isPlayerReady,isPlayOptionsLoaded:null===(e=this._playOptions)||void 0===e?void 0:e.isPlayOptionsLoaded}}),(e=>{let{mount:t,isPlayerReady:n,isPlayOptionsLoaded:r}=e;t&&n&&this.wasStarted&&r&&this.ended&&this.playWithHandlePermissions()}))}initVisibilityChangeHandler(){return(0,P.mJ)((()=>{var e;return null===(e=this._visibilityState)||void 0===e?void 0:e.isVisible}),(e=>{e||(this._shouldResumeLive=this.isLive&&this.muted&&this.isPlaying)}))}initResumeLive(){return(0,P.mJ)((()=>this.isPlaying),(e=>{e&&this._shouldResumeLive&&(this.goLive(),this._shouldResumeLive=!1)}))}initGoLiveFromStart(){return(0,P.mJ)((()=>this.wasStarted),(e=>{e&&this.isLive&&0===this.currentTime&&!this.waiting&&this.goLive()}))}initLivePlaybackAdapter(){return(0,P.mJ)((()=>{var e,t;return{isLive:null===(e=this._playOptions)||void 0===e?void 0:e.isLive,data:null===(t=this._playOptions)||void 0===t?void 0:t.data}}),(e=>{var t;let{isLive:n,data:r}=e;if(n||"stream_push"===(null==r?void 0:r.stream_type)||"stream_access_fail"===(null==r||null===(t=r.detail)||void 0===t?void 0:t.name)){if(this.adapter)return;this.adapter=new Iv(this._config,this._playOptions,this._providerPlugin)}}))}initChangeStreamStatus(){return(0,P.mJ)((()=>{var e,t,n;return{accessStatus:null===(e=this.adapter)||void 0===e?void 0:e.accessStatus,streamStatus:null===(t=this.adapter)||void 0===t?void 0:t.streamStatus,link:null===(n=this._playOptions)||void 0===n?void 0:n.link}}),(e=>{var t;let{accessStatus:n,streamStatus:r,link:i}=e;const o=n===Ul.PUBLIC&&r===jl.STREAM_ACTIVE&&(null===(t=this._playOptions)||void 0===t?void 0:t.isPlayOptionsLoaded)&&!i,a=r&&[jl.STREAM_DONE,jl.STREAM_BLOCKED,jl.STREAM_DISABLE,jl.STREAM_FINISH_ERR].includes(r)&&i;(o||a)&&setTimeout((()=>{var e;null===(e=this._playOptions)||void 0===e||e.fetchPlayOptions()}),2e3)}))}initProvider(e){if(this._providerPlugin.isProviderInitialized(e))return;this._providerPlugin.provider&&(this.isPlayerReady=!1,this._wasStarted.set(!1),this._providerPlugin.destroy());const t={};this._embed&&(t.maxBuffer=30),H.B.isMobile&&(t.backBuffer=360),this._config&&(t.startTime=this._config.get("startTime")),e&&this.player&&this._providerPlugin.initProvider(e,this,t)}async play(){var e,t;if(null!==(e=this._playOptions)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.is_adult&&(null===(t=this._userSettingsPlugin)||void 0===t||!t.isUserAdult)||this.isInteractiveEnded||this.isInteractiveActive)return this.pause(),Promise.reject();return super.play().then((e=>()=>{var t,n,r;e?null===(n=this.__counterHelper)||void 0===n||n.get("mainContentPlaybackFirstPlay")():null===(r=this.__counterHelper)||void 0===r||r.get("mainContentPlaybackResume")();this.sendStartStat(),null===(t=this.__counterHelper)||void 0===t||t.get("mainContentPlaybackPlayPause")({play:"play"})})(!this.wasStarted))}pause(){var e,t;return this._shouldBeInLivePosition=!1,null===(e=this.__counterHelper)||void 0===e||e.get("mainContentPlaybackPause")(),null===(t=this.__counterHelper)||void 0===t||t.get("mainContentPlaybackPlayPause")({play:"pause"}),super.pause()}playWithHandlePermissions(e){e&&this.goLive(),super.playWithHandlePermissions()}autoplayReaction(){var e;return null!==(e=this._config)&&void 0!==e&&e.get("preventAutoplay")?()=>{}:(0,P.mJ)((()=>({mount:this.mount,wasStarted:this.wasStarted,isPlayerReady:this.isPlayerReady,autoplay:this.autoplay,nodeIsConnected:this._domNodeTracker.isConnected})),(e=>{let{mount:t,wasStarted:n,isPlayerReady:r,autoplay:i,nodeIsConnected:o}=e;t&&r&&!n&&i&&o&&this.playWithHandlePermissions()}),{fireImmediately:!0})}get isInteractiveEnded(){return this._isInteractiveEnded.get()}set isInteractiveEnded(e){this._isInteractiveEnded.set(e)}get isInteractiveActive(){return this._isInteractiveActive.get()}set isInteractiveActive(e){this._isInteractiveActive.set(e)}get isVertical(){return void 0!==this._player.videoWidth&&void 0!==this._player.videoHeight&&this._player.videoWidth<=this._player.videoHeight}get src(){return this._player.src}set src(e){this._player.src=e}get adapter(){return this._adapter.get()}set adapter(e){this._adapter.set(e)}get data(){var e;return null!==(e=this._playOptions)&&void 0!==e?e:null}get provider(){return this._providerPlugin}get isOutdated(){return this._isOutdated.get()}set isOutdated(e){this._isOutdated.set(e)}goLive(){var e,t;if(null===(e=this._playOptions)||void 0===e||!e.isLive)return;const n=x()&&H.B.isiOSMobile;if(this._player&&null!==(t=this._providerPlugin)&&void 0!==t&&t.provider){var r;const e=this._providerPlugin.provider,{liveSyncPosition:t}=null!==(r=e.instance)&&void 0!==r?r:{},i=this.duration,o=n?this.getSafariLiveSyncPosition():t;if(!o&&!isFinite(i))return;const a=(null!=o?o:i)-4-.04;this.seek(a,void 0,!0)}}seek(e,t,n){const r=this._player.currentTime;this.currentTime=Math.min(Math.max(0,e),this.duration-.1);const i=this._shouldBeInLivePosition&&this.currentTime>r;this.isOutdated=!n&&!i,this._shouldBeInLivePosition=Boolean(n)||i,this.wasStarted&&(Math.floor(r)===Math.floor(this.currentTime)&&"hotkey"!==t||this._eventEmitter.emit(ii.p.seek,{from:r,to:this.currentTime,source:t}))}seekBack(e,t){this.seek(this.currentTime-e,t)}seekForward(e,t){this.seek(this.currentTime+e,t)}isInPiP(){return(!("pictureInPictureElement"in document)||null!==document.pictureInPictureElement)&&this.player===document.pictureInPictureElement}movePlayerToBody(){this.player.style.position="fixed",this.player.style.left="100%",this._playerInWrapper=!1,document.body.appendChild(this.player)}movePlayerBackToContainer(){var e;this.player.style.position="",this.player.style.left="",this._playerInWrapper=!0,null===(e=this.playerContainer)||void 0===e||e.appendChild(this.player)}get isFrameless(){return this._isFrameless.get()}set isFrameless(e){this._isFrameless.set(e)}toggleFramelessMode(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n;this.isFrameless!==e&&t&&(this._eventEmitter.emit(ii.p.toggleFramelessMode,e),null===(n=this.__counterHelper)||void 0===n||n.get("mainContentPlaybackFrameless")({isEnabled:e,value:Tv(this.player)}));this.isFrameless=e}setNeedToRefetchPlayOptions(e){this._playOptions&&(this._playOptions.needToRefetchPlayOptions=e)}resetOnReplay(e){this.isStatStartSent=!1,this.preventStatSend=!1,this.setNeedToRefetchPlayOptions(e),this.__wasEnded=!1}sendStartStat(){var e;this.isStatStartSent||this.preventStatSend||(null===(e=this.__counterHelper)||void 0===e||e.get("mainContentPlaybackStart")(),this.isStatStartSent=!0)}get currentVideoId(){return this._currentVideoId.get()}set currentVideoId(e){this._currentVideoId.set(e)}get userInteractionDisabled(){return this._userInteractionDisabled.get()}set userInteractionDisabled(e){this._userInteractionDisabled.set(e)}set canReplay(e){this._canReplay.set(e)}get canReplay(){return this._canReplay.get()}getSafariLiveSyncPosition(){const e=this.player.seekable.length;if(e>0){var t;return null===(t=this.player.seekable)||void 0===t?void 0:t.end(e-1)}}},({e:[Lv],c:[Nv,Ov]}=(0,k.A)(Rv,[(0,I.k_)({implement:"IPlayback",ctor_args:[{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IDataPlugin",optional:!0},"IProviderPlugin",{implement:"IUserSettingsPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IUserSettingsPlugin",optional:!0},{implement:"IVisibilityStatePlugin",optional:!0},"IDomNodeTrackerPlugin"]})],[[I.zm,2,"setPlayerReady"],[(0,I.o7)(),2,"initVideoPlayback"],[(0,I.o7)(),2,"autoPlayWhenPlayOptionsChanged"],[(0,I.o7)(),2,"initVisibilityChangeHandler"],[(0,I.o7)(),2,"initResumeLive"],[(0,I.o7)(),2,"initGoLiveFromStart"],[(0,I.o7)(),2,"initLivePlaybackAdapter"],[(0,I.o7)(),2,"initChangeStreamStatus"],[I.zm,2,"goLive"],[I.zm,2,"toggleFramelessMode"]],0,void 0,Sv)),Ov();const Mv=e=>{let{onPinchZoomIn:n,onPinchZoomOut:r}=e;const{isFullScreen:i,isVideo360:o}=Fp(),a=(0,t.useMemo)((()=>Boolean(!o&&"object"==typeof navigator&&navigator.userAgent.toLowerCase().includes("android")&&i)),[i,o]),s=Av(),l=(0,t.useRef)(!1),u=(0,t.useRef)(null),c=(0,t.useCallback)((()=>{u.current&&(clearTimeout(u.current),u.current=null),l.current=!1}),[]),d=(0,t.useRef)([]),h=(0,t.useRef)([]),p=(e,t)=>e.findIndex((e=>e.pointerId===t.pointerId)),m=(0,t.useCallback)((e=>{d.current.splice(p(d.current,e),1),h.current.splice(p(h.current,e),1)}),[]),v=(0,t.useCallback)((e=>{a&&d.current.push(e)}),[a]),_=e=>{l.current=!0,u.current=setTimeout((()=>{l.current=!1,u.current=null}),500),e.preventDefault()},f=(0,t.useCallback)((e=>{if(l.current||!a)return;const t=s.isFrameless?"zoomOut":"zoomIn",i=d.current,o=Dv(i),u=h.current;u[p(i,e)]=e;const c=Dv(u);o&&c&&(c>o&&"zoomIn"===t?(n(),_(e)):c<o&&"zoomOut"===t&&(r(),_(e)))}),[s,a,n,r]),g=(0,t.useCallback)((e=>{m(e)}),[m]);return(0,t.useEffect)((()=>c),[c]),(0,t.useEffect)((()=>{a||c()}),[a,c]),(0,t.useMemo)((()=>({onPointerDown:v,onPointerMove:f,onPointerUp:g,onPointerCancel:g,onPointerLeave:g,onPointerOut:g})),[v,f,g])};function Dv(e){if(2===e.length){return Math.abs(e[0].clientX-e[1].clientX)+Math.abs(e[0].clientY-e[1].clientY)}return null}const Bv=(0,Jn.PA)((e=>{let{children:n,contextMenuComponent:r}=e;const{isFullScreen:i,isInPiP:o,playback:a,handleFullscreen:s,isEmbed:l,isChannelPage:u,isPreview:c,clearAcitivitiesTrigger:d}=Fp(),{togglePiP:h}=vm()||{},{waiting:p,toggleFramelessMode:m}=a,{visible:v}=cv.useEndScreenOptional()||{},_=pm(),f=H.B.isMobile,g=H.B.isiOSMobile,{hasSettingsInteraction:b}=cm(),{handlers:y}=t_({preventEvents:v||b}),{isShowControls:E,hideControls:w}=(0,pt.useControls)(),{currentState:S}=(0,fr.p5)().resolveOptional("IAdvertPlugin")||{},{onTouchEnd:A,onTouchStart:C}=(e=>{let{onSwipeDown:n,onSwipeUp:r,isSwipeDisabled:i=!1,threshold:o=50}=e;const a=(0,t.useRef)(null),s=(0,t.useRef)(0);return{onTouchStart:e=>{i||(1===e.touches.length?(a.current=e.changedTouches[0].clientY,s.current=e.currentTarget.scrollTop):e.touches.length>1&&(a.current=null))},onTouchEnd:e=>{if(i)return;const t=a.current,l=e.changedTouches[0].clientY,u=e.currentTarget.scrollTop;if(null!=t&&null!=l){const e=u<s.current;l-t>o&&!e&&n&&n();const i=s.current<u;t-l>o&&!i&&r&&r()}a.current=null}}})({isSwipeDisabled:_&&g||l||u||c||"show"===S||b,onSwipeUp:()=>{s()},onSwipeDown:()=>{i||o||null==h||h()}}),k=(0,t.useCallback)((()=>{m(!0),w()}),[w,m]),P=(0,t.useCallback)((()=>{m(!1),w()}),[w,m]),I=Mv({onPinchZoomIn:k,onPinchZoomOut:P}),T=t.createElement("div",(0,ai.A)({className:er()([dv],{[hv]:pt.ControlsPlugin.IsNewControls,[pv]:f,[mv]:E}),onTouchStart:e=>{y.onTouchStart(e),C(e)},onTouchStartCapture:d,onTouchMove:l||u||c?y.onTouchMove:void 0,onTouchEnd:e=>{d(),y.onTouchEnd(e),A(e)},onTouchEndCapture:d,onTouchCancel:y.onTouchEnd},I),p&&t.createElement("div",{className:er()(vv,{[_v]:p})},t.createElement(jo,null)),n);return r&&pt.ControlsPlugin.IsNewControls?t.createElement(r,null,T):T})),Fv="video-wrapper-module__videoWrapper___qcGpf",Hv="video-wrapper-module__wideMode___KvfQI",Vv="video-wrapper-module__frameless___RJWB7",Uv="thumbnail-module__notLoaded___Cth5T",jv="thumbnail-module__thumbnailSkeleton____ZeVa",Wv=["skeletonClassName","className","requiredSize","src","alt","playerWidth","responsive","loading"],zv=e=>{let{skeletonClassName:n,className:r,requiredSize:i,src:o,alt:a,playerWidth:s,responsive:l=!0,loading:u="lazy"}=e,c=(0,V.A)(e,Wv);const[d,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),v=(0,t.useMemo)((()=>{const e=i||s||null;if(o&&e&&l)return((e,t)=>{const n=[1,1.5,2,3].map((n=>"".concat(e,"?width=").concat(Math.floor(t*n)," ").concat(n,"x")));return n.join(", ")})(o,e)}),[o,l,i,s]),_=(0,t.useCallback)((()=>{h(!0)}),[h]),f=(0,t.useCallback)((()=>{m(!0)}),[m]);return p?null:t.createElement(t.Fragment,null,!d&&t.createElement("div",{className:er()(jv,n)}),o?t.createElement("img",(0,ai.A)({},c,{className:er()({[Uv]:!d},r),srcSet:v,src:"".concat(o).concat(i?"?width=".concat(i):""),alt:a,onLoad:_,onError:f,loading:u})):null)},Gv="poster-module__posterContainer___ogxzi",qv="poster-module__noPointerEvents___CKxSO",Kv="poster-module__poster___pcGrV",Yv="poster-module__buttonWrapper___XFW5j";var Xv;let Qv,Zv,Jv;class $v extends I.j8{constructor(e,t,n,r,i,o,a,s){super(),this.timer=(Qv(this),null),this.__forcedPlayback=!1,this.__playbackRate=null,this.__isLongPress=P.sH.box(!1),this.__needToPreventClick=P.sH.box(!1),this.__playback=void 0,this.__infoLayer=void 0,this.__controlsPlugin=void 0,this.__data=void 0,this.__pip=void 0,this.__context=void 0,this._counterHelper=void 0,this._settings=a,this.__playback=e,this.__infoLayer=n,this.__controlsPlugin=t,this.__data=r,this.__pip=i,this.__context=o,this._counterHelper=s instanceof Xn?s.counterHelper:void 0,(0,P.Gn)(this,{isLongPress:P.EW,needToPreventClick:P.EW,clearPressTime:P.XI.bound,startPressTimer:P.XI.bound})}initContextIsOpen(){return(0,P.mJ)((()=>{var e;return null===(e=this.__context)||void 0===e?void 0:e.isOpen}),(e=>{e&&(this.needToPreventClick=!0)}))}clearPressTime(){var e;this.isLongPress&&(this.__playback.handlePlaybackRate(null!==(e=this.playbackRate)&&void 0!==e?e:1,!0),this.__infoLayer.setActiveInfo(null),this.__playback.emit(ii.p.longPress,{isEnabled:!1,forcedPlayback:this.forcedPlayback}),this.forcedPlayback=!1);this.timer&&(clearTimeout(this.timer),this.timer=null,this.isLongPress=!1)}startPressTimer(e){var t,n,r;const i=e.target;(0,Em.Ex)(i)||this.__playback.isLive||this.__playback.ended||!this.__playback.wasStarted||null!==(t=this.__data.data)&&void 0!==t&&t.is_spatial||null!==(n=this._settings)&&void 0!==n&&n.hasSettingsInteraction||null!==(r=this.__pip)&&void 0!==r&&r.isInPiP&&H.B.isMobile||(this.timer=setTimeout((()=>{(0,P.h5)((()=>{var e;(this.isLongPress=!0,this.__controlsPlugin.hideControls(!0),this.__playback.isPlaying||(this.__playback.play(),this.forcedPlayback=!0),this.__playback.playbackRate<2)&&(this.__infoLayer.isInfoPrevented=!1,this.__playback.isInfoPrevented=!1,this.__infoLayer.setActiveInfo({label:"x2",shortLabel:"x2",labelIcon:ki.FORWARD_FAST,withoutAnimation:!0,persistent:!0}),this.__playback.handlePlaybackRate(2,!0),this.__playback.emit(ii.p.longPress,{isEnabled:!0,forcedPlayback:this.forcedPlayback}),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackLongPress")())}))}),500))}set playbackRate(e){this.__playbackRate=e}get playbackRate(){return this.__playbackRate}get activePlaybackRate(){return this.__playback.playbackRate}get forcedPlayback(){return this.__forcedPlayback}set forcedPlayback(e){this.__forcedPlayback=e}get needToPreventClick(){return this.__needToPreventClick.get()}set needToPreventClick(e){this.__needToPreventClick.set(e)}get isLongPress(){return this.__isLongPress.get()}set isLongPress(e){this.__infoLayer.forceToShow=e,this.__isLongPress.set(e)}}Xv=$v,({e:[Qv],c:[Jv,Zv]}=(0,k.A)(Xv,[(0,I.k_)({implement:"ILongPressSeekPlugin",ctor_args:["IPlayback","IControlsPlugin","IInfoLayerPlugin","IDataPlugin",{implement:"PictureInPicturePlugin",optional:!0},{implement:"IContextMenuPlugin",optional:!0},{implement:"IVideoSettingsPlugin",optional:!0},"IStatisticState"]})],[[(0,I.o7)(),2,"initContextIsOpen"]],0,void 0,I.j8)),Zv();const e_=()=>(0,fr.p5)().resolve("ILongPressSeekPlugin"),t_=e=>{let{onClick:n,preventEvents:r=!1}=e;const i=e_(),o=(0,pt.useControls)(),a=si(),s=(0,t.useRef)(null),{comparePlayers:l,pause:u,isPlaying:c}=o.playback,{startPressTimer:d,clearPressTime:h,activePlaybackRate:p,isLongPress:m,forcedPlayback:v,needToPreventClick:_}=i;return(0,t.useEffect)((()=>{const e=e=>{r||0===(null==e?void 0:e.button)&&(i.forcedPlayback&&u(),i.isLongPress&&l(e.target)&&(i.needToPreventClick=!0),i.clearPressTime())};return window.addEventListener("mouseup",e),()=>{window.removeEventListener("mouseup",e)}}),[i,l,u,r,a]),{isLongPress:m,handlers:{onMouseDown:function(e){r||0===e.button&&(i.playbackRate=p,d(e))},onClick:function(e){0===e.button&&_?i.needToPreventClick=!1:n&&"function"==typeof n&&n(e)},onTouchStart:function(e){var t,n;r||(1===(null==e||null===(t=e.touches)||void 0===t?void 0:t.length)?(m||(i.playbackRate=p),s.current=[null==e?void 0:e.touches[0].clientX,null==e?void 0:e.touches[0].clientY],d(e)):(null==e||null===(n=e.touches)||void 0===n?void 0:n.length)>1&&(s.current=null,h()))},onTouchEnd:function(e){var t;r||(0===(null==e||null===(t=e.touches)||void 0===t?void 0:t.length)&&(v&&u(),m&&(i.needToPreventClick=!0),h(),s.current=null,c&&m&&o.setHideControlsTimer()),i.needToPreventClick&&(o.hideControls(),i.needToPreventClick=!1))},onTouchMove:function(e){var t;1===(null==e||null===(t=e.touches)||void 0===t?void 0:t.length)&&s.current&&Math.abs((null==e?void 0:e.touches[0].clientY)-s.current[1])>10&&h()}}}},n_=(0,Jn.PA)((()=>{const{thumbnailUrl:e,title:n,playerWidth:r,isPosterVisible:i,isPlayButtonVisible:o}=(0,fr.Ks)("IPosterPlugin"),{play:a}=Av(),s=e_(),l=(null==s?void 0:s.needToPreventClick)||!1,u=(0,t.useCallback)((()=>{s&&l?s.needToPreventClick=!1:a()}),[s,a,l]);return e&&i?t.createElement("div",{className:er()(Gv,{[qv]:!H.B.isMobile})},o&&t.createElement("div",{className:Yv},t.createElement("div",{style:{width:"24px",height:"24px"},onClick:u},t.createElement(hi,null))),t.createElement(zv,{"data-testid":"ui-poster",id:"raichuVideoPoster",src:e,className:Kv,playerWidth:r,alt:n,onClick:u,loading:"eager"})):null})),r_=(0,Jn.PA)((e=>{let{children:n,frameless:r}=e;const{handleFullscreen:i,isTouchDevice:o,playback:a,autoPlayWithMute:s,wideMode:l,isVideo360:u,isPlayPauseSwitchingAvailable:c,isFullScreen:d,originType:h,poster:p,preventOnClickAction:m}=Fp(),{play:v,pause:_,isPlaying:f,handleMuted:g,player:b}=a,y=(0,pt.useControls)(),{handlers:E}=t_({onClick:e=>{o?"Enabled"===s?(g(),y.hideControls()):(y.showControls(),y.setHideControlsTimer()):2!==e.button&&(u&&!c||m||(f?_():v()))},preventEvents:!0}),w=(0,t.useMemo)((()=>d&&r?{"--scale-no-frames":Tv(b).toFixed(2)}:void 0),[b,d,r]);return t.createElement("div",{style:w,"aria-hidden":"true",className:er()(Fv,{[Hv]:l,[Vv]:r}),onClick:E.onClick,onDoubleClick:()=>i()},"rtba"===h&&p&&t.createElement(n_,null),n)})),i_=()=>(0,fr.Ks)("IDomNodeTrackerPlugin");function o_(e){let{container:n,isVisible:r=!0}=e;const i=(0,fr.ei)("IToastsPlugin");return i&&i.toaster&&r?t.createElement(i.toaster.ToasterRoot,{container:n,placement:"bottom",dismissDirection:"down"}):null}const a_="accesible-control-panel-module__button___ELG7N";function s_(){return(0,fr.p5)().resolve("IControlsPlugin")}const l_="live-badge-module__badge___XX3wg",u_="live-badge-module__clickable___Djv6_",c_="live-badge-module__mark___RH4Y1",d_="live-badge-module__outdated____Z0Ap",h_="live-badge-module__liveText___yAhey",p_="live-badge-module__liveTextMini___p0Ss1",m_="Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ðº Ð¿Ñ€ÑÐ¼Ð¾Ð¼Ñƒ ÑÑ„Ð¸Ñ€Ñƒ",v_=(0,Jn.PA)((e=>{let{isMini:n=!1,buttonSize:r}=e;const{data:i,playback:o}=s_(),{isOutdated:a,goLive:s}=o,{isLive:l,isTVStream:u}=i,{getDataAttribute:c}=(0,wi.f)(),d=l&&!u;return t.createElement(ss.r,(0,ai.A)({"data-testid":"ui-live",tabIndex:0,role:"button","aria-label":m_,noScale:!0,tooltipHideOnClick:!0,onClick:()=>{d&&a&&s()},tooltipTitle:m_,tooltipHidden:!a,tooltipPlacement:"top",tooltipZIndex:wn.m_.ControlsTooltipZIndex,style:{width:"max-content"},className:er()(l_,{[u_]:d&&a}),size:r},c(Si.R.LIVE)),t.createElement("div",{className:er()(c_,{[d_]:a})}),t.createElement("div",{className:er()({[h_]:!n,[p_]:n})},"Ð’ ÑÑ„Ð¸Ñ€Ðµ"))}));var __=a(7283);const f_="tv-time-block-module__wrapper___WkcTq",g_="tv-time-block-module__border___mBfhG",b_="tv-time-block-module__currentTime___WEwAz",y_="tv-time-block-module__textS___tZPoc",E_="tv-time-block-module__textM___AuDZV",w_="tv-time-block-module__textL___CusO9",S_=(0,Jn.PA)((()=>{const{playback:e,isShowTvTimeBlock:n,iconSizeValue:r}=(0,pt.useControls)(),{tvRemainingTimeSec:i}=e;if(!i||!e.isPlaying||!n)return;const o="ÐµÑ‰Ñ‘ ".concat((0,__.a3)({value:i}));return t.createElement("div",{className:f_,"aria-label":o},t.createElement("div",{className:g_}),t.createElement("span",{className:er()(b_,{[y_]:"S"===r,[E_]:"M"===r,[w_]:"L"===r})},o))})),A_="live-badge-module__wrapper___phy1R",C_="live-badge-module__hidden___eKv1B",k_="live-badge-module__badge___blcz8",P_="live-badge-module__clickable___Cb6so",I_="live-badge-module__mark___WyBWI",T_="live-badge-module__outdated___vPek1",x_="live-badge-module__text___C9ZD3",R_="live-badge-module__textS___ejLuD",L_="live-badge-module__textM___s4bRn",O_="live-badge-module__textL___HVI4N",N_="Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ðº Ð¿Ñ€ÑÐ¼Ð¾Ð¼Ñƒ ÑÑ„Ð¸Ñ€Ñƒ",M_=(0,Jn.PA)((e=>{const{data:n,playback:r,iconSizeValue:i,isTimeHidden:o}=s_(),{isOutdated:a,goLive:s}=r,{isLive:l,isTVStream:u}=n,{getDataAttribute:c}=(0,wi.f)(),d=l&&!u;return t.createElement("div",{className:er()(A_,{[C_]:o})},t.createElement(Uh.S,(0,ai.A)({"data-testid":"ui-live",tabIndex:0,role:"button","aria-label":N_,noScale:!0,onClick:()=>{d&&a&&s()},tooltipTitle:N_,tooltipHidden:!a,className:er()(k_,{[P_]:d&&a}),size:i},c(Si.R.LIVE)),t.createElement("div",{className:er()(I_,{[T_]:a})}),t.createElement("div",{className:er()(x_,{[R_]:"S"===i,[L_]:"M"===i,[O_]:"L"===i})},"Ð’ ÑÑ„Ð¸Ñ€Ðµ")),t.createElement(S_,null))})),D_="tv-time-block-module__time___PiSWt",B_="tv-time-block-module__hidden___JpYeK",F_="tv-time-block-module__currentTime___U4pO3",H_=e=>"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")),V_=e=>{const t=(e=>{var t;if(!e)return;const n=Date.now(),r=null==e?void 0:e[H_(new Date)];let i=null==r?void 0:r.find((e=>1e3*e.start<n&&n<1e3*e.stop));if(!i){const t=new Date;t.setDate(t.getDate()+1);const r=null==e?void 0:e[H_(t)];i=null==r?void 0:r.find((e=>1e3*e.start<n&&n<1e3*e.stop))}return null!==(t=i)&&void 0!==t?t:null})(e);return null!=t&&t.stop?1e3*t.stop-Date.now():0},U_=e=>{const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);if(t||n)return"".concat(t>0?"".concat(t," Ñ‡. "):"").concat(n," Ð¼Ð¸Ð½.")},j_=(0,Jn.PA)((()=>{const{tvSchedule:e,playback:n,isTimeHidden:r}=(0,pt.useControls)(),i=(0,t.useRef)(0);if((0,t.useEffect)((()=>{i.current=V_(n.tvSchedule)}),[n.duration,e,n.tvSchedule]),e&&i.current&&n.isPlaying)return t.createElement("div",{className:er()(D_,{[B_]:r}),"aria-label":"Ð•Ñ‰Ñ‘ ".concat(U_(i.current))},t.createElement("span",{className:F_},"Ð•Ñ‰Ñ‘ ",U_(i.current)))})),W_="top-controls-module__wrapper___mPW53",z_="top-controls-module__item___t1uCK",G_=(0,Jn.PA)((e=>{let{shareButton:n,settingsButton:r}=e;const{endScreen:i,isShowSettings:o}=(0,pt.useControls)(),{isShowPreview:a}=Cp();return a&&H.B.isMobile||null!=i&&i.visible?null:t.createElement("div",{className:W_},n&&t.createElement(n,{size:H.B.isMobile?"XXL":"XL"}),o&&r&&t.createElement("div",{className:z_},t.createElement(r,{buttonsSize:"XXL"})))}));var q_=a(2065);const K_="area-bar-preview-module__wrapper___mHXcL",Y_="area-bar-preview-module__img___sOvyU",X_="area-bar-preview-module__chapterName___RUArV",Q_="area-bar-preview-module__time___g6QuS",Z_="area-bar-preview-module__vertical___E9FGi",J_=(0,t.memo)((e=>{var n;let{barRef:r,url:i,offset:o,chapters:a,time:s,isVertical:l,isTouchDevice:u}=e;const c=(0,t.useRef)(null),d=(0,t.useMemo)((()=>{if(r.current){const e=(u?10:100)/r.current.clientWidth*100;return Math.min(Math.max(o,e),100-e)}}),[o,r,u]),h=(0,t.useMemo)((()=>t.createElement("div",{className:Q_,id:Dp.v.RAICHU_AREAS_BAR_PREVIEW_TIME},null!==s&&(0,__.a3)({value:s}))),[s]);return t.createElement("div",{id:Dp.v.RAICHU_AREAS_BAR_PREVIEW,className:er()(K_,{[Z_]:l}),style:{left:"".concat(d||0,"%")},ref:c},u&&h,d&&null!==s&&!u&&t.createElement(t.Fragment,null,i?t.createElement("div",{style:{backgroundImage:"url(".concat(i,")")},className:Y_}):null,a.length&&(0,pt.getActiveChapter)(a,s)&&t.createElement("div",{className:X_},null===(n=(0,pt.getActiveChapter)(a,s))||void 0===n?void 0:n.name),h))})),$_="area-module__areas___aAhbS",ef="area-module__area___pkmYK",tf=e=>{let{areas:n}=e;return t.createElement("div",{className:$_},t.createElement("div",{className:ef,style:{WebkitTransform:"scaleX(1)",transform:"scaleX(1)",background:"rgba(246, 246, 246, 0.3)"}}),n.map(((e,n)=>t.createElement("div",{key:n,className:ef,style:{WebkitTransform:"scaleX(".concat(e.progress,")"),transform:"scaleX(".concat(e.progress,")"),background:e.color}}))))},nf="areas-bar-module__wrapper___itv9Z",rf="areas-bar-module__disabled___YaSTM",of="areas-bar-module__areas___Bn5pH",af="areas-bar-module__area___v2wuI",sf="areas-bar-module__isClickable___NsCm2",lf="areas-bar-module__thumbWrapper___ljCgW",uf="areas-bar-module__thumbInner___qIL2_",cf="areas-bar-module__thumb___qyyV6",df=(0,Jn.PA)((e=>{let{barRef:n,isTouchable:r=!0,progress:i}=e;const{setIsVolumeShow:o,areas:a,chapters:s,isShowControls:l,progressBarColor:u}=(0,pt.useControls)(),{duration:c,tvSchedule:d}=Av(),{isTVStream:h}=lm(),{size:p}=(0,$a.a)(),{isShowPreview:m,url:v,isAllowedToShowPreview:_,previewPosition:f,time:g}=Cp(),b=Cp(),y=h&&!d?100:i,E=(0,t.useMemo)((()=>{var e;return n&&(null==n?void 0:n.current)&&(null==n||null===(e=n.current)||void 0===e?void 0:e.clientWidth)||(null==p?void 0:p.width)||-24}),[null==n?void 0:n.current,null==p?void 0:p.width]),w=(0,t.useCallback)((e=>{h||(H.B.isMobile||e.target.id!==String(Dp.v.RAICHU_AREAS_BAR_PREVIEW_TIME)?(b.previewPosition=(0,q_.O)(e.nativeEvent,n,"horizontal"),o(!1)):b.previewPosition=null)}),[n,h,b,o]),S=(0,t.useCallback)((()=>{b.previewPosition=null}),[b]),A=(0,t.useCallback)(((e,t)=>{if(1===a.length)return"100%";const n="".concat(E/100*e,"px");return t?n:"calc(".concat(n," - var(--pad, 2px))")}),[a.length,E]);return t.createElement("div",{tabIndex:0,role:"slider","aria-label":"ÐŸÐ¾Ð»Ð·ÑƒÐ½Ð¾Ðº Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ ÑˆÐºÐ°Ð»Ñ‹","aria-valuemin":0,"aria-valuemax":Math.floor(c),"aria-valuenow":Math.floor(i*c/100),"aria-valuetext":"".concat((0,__.fU)(i*c/100)," (Ð¾Ð±Ñ‰Ð°Ñ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ").concat((0,__.fU)(c),")"),"data-testid":"ui-progress-progressBar",className:er()(nf,{[rf]:!l}),ref:n,onTouchMove:H.B.isMobile?w:void 0,onMouseOut:H.B.isMobile?void 0:S,onMouseDown:H.B.isMobile?void 0:w,onMouseMove:H.B.isMobile?void 0:w,onMouseEnter:H.B.isMobile?void 0:w},_&&m&&t.createElement(J_,{barRef:n,chapters:s,url:v||"",time:g||0,offset:f||0,isVertical:!1,isTouchDevice:H.B.isMobile}),t.createElement("div",{className:of},(0,t.useMemo)((()=>a.map(((e,n)=>t.createElement("div",{key:"".concat(String(e.width)+e.name+String(e.start)),className:er()(af,{[sf]:!h}),style:{width:A(e.width,0===n),display:e.width?void 0:"none"}},t.createElement(tf,{areas:[{progress:e.buffered,color:"rgba(246, 246, 246, 0.6)"},{progress:h&&!d?1:e.progress,color:u}]}))))),[a,u,A,h,d])),r&&t.createElement("div",{className:lf,"data-testid":"areas-bar__thumb-wrapper"},t.createElement("div",{className:uf,style:{WebkitTransform:"translateX(".concat(y,"%)"),transform:"translateX(".concat(y,"%)")}},t.createElement("div",{className:cf}))))})),hf=(0,Jn.PA)((e=>{let{className:n,margin:r}=e;const{playback:i,data:o,counterHelper:a,setIsProgressBarClicked:s,tempTime:l,setTempTime:u}=(0,pt.useControls)(),{duration:c,progress:d,currentTime:h,isOutdated:p,isTvStream:m}=i,{isLive:v,isDVR:_}=o,{wrapperRef:f}=Fp(),g=(0,t.useRef)(null),b=(0,t.useRef)(null),y=(0,t.useMemo)((()=>{let e=0;return e=!v||p||l?null!==l?l/c*100:d:100,Math.min(e,100)}),[l,c,d,v,p]),E=(0,t.useRef)(!1),w=(0,t.useCallback)((e=>{E.current=e,s(e)}),[s]),S=(0,t.useCallback)((e=>{if(e.preventDefault(),!E.current)return;const t=(0,q_.O)(e,b),n=Math.floor(c*t*10)/1e3;u(n)}),[c,u]),A=(0,t.useCallback)((()=>{var e;m||(E.current&&"number"==typeof l&&(i.seek(l),i.wasStarted&&u(null),null==a||a.get("mainContentPlaybackSeek")()),w(!1),null===(e=document)||void 0===e||e.removeEventListener("mousemove",S),null==f||f.removeEventListener("touchmove",S))}),[m,w,S,f,l,i,u,a]);return(0,t.useEffect)((()=>{var e;return null===(e=document)||void 0===e||e.addEventListener("mouseup",A),()=>{var e;null===(e=document)||void 0===e||e.removeEventListener("mouseup",A)}}),[A]),(0,t.useEffect)((()=>{if(!g.current)return;const e=g.current,t=e=>{var t;e.preventDefault(),e.stopPropagation(),w(!0),S(e),null===(t=document)||void 0===t||t.addEventListener("mousemove",S)},n=e=>{e.stopPropagation(),w(!0),S(e),null==f||f.addEventListener("touchmove",S)};return e.addEventListener("mousedown",t),e.addEventListener("touchstart",n),()=>{e.removeEventListener("mousedown",t),e.removeEventListener("touchstart",n)}}),[A,w,S,f]),t.createElement("div",(0,ai.A)({ref:g,className:n,tabIndex:0,role:"slider","aria-label":"ÐŸÐ¾Ð»Ð·ÑƒÐ½Ð¾Ðº Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ ÑˆÐºÐ°Ð»Ñ‹","aria-valuemin":0,"aria-valuemax":Math.floor(c),"aria-valuenow":Math.floor(h),"aria-valuetext":"".concat((0,__.fU)(h)," (Ð¾Ð±Ñ‰Ð°Ñ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ").concat((0,__.fU)(c),")"),onMouseUp:A,onTouchEnd:A,style:{margin:r}},Em.aQ),t.createElement(df,{progress:y,barRef:b,isTouchable:!(v&&!_)}))}));var pf=a(5473),mf=a(3752);const vf="tap-rewind-animation-module__tapAnimationBlock___a6rhh",_f="tap-rewind-animation-module__tapAnimationBlockReverse___beROe",ff="tap-rewind-animation-module__rippleCircle___MYimQ",gf="tap-rewind-animation-module__rippleCircleVertical___Ltgt_",bf=e=>{let{reverse:n=!1,isVerticalView:r=!1}=e;return t.createElement("div",{className:er()(vf,{[_f]:n})},t.createElement("div",{className:er()(ff,{[gf]:r})}),t.createElement("div",{className:er()(ff,{[gf]:r})}),t.createElement("div",{className:er()(ff,{[gf]:r})}))},yf=()=>{const{width:e,height:t}=(0,$a.a)().size||{width:1,height:1};return{isVerticalView:t/e>1}},Ef="mobile-button-block-module__hidden___JtEMD",wf="mobile-button-block-module__buttonsWrapperWhileSeeking___Ci2Ie",Sf="mobile-button-block-module__centerControls___yBb0C",Af="mobile-button-block-module__controlBtn___zbs5n",Cf="mobile-button-block-module__isHidden___nZoP1",kf="mobile-button-block-module__allowScroll___R0ybq",Pf="mobile-button-block-module__buttonsWrapper___DCg5p",If="mobile-button-block-module__seekContainer___QsosD",Tf="mobile-button-block-module__leftSeek___UXXNQ",xf="mobile-button-block-module__rightSeek___Tl7z7",Rf="mobile-button-block-module__seekLabelBoxLeft___MKAh4",Lf="mobile-button-block-module__seekLabelBoxRight___h3hDj",Of="mobile-button-block-module__seekLabelNumber___DTWC3",Nf="mobile-button-block-module__seekLabelText___0xW1j",Mf="mobile-button-block-module__seekIsInProgress___S8FIy";var Df,Bf;let Ff,Hf,Vf;new(Bf=class extends I.j8{constructor(e,t){super(),this.counterHelper=void 0,this._endScreen=e,this.counterHelper=t&&t instanceof Xn?t.counterHelper:void 0,(0,P.Gn)(this,{nextVideo:P.EW,onClick:P.XI})}onClick(){var e;this.nextVideo&&(null===(e=this.counterHelper)||void 0===e||e.get("mainNextVideoClick")({next_video_id:this.nextVideo.id,clicked_url:this.nextVideo.video_url}),va.Ug.emit(zi.L2.NEXT_VIDEO,{video:this.nextVideo}))}get nextVideo(){var e;return(null===(e=this._endScreen)||void 0===e?void 0:e.nextVideo)||null}},[Vf,Ff]=(0,k.A)(Bf,[(0,I.k_)({implement:"INextVideoPlugin",ctor_args:["IEndScreenPlugin",{implement:"IStatisticState",optional:!0}]})],[],0,void 0,I.j8).c,Hf=Bf,(Df=class extends ft{constructor(){super(Vf),this.useNextVideo=()=>(0,fr.Ks)("INextVideoPlugin"),this.useNextVideoOptional=()=>(0,fr.ei)("INextVideoPlugin"),this.getNextVideo=e=>e("INextVideoPlugin"),Ff()}})[Hf]=void 0,Df);const Uf=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M16.43 6v12",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M7 18V6l8.57 6L7 18Z",fill:n,stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("rect",{x:"15",y:"5",width:"2",height:"14",rx:"1",fill:n}))},jf=(0,Jn.PA)((e=>{let{hidden:n}=e;const r=(0,pf.XU)(),i=Vf.useNextVideoOptional(),{onClickNext:o,nextVideo:a,isShowPlaylistButtons:s}=r||{},{nextVideo:l,onClick:u}=i||{},c=s?a:l,{tabIndex:d}=(0,pt.useControls)(),h=s&&!c;return t.createElement("div",{className:er()(Af,{[Cf]:n,[kf]:n})},t.createElement(ss.r,{"data-testid":"ui-next",action:"nextVideo",icon:Uf,withBg:!0,onClick:()=>{c&&(s?o&&o.apply(r):null==u||u.apply(i))},disabled:h,"aria-label":"ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",tabIndex:d,size:"XL"}))})),Wf=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M7 6v12",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M16.43 18V6l-8.57 6 8.57 6Z",fill:n,stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("rect",{x:"6",y:"5",width:"2",height:"14",rx:"1",fill:n}))},zf="ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸",Gf="ÐÐ²Ñ‚Ð¾Ñ€ Ð½Ðµ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð» ÑÐµÑ€Ð¸Ð¸ Ð² ÑÑ‚Ð¾Ñ‚ ÑÐµÐ·Ð¾Ð½",qf="Ð’Ñ‹ ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ",Kf="raichuSeasonsPanel",Yf=7777777,Xf=8888888;var Qf,Zf;let Jf,$f,eg,tg;new(Zf=class extends I.j8{constructor(e,t,n,r){super(),this.counterHelper=void Jf(this),this._episodes=e,this._seasons=t,this._config=n,this.counterHelper=r&&r instanceof Xn?r.counterHelper:void 0,(0,P.Gn)(this,{prevEpisode:P.EW,onClick:P.XI})}onClick(){var e,t,n,r,i;this.prevEpisode&&(null===(e=this.counterHelper)||void 0===e||e.get("mainPrevVideoClick")({prev_video_id:null!==(t=null===(n=this.prevEpisode)||void 0===n?void 0:n.id)&&void 0!==t?t:"",clicked_url:null!==(r=null===(i=this.prevEpisode)||void 0===i?void 0:i.video_url)&&void 0!==r?r:""}),va.Ug.emit(zi.L2.RECOMMENDED_VIDEO,{video:this.prevEpisode,resourceId:Xf}))}get isShow(){return this._seasons.hasSeasons}get prevEpisode(){const e=this._config.get("videoId"),t=this._episodes.items;if(t.length<2)return null;const n=t.findIndex((t=>{let{id:n}=t;return n===e}));return 0===n?null:t[n-1]}},({e:[Jf],c:[tg,$f]}=(0,k.A)(Zf,[(0,I.k_)({implement:"IPrevVideoPlugin",ctor_args:["ISeasonsEpisodesPlugin","ISeasonsPlugin","IPlayerConfigPlugin",{implement:"IStatisticState",optional:!0}]})],[[I.zm,2,"onClick"]],0,void 0,I.j8)),eg=Zf,(Qf=class extends ft{constructor(){super(tg),this.usePrevVideo=()=>(0,fr.Ks)("IPrevVideoPlugin"),this.usePrevVideoOptional=()=>(0,fr.ei)("IPrevVideoPlugin"),this.getPrevVideo=e=>e("IPrevVideoPlugin"),$f()}})[eg]=void 0,Qf);const ng=(0,Jn.PA)((e=>{let{hidden:n}=e;const r=(0,pf.XU)(),{onClickPrev:i,prevVideo:o}=r||{},{tabIndex:a}=(0,pt.useControls)(),s=tg.usePrevVideoOptional();return t.createElement("div",{className:er()(Af,{[Cf]:n,[kf]:n})},t.createElement(ss.r,{"data-testid":"ui-prev",icon:Wf,withBg:!0,onClick:null!=s&&s.isShow?null==s?void 0:s.onClick:()=>{o&&i&&i.apply(r)},disabled:!o,tabIndex:a,"aria-label":"ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",size:"XL"}))})),rg=(0,Jn.PA)((e=>{const{hidden:n=!0}=e,[r,i]=(0,t.useState)(0),[o,a]=(0,Zn.cV)(!1,300),s=(0,t.useRef)(null),l=()=>{s.current&&clearTimeout(s.current)},[u,c]=(0,t.useState)(null),d=CS(),h=s_(),{playback:p,tabIndex:m,isShowControls:v,hideControls:_,isShowSettingsPannel:f}=h,{isPlaying:g,ended:b,isInteractiveEnded:y}=p,{isTVStream:E,isLive:w}=lm(),S=xw(),A=pm(),C=(0,pf.XU)(),{isShowPlaylistButtons:k}=C||{},P=tg.usePrevVideoOptional(),{isChannelPage:I}=Fp(),T=!E&&!b,x=!!d||w||n,R=x||A||!(null!=P&&P.isShow)&&!k,L=x||A&&!y||I&&!k,O=(0,t.useCallback)((e=>{if(!f&&(e.target instanceof HTMLElement||e.target instanceof SVGElement)){null===e.target.closest("[".concat(Em.dg,"=true]"))&&v&&_()}}),[_,v,f]);(0,t.useEffect)((()=>{o||(s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{0!==r&&h.hideControls(),i(0),c(null)}),200))}),[h,o,r]),(0,t.useEffect)((()=>{0!==r&&h.showControls()}),[r,h]),(0,t.useEffect)((()=>l),[]);const{isVerticalView:N}=yf(),M=(e,t)=>n=>{const d=null===u||t===u;o&&d&&(l(),e>0?null==h||h.handleSeek("forward",e,mf.E.TAP):null==h||h.handleSeek("back",Math.abs(e),mf.E.TAP),c(t),i(r+e)),a(d),s.current=setTimeout((()=>O(n)),300)};return t.createElement("div",{className:Sf},T&&!A&&t.createElement("div",(0,ai.A)({},r?Em.aQ:{},Em.ED,{className:If}),t.createElement("div",(0,ai.A)({},r?Em.aQ:{},{className:er()(Tf,{[Mf]:r<0}),onMouseDown:M(-10,"backward")}),t.createElement(bf,{isVerticalView:N}),t.createElement("div",{className:Rf},r<0&&t.createElement(t.Fragment,null,t.createElement("p",{className:Of},r),t.createElement("p",{className:Nf},"ÑÐµÐºÑƒÐ½Ð´")))),t.createElement("div",(0,ai.A)({},r?Em.aQ:{},{className:er()(xf,{[Mf]:r>0}),onMouseDown:M(10,"forward")}),t.createElement(bf,{isVerticalView:N,reverse:!0}),t.createElement("div",{className:Lf},r>0&&t.createElement(t.Fragment,null,t.createElement("p",{className:Of},"+",r),t.createElement("p",{className:Nf},"ÑÐµÐºÑƒÐ½Ð´"))))),t.createElement("div",(0,ai.A)({className:er()(Pf,{[Ef]:n,[wf]:Boolean(r)})},Em.ED),t.createElement(ng,{hidden:R}),t.createElement("div",{className:er()(Af,{[kf]:n})},t.createElement(us,{id:Dp.v.PLAY_BUTTON,action:"play",played:g,live:E,ended:b||y,withBg:!0,big:!0,onClick:()=>{g?p.pause():(b?null==S||S.resetOnReplay():p.play().catch(console.warn),h.setHideControlsTimer(),E&&p.goLive())},tabIndex:m})),t.createElement(jf,{hidden:L})))})),ig=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerPlayFilled",__value:'<path fill="currentColor" fill-rule="evenodd" d="M8.006 2.802 18.591 9.86c.305.203.588.392.805.567.227.183.495.437.649.808a2 2 0 0 1 0 1.532c-.154.371-.422.625-.649.808-.217.175-.5.364-.805.567L8.006 21.198c-.373.248-.708.472-.993.626s-.676.331-1.132.304a2 2 0 0 1-1.476-.79c-.276-.364-.346-.788-.376-1.11S4 19.502 4 19.054V4.946c0-.448 0-.851.03-1.174s.1-.745.375-1.11a2 2 0 0 1 1.476-.79c.456-.027.847.15 1.132.304s.62.378.993.626" clip-rule="evenodd" />'})),og=(0,t.forwardRef)(ig),ag=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerPause",__value:'<path fill="currentColor" fill-rule="evenodd" d="M14.5 5.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1zm-8 0a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1z" clip-rule="evenodd" />'})),sg=(0,t.forwardRef)(ag),lg=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerStopFilled",__value:'<path fill="currentColor" fill-rule="evenodd" d="M7.759 2h8.482c.805 0 1.47 0 2.01.044.563.046 1.08.145 1.565.392a4 4 0 0 1 1.748 1.748c.247.485.346 1.002.392 1.564C22 6.29 22 6.954 22 7.758v8.483c0 .805 0 1.47-.044 2.01-.046.563-.145 1.08-.392 1.565a4 4 0 0 1-1.748 1.748c-.485.247-1.002.346-1.564.392-.541.044-1.206.044-2.01.044H7.758c-.805 0-1.47 0-2.01-.044-.563-.046-1.08-.145-1.565-.392a4 4 0 0 1-1.748-1.748c-.247-.485-.346-1.002-.392-1.564C2 17.71 2 17.046 2 16.242V7.758c0-.805 0-1.47.044-2.01.046-.563.145-1.08.392-1.565a4 4 0 0 1 1.748-1.748c.485-.247 1.002-.346 1.564-.392C6.29 2 6.954 2 7.758 2" clip-rule="evenodd" />'})),ug=(0,t.forwardRef)(lg),cg=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerReload",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12 4c-2.21 0-4.21.895-5.659 2.345-.758.758-1.618 1.786-2.31 2.655H8a1 1 0 0 1 0 2H2a1 1 0 0 1-1-1V4a1 1 0 0 1 2 0v3.094c.602-.732 1.287-1.523 1.926-2.163A9.97 9.97 0 0 1 12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10c-4.56 0-8.405-3.052-9.609-7.223a1 1 0 0 1 1.922-.554A8 8 0 1 0 12 4" clip-rule="evenodd" />'})),dg=(0,t.forwardRef)(cg),hg=["played","ended","live","isAudio","tooltipDisabled","tabIndex"],pg=e=>{let{played:n=!1,ended:r=!1,live:i=!1,isAudio:o=!1,tooltipDisabled:a=!1,tabIndex:s=0}=e,l=(0,V.A)(e,hg),u=wn.m_.Play,c="Ð’Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÑÑ‚Ð¸ Ð²Ð¸Ð´ÐµÐ¾",d=t.createElement(og,null);return!i&&n?(d=t.createElement(sg,null),c="ÐŸÑ€Ð¸Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾",u=wn.m_.Pause):i&&n&&(d=t.createElement(ug,null),c="ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾",u=wn.m_.Stop),!i&&r&&(d=t.createElement(dg,null),c="ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾",u=o?wn.m_.RepeatAudio:wn.m_.Repeat),t.createElement(Uh.S,(0,ai.A)({tabIndex:s,"data-testid":"ui-play","aria-label":(0,as.T)(c,"K",!0)},l,{tooltipTitle:a?void 0:u}),d)},mg="mobile-button-block-module__hidden___AnEx2",vg="mobile-button-block-module__buttonsWrapperWhileSeeking___B3boP",_g="mobile-button-block-module__centerControls___ejwLZ",fg="mobile-button-block-module__controlBtn___yIrdE",gg="mobile-button-block-module__center___Hbhtk",bg="mobile-button-block-module__allowScroll___EIRbW",yg="mobile-button-block-module__buttonsWrapper___CesJW",Eg="mobile-button-block-module__seekContainer___FSbZZ",wg="mobile-button-block-module__leftSeek___njXXK",Sg="mobile-button-block-module__rightSeek___dqiVn",Ag="mobile-button-block-module__seekLabelBoxLeft___KG3su",Cg="mobile-button-block-module__seekLabelBoxRight___A3Xd5",kg="mobile-button-block-module__seekLabelNumber___mL8U5",Pg="mobile-button-block-module__seekLabelText___fWfgA",Ig="mobile-button-block-module__seekIsInProgress___xN2fo",Tg=(0,Jn.PA)((e=>{const{hidden:n=!0}=e,[r,i]=(0,t.useState)(0),[o,a]=(0,Zn.cV)(!1,300),s=(0,t.useRef)(null),l=()=>{s.current&&clearTimeout(s.current)},[u,c]=(0,t.useState)(null),d=CS(),h=s_(),{data:p,playback:m}=h,{isTVStream:v,isLive:_}=p,{isPlaying:f,ended:g,isInteractiveEnded:b}=m,y=xw(),E=pm(),{isShowControls:w,tabIndex:S,handleHideControlsByClick:A}=s_(),C=!_&&!d,k=!_&&!d,P=!v&&!g;(0,t.useEffect)((()=>{o||(l(),s.current=setTimeout((()=>{0!==r&&h.hideControls(),i(0),c(null)}),200))}),[h,o,r]),(0,t.useEffect)((()=>{0!==r&&h.showControls()}),[r,h]),(0,t.useEffect)((()=>l),[]);const{isVerticalView:I}=yf(),T=(0,t.useCallback)(((e,t)=>n=>{const d=null===u||t===u;o&&d&&(l(),null==h||h.handleSeek(t,Math.abs(e),mf.E.TAP),c(t),i(r+e)),a(d),w&&(s.current=setTimeout((()=>A(n)),300))}),[h,o,w,u,r,a,A]),x=(0,t.useCallback)((()=>{f?m.pause():(g?null==y||y.resetOnReplay():m.play().catch(console.warn),h.setHideControlsTimer(),v&&m.goLive())}),[h,g,f,v,m,y]);return t.createElement("div",{className:_g},P&&!E&&t.createElement("div",(0,ai.A)({},r?Em.aQ:{},Em.ED,{className:Eg}),t.createElement("div",(0,ai.A)({},r?Em.aQ:{},{className:er()(wg,{[Ig]:r<0}),onMouseDown:T(-10,"back")}),t.createElement(bf,{isVerticalView:I}),t.createElement("div",{className:Ag},r<0&&t.createElement(t.Fragment,null,t.createElement("p",{className:kg},r),t.createElement("p",{className:Pg},"ÑÐµÐºÑƒÐ½Ð´")))),t.createElement("div",(0,ai.A)({},r?Em.aQ:{},{className:er()(Sg,{[Ig]:r>0}),onMouseDown:T(10,"forward")}),t.createElement(bf,{isVerticalView:I,reverse:!0}),t.createElement("div",{className:Cg},r>0&&t.createElement(t.Fragment,null,t.createElement("p",{className:kg},"+",r),t.createElement("p",{className:Pg},"ÑÐµÐºÑƒÐ½Ð´"))))),t.createElement("div",(0,ai.A)({className:er()(yg,{[mg]:n,[vg]:Boolean(r)})},Em.ED),!d&&!(E&&!b)&&t.createElement(pt.PrevButton,{hidden:!C||n||E}),t.createElement("div",{className:er()(fg,gg,{[bg]:n})},t.createElement(pg,{id:Dp.v.PLAY_BUTTON,action:"play",played:f,live:v,ended:g||b,size:"L",onClick:x,tabIndex:S})),!d&&!(E&&!b)&&t.createElement(pt.NextButton,{hidden:!k||n})))})),xg="video-preview-module__wrapper___gcX6w",Rg="video-preview-module__tooltip___sLchn",Lg="video-preview-module__tooltipInner___ld9jE",Og="video-preview-module__tooltipImg___aY1OK",Ng="video-preview-module__tooltipDesc___UFg3E",Mg="video-preview-module__tooltipTitle___InxZF",Dg="video-preview-module__tooltipVideoTitle___Gcl3A",Bg=e=>{let{video:n,tooltipHidden:r,children:i,tooltipTitle:o}=e;return null!=n&&n.id?t.createElement("div",{className:xg},i,!r&&t.createElement("div",{className:Rg},t.createElement("div",{className:Lg},t.createElement("div",{className:Og},t.createElement("img",{src:n.thumbnail_url,alt:n.title})),t.createElement("div",{className:Ng},t.createElement("div",{className:Mg},o),t.createElement("div",{className:Dg},n.title))))):t.createElement(t.Fragment,null,i)};var Fg=function(e){return e.Play="play",e.Auto="auto",e.ClickOnCard="click_on_card",e.Show="show",e}(Fg||{});const Hg={recommendation:zi.L2.RECOMMENDED_VIDEO,next_video:zi.L2.NEXT_VIDEO},Vg=()=>(0,fr.p5)().resolve("IUserSettingsPlugin"),Ug=e=>e("IUserSettingsPlugin"),jg="raichu-aria-alert-module__ariaAlert___RmsxF",Wg=["children"],zg=e=>{let{children:n}=e,r=(0,V.A)(e,Wg);return t.createElement("span",(0,ai.A)({},r,{className:jg}),n)},Gg=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M7 7L17 17",stroke:n,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("path",{d:"M17 7L7 17",stroke:n,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},qg="end-screen-autoplay-module__endScreenAutoplay___B8d0U",Kg="end-screen-autoplay-module__endScreenAutoplayLabel___li3jH",Yg="end-screen-autoplay-module__switcher___PXB7G",Xg=(0,Jn.PA)((()=>{const e=Vg(),n=(0,t.useRef)(null),r=(0,t.useCallback)((()=>{e.isAutoplayEnabled=!e.isAutoplayEnabled}),[e]);var i,o;i="dark2021",o=n,(0,t.useEffect)((()=>{const e=f(p[i]);g(i,e),o.current&&(o.current.dataset[v]=i)}),[i,o]);const a="ÐŸÑ€Ð¾Ð¸Ð³Ñ€Ñ‹Ð²Ð°Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸";return t.createElement("button",{ref:n,className:"".concat(qg," autoplay-btn"),onClick:r,"aria-label":e.isAutoplayEnabled?"ÐÐµ ".concat(a):a},t.createElement("span",{className:Yg},t.createElement(mr,{size:pr.SMALL,isActive:e.isAutoplayEnabled})),t.createElement("span",{className:Kg},a))})),Qg="end-screen-progress-button-module__progressBtn___hkBcZ",Zg="end-screen-progress-button-module__progressBtnSmall___fGb61",Jg="end-screen-progress-button-module__progressBtnIcon___XWhPD",$g=e=>{const{size:n="default",timeout:r=zi.YN,onClick:i}=e,{cssProgressValue:o,setProgress:a}=((e,n,r)=>{const[i,o]=(0,t.useState)(0),a=(0,t.useRef)(null),s=()=>{a.current&&(clearTimeout(a.current),a.current=null)},l=e/100*i;return(0,t.useLayoutEffect)((()=>{let e=null,t=0,i=!1,l=Date.now();return null!==n&&(e=window.requestAnimationFrame((function r(){if(i)return;const a=(Date.now()-l)/(n||0);t+=a,l=Date.now(),o(100*t),t<1?e=window.requestAnimationFrame(r):u()})),a.current||(a.current=setTimeout(u,n))),()=>{s(),i=!0,o(0),null!==e&&(window.cancelAnimationFrame(e),e=null)};function u(){s(),o(0),null!==e&&(window.cancelAnimationFrame(e),e=null),r&&r(!0)}}),[n]),{cssProgressValue:l,setProgress:o}})(216,r,i),s=(0,t.useCallback)((e=>{e.preventDefault(),a(0),i()}),[a,i]),l=(0,t.useCallback)((e=>{e.stopPropagation()}),[]);return t.createElement("div",(0,ai.A)({className:er()(Qg,{[Zg]:"default"!==n}),title:"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾",onClick:s},Em.aQ),t.createElement("svg",{className:Jg,viewBox:"0 0 60 60",fill:"none"},t.createElement("path",{fill:"rgba(28, 35, 43, 0.9)",d:"M0.5 18.7514C0.5 9.91191 0.5 5.49216 3.24608 2.74608C5.99216 0 10.4119 0 19.2514 0H41.7486C50.5881 0 55.0078 0 57.7539 2.74608C60.5 5.49216 60.5 9.91191 60.5 18.7514V41.2486C60.5 50.0881 60.5 54.5078 57.7539 57.2539C55.0078 60 50.5881 60 41.7486 60H19.2514C10.4119 60 5.99216 60 3.24608 57.2539C0.5 54.5078 0.5 50.0881 0.5 41.2486V18.7514Z"}),t.createElement("path",{d:"M23 20v19.6l14-9.8L23 20Z",fill:"#fff",stroke:"#fff",strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),!!r&&t.createElement("path",{onMouseDown:l,onMouseUp:l,onTouchStart:l,style:{strokeDasharray:216,strokeDashoffset:o+216},stroke:"#00A1E7",strokeWidth:"2",d:"".concat("M30"," 1H10C5.02944 1 1 5.02944 1 10V50C1 54.9706 5.02944 59 10 59H50C54.9706 59 59 54.9706 59 50V10C59 5.02944 54.9706 1 50 1Z")})))},eb={noScrollbar:"end-screen-next-module__noScrollbar___ZNBGx",fullSizeOverlay:"end-screen-next-module__fullSizeOverlay___CvgpY",video:"end-screen-next-module__video___g__QE",videoInner:"end-screen-next-module__videoInner___R2h02",videoImg:"end-screen-next-module__videoImg___TVyAB",videoBg:"end-screen-next-module__videoBg___kcExG",nextVideoClose:"end-screen-next-module__nextVideoClose___qWXSq",nextVideoCloseButton:"end-screen-next-module__nextVideoCloseButton___TX1qd",fullHeight:"end-screen-next-module__fullHeight___q0OJo",endScreenNext:"end-screen-next-module__endScreenNext___WFRz_",md:"end-screen-next-module__md___lCcvK",lg:"end-screen-next-module__lg___ShiVk",xlg:"end-screen-next-module__xlg___vfYH7",nextVideo:"end-screen-next-module__nextVideo___FNdQl",nextVideoInner:"end-screen-next-module__nextVideoInner___AC0Fa",nextVideoNext:"end-screen-next-module__nextVideoNext___LVIpD",sm:"end-screen-next-module__sm___Fwtmy",nextVideoTitle:"end-screen-next-module__nextVideoTitle___pt2m0",xxs:"end-screen-next-module__xxs___D1kbw",nextVideoPlay:"end-screen-next-module__nextVideoPlay___TwI9X",nextVideoCancel:"end-screen-next-module__nextVideoCancel___L_t4I",nextVideoAutoplay:"end-screen-next-module__nextVideoAutoplay___gA3C9"};function tb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0px",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[i,o]=t.useState(void 0),a=t.useRef(null),s=function(e){const n=t.useRef(e);n.current=e;const r=t.useRef(null),i=t.useRef(new Proxy(r,{set(e,t,r,i){return"current"===t&&e.current!==r&&n.current(r,e.current),Reflect.set(e,t,r,i)}}));return i.current}(((e,t)=>{var n,r;(o(void 0),t)&&(null===(n=a.current)||void 0===n||n.unobserve(t));e&&(null===(r=a.current)||void 0===r||r.observe(e))}));return t.useEffect((()=>{if("function"==typeof IntersectionObserver){var t;if(a.current=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&s.current&&a.current&&!n&&(a.current.unobserve(s.current),a.current.disconnect()),o(t.isIntersecting)}),{rootMargin:e,threshold:r}),s.current)null===(t=a.current)||void 0===t||t.observe(s.current);return()=>{var e;o(!1),null===(e=a.current)||void 0===e||e.disconnect(),a.current=null}}}),[s,e,n,r]),[s,i]}const nb=(0,Jn.PA)((e=>{var n,r;let{fullHeight:i}=e;const o=(0,$a.a)(),a=(null===(n=o.size)||void 0===n?void 0:n.width)||0,s=(null===(r=o.size)||void 0===r?void 0:r.height)||0,l=uy.useEndScreen(),{nextVideo:u,counterHelper:c,onClick:d}=l,{onScreenRef:h,autoplay:p}=(()=>{const{isAutoplayEnabled:e}=Vg(),[n,r]=(0,t.useState)(e),[i,o]=tb(void 0,!0,.6);return(0,t.useEffect)((()=>{"boolean"==typeof o&&(!o&&n?r(!1):o&&e&&!n&&r(!0))}),[o,e,n]),(0,t.useEffect)((()=>{r(e)}),[e]),{onScreenRef:i,autoplay:n}})(),{isAutoplayEnabled:m}=Vg(),v=(0,t.useRef)(null),_=(0,t.useRef)(null),f=o.getSizeClassName(eb),g="".concat(i?a:Math.ceil((s-180)*zi.$c),"px"),b=(0,t.useCallback)((e=>{u&&(e?null==c||c.get("mainEndScreenNextVideoAuto")({videoId:u.id}):null==c||c.get("mainEndScreenNextVideoClick")({videoId:u.id}),d({isAuto:e,video:u,type:"next_video"}))}),[d,u,c]),y=(0,t.useCallback)((e=>{e.preventDefault(),l.viewMode="recommendations",l.sendEndScreenAction(Fg.Show)}),[l]);return u?((0,t.useEffect)((()=>{null==c||c.get("mainEndScreenShow")({videoId:(null==u?void 0:u.id)||""})}),[c,u]),t.createElement("div",{className:er()(eb.endScreenNext,f,{[eb.fullHeight]:i}),style:{maxWidth:g}},t.createElement(zg,{role:"alert","aria-live":"assertive"},"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾: ",u.title,m?" Ð½Ð°Ñ‡Ð½ÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· ".concat(Math.floor(zi.YN/1e3)," ÑÐµÐºÑƒÐ½Ð´"):""),t.createElement("div",{className:eb.nextVideoClose},t.createElement(ss.r,{"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐ½Ð´ÑÐºÑ€Ð¸Ð½",icon:Gg,onClick:y,className:eb.nextVideoCloseButton})),t.createElement("a",{href:u.video_url,title:u.title,"aria-label":"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ðº Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ñƒ Ð²Ð¸Ð´ÐµÐ¾: ".concat(u.title),onClick:e=>{var t;if(e.preventDefault(),e.target){const t=e.target;if(null!==t.closest(".autoplay-btn")||t.classList.contains("autoplay-btn"))return}const n=e.target;null!==(t=v.current)&&void 0!==t&&t.contains(n)||n===_.current||b(!1)},className:er()(eb.video,eb.nextVideo,f)},t.createElement("div",{ref:h,className:eb.videoInner},u.thumbnail_url&&t.createElement("img",{src:u.thumbnail_url,alt:u.title,className:er()(eb.fullSizeOverlay,eb.videoImg)}),t.createElement("div",{className:er()(eb.fullSizeOverlay,eb.videoBg)}),t.createElement("div",{className:eb.nextVideoInner},t.createElement("div",{className:er()(eb.nextVideoNext,f)},"Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾:"),u.title&&t.createElement("div",{className:er()(eb.nextVideoTitle,f)},u.title),t.createElement("div",{ref:v,className:eb.nextVideoPlay},t.createElement($g,{timeout:p?zi.YN:null,onClick:b})),t.createElement("button",{ref:_,className:eb.nextVideoCancel,onClick:y},"ÐžÑ‚Ð¼ÐµÐ½Ð°"),i&&t.createElement("div",{className:eb.nextVideoAutoplay},t.createElement(Xg,null))))),!i&&t.createElement("div",{className:eb.nextVideoAutoplay},t.createElement(Xg,null)))):null})),rb="end-screen-poster-module__poster___aNgMH",ib=(0,Jn.PA)((()=>{const{thumbnailUrl:e}=uy.useEndScreen();return e?t.createElement(zv,{"data-testid":"ui-poster",id:"raichuVideoPoster",src:e,className:rb,alt:"ÐŸÐ¾ÑÑ‚ÐµÑ€"}):null})),ob={xxs:{total:4,template:"1fr 1fr"},xs:{total:6,template:"1fr 1fr 1fr"},sm:{total:6,template:"1fr 1fr 1fr"},md:{total:6,template:"1fr 1fr 1fr"},lg:{total:12,template:"1fr 1fr 1fr 1fr"},xlg:{total:12,template:"1fr 1fr 1fr 1fr"}},ab=()=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},t.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M1.06 17.5v.08c0 .37.28.65.65.65a.6.6 0 0 0 .46-.18s4.66-5.03 10.38-3.51v5.08c0 .36.28.64.65.64.14 0 .23-.04.32-.1l9.28-7.88a.74.74 0 0 0 .23-.51.7.7 0 0 0-.18-.46l-9.28-7.53a.87.87 0 0 0-.37-.09.63.63 0 0 0-.65.65v4.75c-.04 0-9.18-1.38-11.49 8.4Z",clipRule:"evenodd"})),sb="end-screen-recommendations-header-module__recommendationsHeader___ZvOPG",lb="end-screen-recommendations-header-module__recommendationsHeaderTitle___zcdzI",ub="end-screen-recommendations-header-module__title___OHsUz",cb="end-screen-recommendations-header-module__recommendationsClose___uNX07",db=["Abort due to cancellation of share.","Share canceled"];function hb(){return(0,fr.p5)().resolve("ISharePlugin")}const pb=()=>{const[e,n]=(0,t.useState)(!1),{isEmbed:r,isSharePanelOpen:i,setActivePanel:o,title:a,videoUrl:s,counterHelper:l}=hb(),u=(0,O.nu)(s),c=()=>{e||o("share"),null==l||l.get("mainSharingShow")()},d=r?(0,O.g)(u,(0,O.VZ)(H.B.isMobile)):u,h=H.B.isMobile?()=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={title:e,url:t};return new Promise(((e,t)=>{navigator.canShare&&navigator.canShare(r)&&n?navigator.share(r).then((()=>e("Mobile sharing completed successfully"))).catch((n=>{db.includes(n.message)?e("Mobile sharing cancelled by user"):t(n.message)})):t("Mobile share not suppported")}))}(a,d,H.B.isMobile).then((()=>{null==l||l.get("mainSharingShare")({socialNetwork:"native"})})).catch(c):c;return{handleShareButton:h,handleCheckSharePanelWasOpen:()=>n(i)}},mb=e=>{let{onClose:n,hiddenTitle:r}=e;const{title:i,author:o,videoUrl:a}=lm(),{handleShareButton:s,handleCheckSharePanelWasOpen:l}=pb(),{counterHelper:u}=uy.useEndScreen(),{getDataAttribute:c}=(0,wi.f)();return t.createElement("div",{className:sb},r?t.createElement(t.Fragment,null,t.createElement("h2",null,"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸"),t.createElement(ss.r,(0,ai.A)({className:cb,icon:Gg,onClick:n,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸"},c(Si.R.CLOSE_RECOMMENDATION_BUTTON)))):t.createElement(t.Fragment,null,t.createElement("div",{className:lb},t.createElement("a",{href:null==o?void 0:o.url,target:"_blank",rel:"noreferrer",title:null==o?void 0:o.name,onClick:()=>{null==u||u.get("mainEndScreenChannelLogoClick")({clickedUrl:(null==o?void 0:o.url)||""})}},t.createElement("img",{src:(null==o?void 0:o.avatar_url)||zi.k_,alt:null==o?void 0:o.name})),t.createElement("a",{href:a,target:"_blank",rel:"noreferrer",className:ub},i)),t.createElement("div",null,t.createElement(ss.r,{tabIndex:0,role:"button","aria-label":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð²Ð¸Ð´ÐµÐ¾",icon:ab,withBg:!1,onClick:s,onMouseDown:l}))))},vb="end-screen-recommendations-module__recommendations___taX__",_b="end-screen-recommendations-module__recommendationsWrapper___YARZ4",fb="end-screen-recommendations-module__recommendationsInner___wuUAh",gb="end-screen-recommendations-module__recommendationsGrid___DhuiF",bb="end-screen-recommendations-module__recommendationsCarousel___EnU5q",yb="end-screen-recommendations-module__recommendationsItem___bj4xx",Eb="thumbnail-module__notLoaded___hwAhb",wb="thumbnail-module__thumbnailSkeleton___L3GP7",Sb=["hidden","skeletonClassName","className","requiredSize","src","alt","responsive"],Ab=e=>{let{hidden:n=!1,skeletonClassName:r,className:i,requiredSize:o,src:a,alt:s,responsive:l=!0}=e,u=(0,V.A)(e,Sb);const[c,d]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),m=(0,t.useMemo)((()=>{if(!a||!o||!l)return;const e=[1,1.5,2,3].map((e=>"".concat(a,"?width=").concat(o*e," ").concat(e,"x")));return e.join(", ")}),[a,o,l]),v=(0,t.useCallback)((()=>{d(!0)}),[d]),_=(0,t.useCallback)((()=>{p(!0)}),[p]);return h?null:t.createElement(t.Fragment,null,!c&&t.createElement("div",{className:er()(wb,r)}),!n&&t.createElement("img",(0,ai.A)({},u,{className:er()({[Eb]:!c},i),srcSet:m,src:a?"".concat(a).concat(o?"?width=".concat(o):""):"",alt:s,onLoad:v,onError:_})))},Cb="recommendation-item-module__fullSizeOverlay___E0UcD",kb="recommendation-item-module__video___QVlb0",Pb="recommendation-item-module__videoInner___wZqov",Ib="recommendation-item-module__videoImg___tJAFX",Tb="recommendation-item-module__videoBg___jZgB2",xb="recommendation-item-module__recommendation___wLRvM",Rb="recommendation-item-module__grid___Cr9yy",Lb="recommendation-item-module__recommendationCurrent___gyCuC",Ob="recommendation-item-module__verticalList___sIcQH",Nb="recommendation-item-module__thumbnail___yXRnU",Mb="recommendation-item-module__recommendationCurrentText___ok3Do",Db="recommendation-item-module__recommendationText___TqJPv",Bb="recommendation-item-module__horizontalList___UFjMi",Fb="recommendation-item-module__recommendationTitle___pnAqW",Hb="recommendation-item-module__recommendationDescription___Ts_rm",Vb="recommendation-item-module__recommendationInfo___HUxDL",Ub="recommendation-item-module__recommendationDuration___NbGZF",jb="recommendation-item-module__recommendationAge___bfNMh",Wb="recommendation-item-module__recommendationSkeleton___Jg1pD",zb="recommendation-item-module__loading___mCjxJ",Gb="recommendation-item-module__progress___MFz5x",qb="recommendation-item-module__live___ZBMYz",Kb=e=>{let{id:n,title:r,titleRows:i=2,description:o,descriptionRows:a=1,ariaLabel:s,age:l,duration:u,isLiveStream:c,progress:d,thumbnailUrl:h,width:p,thumbnailWidth:m=600,className:v,mode:_="grid",currentLabel:f,hidden:g,onClick:b,onFocus:y}=e;const{getDataAttribute:E}=(0,wi.f)(),w=f?"div":"button";return t.createElement(w,{onPointerUp:e=>{e.preventDefault(),f||b&&b(e)},"data-testid":"recommendation-item",tabIndex:0,className:er()(xb,v,{[Rb]:"grid"===_,[Ob]:"vertical_list"===_,[Lb]:!!f}),"data-id":n,"data-lazy":g,"aria-label":s||r,onFocus:y,style:{minWidth:p,maxWidth:p,"--rec-title-rows":i,"--rec-description-rows":a}},t.createElement("div",{className:Nb,"aria-hidden":!0},t.createElement("div",{className:kb},t.createElement("div",{className:Pb},h&&t.createElement(Ab,(0,ai.A)({hidden:g,src:h,requiredSize:m,alt:r,className:er()(Cb,Ib)},E(Si.R.POSTER_IMAGE_RECOMMENDATION))),t.createElement("div",{className:er()(Cb,Tb,{[Mb]:!!f})},!!f&&t.createElement("div",null,f)),"grid"===_&&!f&&t.createElement("div",{className:Db},t.createElement("div",{className:Fb},r),t.createElement("div",{className:Hb,title:o},o)),!f&&t.createElement(t.Fragment,null,l&&t.createElement("div",{className:er()(Vb,jb)},l,"+"),t.createElement("div",{className:er()(Vb,Ub)},c?t.createElement("span",{className:qb},"Ð’ ÑÑ„Ð¸Ñ€Ðµ"):u),Boolean(d)&&t.createElement("div",{className:Gb,"aria-label":"ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð¾ ".concat(d,"%")},t.createElement("span",{style:{width:"".concat(d,"%"),background:"rgba(0, 161, 231, 1)"}})))))),"grid"!==_&&t.createElement("div",{"aria-hidden":!0,className:er()(Db,{[Bb]:"horizontal_list"===_,[Ob]:"vertical_list"===_})},t.createElement("div",{className:Fb},r),t.createElement("div",{className:Hb,title:o},o)))},Yb=(e,n)=>{const r=(()=>{const e=(0,t.useRef)(!0);return e.current?(e.current=!1,!0):e.current})();(0,t.useEffect)((()=>{if(!r)return e()}),n)};const Xb=e=>{let{wrapper:n,items:r,enabled:i=!0,options:o}=e;const a=(0,t.useRef)(null),[s,u]=(0,t.useState)({}),c=(0,t.useCallback)((()=>u({})),[]),d=(0,t.useCallback)((e=>{const t={};e.forEach((e=>{if(!e.isIntersecting)return;const n=e.target;n.dataset.id&&(t[n.dataset.id]=!0)})),Object.keys(t).length>0&&u((e=>(0,l.A)((0,l.A)({},e),t)))}),[]),h=(0,t.useCallback)((()=>{var e;null===(e=a.current)||void 0===e||e.disconnect();const t=n?n instanceof HTMLDivElement?n:n.current:null;if(!t)return;const r=t.querySelectorAll('[data-lazy="true"]');if(r.length)try{const e=new IntersectionObserver(d,o);a.current=e,r.forEach((t=>e.observe(t)))}catch(e){console.warn(e)}}),[n,o,d]);return(0,t.useEffect)((()=>{if(!i)return;const e=requestAnimationFrame((()=>{h()}));return()=>{var t;cancelAnimationFrame(e),null===(t=a.current)||void 0===t||t.disconnect()}}),[i,r,h]),{viewedItems:s,resetViewed:c}},Qb=function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2;const[o,a]=(0,t.useState)([]),s=(0,t.useMemo)((()=>({wrapper:n,items:r,options:{threshold:i}})),[n,r,i]),{viewedItems:l}=Xb(s),u=(0,t.useCallback)((0,ys.debounce)((t=>{e(t),a((e=>[...e,...t]))}),300),[e]);(0,t.useEffect)((()=>{const e=Object.entries(l).filter((e=>{let[t,n]=e;return n&&!o.find((e=>e===t))})).map((e=>{let[t]=e;return t}));e.length&&u(e)}),[l,o,u])},Zb=(0,Jn.PA)((()=>{var e;const n=uy.useEndScreen(),{counterHelper:r,items:i,onClick:o,isEmbed:a,width:s,height:l,sizeId:u,isSmall:c,isCarousel:d,isLandscape:h}=n,{isTouchDevice:p}=Fp(),m=(0,t.useRef)(null),{viewedItems:v}=Xb({wrapper:m,items:i,options:{rootMargin:"100%"}}),_=(0,t.useCallback)((e=>{null==r||r.get("mainEndScreenShowRecommendations")({videoIds:e})}),[r]),f=(0,t.useMemo)((()=>i.map((e=>e.video))),[i]),g=a&&!h?s:Math.ceil(l*zi.$c);return Qb(_,m,f,0),t.createElement("div",{tabIndex:0,"aria-label":"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸",className:vb,style:{maxWidth:"".concat(g,"px"),maxHeight:"".concat(l,"px")}},t.createElement(mb,{onClose:()=>{n.cancel(),a||(n.viewMode="next_video")},hiddenTitle:p||c}),t.createElement("div",{className:_b},t.createElement("div",{ref:m,className:fb},t.createElement("div",{className:er()(gb,{[bb]:d}),style:{gridTemplateColumns:null===(e=ob[u])||void 0===e?void 0:e.template}},i.map((e=>{var n;return t.createElement(Kb,{key:e.video.id,id:e.video.id,age:e.video.pg_rating.age,title:e.video.title,description:(null===(n=e.video.author)||void 0===n?void 0:n.name)||"",descriptionRows:1,thumbnailUrl:e.video.thumbnail_url,duration:(0,__.a3)({value:e.video.duration}),isLiveStream:e.video.is_livestream,hidden:!v[e.video.id],className:yb,mode:d?"horizontal_list":"grid",onClick:()=>{return t=e.video,null==r||r.get("mainEndScreenRecommendationClick")({videoId:t.id}),void o({isAuto:!1,video:t,type:"recommendation"});var t}})}))))))})),Jb="end-screen-module__fullSizeOverlay___LdonP",$b="end-screen-module__endScreen___q93M7",ey="end-screen-module__fullHeight___HbPGD",ty="end-screen-module__endScreenBg___YXSN2",ny="end-screen-module__endScreenContent___fp6ip",ry=(0,Jn.PA)((()=>{const e=uy.useEndScreen(),{nextVideo:n,visible:r,viewMode:i,isEmbed:o}=e,a=(0,pt.useControls)(),{controlBlockHeight:s}=a,l=(0,$a.a)().size,u=(null==l?void 0:l.height)||0,c=Math.ceil(u*zi.$c),d=Fp().isTouchDevice||c<=666;return r?t.createElement("div",{"data-testid":"endscreen",className:er()(Jb,$b,{[ey]:d})},t.createElement(ib,null),t.createElement("div",{className:er()(Jb,ty)}),t.createElement("div",{className:ny,style:{"--endscreen-height":"calc(100% - ".concat(s,"px)")}},"recommendations"===i?t.createElement(Zb,null):t.createElement(t.Fragment,null,n&&!o&&t.createElement(nb,{fullHeight:d})))):null}));var iy,oy;let ay,sy,ly,uy;new(oy=class extends cv{constructor(e,t,n,r,i,o,a,s,u){var c;super(e,t,i,o,u),c=this,this._viewMode=(ay(this),P.sH.box("next_video")),this.advertPlugin=void 0,this.counterHelper=void 0,this.sendEndScreenAction=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=c.counterHelper)||void 0===t||t.get("mainEndScreenAction")((0,l.A)({end_screen:e,list_of_cards:c.listOfCards,toggle:c._userSettings.isAutoplayEnabled?"on":"off"},n))},this.hide=()=>{this.visible=!1},this.cancel=()=>{this.visible&&this.hide()},this._playback=n,this._userSettings=r,this._config=o,this._playerSize=a,this.onClick=this.onClick.bind(this),this.isEmbed=e.value,this.advertPlugin=s,this.counterHelper=i&&i instanceof ol?i.counterHelper:void 0,(0,P.Gn)(this,{viewMode:P.EW,show:P.XI,hide:P.XI,cancel:P.XI,onClick:P.XI})}initVideoEndScreen(){const e=[];return e.push((0,P.mJ)((()=>{var e;return[this._playback.ended,null===(e=this.advertPlugin)||void 0===e?void 0:e.currentState]}),(e=>{let[t,n]=e;t&&"prefetch"!==n&&"show"!==n&&(!t||this.isEmbed||this._playback.isLooping||this.show())}))),e.push((0,P.mJ)((()=>{var e;return[this._playback.isPlaying,null===(e=this.advertPlugin)||void 0===e?void 0:e.currentState,this.visible]}),(e=>{let[t,n,r]=e;(t||"prefetch"===n||"show"===n)&&r&&this.hide()}))),e.push((0,P.mJ)((()=>this._userSettings.isAutoplayEnabled),(e=>{e&&(this.viewMode="next_video")}))),()=>e.forEach((e=>e()))}_makeVideoIdReaction(){return(0,P.mJ)((()=>{var e;return{videoId:this._playerData.video_id,allow:null===(e=this._playerData.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_endscreen,_:this.isEmbed,addLikedVideos:this._config.get("loadLikedRecommendations")}}),(e=>{let{videoId:t,allow:n,addLikedVideos:r}=e;t&&n&&(0,P.h5)((async()=>{try{this.hide(),this.data=await iv((0,l.A)((0,l.A)({},this._makeFetctEndScreenRequestParams(t)),{},{addLikedVideos:r})),this.nextVideo&&!this.isEmbed||(this.viewMode="recommendations")}catch(e){console.warn("Load end-screen error",e)}}))}))}get listOfCards(){return"recommendations"!==this.viewMode?this.nextVideo?[e({video:this.nextVideo},1)]:[]:this.items.map(e);function e(e,t){return{title:e.video.title,url:e.video.video_url,position:(t+1).toString()}}}get items(){return this.getRecommendations(this.cardsLimit)}get cardsLimit(){var e,t;return this.isCarousel?20:null!==(e=null===(t=ob[this.sizeId])||void 0===t?void 0:t.total)&&void 0!==e?e:4}get width(){var e,t;return null!==(e=null===(t=this._playerSize.size)||void 0===t?void 0:t.width)&&void 0!==e?e:0}get height(){var e,t;return null!==(e=null===(t=this._playerSize.size)||void 0===t?void 0:t.height)&&void 0!==e?e:0}get sizeId(){return this._playerSize.sizeId||"xxs"}get isLandscape(){return this.width>this.height}get isSmall(){return this.width<=666}get isCarousel(){return this.isSmall||!this.isEmbed&&H.B.isMobile&&this.isLandscape&&this.width<1e3}get safeModeConfig(){return this._config.get("safeModeConfig")}get viewMode(){return this._viewMode.get()}set viewMode(e){this._viewMode.set(e)}show(){var e,t,n;(this.visible=!0,null===(e=this.counterHelper)||void 0===e||e.get("mainEndScreenShowAlt")(),this.sendEndScreenAction(Fg.Show),"recommendations"===this.viewMode)?null===(t=this.counterHelper)||void 0===t||t.get("mainEndScreenShowRecommendations")():null===(n=this.counterHelper)||void 0===n||n.get("mainEndScreenShow")()}onClick(e){var t,n;let{isAuto:r,video:i,type:o}=e;const a={next_video_id:i.id,clicked_url:i.video_url};let s;if(s="next_video"===this.viewMode?r?Fg.Auto:Fg.Play:Fg.ClickOnCard,this.sendEndScreenAction(s,a),null===(t=this.counterHelper)||void 0===t||t.get("mainEndScreenClick")({videoId:i.id}),null===(n=this.counterHelper)||void 0===n||n.get("mainEndScreenClickAction")({videoId:i.id}),this.trackingLinks&&this.isEmbed)window.open(this.trackingLinks.generateTrackingLink({id:String(i.id),campaign:"endscreen"}));else{const e=Hg[o];e&&va.Ug.emit(e,{video:i})}}},({e:[ay],c:[uy,sy]}=(0,k.A)(oy,[(0,I.k_)({implement:"IEndScreenPlugin",ctor_args:["IsEmbed","IDataPlugin","IPlayback","IUserSettingsPlugin","IStatisticState","IPlayerConfigPlugin","IPlayerSizePlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0}]})],[[(0,I.o7)(),2,"initVideoEndScreen"]],0,void 0,cv)),ly=oy,(iy=class extends ft{constructor(){super(uy),this.EndScreen=ry,this.useEndScreen=()=>(0,fr.Ks)("IEndScreenPlugin"),this.useEndScreenOptional=()=>(0,fr.ei)("IEndScreenPlugin"),this.getEndScreen=e=>e("IEndScreenPlugin"),sy()}})[ly]=void 0,iy);var cy=a(2594);const dy=e=>t.createElement(cy.A,(0,ai.A)({classNames:"raichu-fade"},e),e.children),hy=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},t.createElement("path",{fill:n,fillRule:"evenodd",d:"M4.43 12.24c.03.07.07.14.13.2l5 5a.62.62 0 1 0 .88-.88L6.5 12.62H19a.62.62 0 1 0 0-1.24H6.5l3.94-3.94a.62.62 0 1 0-.88-.88l-5 5a.62.62 0 0 0-.13.68Z",clipRule:"evenodd"}))},py=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},t.createElement("path",{fill:n,fillRule:"evenodd",d:"M19.57 12.24a.62.62 0 0 1-.13.2l-5 5a.62.62 0 1 1-.88-.88l3.94-3.94H5a.62.62 0 1 1 0-1.24h12.5l-3.94-3.94a.62.62 0 0 1 .88-.88l5 5a.62.62 0 0 1 .13.68Z",clipRule:"evenodd"}))},my="pause-screen-recommendations-wrapper-module__pauseRecsList___zSHHs",vy="pause-screen-recommendations-wrapper-module__pauseRec___hx2Tr",_y={x:0,y:0},fy=e=>{let{wrapperRef:n,speed:r=1}=e;const i=(0,t.useRef)(0),o=(0,t.useRef)(0),a=(0,t.useRef)(null),[s,u]=(0,t.useState)(!1),c=(0,t.useRef)(null),{setHideControlsTimer:d}=s_(),h=(0,t.useRef)(_y),p=(0,t.useCallback)((()=>{n.current&&d()}),[d,n]),m=(0,t.useCallback)((()=>{h.current&&(h.current=(0,l.A)({},_y)),a.current&&(cancelAnimationFrame(a.current),a.current=null),n.current&&(n.current.style.cursor="grab",n.current.style.removeProperty("user-select")),u(!1),c.current=null}),[n]),v=(0,t.useCallback)((e=>{if(!n.current||1!==e.buttons&&1!==e.which)return;if("grabbing"!==n.current.style.cursor)return;const t=e.pageX-h.current.x,l=e.pageY-h.current.y;(Math.abs(t)>5||Math.abs(l)>5)&&(s||c.current||(c.current=setTimeout((()=>{u(!0),c.current=null}),200))),a.current=requestAnimationFrame((()=>{const t=(e.pageX-n.current.offsetLeft-i.current)*r;n.current.scrollLeft=o.current-t}))}),[n,s,r]);return(0,t.useEffect)((()=>{const e=n.current;if(e)return e.addEventListener("scroll",p),document.addEventListener("mousemove",v),document.addEventListener("mouseup",m),()=>{e.removeEventListener("scroll",p),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",m),a.current&&cancelAnimationFrame(a.current)}}),[v,m,n,p]),{handleMouseDown:e=>{n.current&&(e.preventDefault(),e.stopPropagation(),i.current=e.pageX-n.current.offsetLeft,o.current=n.current.scrollLeft,n.current.style.cursor="grabbing",n.current.style.userSelect="none")},suppressClick:s,cleanUp:m}},gy=e=>{let{count:n,loading:r,mode:i="grid",width:o,titleRows:a,descriptionRows:s,className:l}=e;const u=Array.from(Array(n).keys());return t.createElement(t.Fragment,null,u.map((e=>t.createElement("div",{key:e,className:er()(xb,Wb,l,{[Rb]:"grid"===i,[Ob]:"vertical_list"===i,[zb]:r}),style:{minWidth:o,"--rec-title-rows":a,"--rec-description-rows":s}},t.createElement("div",{className:Nb},t.createElement("div",{className:kb},t.createElement("div",{className:Pb},"grid"===i&&t.createElement("div",{className:Db},t.createElement("div",{className:Fb}),t.createElement("div",{className:Hb}))))),"grid"!==i&&t.createElement("div",{className:er()(Db,{[Bb]:"horizontal_list"===i,[Ob]:"vertical_list"===i})},t.createElement("div",{className:Fb}),t.createElement("div",{className:Hb}))))))},by=(0,Jn.PA)((()=>{const e=(0,t.useRef)(null),n=Yy.usePauseScreen(),{items:r,visible:i,config:{perPage:o},onClick:a,fixFocus:s,counterHelper:l}=n,u=(0,t.useCallback)((e=>{null==l||l.get("mainPauseScreenShow")({videoIds:e})}),[l]),{viewedItems:c}=Xb({wrapper:e,items:r,enabled:i,options:{rootMargin:"100%"}}),{handleMouseDown:d,suppressClick:h,cleanUp:p}=fy({wrapperRef:e});return Qb(u,e,r),t.createElement("div",{className:my,ref:t=>{t&&(n.wrapperRef=t,e.current=t)},onMouseDown:d},r.map(((e,n)=>t.createElement(Kb,{key:e.id,id:e.id,title:e.title,thumbnailUrl:e.thumbnail_url,age:e.pg_rating.age,duration:(0,__.a3)({value:e.duration}),isLiveStream:e.is_livestream,hidden:!c[e.id],mode:"horizontal_list",width:"".concat((100/o).toFixed(2),"%"),className:vy,onClick:t=>{if(h)return t.stopPropagation(),void p();a(e,n+1)},onFocus:()=>s(n)}))))})),yy="paused-covers-module__pausedCoversWrapper___atFzB",Ey="paused-covers-module__pausedCover___XPPNg",wy=(0,t.memo)((e=>{let{items:n}=e;const[r,i]=n;return null!=r&&r.thumbnail_url&&null!=i&&i.thumbnail_url?t.createElement("div",{className:yy},t.createElement("img",{className:"".concat(Ey),src:r.thumbnail_url,alt:r.title,loading:"lazy"}),t.createElement("img",{className:"".concat(Ey),src:i.thumbnail_url,alt:i.title,loading:"lazy"})):null})),Sy="pause-screen-module__pauseRecsBlock___jF1A4",Ay="pause-screen-module__pauseRecs___D0t7J",Cy="pause-screen-module__isVisible___c4VzA",ky="pause-screen-module__pauseRecsInner___e1YuQ",Py="pause-screen-module__barActive___eZ9cN",Iy="pause-screen-module__pauseRecsTitle___nfXi1",Ty="pause-screen-module__pauseRecsWrapper___FalyM",xy="pause-screen-module__pauseRecsControl___jDduz",Ry="pause-screen-module__pauseRecsButton___LmkKP",Ly="pause-screen-module__pauseRecsPrev___WbvvF",Oy="pause-screen-module__pauseRecsNext___wtWgk",Ny="pause-screen-module__buttonClose____DPSm",My="pause-screen-module__buttonShow___UPNzK",Dy="pause-screen-module__hidden___KiFYk",By="text-button-module__textButton___dknPs",Fy=["children","className"],Hy=e=>{let{children:n,className:r}=e,i=(0,V.A)(e,Fy);return t.createElement("button",(0,ai.A)({className:er()(By,r)},i),n)},Vy=(0,Jn.PA)((()=>{const e=(0,t.useRef)(null),n=Yy.usePauseScreen(),{getDataAttribute:r}=(0,wi.f)(),{items:i,page:o,pagesTotal:a,imageHeight:s,moreRecommendationClick:l,allowed:u,visible:c,show:d,hide:h,isBarActive:p,available:m,controlBlockHeight:v}=n;return u?t.createElement("div",{className:Sy,style:{bottom:"".concat(v,"px")}},m&&t.createElement(Hy,{className:er()(My,{[Dy]:c,[Py]:p}),onClick:()=>{var e;null===(e=n.counterHelper)||void 0===e||e.get("mainRecommendationButtonClick")(),d(!0)},"aria-label":"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸","aria-haspopup":"true","aria-controls":"raichuPauseRecs","aria-expanded":c,"data-testid":"recommendations-btn"},t.createElement(wy,{items:i}),"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸"),t.createElement(dy,{appear:!0,in:c,nodeRef:e,timeout:zi.O5,unmountOnExit:!0},t.createElement("div",(0,ai.A)({id:"raichuPauseRecs","data-testid":"recommendations-list",className:er()(Ay,{[Cy]:c}),"aria-label":"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸",ref:e},r(Si.R.RECOMMENDATION_IN_PLAYER)),t.createElement("div",{className:er()(ky,{[Py]:p})},t.createElement("div",{className:Iy},"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸"),t.createElement(ss.r,(0,ai.A)({className:Ny,icon:Gg,onClick:()=>h(!0),"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸","data-testid":"recommendations-close-btn"},r(Si.R.CLOSE_RECOMMENDATION_BUTTON))),t.createElement("div",{className:Ty},t.createElement("div",{className:er()(xy,Ly),style:{height:"".concat(s,"px")}},o>1&&t.createElement("button",{"data-testid":"recommendations-left-arrow-btn","aria-hidden":"true",className:Ry,onClick:()=>l("left",!0)},t.createElement(hy,null))),t.createElement(by,null),t.createElement("div",{className:er()(xy,Oy),style:{height:"".concat(s,"px")}},o<a&&t.createElement("button",{"data-testid":"recommendations-right-arrow-btn","aria-hidden":"true",className:Ry,onClick:()=>l("right",!0)},t.createElement(py,null)))))))):null})),Uy={perPage:0,total:0},jy={xxs:{perPage:1,total:5},xs:{perPage:3,total:18},sm:{perPage:4,total:16},md:{perPage:4,total:16},lg:{perPage:6,total:18},xlg:{perPage:8,total:16}};var Wy,zy;let Gy,qy,Ky,Yy;new(zy=class extends I.j8{constructor(t,n,r,i,o,a,s,l,u,c,d,h,p,m){super(),this._wrapperRef=(Gy(this),P.sH.box(null)),this._config=P.sH.box({perPage:0,total:0}),this._imageHeight=P.sH.box(0),this._page=P.sH.box(1),this._items=P.sH.box([]),this._allRecommendations=P.sH.box([]),this._allowed=P.sH.box(!1),this._isEmbed=P.sH.box(!1),this._visible=P.sH.box(!1),this._hiddenByDefault=P.sH.box(!1),this.counterHelper=void 0,this.advert=void 0,this.moreRecommendationClick=(e,t)=>{this.changePage(e),this.show(t)},this.changePage=e=>{this.page="left"===e?this.page-1:this.page+1,this.scrollTo(this.page)},this.fixFocus=e=>{const t=e+1,n=this.page*this.config.perPage;t>n&&this.changePage("right");t<n-this.config.perPage&&this.changePage("left")},this.show=e=>{var t,n;e?(this.hiddenByDefault=!1,null===(t=this.counterHelper)||void 0===t||t.get("mainPauseScreenAction")({action:"show_rec"})):null===(n=this.counterHelper)||void 0===n||n.get("mainPauseScreenAction")({action:"show",list_of_cards:this.items.map(((e,t)=>({title:e.title,url:e.video_url,position:(t+1).toString()})))});this.visible=!0},this.hide=e=>{var t,n;e&&(this.hiddenByDefault=!0,null===(t=this.counterHelper)||void 0===t||t.get("mainPauseScreenAction")({action:"hide_rec"}),null===(n=this.counterHelper)||void 0===n||n.get("mainRecommendationButtonShow")());this.visible=!1,this.scrollTo(1,!1)},this.onClick=(e,t)=>{var n,r;null===(n=this.counterHelper)||void 0===n||n.get("mainPauseScreenAction")({action:"click",clicked_url:e.video_url,position:t.toString()}),null===(r=this.counterHelper)||void 0===r||r.get("mainPauseScreenClick")({videoId:e.id}),this.trackingLinks&&this.isEmbed?window.open(this.trackingLinks.generateTrackingLink({id:String(e.id),campaign:"pausescreen"})):va.Ug.emit(zi.L2.RECOMMENDED_VIDEO,{video:e})},this._playerSize=n,this._playback=r,this.endScreen=i,this._watchTime=o,this._data=a,this._controls=s,this._playerConfig=l,this._replayWidget=u,this._preview=c,this.trackingLinks=p,this.appearance=m,this.counterHelper=d&&d instanceof ol?d.counterHelper:void 0,this.hiddenByDefault="1"===e.ae.getItem(zi.Ok.PAUSE_RECS_HIDDEN),this.advert=h,this.isEmbed=t.value,(0,P.Gn)(this,{wrapperRef:P.EW,config:P.EW,items:P.EW,imageHeight:P.EW,page:P.EW,pagesTotal:P.EW,fixFocus:P.XI,allowed:P.EW,visible:P.EW,show:P.XI,hide:P.XI,onClick:P.XI,available:P.EW,allRecommendations:P.EW,isEmbed:P.EW,hiddenByDefault:P.EW})}init(){const e=[];return e.push((0,P.mJ)((()=>({sizeId:this._playerSize.sizeId,items:this.allRecommendations})),(e=>{let{sizeId:t,items:n}=e;this.config=t?jy[t]:Uy,this.items=n.slice(0,this.config.total).map((e=>e.video)),this.page>this.pagesTotal&&this.scrollTo(this.pagesTotal,!1)}))),e.push((0,P.mJ)((()=>{var e;return{layoutWidth:null===(e=this._playerSize.size)||void 0===e?void 0:e.width,wrapper:this.wrapperRef,visible:this.visible}}),(e=>{let{wrapper:t,visible:n}=e;n&&setTimeout((()=>{const e=null==t?void 0:t.clientWidth;e&&(this.imageHeight=Math.round((e/this.config.perPage-16)/zi.$c));const n=this.pagesTotal<this.page?this.pagesTotal:this.page;n!==this.page&&(this.page=n),this.scrollTo(n,!1)}))}))),e.push((0,P.mJ)((()=>{var e;return{wasStarted:this._playback.wasStarted,isLive:this._data.isLive,isPauseScreenAvailable:this._watchTime.isPauseScreenAvailable,items:this.allRecommendations,isShowingReplyWidget:this.isShowingReplyWidget,endScreenVisible:null===(e=this.endScreen)||void 0===e?void 0:e.visible,config:this.config,showRelated:this.appearance.showRelated}}),(e=>{let{wasStarted:t,isPauseScreenAvailable:n,items:r,isLive:i,isShowingReplyWidget:o,endScreenVisible:a,config:s,showRelated:l}=e;this.allowed=t&&!(this.isEmbed&&i)&&n&&r.length>0&&!o&&!a&&!this._playback.ended&&s.perPage>0&&l}))),e.push((0,P.mJ)((()=>({available:this.available})),(e=>{let{available:t}=e;if(this.allowed&&!H.B.isMobile)if(!t&&this.visible)this.hide(!1);else if(t){var n,r;if(this.visible)return;if("show"===(null===(n=this.advert)||void 0===n?void 0:n.currentState))return;if(this.hiddenByDefault)null===(r=this.counterHelper)||void 0===r||r.get("mainRecommendationButtonShow")();else this.show(!1)}}))),e.push((0,P.mJ)((()=>({videoId:this._data.video_id})),(()=>this.hide(!1)))),e.push((0,P.mJ)((()=>{var e;return{recommendations:null===(e=this.endScreen)||void 0===e?void 0:e.recommendations}}),(e=>{let{recommendations:t}=e;t&&(this.allRecommendations=t)}))),e.push((0,P.mJ)((()=>({videoId:this._data.video_id,disableEndScreen:!this.appearance.showEndScreen||!this.endScreen,enablePauseScreen:this.appearance.showRelated,isEmbed:this.isEmbed,addLikedVideos:this._playerConfig.get("loadLikedRecommendations")})),(e=>{let{videoId:t,disableEndScreen:n,isEmbed:r,addLikedVideos:i,enablePauseScreen:o}=e;t&&n&&o&&(0,P.h5)((async()=>{try{var e,n,o;const a=await iv({videoId:t,client:r?"player":"wdp",limit:20,minAge:null===(e=this._playerConfig.get("safeModeConfig"))||void 0===e?void 0:e.minAge,maxAge:null===(n=this._playerConfig.get("safeModeConfig"))||void 0===n?void 0:n.maxAge,playlistId:null===(o=this._playerConfig.get("playlistId"))||void 0===o?void 0:o.toString(),addLikedVideos:i});this.allRecommendations=null==a?void 0:a.recommendation}catch(e){console.warn("Load end-screen error",e)}}))}))),()=>e.forEach((e=>e()))}get isEmbed(){return this._isEmbed.get()}set isEmbed(e){this._isEmbed.set(e)}get wrapperRef(){return this._wrapperRef.get()}set wrapperRef(e){this._wrapperRef.get()!==e&&this._wrapperRef.set(e)}get config(){return this._config.get()}set config(e){this._config.set(e)}get items(){return this._items.get()}set items(e){this._items.set(e)}get allRecommendations(){return this._allRecommendations.get()}set allRecommendations(e){this._allRecommendations.set(e)}get imageHeight(){return this._imageHeight.get()}set imageHeight(e){this._imageHeight.set(e)}get page(){return this._page.get()}set page(e){this._page.set(e)}get allowed(){return this._allowed.get()}set allowed(e){this._allowed.set(e)}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get hiddenByDefault(){return this._hiddenByDefault.get()}get controlBlockHeight(){return this._controls.controlBlockHeight}set hiddenByDefault(t){e.ae.setItem(zi.Ok.PAUSE_RECS_HIDDEN,t?"1":""),this._hiddenByDefault.set(t)}get pagesTotal(){return this.config.perPage&&this.items.length?Math.ceil(this.items.length/this.config.perPage):1}get playback(){return this._playback}get isShowingReplyWidget(){var e,t;return Boolean((null===(e=this._replayWidget)||void 0===e?void 0:e.isReplayWidgetAvailable)&&!(null!==(t=this._replayWidget)&&void 0!==t&&t.isReplayWidgetAlreadyShowed))}get isBarActive(){var e,t;return Boolean((null===(e=this._preview)||void 0===e?void 0:e.isAllowedToShowPreview)&&null!==(null===(t=this._preview)||void 0===t?void 0:t.previewPosition)&&!H.B.isMobile)}get available(){return!this._playback.isPlaying&&(!this._playback.waiting||this._playback.paused)&&this._controls.isShowControls&&!this.playback.ended}scrollTo(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.wrapperRef){const n=this.wrapperRef.clientWidth;this.wrapperRef.scrollTo({top:0,left:n*(e-1),behavior:t?"smooth":"auto"})}}},({e:[Gy],c:[Yy,qy]}=(0,k.A)(zy,[(0,I.k_)({implement:"IPauseScreenPlugin",ctor_args:["IsEmbed","IPlayerSizePlugin","IPlayback",{implement:"IEndScreenPlugin",optional:!0},"IStatisticWatchTimePlugin","IDataPlugin","IControlsPlugin","IPlayerConfigPlugin",{implement:"ReplayWidgetPlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0},"IAppearancePlugin"]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),Ky=zy,(Wy=class extends ft{constructor(){super(Yy),this.PauseScreen=Vy,this.usePauseScreen=()=>(0,fr.Ks)("IPauseScreenPlugin"),this.usePauseScreenOptional=()=>(0,fr.ei)("IPauseScreenPlugin"),this.getPauseScreen=e=>e("IPauseScreenPlugin"),qy()}})[Ky]=void 0,Wy);const Xy="buttons-block-module__btn___vnXoe",Qy=(0,Jn.PA)((e=>{let{previewTooltipHidden:n,tooltipTitle:r,size:i}=e;const o=(0,pf.t1)(),a=Vf.useNextVideoOptional(),{nextVideo:s,isShowPlaylistButtons:l,onClickNext:u}=o||{},{isLive:c}=lm(),{tabIndex:d}=(0,pt.useControls)();if(!a)return null;const{nextVideo:h,onClick:p}=a,m=!c&&Boolean(s||h);if(!l&&!m)return null;const v=l&&s?s:h,_=l&&s?u&&u.bind(o):p.bind(a),f=l&&!s&&!h;return t.createElement("div",{className:Xy},t.createElement(Bg,{video:v,tooltipHidden:n||!v,tooltipTitle:wn.m_.NextVideo},t.createElement(ss.r,{"data-testid":"ui-next-video",tabIndex:d,role:"button","aria-label":"ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾ (ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸Ñˆ Shift+N)",icon:Uf,onClick:_,disabled:f,tooltipPlacement:"top",tooltipTitle:r,style:{position:"relative"},size:i})))})),Zy=(0,Jn.PA)((e=>{let{previewTooltipHidden:n,tooltipTitle:r,size:i}=e;const o=(0,pf.t1)(),{prevVideo:a,isShowPlaylistButtons:s,onClickPrev:l}=o,{tabIndex:u}=(0,pt.useControls)(),c=tg.usePrevVideoOptional();return s?d(a,l.bind(o)):c&&c.isShow?d(c.prevEpisode,c.onClick):null;function d(e,o){return t.createElement("div",{className:Xy},t.createElement(Bg,{video:e,tooltipHidden:n||!e,tooltipTitle:wn.m_.PrevVideo},t.createElement(ss.r,{size:i,"data-testid":"ui-prev-video",action:"prevPlaylistVideo",tabIndex:u,role:"button","aria-label":"ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐµ Ð²Ð¸Ð´ÐµÐ¾ (ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸Ñˆ Shift+P)",icon:Wf,onClick:o,disabled:!e,tooltipPlacement:"top",tooltipTitle:r,style:{position:"relative"}})))}})),Jy=(0,Jn.PA)((()=>{const{isSmallDesktop:e}=Fp(),n=s_(),r=xw(),i=hm(),{data:o,playback:a,needToHideTooltips:s,isEmbed:l,isFullScreen:u,tabIndex:c}=n,{isLive:d,isTVStream:h,isInteractiveVideo:p}=o,{isPlaying:m,ended:v,isInteractiveEnded:_}=a,f=!(d||H.B.isMobile||e||l||p),{visible:g}=uy.useEndScreenOptional()||{},{visible:b}=Yy.usePauseScreenOptional()||{},y=!h&&!e,E=g||b,w=u?"XXL":"XL";return t.createElement("div",{style:{display:"flex"}},f&&t.createElement(Zy,{previewTooltipHidden:E||s,tooltipTitle:E&&wn.m_.PrevVideo,size:w}),y&&!p&&t.createElement("div",{className:Xy},t.createElement(ss.r,{"data-testid":"ui-prev-10sec",color:"white",icon:_i,onClick:()=>{null==n||n.handleSeek("back")},tooltipTitle:wn.m_.PrevSeek,tooltipPlacement:"top-start",tooltipHidden:s,"aria-label":(0,as.T)("ÐžÑ‚Ð¼Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½Ð° 10 ÑÐµÐºÑƒÐ½Ð´ Ð½Ð°Ð·Ð°Ð´","J"),tabIndex:0,size:w,role:"button"})),t.createElement("div",{className:Xy},t.createElement(us,{id:Dp.v.PLAY_BUTTON,played:m,live:h,color:"white",ended:v||_,onClick:()=>{const e=()=>{null==r||r.resetOnReplay()};m?a.pause():(_&&(e(),a.seek(0),null==i||i.resetInteractiveFragment()),v?e():a.play(),o.isTVStream&&a.goLive())},tooltipPlacement:"top",tooltipHidden:s,tabIndex:c,role:"button",size:w})),y&&!p&&t.createElement("div",{className:Xy},t.createElement(ss.r,{"data-testid":"ui-next-10sec",color:"white",icon:vi,onClick:()=>{v||null==n||n.handleSeek("forward")},"aria-label":(0,as.T)("ÐŸÐµÑ€ÐµÐ¼Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½Ð° 10 ÑÐµÐºÑƒÐ½Ð´ Ð²Ð¿ÐµÑ€ÐµÐ´","L",!0),tooltipTitle:wn.m_.NextSeek,tooltipPlacement:"top",tooltipHidden:s,tabIndex:0,role:"button",size:w})),f&&t.createElement(Qy,{previewTooltipHidden:E||s,tooltipTitle:E&&wn.m_.NextVideo,size:w}))})),$y=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayer10SecBackward",__value:'<path fill="currentColor" fill-rule="evenodd" d="M7.486 4.522a9.6 9.6 0 0 1 5.707-1.068c1.976.238 3.815 1.076 5.227 2.389s2.32 3.027 2.57 4.875c.08.585-.355 1.12-.971 1.195s-1.18-.337-1.26-.922c-.186-1.366-.857-2.641-1.913-3.623S14.405 5.75 12.91 5.57a7.26 7.26 0 0 0-4.31.806 6.6 6.6 0 0 0-1.945 1.581h1.97c.621 0 1.125.478 1.125 1.067 0 .59-.504 1.068-1.125 1.068h-4.5C3.504 10.093 3 9.615 3 9.025V4.453c0-.59.504-1.067 1.125-1.067s1.125.477 1.125 1.067v1.776a9 9 0 0 1 2.236-1.707" clip-rule="evenodd" /><path fill="currentColor" d="M8.32 20.46v-6.02l-1.944.72v-1.376l2.802-.995h.906v7.67z" /><path fill="currentColor" fill-rule="evenodd" d="M11.84 17.813V15.52q0-1.256.736-2.027.741-.777 2.153-.777 1.401 0 2.148.777.747.771.747 2.027v2.293q0 1.255-.753 2.032-.747.771-2.142.771-1.418 0-2.153-.771-.737-.777-.737-2.032m2.043 1.167q-.242-.423-.242-1.074v-2.48q0-.651.242-1.074.241-.422.846-.422t.846.422.242 1.074v2.48q0 .652-.242 1.074-.241.422-.846.422t-.846-.422" clip-rule="evenodd" />'})),eE=(0,t.forwardRef)($y),tE=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayer10SecForward",__value:'<path fill="currentColor" fill-rule="evenodd" d="M16.514 4.522a9.6 9.6 0 0 0-5.707-1.068C8.83 3.692 6.992 4.53 5.58 5.843S3.26 8.87 3.01 10.718c-.08.585.355 1.12.971 1.195s1.18-.337 1.26-.922c.186-1.366.856-2.641 1.913-3.623C8.212 6.385 9.595 5.75 11.09 5.57a7.26 7.26 0 0 1 4.31.806 6.6 6.6 0 0 1 1.945 1.581h-1.97c-.621 0-1.125.478-1.125 1.067 0 .59.504 1.068 1.125 1.068h4.5c.621 0 1.125-.478 1.125-1.068V4.453c0-.59-.504-1.067-1.125-1.067s-1.125.477-1.125 1.067v1.776a9 9 0 0 0-2.236-1.707" clip-rule="evenodd" /><path fill="currentColor" d="M8.32 20.46v-6.02l-1.944.72v-1.376l2.802-.995h.906v7.67z" /><path fill="currentColor" fill-rule="evenodd" d="M11.84 17.813V15.52q0-1.256.736-2.027.741-.777 2.153-.777 1.401 0 2.148.777.747.771.747 2.027v2.293q0 1.255-.753 2.032-.747.771-2.142.771-1.418 0-2.153-.771-.737-.777-.737-2.032m2.043 1.167q-.242-.423-.242-1.074v-2.48q0-.651.242-1.074.241-.422.846-.422t.846.422.242 1.074v2.48q0 .652-.242 1.074-.241.422-.846.422t-.846-.422" clip-rule="evenodd" />'})),nE=(0,t.forwardRef)(tE),rE="buttons-block-module__wrapper___c7lFz",iE=(0,Jn.PA)((()=>{const e=s_(),n=xw(),r=hm(),{data:i,playback:o,needToHideTooltips:a,isShowSeekBtns:s,iconSizeValue:l,isShowPlaylistBtn:u,tabIndex:c}=e,{isTVStream:d,isInteractiveVideo:h}=i,{isPlaying:p,ended:m,isInteractiveEnded:v}=o,_=u&&!h,{visible:f}=uy.useEndScreenOptional()||{},{visible:g}=Yy.usePauseScreenOptional()||{},b=f||g;return t.createElement("div",{className:rE},_&&t.createElement(pt.PrevButtonDesktop,{previewTooltipHidden:b||a,size:l}),s&&!h&&t.createElement(Uh.S,{"data-testid":"ui-prev-10sec",color:"white",onClick:()=>{null==e||e.handleSeek("back")},tooltipTitle:wn.m_.PrevSeek,tooltipPlacement:"top-start",tooltipHidden:a,"aria-label":(0,as.T)("ÐŸÐµÑ€ÐµÐ¼Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½Ð° 10 ÑÐµÐºÑƒÐ½Ð´ Ð½Ð°Ð·Ð°Ð´","J",!0),tabIndex:c,size:l,role:"button"},t.createElement(eE,null)),t.createElement(pg,{id:Dp.v.PLAY_BUTTON,played:p,live:d,color:"white",ended:m||v,onClick:()=>{const e=()=>{null==n||n.resetOnReplay()};p?o.pause():(v&&(e(),o.seek(0),null==r||r.resetInteractiveFragment()),m?e():o.play(),i.isTVStream&&o.goLive())},tooltipHidden:a,tabIndex:c,role:"button",size:l}),s&&!h&&t.createElement(Uh.S,{"data-testid":"ui-next-10sec",color:"white",onClick:()=>{m||null==e||e.handleSeek("forward")},"aria-label":(0,as.T)("ÐŸÐµÑ€ÐµÐ¼Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½Ð° 10 ÑÐµÐºÑƒÐ½Ð´ Ð²Ð¿ÐµÑ€Ñ‘Ð´","L",!0),tooltipTitle:wn.m_.NextSeek,tooltipHidden:a,tabIndex:c,role:"button",size:l},t.createElement(nE,null)),_&&t.createElement(pt.NextButtonDesktop,{previewTooltipHidden:b||a,size:l}))}));var oE=a(4136);const aE=()=>t.createElement("svg",{width:"103",height:"24",viewBox:"0 0 103 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M11.432 6.2207H0V18.9292H3.1819V14.7947H9.27894L12.0608 18.9292H15.6237L12.5561 14.7756C13.5088 14.6232 14.1947 14.2612 14.6139 13.6896C15.033 13.118 15.2426 12.2034 15.2426 10.984V10.0314C15.2426 9.30733 15.1664 8.73576 15.033 8.29749C14.8996 7.85928 14.671 7.47821 14.3471 7.13526C14.0041 6.81135 13.6231 6.58271 13.1659 6.43029C12.7086 6.29691 12.1369 6.2207 11.432 6.2207ZM10.9176 11.9938H3.1819V9.02151H10.9176C11.3558 9.02151 11.6606 9.09774 11.8131 9.2311C11.9654 9.36446 12.0608 9.61217 12.0608 9.97421V11.0412C12.0608 11.4223 11.9654 11.67 11.8131 11.8033C11.6606 11.9367 11.3558 11.9938 10.9176 11.9938Z",fill:"white"}),t.createElement("path",{d:"M19.9241 15.1757V6.2207H16.7422V15.0995C16.7422 15.8235 16.7993 16.4142 16.9327 16.8524C17.0661 17.3097 17.2947 17.6908 17.6377 18.0147C17.9616 18.3576 18.3427 18.5863 18.7999 18.7196C19.2572 18.8721 19.8288 18.9292 20.5529 18.9292H28.1742C28.8791 18.9292 29.4508 18.8721 29.908 18.7196C30.3653 18.5863 30.7464 18.3576 31.0893 18.0147C31.4132 17.6908 31.6419 17.3097 31.7752 16.8524C31.9086 16.4142 31.9848 15.8235 31.9848 15.0995V6.2207H28.8029V15.1757C28.8029 15.5568 28.7076 15.8045 28.5553 15.9379C28.4028 16.0712 28.098 16.1284 27.6598 16.1284H21.0673C20.61 16.1284 20.3052 16.0712 20.1527 15.9379C20.0003 15.8045 19.9241 15.5568 19.9241 15.1757Z",fill:"white"}),t.createElement("path",{d:"M42.7501 18.9292V9.02151H48.9044V6.2207H33.4141V9.02151H39.5682V18.9292H42.7501Z",fill:"white"}),t.createElement("path",{d:"M53.51 15.1757V6.2207H50.3281V15.0995C50.3281 15.8235 50.3853 16.4142 50.5187 16.8524C50.6521 17.3097 50.8807 17.6908 51.2236 18.0147C51.5476 18.3576 51.9286 18.5863 52.3859 18.7196C52.8432 18.8721 53.4148 18.9292 54.1388 18.9292H61.7601C62.4651 18.9292 63.0367 18.8721 63.494 18.7196C63.9513 18.5863 64.3323 18.3576 64.6753 18.0147C64.9992 17.6908 65.2278 17.3097 65.3612 16.8524C65.4946 16.4142 65.5708 15.8235 65.5708 15.0995V6.2207H62.3889V15.1757C62.3889 15.5568 62.2936 15.8045 62.1412 15.9379C61.9887 16.0712 61.6839 16.1284 61.2457 16.1284H54.6532C54.1959 16.1284 53.8911 16.0712 53.7386 15.9379C53.5863 15.8045 53.51 15.5568 53.51 15.1757Z",fill:"white"}),t.createElement("path",{d:"M81.6966 9.91701V9.66937C81.6966 8.48806 81.3918 7.61159 80.7816 7.05905C80.172 6.5065 79.2004 6.2207 77.905 6.2207H67.1016V18.9292H78.5336C79.8291 18.9292 80.8006 18.6625 81.4109 18.1099C82.0204 17.5574 82.3252 16.6809 82.3252 15.4997V15.2329C82.3252 14.0516 82.0204 13.2133 81.4109 12.7179C81.2963 12.6416 81.1818 12.5845 81.0679 12.5274C80.9534 12.4701 80.7816 12.394 80.5722 12.3178C80.9916 12.0891 81.2772 11.7842 81.4484 11.4413C81.6011 11.0983 81.6966 10.5839 81.6966 9.91701ZM70.2836 11.3079V9.02151H77.3902C77.8477 9.02151 78.1525 9.09774 78.3052 9.2311C78.4572 9.36446 78.5336 9.61217 78.5336 9.97421V10.3553C78.5336 10.7364 78.4572 10.984 78.3052 11.1174C78.1525 11.2508 77.8477 11.3079 77.3902 11.3079H70.2836ZM70.2836 16.1284V13.842H78.0379C78.4763 13.842 78.7811 13.9182 78.9338 14.0516C79.0859 14.185 79.1813 14.4327 79.1813 14.7947V15.1757C79.1813 15.5568 79.0859 15.8045 78.9338 15.9379C78.7811 16.0712 78.4763 16.1284 78.0379 16.1284H70.2836Z",fill:"white"}),t.createElement("path",{d:"M86.643 9.02151H97.0462V6.2207H83.4609V18.9292H97.5603V16.1284H86.643V13.9754H96.798L97.0462 11.1746H86.643V9.02151Z",fill:"white"}),t.createElement("path",{d:"M100.047 5.45287C101.276 5.45287 102.273 4.45606 102.273 3.22644C102.273 1.99681 101.276 1 100.047 1C98.8171 1 97.8203 1.99681 97.8203 3.22644C97.8203 4.45606 98.8171 5.45287 100.047 5.45287Z",fill:"#F41240"})),sE=()=>t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M19.582 5.996a1.418 1.418 0 1 0 0-2.836 1.418 1.418 0 0 0 0 2.836Z",fill:"#F41240"}),t.createElement("path",{d:"M14.688 5.998H3.273V18.76H6.45v-4.152h6.088l2.777 4.152h3.558l-3.063-4.172c.951-.153 1.636-.516 2.055-1.09.418-.574.627-1.493.627-2.718v-.956c0-.727-.076-1.302-.209-1.742a2.913 2.913 0 0 0-.685-1.167 3.094 3.094 0 0 0-1.18-.708c-.456-.134-1.027-.21-1.73-.21Zm-.514 5.798H6.45V8.81h7.724c.437 0 .742.077.894.211.152.134.247.383.247.746v1.072c0 .383-.095.631-.247.765s-.457.192-.894.192Z",fill:"#E1E5EA"})),lE="logo-control-button-module__logo___MvUVG",uE="logo-control-button-module__small___OPP32",cE="logo-control-button-module__big___ChnCr",dE="logo-control-button-module__sizeXL___DK4ze",hE="logo-control-button-module__sizeXXL___x0Ap3",pE=(0,Jn.PA)((e=>{let{onClick:n,isMobile:r=!1,size:i}=e;const{generateTrackingLink:o}=nm(),{size:a}=(0,$a.a)(),{pauseVideo:s}=(0,pt.useControls)(),l=(null==a?void 0:a.width)||0,u=!r&&l>=570,c=e=>{("click"===(null==e?void 0:e.type)||"auxclick"===(null==e?void 0:e.type)&&1===(null==e?void 0:e.button)||"contextmenu"===(null==e?void 0:e.type)&&2===(null==e?void 0:e.button))&&(null==e||e.preventDefault(),n&&n(),window.open(e.currentTarget.href),s())},d=er()(lE,{[cE]:u,[uE]:!u,[dE]:"XL"===i,[hE]:"XXL"===i}),h=t.createElement("a",{tabIndex:0,role:"button","aria-label":"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE",href:o({campaign:"logo"}),target:"_blank",className:d,rel:"noreferrer",onClick:c,onAuxClick:c,onContextMenu:c},u?t.createElement(aE,null):t.createElement(sE,null));return r?h:t.createElement(oE._,{title:wn.m_.WatchOnRUTUBE,placement:"top",offset:24,zIndex:wn.m_.ControlsTooltipZIndex},h)})),mE=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerRutubeLink",__value:'<path fill="currentColor" d="M20.843 4.817a1.658 1.658 0 1 0 0-3.317 1.658 1.658 0 0 0 0 3.317m-5.395-.28H2.099v14.926h3.716v-4.856h7.119l3.248 4.856h4.16l-3.582-4.878q1.668-.27 2.403-1.276c.49-.671.734-1.745.734-3.177v-1.12c0-.85-.089-1.521-.245-2.036a3.4 3.4 0 0 0-.8-1.365 3.6 3.6 0 0 0-1.38-.828c-.534-.156-1.201-.246-2.024-.246m-.601 6.78H5.815v-3.49h9.032c.512 0 .868.09 1.046.246.177.156.289.447.289.872V10.2c0 .447-.111.738-.29.895-.177.156-.533.224-1.045.224" />'})),vE=(0,t.forwardRef)(mE),_E="logo-control-button-module__logo___ClqY8",fE="logo-control-button-module__S___cfpAr",gE="logo-control-button-module__M___CTs9S",bE="logo-control-button-module__L___IBUFe",yE=(0,Jn.PA)((e=>{const{generateTrackingLink:n}=nm(),{pauseVideo:r,onClickLogoStat:i,iconSizeValue:o,isShowLogoButton:a}=(0,pt.useControls)();if(!a)return;const s=e=>{("click"===(null==e?void 0:e.type)||"auxclick"===(null==e?void 0:e.type)&&1===(null==e?void 0:e.button)||"contextmenu"===(null==e?void 0:e.type)&&2===(null==e?void 0:e.button))&&(null==e||e.preventDefault(),i(),window.open(e.currentTarget.href),r())},l=er()(_E,{[fE]:"S"===o,[gE]:"M"===o,[bE]:"L"===o}),u=t.createElement("a",{tabIndex:0,role:"button","aria-label":"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE",href:n({campaign:"logo"}),target:"_blank",className:l,rel:"noreferrer",onClick:s,onAuxClick:s,onContextMenu:s},t.createElement(vE,null));return t.createElement(oE._,{title:wn.m_.WatchOnRUTUBE,placement:"top",offset:24,zIndex:wn.m_.ControlsTooltipZIndex},u)}));a(6417);const EE="cue-points-module__cueMarkWrapper___ifPdv",wE="cue-points-module__hovered___SS0Kk",SE="cue-points-module__isMobile___tmTDy",AE="cue-points-module__cueMarkInner___hewsp",CE="cue-points-module__cueMark___VLOHc",kE=e=>{let{time:n,duration:r,isHovered:i}=e;const o=n/r*100;return t.createElement("div",{className:er()(EE,{[wE]:i,[SE]:H.B.isMobile})},t.createElement("div",{className:AE,style:{WebkitTransform:"translateX(".concat(o,"%)"),transform:"translateX(".concat(o,"%)")}},t.createElement("div",{className:CE})))},PE="area-module__segment___VVzNy",IE=e=>{let{segmentStyles:n}=e;return t.createElement("div",{className:PE,style:n})},TE=e=>{let{manifestUrl:t,previewUrl:n,time:r}=e;const i=t.includes("uma.media"),o=i?1e4*Math.floor(r/10):r;return i?(e=>{let{previewUrl:t,time:n}=e;return"".concat(t,"/thumb-").concat(n,"-h135.jpg")})({previewUrl:n,time:o}):no({previewUrl:n,time:o})},xE="area-bar-preview-module__wrapper___mb7ZZ",RE="area-bar-preview-module__mobile___VWX2_",LE="area-bar-preview-module__img___h9ckK",OE="area-bar-preview-module__chapterName___r6u1N",NE="area-bar-preview-module__time___WqysR";var ME=a(3707);const DE=e=>{var n;let{barRef:r,offset:i}=e;const[o,a]=(0,t.useState)(0),s=(0,t.useRef)(null),{playback:l,chapters:u,previewWidth:c}=(0,pt.useControls)(),{isLive:d}=l,{previewUrl:h,manifestUrl:p,time:m}=Cp(),v=null!=m?m:0,_=null===(n=(0,pt.getActiveChapter)(u,m))||void 0===n?void 0:n.name,f=H.B.isMobile,{size:g}=(0,$a.a)();return(0,t.useEffect)((()=>{var e;const t=null===(e=s.current)||void 0===e?void 0:e.clientWidth,n=r.current;if(!t||!n||!g)return;const o=n.offsetWidth,l=n.offsetLeft,u=l+o,c=e=>t/2-e,d=o*i/ME.W1,h=c(l),p=o-c(g.width-u),m=Math.min(Math.max(d,h),p);a(m)}),[r,f,i,g]),t.createElement("div",{className:er()(xE,{[RE]:f}),style:{left:o,width:f?"unset":c},ref:s},o>0&&v>=0&&t.createElement(t.Fragment,null,!h||d||f?null:t.createElement("img",{alt:"ÐŸÑ€ÐµÐ²ÑŒÑŽ",src:TE({manifestUrl:p,previewUrl:h,time:v}),className:LE}),u.length&&_&&!f?t.createElement("div",{className:OE},_):null,t.createElement("div",{className:er()(NE,{[RE]:f})},(0,__.a3)({value:v}))))},BE="areas-bar-with-preview-module__areas___jNd8K",FE="areas-bar-with-preview-module__areaItem___fQCnD",HE="areas-bar-with-preview-module__isMobile___JHDY0",VE="areas-bar-with-preview-module__thumb___o7GPo",UE=(0,Jn.PA)((e=>{let{handleMouseEnter:n,handleMouseLeave:r,timelineWrapperRef:i}=e;const{playback:o,progressBarColor:a,areas:s,tempTime:l,data:u,wrapperRef:c,setIsProgressBarClicked:d,setTempTime:h,counterHelper:p}=(0,pt.useControls)(),m=Cp(),{isShowPreview:v}=m,{size:_}=(0,$a.a)(),{duration:f,isTvStream:g,tvSchedule:b,progress:y,isOutdated:E}=o,{isLive:w,isDVR:S}=u,[A,C]=(0,t.useState)(0),k=(0,t.useRef)(null),P=(0,t.useRef)(!1),I=H.B.isMobile,T=!(w&&!S),x=m.previewPosition,R=null!==x,L=(0,t.useMemo)((()=>{let e=0;return g?ME.W1:(e=!w||E||l?null!==l?l/f*ME.W1:y:ME.W1,Math.min(e,ME.W1))}),[l,f,y,w,E,g]),O=(0,t.useMemo)((()=>{var e,t;return null!==(e=(null==k||null===(t=k.current)||void 0===t?void 0:t.clientWidth)||(null==_?void 0:_.width))&&void 0!==e?e:0}),[null==k?void 0:k.current,null==_?void 0:_.width]),N=(0,t.useCallback)((e=>{P.current=e,d(e)}),[d]),M=(0,t.useCallback)((e=>{if(e.preventDefault(),!P.current)return;const t=(0,q_.O)(e,k);C((e=>(m.previewPosition=e?t:null,++e)));const n=Math.floor(f*t*10)/1e3;h(n)}),[f,m,h]),D=(0,t.useCallback)((e=>{var t;e.preventDefault(),e.stopPropagation(),N(!0),M(e.nativeEvent),null===(t=document)||void 0===t||t.addEventListener("mousemove",M)}),[M,N]),B=(0,t.useCallback)((()=>{var e;C(0),g||(P.current&&"number"==typeof l&&(o.seek(l),o.wasStarted&&h(null),null==p||p.get("mainContentPlaybackSeek")()),N(!1),m.previewPosition=null,null===(e=document)||void 0===e||e.removeEventListener("mousemove",M),null==c||c.removeEventListener("touchmove",M))}),[g,l,N,m,M,c,o,p,h]),F=(0,t.useCallback)((e=>{g||(H.B.isMobile||e.target.id!==String(Dp.v.RAICHU_AREAS_BAR_PREVIEW_TIME)?m.previewPosition=(0,q_.O)(e.nativeEvent,k,"horizontal"):m.previewPosition=null)}),[g,m,k]),V=(0,t.useCallback)((()=>{P.current||(m.previewPosition=null)}),[m]),U=(0,t.useCallback)((e=>1===s.length?"100%":"".concat(O/ME.W1*e,"px")),[s.length,O]);return(0,t.useEffect)((()=>{if(!i.current)return;const e=i.current,t=e=>{e.stopPropagation(),N(!0),M(e),C(0),null==c||c.addEventListener("touchmove",M)};return e.addEventListener("touchstart",t),e.addEventListener("touchend",B),()=>{e.removeEventListener("touchstart",t),e.removeEventListener("touchend",B)}}),[B,N,M,i,c]),(0,t.useEffect)((()=>{const e=null==k?void 0:k.current;if(e)return e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",r),()=>{e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",r)}}),[n,r,k]),(0,t.useEffect)((()=>{var e;return null===(e=document)||void 0===e||e.addEventListener("mouseup",B),()=>{var e;null===(e=document)||void 0===e||e.removeEventListener("mouseup",B)}}),[B]),t.createElement(t.Fragment,null,v&&!!x&&t.createElement(DE,{barRef:i,offset:x}),t.createElement("div",{className:BE,ref:k,role:"slider","aria-label":"ÐŸÐ¾Ð»Ð·ÑƒÐ½Ð¾Ðº Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ ÑˆÐºÐ°Ð»Ñ‹","aria-valuemin":0,"data-testid":"ui-progress-progressBar","aria-valuemax":Math.floor(f),"aria-valuenow":Math.floor(y*f/ME.W1),"aria-valuetext":"".concat((0,__.fU)(y*f/ME.W1)," (Ð¾Ð±Ñ‰Ð°Ñ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ").concat((0,__.fU)(f),")"),onMouseOut:I?void 0:V,onMouseDown:I?void 0:D,onMouseMove:I?void 0:F,onMouseEnter:I?void 0:F,onMouseUp:B},(0,t.useMemo)((()=>s.map((e=>t.createElement("div",{key:"".concat(String(e.width)+e.name+String(e.start)),className:er()(FE,{[HE]:H.B.isMobile}),style:{width:U(e.width),display:e.width?void 0:"none"}},t.createElement(IE,{segmentStyles:{"--area-transform":"100%","--area-background":"#80808080",display:1===e.buffered?"none":"block"}}),t.createElement(IE,{segmentStyles:{"--area-transform":"".concat(e.buffered*ME.W1,"%"),"--area-background":"#D9D9D9",display:1===(g&&!b?1:e.progress)?"none":"block"}}),t.createElement(IE,{segmentStyles:{"--area-transform":"".concat((g&&!b?1:e.progress)*ME.W1,"%"),"--area-background":a}}))))),[s,a,U,g,b])),T&&!g&&R&&t.createElement("div",{className:VE,style:{"--progress-bar-thumb-left-shift":"calc(".concat(L,"% - 10px)")}}))})),jE="timeline-elements-module__wrapper___X7YtG";var WE=a(2409);const zE=()=>{var e,n,r,i,o,a,s;const{playback:l}=(0,WE._)(),{duration:u}=l,c=(0,fr.p5)().resolveOptional("ICuePointsPlugin"),[d,h]=(0,t.useState)(!1),p=(null==c||null===(e=c.advert)||void 0===e?void 0:e.cuePoints)||[],m=(0,t.useRef)(null),v=(0,t.useCallback)((()=>{h(!0)}),[]),_=(0,t.useCallback)((()=>{h(!1)}),[]);return t.createElement("div",{tabIndex:0,className:er()(jE),ref:m},t.createElement(UE,{handleMouseEnter:v,handleMouseLeave:_,timelineWrapperRef:m}),"number"==typeof(null==c||null===(n=c.intro)||void 0===n?void 0:n.start)&&t.createElement(kE,{time:null==c||null===(r=c.intro)||void 0===r?void 0:r.start,duration:u,isHovered:d}),"number"==typeof(null==c||null===(i=c.intro)||void 0===i?void 0:i.end)&&t.createElement(kE,{time:null==c||null===(o=c.intro)||void 0===o?void 0:o.end,duration:u,isHovered:d}),(null==c||null===(a=c.caption)||void 0===a?void 0:a.start)&&t.createElement(kE,{time:null==c||null===(s=c.caption)||void 0===s?void 0:s.start,duration:u,isHovered:d}),p.map((e=>t.createElement(kE,{key:e,time:e,duration:u,isHovered:d}))))},GE="time-block-module__timeFormat___yWzcO",qE="time-block-module__timeFormatXL___LHqhV",KE="time-block-module__timeFormatL___Tjzga",YE=(0,Jn.PA)((e=>{let{isShowDynamicValue:n}=e;const{playback:r,tempTime:i,playerSizeValue:o}=(0,pt.useControls)(),{getDataAttribute:a}=(0,wi.f)(),{duration:s,currentTime:l,isLive:u}=r,c=i||l,{formattedCurrentTime:d,formattedDuration:h}=((e,t)=>{const n=e=>{const t=e>=0?e:0,n=[1,60,3600];let r=Math.floor(t);const i=[0,0,0];for(let e=n.length-1;e>=0;e--)i[e]=Math.floor(r/n[e]),r%=n[e];return i},r=e=>e.reduceRight(((e,t)=>(e.push((e=>e>9?e.toString():"0".concat(e))(t)),e)),[]).join(":"),i=n(e),o=n(t);return 0===o[2]&&(o.pop(),i.pop()),{formattedCurrentTime:r(i),formattedDuration:r(o)}})(c,s);if(!u)return t.createElement("div",(0,ai.A)({tabIndex:0,className:er()(GE,{[qE]:o===zi.K0.DXXL||o===zi.K0.DXL,[KE]:o===zi.K0.DL||o===zi.K0.DM||o===zi.K0.DS||o===zi.K0.DXS})},a(n?Si.R.CURRENT_TIME:Si.R.DURATION_TIME)),n?d:h)})),XE="progress-bar-module__progressBarWrapper___eqZSw",QE=(0,Jn.PA)((()=>t.createElement("div",{className:XE,tabIndex:0},!H.B.isMobile&&t.createElement(YE,{isShowDynamicValue:!0}),t.createElement(zE,null),!H.B.isMobile&&t.createElement(YE,{isShowDynamicValue:!1}))));var ZE;let JE,$E,ew;class tw extends pt.ControlsPlugin{static get InputControls(){return{progressBarComponent:pt.ControlsPlugin.IsNewControls?QE:hf,mobileButtonsBlockComponent:pt.ControlsPlugin.IsNewControls?Tg:rg,buttonsBlockComponent:pt.ControlsPlugin.IsNewControls?iE:Jy,liveBadgeComponent:pt.ControlsPlugin.IsNewControls?M_:v_,tvTimeBlockComponent:pt.ControlsPlugin.IsNewControls?void 0:j_}}constructor(e,t,n,r,i,o,a,s,l,u,c,d,h){super(e,t,n,r,i,o,a,s,l,u,c),this.counterHelper=void JE(this),this._isEmbedResolvable=s,this.previewPlugin=c,this.__posterPlugin=d,this._cinemaMode=h,this.counterHelper=a&&a instanceof ol?a.counterHelper:void 0}initShowPoster(){return(0,P.mJ)((()=>{var e,t;return(null===(e=this.__posterPlugin)||void 0===e?void 0:e.isPosterVisible)&&(null===(t=this.__posterPlugin)||void 0===t?void 0:t.isPlayButtonVisible)}),(e=>this.isTVPosterVisible=Boolean(this.isEmbed&&e)))}hideAdvertControls(){return(0,P.mJ)((()=>this.isControlsForcedHidden),(e=>{e&&this.advert&&(this.advert.isControlsHidden=!0)}),{fireImmediately:!0})}observePlayerFormatChange(){return(0,P.mJ)((()=>{var e;return{isCinema:null===(e=this._cinemaMode)||void 0===e?void 0:e.isCinema,isFullScreen:this.isFullScreen,isHideControls:this.isHideControls}}),(()=>this.hideTooltips=!0))}getIsShowProgressBar(){return!this.data.isInteractiveVideo}}ZE=tw,({e:[JE],c:[ew,$E]}=(0,k.A)(ZE,[(0,I.k_)({implement:"IControlsPlugin",ctor_args:["IPlayback","IDataPlugin","IFullscreenPlugin","IPlayerSizePlugin","IAppearancePlugin",{implement:"IEndScreenPlugin",optional:!0},"IStatisticState","IsEmbed",{implement:"IAdvertPlugin",optional:!0},"IQualitiesPlugin",{implement:"IPreviewPlugin",optional:!0},{implement:"IPosterPlugin",optional:!0},{implement:"CinemaModePlugin",optional:!0}]})],[[(0,I.o7)(),2,"initShowPoster"],[(0,I.o7)(),2,"hideAdvertControls"],[(0,I.o7)(),2,"observePlayerFormatChange"]],0,void 0,pt.ControlsPlugin)),$E();const nw=()=>{const{isShowControls:e,hideControls:n,showControls:r}=s_(),i=Fp(),{isFullScreen:o,isTouchDevice:a,playback:{autoPlayWithMute:s,handleMuted:l}}=i;let u=e?"Ð¡ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð»ÐµÐµÑ€Ð¾Ð¼":"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿Ð°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð»ÐµÐµÑ€Ð¾Ð¼";u+=o?" Ð² Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ":"";const c=()=>{"Enabled"===s&&l(),e?n():(r(),requestAnimationFrame((()=>{return e=Dp.v.PLAY_BUTTON,void(null===(t=document.getElementById(e))||void 0===t||t.focus({preventScroll:!0}));var e,t})))};return t.createElement("button",{className:a_,tabIndex:0,onClick:e=>{(a||e.buttons>0)&&c()},onKeyDown:e=>{["Enter","Space"].includes(e.key)&&(c(),e.stopPropagation(),e.preventDefault())}},u)},rw="loader-template-module__wrapper___diBGg",iw="loader-template-module__portraitNoTouchScroll___zPpe6",ow="loader-template-module__redesigned___sBi_c",aw="loader-template-module__wrapperLoaded___S_IOM",sw="loader-template-module__wrapperNoControls___qKqqO",lw="loader-template-module__fullScreen___wlfC3",uw="loader-template-module__posterWrapper___eyvF7",cw=()=>(0,fr.ei)("IOnboardingPlugin"),dw=(0,Jn.PA)((e=>{let{_allowVerticalTouchScroll:n,children:r,mount:i}=e;const o=(0,pt.useControls)(),{isPlaying:a}=rs(),s=Fp(),{data:u,showPoster:c,playback:d,isFullScreen:h,backgroundStyles:p,playerCornersStyle:m,isShowStartScreen:v}=s,{isPlayerReady:_,isPlaying:f,playWithHandlePermissions:g}=d,{isShowOnboarding:b}=cw()||{},y=e_(),E=(0,$a.a)(),w=i_(),{visible:S}=uy.useEndScreenOptional()||{},{handlers:A}=t_({preventEvents:S});if((c||!_&&u.poster)&&!v)return t.createElement("div",{className:er()([rw,uw]),style:{backgroundImage:"url(".concat(u.poster,")")}},_&&t.createElement("div",{style:{width:"48px",height:"48px"},onClick:()=>g()},t.createElement(hi,null)));if(!_)return t.createElement("div",{className:rw,style:{display:"flex",alignItems:"center",justifyContent:"center"}},t.createElement(jo,null));const C=s.isTouchDevice?{}:{onMouseMove:()=>{y.isLongPress||a||S||(o.showControls(),f&&""===o.activePanel&&o.setHideControlsTimer())},onMouseLeave:()=>{!f||o.isProgressBarClicked||b||o.hideControls()}};return t.createElement("div",(0,ai.A)({className:er()(rw,aw,{[sw]:!o.isShowControls,[lw]:h,[iw]:!n,[ow]:pt.ControlsPlugin.IsNewControls}),style:(0,l.A)((0,l.A)({display:i?"flex":"none",justifyContent:"center"},m),p),ref:e=>{e&&(s.wrapperRef=e,E.wrapperRef=e,w.node=e)},onClick:()=>{s.isUserInteracted=!0},onClickCapture:s.clearAcitivitiesTrigger,onMouseDown:A.onMouseDown,id:Dp.v.RAICHU_CONTAINER_WITH_PLAYER,"data-testid":"layout-loader"},C),!a&&t.createElement(nw,null),r,s.wrapperRef&&t.createElement(o_,{isVisible:!a,container:s.wrapperRef}))})),hw=()=>(0,fr.p5)().resolve("IPlayerConfigPlugin"),pw=(0,Jn.PA)((e=>{let{controlsComponent:n,controlsInputComponents:r,playbackComponent:i,endScreenComponent:o,settingsComponent:a,captionsComponent:s,pauseScreenComponent:u,seasonsFullScreenComponent:c,stubComponent:d,infoLayerComponent:h,contextMenuComponent:p,statsForNerdsComponent:m,advertComponent:v,removeAdsButtonComponent:_,notificationsComponent:f,channelSubscriptionComponent:g,sharePopupComponent:b,shareButtonComponent:y,pictureInPictureButtonComponent:E,pictureInPictureOverlayComponent:w,replayWidgetComponent:S,posterComponent:A,video360Component:C,activitiesComponent:k,chaptersPopupComponent:P,communicationBannerComponent:I,counterHelper:T,snapshotButton:x,children:R}=e;const[L,O]=(0,t.useState)(!1),{isTouchDevice:N,isVideo360:M,isControlsForcedHidden:D,playback:{isFrameless:B,userInteractionDisabled:F},isEmbed:V,isChannelPage:U,isPreview:j}=Fp(),W=pm(),{isShowPreview:z}=Cp(),{hiddenItems:G}=br()||{},q=hw().get("chaptersComponent"),K=(0,t.useCallback)((()=>{null==T||T.get("mainStatusUnload")()}),[T]);return(0,t.useEffect)((()=>(window.addEventListener("beforeunload",K),()=>{window.removeEventListener("beforeunload",K)})),[T,K]),(0,t.useEffect)((()=>{O(!0)}),[]),t.createElement(d,null,t.createElement(Ap.bJ,null,t.createElement(dw,{_allowVerticalTouchScroll:V||U||j,mount:L},t.createElement(Bv,{contextMenuComponent:pt.ControlsPlugin.lastStageAvailable&&!H.B.isMobile?p:void 0},w&&t.createElement(w,null),A&&t.createElement(A,null),b&&t.createElement(b,null),!D&&!(null!==pt.ControlsPlugin&&void 0!==pt.ControlsPlugin&&pt.ControlsPlugin.IsNewControls)&&t.createElement(_m,{pipControl:E},t.createElement(G_,{shareButton:y,settingsButton:a}),x&&t.createElement(x,null)),t.createElement(r_,{frameless:B},z&&H.B.isMobile&&t.createElement(Bp,null),M&&C&&t.createElement(C,null),t.createElement(i,{userInteractionDisabled:F})),I&&t.createElement(I,null),s&&t.createElement(s,null),o&&!W&&t.createElement(o,null),n&&!D&&t.createElement(n,{components:(0,l.A)((0,l.A)({},r),{},{settingsComponent:a,pictureInPictureButtonComponent:E,snapshotButtonComponent:x,shareButtonComponent:y,headerComponent:Ym})}),S&&!D&&!W&&t.createElement(S,null),u&&!N&&!D&&!W&&t.createElement(u,null),c&&t.createElement(c,null),t.createElement(f,null),v&&t.createElement(v,{removeAdsButton:_}),t.createElement(h,null),!pt.ControlsPlugin.lastStageAvailable&&t.createElement(p,{hiddenItems:G||void 0}),t.createElement(m,null),k&&t.createElement(k,null),g&&t.createElement(g,null),R),q&&P&&t.createElement(P,{Component:q}))))}));class mw extends I.j8{constructor(){super(),this._wrapperRef=P.sH.box(null),(0,P.Gn)(this,{wrapperRef:P.EW})}get wrapperRef(){return this._wrapperRef.get()}set wrapperRef(e){this._wrapperRef.set(e)}}var vw;let _w,fw,gw;vw=class extends mw{constructor(e,t,n,r,i,o,a,s,l,u,c,d,h,p,m,v,_,f){var g,b,y,E;super(),this._isTouchDevice=(_w(this),P.sH.box(!1)),this._isTablet=P.sH.box(!1),this._isSmallDesktop=P.sH.box(!1),this._onScreen=P.sH.box(!1),this._hasBackButton=P.sH.box(!1),this._isDisclaimersVisible=P.sH.box(!0),this._showPoster=P.sH.box(!1),this._isUserInteracted=P.sH.box(!1),this._wideMode=P.sH.box(!1),this._isPlayPauseSwitchingAvailable=P.sH.box(!0),this._headerHeight=P.sH.box(0),this._preventOnClickAction=P.sH.box(!1),this._isEmbed=void 0,this._isChannelPage=void 0,this._isPreview=void 0,this._counterHelper=void 0,this._data=e,this._playback=t,this._pip=n,this._playerSize=r,this._appearance=i,this._fullscreen=o,this._channelSubscription=a,this._advertPlugin=s,this._preview=l,this.saveModePlugin=d,this._cinemaMode=h,this._controlsPlugin=p,this.trackingLinks=m,this.activities=f,this.isTouchDevice=H.B.isMobile,this.isSmallDesktop=!(null===(g=this._playerSize)||void 0===g||null===(g=g.size)||void 0===g||!g.width)&&(null===(b=this._playerSize.size)||void 0===b?void 0:b.width)<=480,this.isTablet=/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(window.navigator.userAgent),this._isEmbed=c.value,this._isChannelPage=null!==(y=null==v?void 0:v.value)&&void 0!==y&&y,this._isPreview=null!==(E=null==_?void 0:_.value)&&void 0!==E&&E,this._counterHelper=u&&u instanceof ol?u.counterHelper:void 0,"true"===fo.getItem("wideMode")?this.wideMode=!0:this.wideMode=!1,(0,P.Gn)(this,{data:P.EW,playerMode:P.EW,isFullScreen:P.EW,isCinema:P.EW,isMini:P.EW,isTouchDevice:P.EW,isTablet:P.EW,isSmallDesktop:P.EW,isShowHeader:P.EW,isDisclaimersVisible:P.EW,isShowDisclaimers:P.EW,showPoster:P.EW,isUserInteracted:P.EW,wideMode:P.EW,isPlayPauseSwitchingAvailable:P.EW,playerCornersStyle:P.EW,onScreen:P.EW,hasBackButton:P.EW,isHeaderVisible:P.EW,isTitleVisible:P.EW,isTopControlsVisible:P.EW,headerHeight:P.EW,preventOnClickAction:P.EW}),this.pause=this.pause.bind(this),this.handleFullscreen=this.handleFullscreen.bind(this)}get wrapperRef(){return this._wrapperRef.get()}set wrapperRef(e){this._wrapperRef.set(e),this._fullscreen.screenfullElement=e}get wideMode(){return this._wideMode.get()}set wideMode(e){this._wideMode.set(e)}get playerMode(){var e,t;return this._fullscreen.isFullscreen?"fullscreen":null!==(e=this._pip)&&void 0!==e&&e.isInPiP?"mini":null!==(t=this._cinemaMode)&&void 0!==t&&t.isCinema?"cinema":"default"}get isFullScreen(){return Boolean(this._fullscreen.isFullscreen)}get isCinema(){var e;return Boolean(null===(e=this._cinemaMode)||void 0===e?void 0:e.isCinema)}get isMini(){var e;return Boolean(null===(e=this._pip)||void 0===e?void 0:e.isInPiP)}get onScreen(){return this._onScreen.get()}set onScreen(e){this._onScreen.set(e)}get hasBackButton(){return this._hasBackButton.get()}set hasBackButton(e){this._hasBackButton.set(e)}get showAvatar(){var e;return!this.hideAvatarOnFullScreenForSubscribers&&(H.B.isMobile&&this._appearance.showAvatar||!H.B.isMobile&&this._appearance.showAvatar&&!(null!==(e=this._channelSubscription)&&void 0!==e&&e.isShowSubscribe))}get hideAvatarOnFullScreenForSubscribers(){var e;return this.isFullScreen&&Boolean(null===(e=this._channelSubscription)||void 0===e?void 0:e.isUserSubscribed)}get availableLogoClick(){return this._appearance.availableLogoClick}get availableTitleClick(){return this._appearance.availableTitleClick&&this._isEmbed}get showTitle(){return this._appearance.showTitle}get showPoster(){return this._showPoster.get()}set showPoster(e){this._showPoster.set(e)}get data(){return this._data}set isPlayPauseSwitchingAvailable(e){this._isPlayPauseSwitchingAvailable.set(e)}get isPlayPauseSwitchingAvailable(){return this._isPlayPauseSwitchingAvailable.get()}set preventOnClickAction(e){this._preventOnClickAction.set(e)}get preventOnClickAction(){return this._preventOnClickAction.get()}get poster(){return this.data.poster}init(){const e=[];return e.push((0,P.mJ)((()=>{var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}),(e=>{this.isTouchDevice=H.B.isMobile,this.isSmallDesktop=!!e&&e<=480}))),e.push((0,P.mJ)((()=>({isFullscreen:this.isFullScreen})),(e=>{let{isFullscreen:t}=e;this._playback.userInteractionDisabled=t}))),()=>e.forEach((e=>e()))}initPoster(){return(0,P.mJ)((()=>({isSaveMode:this.saveModePlugin.isSaveMode,hasBeenInteractive:this.saveModePlugin.hasBeenInteracted})),(e=>{let{isSaveMode:t,hasBeenInteractive:n}=e;this.showPoster=!(!t||n)}))}initStats(){return(0,P.mJ)((()=>this.playerMode),(e=>{var t;null===(t=this.counterHelper)||void 0===t||t.get("mainPlayerModeChange")("mini"===e?"w_in_w":e)}))}get isTouchDevice(){return this._isTouchDevice.get()}set isTouchDevice(e){this._isTouchDevice.set(e)}get isTablet(){return this._isTablet.get()}set isTablet(e){this._isTablet.set(e)}get isSmallDesktop(){return this._isSmallDesktop.get()}set isSmallDesktop(e){this._isSmallDesktop.set(e)}get authorData(){return this._data.author}getAuthorUrl(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"channel_left";return null!=this&&this._isEmbed?null==this||null===(e=this.trackingLinks)||void 0===e?void 0:e.generateTrackingLink({campaign:n,type:"channel"}):null==this||null===(t=this._data.author)||void 0===t?void 0:t.url}get playback(){return this._playback}get videoUrl(){var e;return this._isEmbed?(null==this||null===(e=this.trackingLinks)||void 0===e?void 0:e.generateTrackingLink({id:String(this.data.video_id),campaign:"title"}))||"":this._data.videoUrl}get title(){return this._data.title}get isPlaying(){return this._playback.isPlaying}get originType(){var e;return null===(e=this._data.data)||void 0===e?void 0:e.origin_type}get autoPlayWithMute(){return this._playback.autoPlayWithMute}get counterHelper(){return this._counterHelper}set isDisclaimersVisible(e){this._isDisclaimersVisible.set(e)}get isDisclaimersVisible(){return this._isDisclaimersVisible.get()}get isVideo360(){var e;return!(null===(e=this._data.data)||void 0===e||!e.is_spatial)}get isShowDisclaimers(){var e,t;const n=(null===(e=this._preview)||void 0===e?void 0:e.isShowPreview)&&H.B.isMobile,r="show"===(null===(t=this._advertPlugin)||void 0===t?void 0:t.currentState);return!this.isMini&&this._playback.wasStarted&&!r&&!this._playback.ended&&!n}get isShowHeader(){return!this._playback.ended&&(this._isEmbed||this._fullscreen.isFullscreen)}get isTitleVisible(){return!this._playback.ended&&(this._isEmbed||this._fullscreen.isFullscreen)}get isTopControlsVisible(){const{isShowControls:e,isControlsForcedHidden:t}=this._controlsPlugin||{};return Boolean(this.isTouchDevice&&e&&!t)}get isHeaderVisible(){const{isShowControls:e,isHideControls:t,isShowPreview:n}=this._controlsPlugin||{};return Boolean((this.isTitleVisible||this.isTopControlsVisible)&&!this._playback.ended&&(!n||!this.isTouchDevice)&&(e||!this.isTouchDevice)&&!t)}get headerHeight(){return this._headerHeight.get()}set headerHeight(e){this._headerHeight.set(e)}get isEmbed(){return this._isEmbed}get isChannelPage(){return this._isChannelPage}get isPreview(){return this._isPreview}set isUserInteracted(e){this._isUserInteracted.set(e)}get isUserInteracted(){return this._isUserInteracted.get()}get isInPiP(){var e;return Boolean(null===(e=this._pip)||void 0===e?void 0:e.isInPiP)}get isShowStartScreen(){return!1}get playerSize(){return this._playerSize.size}handleFullscreen(){return this._fullscreen.handleFullscreen()}pause(){this._playback.pause()}get isControlsForcedHidden(){var e;return(null===(e=this._controlsPlugin)||void 0===e?void 0:e.isControlsForcedHidden)||!1}get backgroundStyles(){var e;const t={backgroundColor:"black",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return null!==(e=this._playerSize.size)&&void 0!==e&&e.width&&this._data.poster&&(t.backgroundImage=((e,t)=>{const n=[1,1.5,2,3].map((n=>'url("'.concat(e,"?width=").concat(Math.floor(t*n),'") ').concat(n,"x")));return"-webkit-image-set(".concat(n.join(", "),")")})(this._data.poster,this._playerSize.size.width)),t}get playerCornersStyle(){const e=pt.ControlsPlugin.IsNewControls&&!this._playerSize.isSmallPlayer&&(this.isEmbed||!this.isTouchDevice);return{"--player-corners-radius":e?"var(--rt-corner-radius-m)":0,"--player-corners-verflow":e?"hidden":"unset"}}clearAcitivitiesTrigger(){var e;null===(e=this.activities)||void 0===e||e.clearTrigger()}},({e:[_w],c:[gw,fw]}=(0,k.A)(vw,[(0,I.k_)({implement:"IVideoLayoutPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"PictureInPicturePlugin",optional:!0},"IPlayerSizePlugin","IAppearancePlugin","IFullscreenPlugin",{implement:"IChannelSubscriptionPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"IStatisticState",optional:!0},"IsEmbed","ISaveModePlugin",{implement:"CinemaModePlugin",optional:!0},{implement:"IControlsPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0},{implement:"IsChannelPage",optional:!0},{implement:"IsPreview",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"initPoster"],[(0,I.o7)(),2,"initStats"],[I.zm,2,"getAuthorUrl"],[I.zm,2,"clearAcitivitiesTrigger"]],0,void 0,mw)),fw();const bw=R(),yw=e=>{switch(e){case"fullscreen":return"FS";case"mini":return bw?"F":"M";case"cinema":return"W";default:return"S"}},Ew=e=>e("IPlayerSizePlugin"),ww=[{names:["{{screen_size}}"],cyclic:{selector:e=>{var t;return(null===(t=Tw(e))||void 0===t?void 0:t.playerModes)||""}},selector:e=>document.pictureInPictureElement?"P":yw(Hp(e).playerMode)},{names:["{{screen_mode}}"],selector:e=>String(Hp(e).playerMode)},{names:["{{player_size}}"],selector:e=>Ew(e).sizeIdForStats||""}];var Sw,Aw;let Cw,kw,Pw,Iw;new(Aw=class extends wp{constructor(e,t,n,r,i,o,a,s,l,u,c,d,h){var p;super(e,t,n,r,s),this.__qualityValues=(Cw(this),[]),this.__playerModes=[],this.__captionLanguages=[],this.__playback=void 0,this.__videoLayout=void 0,this.__captions=void 0,this.__longPressSeekPlugin=void 0,this._location=void 0,this._isEmbed=!1,this.__videoCounterHelper=void 0,this._statistic=n,this._statisticWatchTime=r,this._qualitiesPlugin=l,this._advert=u,this._config=c,this._extraActions=d,this.__playback=e,this.__videoLayout=i,this.__captions=o,this.__longPressSeekPlugin=a,this._location=window.location.href,this._isEmbed=null!==(p=null==h?void 0:h.value)&&void 0!==p&&p,this.__videoCounterHelper=n&&n instanceof ol?n.counterHelper:void 0}initPlugin(){wp.pushUnique(this.__playerModes,yw(this.__videoLayout.playerMode)),this.handleCaptionsLanguageChange(this.__captions.captionLanguage,this.__captions.isShowCaptions);const e=(0,P.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>{var e,t;this._endRanges.length<this._startRanges.length&&this._endRanges.push(this.currentTime);const n=fp(this.currentTime).toString();null===(e=this.__videoCounterHelper)||void 0===e||e.get("mainStatusUnload")({location:this.location,startRanges:n,endRanges:n}),this._hbIntervals.scheduledEvent&&(this.final=!0,this.send(this._hbIntervals.scheduledEvent,this.location),this.clearRanges(),this._hbIntervals.stop(),this.final=!1,this._qualitiesPlugin.manuallySettedQualityIndex=null,this._qualitiesPlugin.activeQualityIndex=null),null===(t=this._statistic)||void 0===t||t.refreshLoadedTimeStamp(),this._statisticWatchTime.resetWatchTime(),this.location=window.location.href})),t=(0,P.mJ)((()=>this.__videoLayout.playerMode),(e=>{wp.pushUnique(this.__playerModes,yw(e))})),n=(0,P.mJ)((()=>({captionLanguage:this.__captions.captionLanguage,isShowCaptions:this.__captions.isShowCaptions})),(e=>{let{captionLanguage:t,isShowCaptions:n}=e;this.handleCaptionsLanguageChange(t,n)})),r=(0,P.mJ)((()=>({canReplay:this.__playback.canReplay,ended:this.__playback.ended})),(e=>{let{canReplay:t,ended:n}=e;t&&n&&(this._isEmbed||this.__playback.isLooping)&&this.resetOnReplay()})),i=[];return i.push(e,t,n,r),()=>{var e;const t=fp(this.currentTime).toString();null===(e=this.__videoCounterHelper)||void 0===e||e.get("mainStatusUnload")({location:this.location,startRanges:t,endRanges:t}),i.forEach((e=>e()))}}initLongPress(){return this.subscribePlaybackEvent(ii.p.longPress,(e=>{let{isEnabled:t,forcedPlayback:n}=e;return this.handleLongPressSeek(t,n)}))}initReplay(){return this.subscribeExtraActions(yr.replay,(()=>{this._temporaryDisableSeek=!0,this.resetOnReplay(!1)}))}clearRanges(){super.clearRanges(),this.__qualityValues=this.__qualityValues.slice(-1),this.__playerModes=this.__playerModes.slice(-1),this.__captionLanguages=this.__captionLanguages.slice(-1)}handleCaptionsLanguageChange(e,t){const n=t?e||"":"0";wp.pushUnique(this.__captionLanguages,n)}handleLongPressSeek(e,t){e?(this._playerStore.isPlaying&&this._endRanges.push(this._playerStore.currentTime),this._actions.push(vp.X_REWIND),this._startRanges.push(this._playerStore.currentTime)):t||(this._endRanges.push(this._playerStore.currentTime),this._actions.push(vp.PLAY),this._startRanges.push(this._playerStore.currentTime))}resetOnReplay(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._hbIntervals.scheduledEvent&&(this.final=!0,this.send(this._hbIntervals.scheduledEvent,this.location),this.clearRanges(),this._hbIntervals.stop(),this.final=!1),this._statistic.incrementViewCount(),this._statisticWatchTime.resetWatchTime(),this.__playback.resetOnReplay(e),e||(this._hbIntervals.restartIntervals(),this.__playback.isPlaying&&null===this._hbIntervals.startTimer&&(this._startRanges.push(0),this._actions.push(vp.PLAY),this._hbIntervals.scheduleNext()))}get qualityValues(){return this.__qualityValues.join(",")}get playerModes(){return this.__playerModes.join(",")}get captionLanguages(){return this.__captionLanguages.join(",")}initSeekDisposerHandler(){return this.subscribePlaybackEvent(ii.p.seek,(e=>{let{from:t,to:n,source:r}=e;return"skip"===r?this.handleSkipTitles(t,n):this.handleSeek(t,n,r)}))}handleSeek(e,t,n){if(this._temporaryDisableSeek)return this._temporaryDisableSeek=!1,void(this._rewindStart=null);n?this._actions.push(Iw.ACTION_MAP[n]):t>e?this._actions.push(vp.REWIND_FORWARD):this._actions.push(vp.REWIND_BACKWARD),this._startRanges.push(this._rewindStart||0),this._endRanges.push(t),this._rewindStart=null,this._playerStore.isPlaying&&(this._actions.push(vp.PLAY),this._startRanges.push(t))}initIsPlayingDisposerHandler(){return(0,P.mJ)((()=>{var e;return{isPlaying:this._playerStore.isPlaying,wasStarted:this._playerStore.wasStarted,advert:null===(e=this._advert)||void 0===e?void 0:e.currentAdvert}}),(e=>{let{isPlaying:t,wasStarted:n,advert:r}=e;n&&!r&&(t?(this.handlePlay(),null===this._hbIntervals.startTimer&&this._hbIntervals.scheduleNext()):this.handlePause())}))}handlePlay(){if(!this.__longPressSeekPlugin.isLongPress&&(this.__data.isTVStream&&0===this.__tvStreamDelta&&(this.__tvStreamDelta=this._playerStore.currentTime),this.lastEventAction!==vp.PLAY)){const e=!this._startRanges.length&&this.currentTime<1?0:this.currentTime;this.lastEventAction===vp.X_REWIND&&this._endRanges.push(e),this._startRanges.push(e),this._actions.push(vp.PLAY)}}handlePause(){this.lastEventAction&&![vp.STOP,vp.X_REWIND].includes(this.lastEventAction)&&(this._endRanges.push(this.currentTime),this._actions.push(vp.STOP),this._startRanges.push(this.currentTime),this._endRanges.push(this.currentTime))}handleSkipTitles(e,t){this._actions.push(vp.SKIP_TITLES),this._startRanges.push(e||0),this._endRanges.push(t),this._playerStore.isPlaying&&(this._actions.push(vp.PLAY),this._startRanges.push(t))}subscribeExtraActions(e,t){var n;return null===(n=this._extraActions)||void 0===n||n.on(e,t),()=>{var n;null===(n=this._extraActions)||void 0===n||n.off(e,t)}}get location(){return this._location}set location(e){this._location=e}},({e:[Cw],c:[Iw,kw]}=(0,k.A)(Aw,[(0,I.k_)({implement:"IStatisticAggregatorPlugin",ctor_args:["IPlayback","IStatisticStore","IStatisticState","IStatisticWatchTimePlugin","IVideoLayoutPlugin","ICaptionsPlugin","ILongPressSeekPlugin","IDataPlugin","IQualitiesPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IExtraActionsPlugin",optional:!0},{implement:"IsEmbed",optional:!0}]})],[[(0,I.o7)(),2,"initPlugin"],[(0,I.o7)(),2,"initLongPress"],[(0,I.o7)(),2,"initReplay"]],0,void 0,wp)),Pw=Aw,(Sw=class extends ft{constructor(){super(Iw),this.ACTION_MAP={chapters:vp.REWIND_FROM_CHAPTERS,description:vp.REWIND_FROM_DESCRIPTION,hotkey:vp.REWIND_HOTKEY_FRAME,skip:vp.SKIP_TITLES},kw()}})[Pw]=void 0,Sw);const Tw=e=>{const t=e("IStatisticAggregatorPlugin");return t instanceof Iw?t:null},xw=()=>(0,fr.ei)("IStatisticAggregatorPlugin"),Rw=[{names:["{{subs_lang}}"],cyclic:{selector:e=>{var t;return(null===(t=Tw(e))||void 0===t?void 0:t.captionLanguages)||""}},selector:e=>{var t;const n=e("ICaptionsPlugin");return n.isShowCaptions&&(null===(t=n.activeCaption)||void 0===t?void 0:t.langTitle)||"0"}}],Lw=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"5",y:"8",width:"14",height:"8",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},Ow=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"4",y:"6",width:"16",height:"12",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))};function Nw(){return(0,fr.p5)().resolve("CinemaModePlugin")}const Mw=(0,Jn.PA)((e=>{let{size:n}=e;const{isCinema:r,handleCinema:i}=Nw(),{tabIndex:o}=(0,pt.useControls)();return t.createElement(ss.r,{"data-testid":"ui-cinema",tabIndex:o,"aria-label":(0,as.T)("ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð² Ñ‚ÐµÐ°Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼","T",!0),role:"button",action:"cinema",icon:r?Lw:Ow,onClick:i,tooltipTitle:r?wn.m_.CinemaOff:wn.m_.CinemaOn,tooltipPlacement:"top",tooltipHideOnClick:!0,tooltipZIndex:wn.m_.ControlsTooltipZIndex,size:n})})),Dw=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerCinemaModeOff",__value:'<path fill="currentColor" fill-rule="evenodd" d="M16.2 8.543H7.8c-.873 0-1.408.002-1.808.034a3 3 0 0 0-.367.05c-.033.009-.079.025-.079.025a1 1 0 0 0-.437.437s-.017.047-.024.08a3 3 0 0 0-.05.367c-.033.4-.035.934-.035 1.807v1.313c0 .874.002 1.408.034 1.808.015.186.035.3.05.367.008.033.025.08.025.08a1 1 0 0 0 .437.437s.046.016.079.024c.068.016.181.035.367.05.4.033.935.034 1.808.034h8.4c.873 0 1.408-.001 1.808-.034.186-.015.299-.034.367-.05.033-.008.079-.024.079-.024a1 1 0 0 0 .437-.437s.017-.047.024-.08c.016-.068.036-.18.05-.367.033-.4.035-.934.035-1.808v-1.313c0-.873-.002-1.407-.034-1.807a3 3 0 0 0-.05-.368c-.008-.032-.025-.079-.025-.079a1 1 0 0 0-.437-.437s-.046-.016-.079-.024a3 3 0 0 0-.367-.05c-.4-.033-.935-.035-1.808-.035M3.327 8.181C3 8.823 3 9.663 3 11.343v1.313c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.312c.642.326 1.482.326 3.162.326h8.4c1.68 0 2.52 0 3.162-.326a3 3 0 0 0 1.311-1.311c.327-.642.327-1.482.327-3.163v-1.313c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.31c-.642-.328-1.482-.328-3.162-.328H7.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311" clip-rule="evenodd" />'})),Bw=(0,t.forwardRef)(Dw),Fw=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerCinemaMode",__value:'<path fill="currentColor" fill-rule="evenodd" d="M17.2 6.32H6.8c-.873 0-1.408.002-1.808.034a3 3 0 0 0-.367.05l-.079.025a1.05 1.05 0 0 0-.443.453c-.004.01-.018.063-.018.063a3 3 0 0 0-.05.368C4.001 7.713 4 8.247 4 9.12v5.76c0 .873.002 1.408.034 1.807.015.187.035.3.05.368.008.032.025.079.025.079a1 1 0 0 0 .437.437s.046.017.079.024c.068.016.181.036.367.05.4.033.935.035 1.808.035h10.4c.873 0 1.408-.002 1.808-.034.186-.015.299-.035.367-.05l.079-.025c.188-.096.348-.265.443-.453 0 0 .01-.03.018-.063.016-.069.036-.181.05-.367.033-.4.035-.935.035-1.808V9.12c0-.873-.002-1.407-.034-1.807a3 3 0 0 0-.05-.368c-.008-.032-.025-.079-.025-.079a1.05 1.05 0 0 0-.453-.443s-.03-.01-.063-.018a3 3 0 0 0-.367-.05c-.4-.033-.935-.035-1.808-.035M2.327 5.958C2 6.6 2 7.44 2 9.12v5.76c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311c.642.327 1.482.327 3.162.327h10.4c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.311-1.311C22 17.4 22 16.56 22 14.88V9.12c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.31C19.72 4.32 18.88 4.32 17.2 4.32H6.8c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.311 1.311" clip-rule="evenodd" />'})),Hw=(0,t.forwardRef)(Fw),Vw=(0,Jn.PA)((e=>{var n;let{size:r}=e;const{isCinema:i,handleCinema:o}=Nw(),{iconSizeValue:a,isCinemaMode:s,tabIndex:l}=(0,pt.useControls)(),u=(0,Zn.L0)();if(s&&!u)return t.createElement(Uh.S,{"data-testid":"ui-cinema",tabIndex:l,"aria-label":(0,as.T)(i?"Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· ÑˆÐ¸Ñ€Ð¾ÐºÐ¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼Ð°":"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² ÑˆÐ¸Ñ€Ð¾ÐºÐ¾ÑÐºÑ€Ð°Ð½Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼","T",!0),role:"button",action:"cinema",onClick:o,tooltipTitle:i?wn.m_.CinemaOff:wn.m_.CinemaOn,size:null!==(n=r)&&void 0!==n?n:a},i?t.createElement(Bw,null):t.createElement(Hw,null))}));var Uw;let jw,Ww,zw;class Gw extends I.j8{static get CinemaButton(){return pt.ControlsPlugin.IsNewControls?Vw:Mw}constructor(e,t){var n;super(),this._isCinema=(jw(this),P.sH.box(!1)),this._eventBus=void 0,this._pictureInPicturePlugin=e,this._eventBus=null!==(n=null==t?void 0:t.value)&&void 0!==n?n:va.Ug,(0,P.Gn)(this,{isCinema:P.EW})}init(){var e;const t=_o.getItemBoolean(zi.Ok.CINEMA_MODE);this.isCinema=t,null===(e=this._eventBus)||void 0===e||e.emit(zi.L2.IS_CINEMA,{isCinema:t})}handleCinema(){var e,t;null!==(e=this._pictureInPicturePlugin)&&void 0!==e&&e.isInPiP?(this.isCinema=!this.isCinema,null===(t=this._pictureInPicturePlugin)||void 0===t||t.exitFromPiP()):this.isCinema=!this.isCinema}get isCinema(){return this._isCinema.get()}set isCinema(e){this._isCinema.set(e),_o.setItemBoolean(zi.Ok.CINEMA_MODE,e)}}Uw=Gw,({e:[jw],c:[zw,Ww]}=(0,k.A)(Uw,[(0,I.k_)({implement:"CinemaModePlugin",ctor_args:[{implement:"PictureInPicturePlugin",optional:!0},{implement:"EventBus",optional:!0}]})],[[(0,I.o7)(),2,"init"],[[P.XI,P.XI.bound],18,"handleCinema"]],0,void 0,I.j8)),Ww();const qw=()=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"none"},t.createElement("rect",{width:"18.667",height:"13.38",x:"7.826",y:"12.534",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.653",rx:"1.333"}),t.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M19.649 19.821a.65.65 0 0 0 .261-.526.65.65 0 0 0-.261-.527l-2.827-2.034a.55.55 0 0 0-.602-.031.64.64 0 0 0-.31.558v4.067c0 .234.12.448.31.558a.55.55 0 0 0 .602-.031zm-2.566.325v-1.703l1.184.852z",clipRule:"evenodd"}),t.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.653",d:"m23.762 10.462-1.386-5.174a1.333 1.333 0 0 0-1.633-.943L5.288 8.486a1.333 1.333 0 0 0-.943 1.633l1.387 5.174"})),Kw={tooltip:"onboarding-tooltip-module__tooltip___pi5ci",tutorialTooltip:"onboarding-tooltip-module__tutorialTooltip___LFDUv",arrow:"onboarding-tooltip-module__arrow___WIsZB",top:"onboarding-tooltip-module__top___qqEhE",bottom:"onboarding-tooltip-module__bottom___Ep3bK",fadeIn:"onboarding-tooltip-module__fadeIn___DsiuT"},Yw=e=>{let{isTouchDevice:n,playerWidth:r,title:i,wrapperRef:o,placement:a="top"}=e;const s=(0,t.useRef)(null),l=(0,t.useMemo)((()=>({placement:a,strategy:"fixed",modifiers:[{name:"offset",enabled:!0,options:{offset:[0,n?4:24]}},{name:"preventOverflow",options:{boundary:document.getElementById(Dp.v.RAICHU_CONTAINER_WITH_PLAYER),padding:n?8:12}},{name:"arrow",options:{element:".".concat(Kw.arrow)}}]})),[n,a]);return(0,t.useEffect)((()=>{var e,t;null===(e=s.current)||void 0===e||null===(t=e.update)||void 0===t||t.call(e).catch((()=>{}))}),[r]),t.createElement(Qn.e0,{instanceRef:s,isPopperShown:!0,renderPopperElements:e=>{let{styles:n}=e;return t.createElement("div",{className:Kw.tooltip},i,t.createElement("div",{className:er()(Kw.arrow,{[Kw["".concat(a)]]:a}),style:n.arrow}))},popperKey:Qn.m0.tooltip,popperOptions:l,anchorRef:o,customPopperZIndex:25})},Xw=()=>(0,fr.Ks)("IChaptersPlugin"),Qw="chapter-button-module__chapter___rppha",Zw="chapter-button-module__wrapper___j_9j7",Jw="chapter-button-module__border___e058L",$w="chapter-button-module__name____BGs8",eS="chapter-button-module__button___mV2q_",tS=t.createElement(t.Fragment,null,"ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ ÑÐ¿Ð¸ÑÐ¾Ðº ÑÐ¿Ð¸Ð·Ð¾Ð´Ð¾Ð²,",t.createElement("br",null),"Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¼ÐµÐ¶Ð´Ñƒ Ð½Ð¸Ð¼Ð¸"),nS=(0,Jn.PA)((e=>{let{buttonSize:n}=e;const{activeChapter:r,count:i,counterHelper:o,isTitleHidden:a,size:s,onButtonClick:l}=Xw(),u=(0,Zn.Ju)(),{activeOnboarding:c,isShowOnboarding:d}=cw()||{},h=(null==s?void 0:s.width)||0,p=(0,t.useRef)(null),m=null!==r,v="chapters"===c&&d;return(0,t.useEffect)((()=>{m&&(null==o||o.get("mainChaptersButtonShow")())}),[o,m]),m?t.createElement("div",{className:Qw,onClick:l},t.createElement("div",{className:Zw},t.createElement("div",{className:Jw}),t.createElement(ss.r,{ref:p,"data-testid":"ui-chapter-button",tabIndex:0,role:"button",icon:qw,tooltipTitle:t.createElement("div",null,r),tooltipPlacement:"top",label:t.createElement("div",{className:$w},a?i:r),className:er()("front-control",{[eS]:Boolean(v)}),size:n}),v&&t.createElement(Yw,{wrapperRef:p,playerWidth:h,isTouchDevice:u,title:tS}))):null})),rS=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerEpisodes",__value:'<path fill="currentColor" d="m12.544 12.084 3.394 2.263q.151.098.25.176a.56.56 0 0 1 .177.217.54.54 0 0 1 0 .411.56.56 0 0 1-.176.218q-.101.078-.25.176l-3.395 2.263c-.12.08-.224.149-.31.196a.6.6 0 0 1-.307.084.54.54 0 0 1-.396-.211.57.57 0 0 1-.1-.303 4 4 0 0 1-.008-.353v-4.537c0-.145 0-.27.009-.367a.57.57 0 0 1 .1-.302.54.54 0 0 1 .395-.212.6.6 0 0 1 .307.085q.13.072.31.196" /><path fill="currentColor" fill-rule="evenodd" d="m12.544 12.084 3.394 2.263q.151.098.25.176a.56.56 0 0 1 .177.217.54.54 0 0 1 0 .411.56.56 0 0 1-.176.218q-.101.078-.25.176l-3.395 2.263c-.12.08-.224.149-.31.196a.6.6 0 0 1-.307.084.54.54 0 0 1-.396-.211.57.57 0 0 1-.1-.303 4 4 0 0 1-.008-.353v-4.537c0-.145 0-.27.009-.367a.57.57 0 0 1 .1-.302.54.54 0 0 1 .395-.212.6.6 0 0 1 .307.085q.13.072.31.196" clip-rule="evenodd" /><path fill="currentColor" fill-rule="evenodd" d="M9.011 7.712c-2.395 0-4.442 1.941-4.442 4.337v5.679a4.337 4.337 0 0 0 4.337 4.337h9.233c2.395 0 4.337-2.053 4.337-4.448V12.05a4.337 4.337 0 0 0-4.337-4.337zM6.58 12.049a2.326 2.326 0 0 1 2.326-2.326h9.233a2.326 2.326 0 0 1 2.326 2.326v5.679a2.326 2.326 0 0 1-2.326 2.326H8.906a2.326 2.326 0 0 1-2.326-2.326z" clip-rule="evenodd" /><path fill="currentColor" d="M11.402 2.064h.002c2.455-.617 4.982.769 5.72 3.187l.139.459a1.03 1.03 0 0 1-.693 1.283 1.03 1.03 0 0 1-1.291-.678l-.14-.46c-.416-1.366-1.845-2.153-3.237-1.805l-.14.04L5.49 6.002c-1.434.437-2.245 1.937-1.815 3.348l.14.459a1.03 1.03 0 0 1-.693 1.283 1.03 1.03 0 0 1-1.291-.678l-.14-.46c-.76-2.495.674-5.142 3.202-5.912l6.278-1.914z" />'})),iS=(0,t.forwardRef)(rS),oS="chapter-button-module__chapter___D6NRb",aS="chapter-button-module__border___yVNjV",sS="chapter-button-module__name___D4gAl",lS="chapter-button-module__S___uU7Zq",uS="chapter-button-module__M___xR4tw",cS="chapter-button-module__L___AUL8C",dS="chapter-button-module__button___HfkWA",hS=452,pS=480,mS=452,vS=t.createElement(t.Fragment,null,"ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ ÑÐ¿Ð¸ÑÐ¾Ðº ÑÐ¿Ð¸Ð·Ð¾Ð´Ð¾Ð²,",t.createElement("br",null),"Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ",t.createElement("br",null)," Ð¼ÐµÐ¶Ð´Ñƒ Ð½Ð¸Ð¼Ð¸"),_S=(0,Jn.PA)((e=>{const{activeChapter:n,count:r,counterHelper:i,size:o,isTitleHidden:a,onButtonClick:s}=Xw(),{iconSizeValue:l,tabIndex:u,isShowPreview:c,container:d}=(0,pt.useControls)(),h=(0,Zn.Ju)(),{activeOnboarding:p,isShowOnboarding:m,hideOnboarding:v,onboardingTour:_}=cw()||{},f=(0,t.useRef)(null),g=null!==n,b="chapters"===p&&m&&(!c||!h),y=(null==o?void 0:o.width)||0,[E,w]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{g&&(null==i||i.get("mainChaptersButtonShow")())}),[i,g]),!g)return null;const S=t.createElement(Uh.S,{ref:f,"data-testid":"ui-chapter-button",tabIndex:u,role:"button",tooltipTitle:a?"Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐ¿Ð¸Ð·Ð¾Ð´Ð°":null,onClick:()=>{s(),w(!0)},label:t.createElement("div",{className:er()(sS,{[lS]:"S"===l,[uS]:"M"===l,[cS]:"L"===l})},a?r:"Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐ¿Ð¸Ð·Ð¾Ð´Ð°"),className:er()("front-control",{[dS]:b&&!pt.ControlsPlugin.isCurrentRedesignStageAvailable}),size:l},t.createElement(iS,null));return t.createElement("div",{className:oS},t.createElement("div",{className:aS}),pt.ControlsPlugin.isCurrentRedesignStageAvailable&&_?t.createElement(_,{active:Boolean(b&&!E),onActiveChange:e=>(e=>{e||null==v||v()})(e),overlay:"none",finishButtonText:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"},t.createElement(_.Step,{index:1,tooltipProps:{placement:y<pS?"bottom":"top-start",placementSequence:y<pS?["bottom","bottom-end","bottom-start"]:["top-start"],container:d}},t.createElement(_.Anchor,null,t.createElement("div",null,S)),t.createElement(_.Content,{heading:"Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐ¿Ð¸Ð·Ð¾Ð´Ð°",description:vS}))):t.createElement(t.Fragment,null,S,b&&t.createElement(Yw,{wrapperRef:f,playerWidth:y,isTouchDevice:h,title:vS})))})),fS="chapters-popup-module__chaptersPopup___X70ly",gS=(0,Jn.PA)((e=>{let{Component:n}=e;const{activeChapterTime:r,description:i,duration:o,isFullscreen:a,isShowChapters:s,hideChapters:l,thumbnailUrl:u}=Xw();return s&&null!==r&&a?t.createElement(n,{activeChapterTime:r,description:i,duration:o,thumbnailUrl:u,className:fS,handleClose:l}):null}));var bS;let yS,ES,wS;class SS extends I.j8{static get ChapterButton(){return pt.ControlsPlugin.IsNewControls?_S:nS}static get ChaptersPopup(){return gS}constructor(e,t,n,r,i,o,a,s,l,u){super(),this._counterHelper=void yS(this),this._isShowChapters=P.sH.box(!1),this._activeChapter=P.sH.box(null),this._activeChapterTime=P.sH.box(null),this._isTitleHidden=P.sH.box(!1),this._isEmbed=void 0,this._advert=e,this._controls=t,this._playOptions=n,this._fullscreen=r,this._playback=i,this._playerSize=o,this._config=a,this.trackingLinks=u,(0,P.Gn)(this,{count:P.EW,isShowChapters:P.EW,activeChapter:P.EW,isTitleHidden:P.EW,allowOnboarding:P.EW,activeChapterTime:P.EW,onButtonClick:P.XI,hideChapters:P.XI}),this._isEmbed=l.value,this._counterHelper=s&&s instanceof ol?s.counterHelper:void 0}initVideoId(){return(0,P.mJ)((()=>this._config.get("videoId")),(()=>{this.activeChapter=null,this.hideChapters()}))}initActiveChapter(){return(0,P.mJ)((()=>this._controls.activeChapter),(e=>{if(!e||""===e.name)return this.activeChapter=null,void(this.activeChapterTime=null);const{name:t,start:n}=e;this.activeChapterTime!==n&&(this.activeChapter=t,this.activeChapterTime=n,va.Ug.emit(zi.L2.CHAPTER_CHANGE,{time:n}))}))}initTitleHidden(){return(0,P.mJ)((()=>{var e;return{width:null===(e=this._playerSize.size)||void 0===e?void 0:e.width,playerSize:this._playerSize.playerSizeValue}}),(e=>{let{width:t=0,playerSize:n}=e;this.isTitleHidden=pt.ControlsPlugin.IsNewControls?["MS","MM","ML","DXS"].includes(n):t<700}))}initHideChapters(){return(0,P.mJ)((()=>this._fullscreen.isFullscreen),(e=>{!e&&this.isShowChapters&&(this.isShowChapters=!1)}))}get count(){var e,t;return null!==(e=null===(t=this._controls.chapters)||void 0===t?void 0:t.length)&&void 0!==e?e:0}get counterHelper(){return this._counterHelper}get isFullscreen(){return this._fullscreen.isFullscreen}set isShowChapters(e){this._isShowChapters.set(e)}get isShowChapters(){return this._isShowChapters.get()}set activeChapter(e){this._activeChapter.set(e)}get activeChapter(){return this._activeChapter.get()}set activeChapterTime(e){this._activeChapterTime.set(e)}get activeChapterTime(){return this._activeChapterTime.get()}get isEmbed(){return this._isEmbed}get size(){return this._playerSize.size}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}get isShowControls(){return this._controls.isShowControls}get duration(){return this._playback.duration}get description(){var e;return null===(e=this._playOptions)||void 0===e?void 0:e.description}get thumbnailUrl(){var e;return null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.thumbnail_url}set isTitleHidden(e){this._isTitleHidden.set(e)}get isTitleHidden(){return this._isTitleHidden.get()}onButtonClick(){var e;this.trackingLinks&&this._isEmbed&&(window.open(this.trackingLinks.generateTrackingLink({campaign:"time_tags",type:"video"}),"_blank"),this._playback.pause()),null===(e=this._counterHelper)||void 0===e||e.get("mainChaptersButtonClick")(),this._fullscreen.isFullscreen?(this.isShowChapters=!this.isShowChapters,this._controls.preventHideControls=!this._controls.preventHideControls):va.Ug.emit(zi.L2.CHAPTERS_TOGGLE,null)}hideChapters(){this.isShowChapters=!1,this._controls.preventHideControls=!1}get allowOnboarding(){return null!==this.activeChapter}}bS=SS,({e:[yS],c:[wS,ES]}=(0,k.A)(bS,[(0,I.k_)({implement:"IChaptersPlugin",ctor_args:[{implement:"IAdvertPlugin",optional:!0},"IControlsPlugin",{implement:"IDataPlugin",optional:!0},"IFullscreenPlugin","IPlayback","IPlayerSizePlugin","IPlayerConfigPlugin","IStatisticState","IsEmbed",{implement:"ITrackingLinksPlugin",optional:!0}]})],[[(0,I.o7)(),2,"initVideoId"],[(0,I.o7)(),2,"initActiveChapter"],[(0,I.o7)(),2,"initTitleHidden"],[(0,I.o7)(),2,"initHideChapters"],[I.zm,2,"onButtonClick"],[I.zm,2,"hideChapters"]],0,void 0,I.j8)),ES();class AS extends I.j8{constructor(){super(),this._items=P.sH.array([]),this._perPage=P.sH.box(null),this._error=P.sH.box(null),this._loading=P.sH.box({status:!1,direction:null}),this._loadedPages=P.sH.box([]),this._hasPrev=P.sH.box(!1),this._hasNext=P.sH.box(!1),this._scrollToCurrent=P.sH.box(!1),(0,P.Gn)(this,{items:P.EW,perPage:P.EW,isEmpty:P.EW,error:P.EW,loading:P.EW,loadedPages:P.EW,hasNext:P.EW,hasPrev:P.EW,minPage:P.EW,maxPage:P.EW,prevCount:P.EW,scrollToCurrent:P.EW,loadPrev:P.XI.bound,loadNext:P.XI.bound,loadItems:P.XI.bound})}get items(){return this._items.slice()}set items(e){this._items.replace(e)}get perPage(){return this._perPage.get()}set perPage(e){this._perPage.set(e)}get error(){return this._error.get()}set error(e){this._error.set(e)}get loading(){return this._loading.get()}set loading(e){this._loading.set(e)}get loadedPages(){return this._loadedPages.get()}set loadedPages(e){this._loadedPages.set(e)}get hasPrev(){return this._hasPrev.get()}set hasPrev(e){this._hasPrev.set(e)}get hasNext(){return this._hasNext.get()}set hasNext(e){this._hasNext.set(e)}get minPage(){return this.loadedPages.length?Math.min(...this.loadedPages):0}get maxPage(){return this.loadedPages.length?Math.max(...this.loadedPages):0}get prevCount(){return this.minPage&&this.perPage?(this.minPage-1)*this.perPage:0}get isEmpty(){return!this.items.length}get scrollToCurrent(){return this._scrollToCurrent.get()}set scrollToCurrent(e){this._scrollToCurrent.set(e)}async loadItems(e){try{this.loading.status=!0;const t=await this.fetch(e);"detail"in t||"message"in t?this.error="TODO":(this.error=null,this.items=t.page>this.maxPage?[...this.items,...t.results]:[...t.results,...this.items],this.hasPrev=1!==t.page,t.page>this.maxPage&&(this.hasNext=t.has_next),this.loadedPages.push(t.page))}catch(e){this.error="TODO"}finally{this.loading.status=!1}return Boolean(!this.error)}async loadPrev(){this.hasPrev&&(this.loading.direction="prev",await this.loadItems(this.minPage-1),this.loading.direction=null)}async loadNext(){this.hasNext&&(this.loading.direction="next",await this.loadItems(this.maxPage+1),this.loading.direction=null)}}const CS=()=>(0,fr.ei)("IEmbedPlugin"),kS=e=>e("IEmbedPlugin");var PS;let IS,TS,xS;class RS extends I.j8{constructor(e,t,n){super(),this._params=(IS(this),P.sH.box({})),this._trackId=P.sH.box(),this._loading=P.sH.box(!0),this._allowed=P.sH.box(!1),this._visible=P.sH.box(!1),this._isNakedMode=P.sH.box(!1),this._onRecommendedClick=e=>{const{video:t,resourceId:n}=e.data;if(null!=t&&t.video_url)try{const e=new URL(t.video_url);n&&e.searchParams.append("resource_id",n.toString()),window.open(e.toString(),"_blank")}catch(e){console.warn(e)}},this._appearance=e,this._qualities=t,this._config=n,(0,P.Gn)(this,{params:P.EW,trackId:P.EW,loading:P.EW,allowed:P.EW,visible:P.EW,isNakedMode:P.EW})}init(){return this._prepareParams(),this._initEmbed(),va.Ug.subscribe(zi.L2.RECOMMENDED_VIDEO,this._onRecommendedClick),()=>{va.Ug.unsubscribe(zi.L2.RECOMMENDED_VIDEO,this._onRecommendedClick)}}async _initEmbed(){var e,t,n;if(this.trackId=(0,r.DU)(),null===(e=this.params)||void 0===e||!e.idWebsite)return this.allowed=!0,void(this.loading=!1);try{const e=await(t=(0,O.If)(),n=this.params.idWebsite,fetch("".concat(wn.mW,"/api/distribution/distributors/websites/?url=").concat(t,"&id_website=").concat(n),{method:"get"}).then((e=>e.json())));this.allowed=Boolean(e.is_reproduce)}catch(e){this.allowed=!1}this.loading=!1}_prepareParams(){if(window.location.search){const e=(0,r.al)(window.location.href,!0);this.params={urlPepper:e.p,platform:e.platform,adminMode:e.admin_mode,quality:e.q||e.quality,resourceId:e.resource_id,idWebsite:e.id_website,idDistribution:e.id_distribution,yclidP:e.yclid_p,skinColor:e.skinColor,versionId:e.visitor_id,naked:e.naked,anc:e.anc||"na",os:e.os},e.skinColor&&(this._appearance.skinColor=e.skinColor),this.params.quality&&(this._qualities.embedQuality=this.params.quality),"true"===this.params.naked&&(this.isNakedMode=!0),e.visitor_id&&(ji.assertInstance(this._config),this._config.set("visitorId",e.visitor_id)),ji.assertInstance(this._config),this._config.set("paywallEnabled","false"!==e.paywallenabled),"true"===e.autoplay?this._config.set("autoplay",!0):"false"===e.autoplay&&this._config.set("autoplay",!1)}}get params(){return this._params.get()}set params(e){this._params.set(e)}get trackId(){return this._trackId.get()}set trackId(e){this._trackId.set(e)}get loading(){return this._loading.get()}set loading(e){this._loading.set(e)}get allowed(){return this._allowed.get()}set allowed(e){this._allowed.set(e)}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get isNakedMode(){return this._isNakedMode.get()}set isNakedMode(e){this._isNakedMode.set(e)}get isEmbedYaos(){return"yaos"===this.params.os}}PS=RS,({e:[IS],c:[xS,TS]}=(0,k.A)(PS,[(0,I.k_)({implement:"IEmbedPlugin",ctor_args:["IAppearancePlugin","IQualitiesPlugin","IPlayerConfigPlugin"]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),TS();const LS="embed-wrapper-module__wrapper___RPyEt",OS="https://static.rutube.ru/webconfigs/player-embed-config.json",NS="https://static.rutube.dev/webconfigs/player-embed-config.json";const MS=["qa.rutube.ru","aq.rutube.ru","qaq.rutube.ru"];const DS=(e,t)=>0===e.length||e.includes(t);var BS,FS;let HS,VS,US;class jS extends(BS=I.j8){constructor(e,t,n,r,i){super(),this.__embedConfig=(HS(this),P.sH.box(null)),this.__loading=P.sH.box(!0),this._config=e,this._playback=t,this._playerSize=n,this._advert=r,this._playOptions=i,(0,P.Gn)(this,{fetchEmbedConfig:P.XI,embedConfig:P.EW,loading:P.EW,windowWidth:P.EW,isExperimentEnabled:P.EW,communicationBannerSkip:P.EW,isShowAdvert:P.EW,minEmbedWidth:P.EW,link:P.EW})}init(){this.fetchAndSetEmbedConfig()}async fetchAndSetEmbedConfig(){const e=e=>(0,P.h5)((()=>this.__embedConfig.set(e)));return this.fetchEmbedConfig().then(e).catch(e).finally((()=>(0,P.h5)((()=>this.__loading.set(!1)))))}async fetchEmbedConfig(){try{const t="rutube.ru"===(e=window.location.hostname)||MS.includes(e)?OS:NS,n=6e5*Math.floor(Date.now()/6e5),r=await fetch("".concat(t,"?t=").concat(n));if(!r.ok)throw new Error("HTTP ".concat(r.status));return await r.json()}catch(e){return console.warn("Error fetching embed config",e),null}var e}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}get disableOnAd(){var e,t;return null!==(e=null===(t=this.matchedExperiment)||void 0===t?void 0:t.disableExperimentForAd)&&void 0!==e&&e}get minEmbedWidth(){var e;return null===(e=this.__embedConfig.get())||void 0===e?void 0:e.minEmbedWidth}get embedConfig(){return this.__embedConfig.get()}get loading(){return this.__loading.get()}get windowWidth(){return this._playerSize.windowWidth}get domain(){return(0,O.Ln)((0,O.IN)())}get videoId(){return this._config.get("videoId")}get queryParams(){return(0,r.al)(window.location.href)}get matchedExperiment(){const e=this.__embedConfig.get();if(e)return e.experiments.find((e=>{return t=e.conditions,n=this.domain,r=this.videoId,i=this.queryParams,DS(t.domains,n)&&DS(t.videoIds,r)&&((e,t)=>0===e.length||e.some((e=>{let{parameter:n,values:r}=e;const i=t[n];return!!i&&r.includes(i)})))(t.queryParams,i);var t,n,r,i}))}get isBlockingRule(){return Boolean(this._playOptions.getErrorEventDetails())}get isExperimentEnabled(){var e;return!this.isBlockingRule&&(141===(null===(e=this._playOptions.data)||void 0===e||null===(e=e.meta)||void 0===e?void 0:e.appearance_id)&&(!(void 0!==this.minEmbedWidth&&this.windowWidth<this.minEmbedWidth)&&((!this.disableOnAd||!this.isShowAdvert)&&Boolean(this.matchedExperiment))))}get link(){const e=this.matchedExperiment;if(!e)return"";const{utm_source:t,utm_medium:n,utm_campaign:r,utm_term:i}=e.config,o=((e,t)=>"string"==typeof e?e:t?e.mob:e.web)(r,H.B.isMobile),a="".concat(window.location.origin,"/video/").concat(this.videoId),s=new URLSearchParams({utm_source:t,utm_medium:n,utm_campaign:o,utm_content:this.videoId});return i&&s.set("utm_term",this.domain),((e,t)=>{const n=e.includes("?")?"&":"?";return"".concat(e).concat(n).concat(t.toString())})(a,s)}redirectClick(e){e.preventDefault(),e.stopPropagation(),this._playback.pause();const t=this._playback.currentTime,n=(0,O.Qv)(this.link);if(!n)return;const r=new URLSearchParams((0,l.A)({t:t.toString()},Object.fromEntries(n.searchParams)));n.search=r.toString(),window.open(n.toString(),"_blank")}get communicationBannerSkip(){var e,t;const n=this.__embedConfig.get();return!!n&&(null!==(e=null===(t=n.communication)||void 0===t||null===(t=t.banner)||void 0===t||null===(t=t.skip)||void 0===t?void 0:t.includes(this.domain))&&void 0!==e&&e)}}FS=jS,({e:[HS],c:[US,VS]}=(0,k.A)(FS,[(0,I.k_)({implement:"IEmbedExternalConfigPlugin",ctor_args:["IPlayerConfigPlugin","IPlayback","IPlayerSizePlugin",{implement:"IAdvertPlugin",optional:!0},"IDataPlugin"]})],[[(0,I.o7)(),2,"init"],[[P.XI,P.XI.bound],18,"redirectClick"]],0,void 0,BS)),VS();function WS(e){var n;let{wrapperRef:r}=e;const i=(0,t.useRef)(!1),o=(0,fr.ei)("IEmbedExternalConfigPlugin"),a=null!==(n=null==o?void 0:o.isExperimentEnabled)&&void 0!==n&&n;(0,t.useEffect)((()=>{if(!o)return;const e=r.current;if(!e||!a)return;const t=e=>{i.current||(o.redirectClick(e),i.current=!0)};return e.addEventListener("click",t),e.addEventListener("touchend",t),e.addEventListener("contextmenu",t),()=>{e.removeEventListener("click",t),e.removeEventListener("touchend",t),e.removeEventListener("contextmenu",t)}}),[o,a,r])}const zS=(0,Jn.PA)((e=>{let{children:n}=e;const r=(0,fr.Ks)("IEmbedPlugin"),{loading:i}=r,[o,a]=tb(void 0,!0,.01);return(0,t.useEffect)((()=>{r.visible=a||!1}),[r,a]),WS({wrapperRef:o}),t.createElement("div",{ref:o,className:LS,"data-testid":"embed-wrapper"},i?t.createElement(jo,null):n)}));class GS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;this.__name=void 0,this.__messagesAtom=void 0,this.__type=void 0,this.__data=void 0,this.onMessage=e=>{var t,n;if("string"!=typeof e.data)return;let r;try{r=JSON.parse(e.data)}catch(e){return}this.hasEvent(null===(t=r)||void 0===t?void 0:t.type)&&(this.__type=r.type,this.__data=r.data,null===(n=this.__messagesAtom)||void 0===n||n.reportChanged())},this.__name=e,this.__messagesAtom=(0,P.MN)("postMessages",(()=>{t.addEventListener("message",this.onMessage)}),(()=>{t.removeEventListener("message",this.onMessage)}))}get __events(){return{pause:"".concat(this.__name,":pause"),play:"".concat(this.__name,":play"),advertPlay:"".concat(this.__name,":advert-play"),skipAd:"".concat(this.__name,":skipAd"),advertPause:"".concat(this.__name,":advert-pause"),setCurrentTime:"".concat(this.__name,":setCurrentTime"),seek:"".concat(this.__name,":relativelySeek"),mute:"".concat(this.__name,":mute"),unmute:"".concat(this.__name,":unMute"),setVolume:"".concat(this.__name,":setVolume"),stop:"".concat(this.__name,":stop"),suspend:"".concat(this.__name,":suspend"),wakeUp:"".concat(this.__name,":wakeup"),changeVideo:"".concat(this.__name,":changeVideo"),setSkinColor:"".concat(this.__name,":setSkinColor"),refetchPlayOptions:"frame:checkOptions",iframeLoaded:"frame:loaded",bitrateSwitch:"".concat(this.__name,":bitrateSwitch"),fullscreen:"".concat(this.__name,":changeFullscreen"),jwt:"".concat(this.__name,":setJwt"),uuid:"".concat(this.__name,":setUuid"),profile:"".concat(this.__name,":profile"),userData:"".concat(this.__name,":setUserData"),showControls:"".concat(this.__name,":showControls"),hideControls:"".concat(this.__name,":hideControls"),changeQuality:"".concat(this.__name,":changeQuality"),platformSubscriptionStart:"".concat(this.__name,":subscriptionStart"),platformSubscriptionCancel:"".concat(this.__name,":subscriptionCancel"),enterToPiP:"".concat(this.__name,":enterToPiP"),exitFromPiP:"".concat(this.__name,":exitFromPiP"),getStatisticsRequest:"".concat(this.__name,":getStatisticsRequest"),enterFullscreen:"".concat(this.__name,":enterFullscreen"),exitFullscreen:"".concat(this.__name,":exitFullscreen"),promoInterrupt:"".concat(this.__name,":promoInterrupt"),enterNakedMode:"".concat(this.__name,":enterNakedMode"),exitNakedMode:"".concat(this.__name,":exitNakedMode")}}hasEvent(e){return Object.values(this.__events).includes(e)}subscribe(e,t){return(0,P.mJ)((()=>(this.__messagesAtom.reportObserved(),{isNeedToHandleMessage:this.__events[e]===this.__type})),(e=>{let{isNeedToHandleMessage:n}=e;n&&t(this.__data||{})}))}}var qS;let KS,YS,XS;class QS extends I.j8{constructor(e,t,n,r,i){super(),this.__playback=void KS(this),this._videoId=void 0,this._events=void 0,this._advert=i,this._videoId=e.value,this.__playback=t,this._events=new GS(n.value,null==r?void 0:r.value)}playSubscribe(){return this._events.subscribe("play",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__playback.play()}))}init(){const e=this.playSubscribe(),t=this._events.subscribe("pause",(e=>{let{videoId:t}=e;var n;t&&t!==this._videoId||(this.__playback.pause(),null===(n=this._advert)||void 0===n||n.pause())})),n=this._events.subscribe("stop",(()=>{this.__playback.seek(this.__playback.duration+1)})),r=this._events.subscribe("seek",(e=>{let{videoId:t,time:n}=e;t&&t!==this._videoId||(n>=0?this.__playback.seekForward(n):this.__playback.seekBack(Math.abs(n)))})),i=this._events.subscribe("mute",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__playback.muted||this.__playback.handleMuted()})),o=this._events.subscribe("unmute",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__playback.muted&&this.__playback.handleMuted()})),a=this._events.subscribe("setVolume",(e=>{let{videoId:t,change:n,volume:r}=e;t&&t!==this._videoId||(r&&this.__playback.handleVolume(100*r),n&&this.__playback.handleVolume(Math.max(Math.min(100*((this.__playback.volume||0)+n),100),0)))})),s=[];return s.push(t,e,n,r,i,o,a),()=>{s.forEach((e=>e()))}}initCurrentTime(){return this.initCurrentTimeHandler()}initCurrentTimeHandler(){return this._events.subscribe("setCurrentTime",(e=>{let{videoId:t,time:n}=e;if(!t||t===this._videoId){const e=this.__playback.duration;if(n>=0&&e){const t=n>e?e-zi.Vc:n;this.__playback.seek(t)}}}))}}var ZS;let JS,$S,eA;qS=QS,({e:[KS],c:[XS,YS]}=(0,k.A)(qS,[(0,I.k_)({implement:"IExternalEventsPlugin",ctor_args:["VideoId","IPlayback","ExternalEventsNamespace",{implement:"EventBus",optional:!0},{implement:"IAdvertPlugin",optional:!0}]})],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"initCurrentTime"]],0,void 0,I.j8)),YS();ZS=class extends XS{constructor(e,t,n,r,i,o,a,s,l,u,c,d,h,p,m){super((0,I.Yk)()(a.get("videoId")),r,c,p,s),this.__playOptions=void JS(this),this.__appearance=void 0,this.__stubPlugin=void 0,this.__controls=void 0,this.__provider=void 0,this.__config=void 0,this.__sharePlugin=void 0,this.__advert=void 0,this.__pip=void 0,this.__counterHelper=void 0,this.__infoLayer=void 0,this.__isWaitingPlaybackPlugin=void 0,this.__playback=void 0,this._fullscreen=m,this.__config=a,this.__playOptions=e,this.__appearance=t,this.__stubPlugin=n,this.__playback=r,this.__controls=o,this.__provider=i,this.__sharePlugin=l,this.__pip=u,this.__counterHelper=d&&d instanceof ol?d.counterHelper:void 0,this.__infoLayer=h}playSubscribe(){return this._events.subscribe("play",(e=>{var t;let{videoId:n}=e;var r,i;if("show"!==(null===(t=this.__advert)||void 0===t?void 0:t.currentState)&&(!n||n===this._videoId))if(null!==(r=this.__advert)&&void 0!==r&&r.currentAdvert)null!==(i=this.__advert)&&void 0!==i&&i.isPlaying||this.__advert.resume();else if(!this.__playback.isPlaying){const e=()=>{var e,t;return Boolean((null===(e=this.__playback)||void 0===e?void 0:e.duration)&&!isNaN(null===(t=this.__playback)||void 0===t?void 0:t.duration))};e()?this.__playback.playWithHandlePermissions():(this.__isWaitingPlaybackPlugin=(0,P.z7)(e),this.__isWaitingPlaybackPlugin.then((()=>{this.__playback.playWithHandlePermissions()})).catch(console.warn))}}))}initPlugin(){const e=(0,P.mJ)((()=>this.__config.get("videoId")),(e=>{this._videoId=e})),t=this._events.subscribe("refetchPlayOptions",(e=>{let{videoId:t}=e;var n;t&&t!==this._videoId||(null===(n=this.__playOptions)||void 0===n||n.fetchPlayOptions(!1))})),n=this._events.subscribe("iframeLoaded",(e=>{let{videoId:t}=e;t&&t!==this._videoId||this.__stubPlugin.stub&&"iframe"===this.__stubPlugin.stub.type&&this.__stubPlugin.setStub("iframe",(0,l.A)((0,l.A)({},this.__stubPlugin.stub.params),{},{isIframeLoaded:!0}))})),r=this._events.subscribe("setSkinColor",(e=>{let{color:t,videoId:n}=e;n&&n!==this._videoId||(this.__appearance.skinColor=t)})),i=this._events.subscribe("enterNakedMode",(()=>{this.__controls.isNakedMode=!0})),o=this._events.subscribe("exitNakedMode",(()=>{this.__controls.isNakedMode=!1})),a=this._events.subscribe("showControls",(()=>{this.__controls.isAllowControls=!0})),s=this._events.subscribe("hideControls",(()=>{this.__controls.isAllowControls=!1})),u=this._events.subscribe("suspend",(()=>{var e;null!==(e=this.__provider.provider)&&void 0!==e&&e.instance&&"stopLoad"in this.__provider.provider.instance&&(this.__playback.pause(),this.__provider.provider.instance.stopLoad())})),c=this._events.subscribe("wakeUp",(()=>{var e;null!==(e=this.__provider.provider)&&void 0!==e&&e.instance&&"startLoad"in this.__provider.provider.instance&&(this.__provider.provider.instance.startLoad(),this.__playback.play())})),d=this._events.subscribe("changeQuality",(e=>{let{quality:t}=e;const n=this.__provider.qualities.find((e=>t===lo&&e.value===t||e.value===t+"p"));n&&n.index&&this.__provider.changeQuality(n.index,n.level)})),h=this._events.subscribe("changeVideo",(e=>{let{id:t,params:n}=e;const{hash:r,p:i,quality:o}=n||{},a=t||r,s=()=>{if(i&&void 0!==this.__sharePlugin&&(this.__sharePlugin.pepper=i),o){const e=this.__provider.qualities.find((e=>o===lo&&e.value===o||e.value===o+"p"));e&&e.index&&this.__provider.changeQuality(e.index,e.level)}};if(a&&a!==this._videoId){const e=(0,P.mJ)((()=>({videoId:this.__config.get("videoId"),isProviderInit:this.__provider.isProviderInit,isPlayerReady:this.__playback.isPlayerReady})),(t=>{let{isProviderInit:n,isPlayerReady:r}=t;n&&r&&(s(),e())}))}else s()})),p=this._events.subscribe("platformSubscriptionStart",(()=>{var e;null===(e=this.__advert)||void 0===e||e.disableAdvertPlaying()})),m=this._events.subscribe("platformSubscriptionCancel",(()=>{var e;null===(e=this.__advert)||void 0===e||e.enableAdvertPlaying()})),v=this._events.subscribe("enterToPiP",(e=>{let{videoId:t}=e;var n;t&&t!==this._videoId||(null===(n=this.__pip)||void 0===n||n.enterToPiP())})),_=this._events.subscribe("exitFromPiP",(e=>{let{videoId:t}=e;var n;t&&t!==this._videoId||(null===(n=this.__pip)||void 0===n||n.exitFromPiP())})),f=this._events.subscribe("enterFullscreen",(()=>{this._fullscreen&&this._fullscreen.enterFullscreen()})),g=this._events.subscribe("exitFullscreen",(()=>{this._fullscreen&&this._fullscreen.exitFullscreen()})),b=this._events.subscribe("skipAd",(()=>{var e,t;null===(e=this.__advert)||void 0===e||null===(t=e.skipAd)||void 0===t||t.call(e)}));return()=>{[b,e,t,n,r,a,s,u,c,d,h,p,m,v,_,f,g,i,o].forEach((e=>e())),this.__isWaitingPlaybackPlugin&&(this.__isWaitingPlaybackPlugin.cancel(),this.__isWaitingPlaybackPlugin=void 0)}}initCurrentTimeHandler(){return this._events.subscribe("setCurrentTime",(e=>{let{videoId:t,time:n,source:r}=e;if((!t||t===this._videoId)&&(this.__playback.seek(n,r),this.__controls.activeChapter)){var i;const{start:e,name:t}=this.__controls.activeChapter;if(!t)return;const n="".concat((0,__.a3)({value:e})," â€” ").concat(t);var o;if(null===(i=this.__infoLayer)||void 0===i||i.setActiveInfo({label:n}),r&&["chapters","description"].includes(r))null===(o=this.__counterHelper)||void 0===o||o.get("chapters"===r?"mainChaptersMenuClick":"mainChaptersDescriptionClick")()}}))}},({e:[JS],c:[eA,$S]}=(0,k.A)(ZS,[(0,I.k_)({implement:"IExternalEventsPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IAppearancePlugin","IStubPlugin","IPlayback","IProviderPlugin","IControlsPlugin","IPlayerConfigPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"ISharePlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},"ExternalEventsNamespace",{implement:"IStatisticState",optional:!0},{implement:"IInfoLayerPlugin",optional:!0},{implement:"EventBus",optional:!0},"IFullscreenPlugin"]})],[[(0,I.o7)(),2,"initPlugin"]],0,void 0,XS)),$S();const tA=function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"em":"";return{r:H.B.isMobile?"pl".concat(e,"wm"):"pl".concat(e,"wd")}};function nA(e){try{return window.navigator.clipboard.writeText(e)}catch(t){return new Promise((t=>t(((e,t)=>{const n=document.createElement("textarea");if(n.value=e,n.style.position="absolute",n.style.left="-9999px",n.setAttribute("readonly",""),document.body.appendChild(n),t){const t=document.createRange();t.selectNodeContents(n);const r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(t),n.setSelectionRange(0,e.length))}else n.select();try{return document.execCommand("copy")}catch(e){return!1}finally{document.body.removeChild(n)}})(e,!0))))}}var rA;let iA,oA;class aA extends I.j8{constructor(e,t,n,r){var i;super(),this.__eventEmitter=void 0,this.__dataPlugin=void 0,this.__isEmbed=void 0,this.__playback=void 0,this.__externalUrl=void 0,this.__dataPlugin=e,this.__playback=t,this.__isEmbed=null!==(i=null==n?void 0:n.value)&&void 0!==i&&i,this.__eventEmitter=new xa,this.__externalUrl=r.get("shareUrl"),this.seekToStart=this.seekToStart.bind(this),this.emit=this.emit.bind(this),this.claim=this.claim.bind(this),this.copyTechInfo=this.copyTechInfo.bind(this),this.copyLink=this.copyLink.bind(this),this.copyLinkAtTime=this.copyLinkAtTime.bind(this),this.copyTag=this.copyTag.bind(this),this.hotkeysManual=this.hotkeysManual.bind(this),this.toggleTechInfo=this.toggleTechInfo.bind(this),this.replay=this.replay.bind(this),this.reportError=this.reportError.bind(this),this.loopVideo=this.loopVideo.bind(this)}seekToStart(){this.__playback.isPlaying||this.__playback.play(),this.__playback.progress<100&&this.__playback.seek(0)}emit(e,t){return this.__eventEmitter.emit(e,t)}on(e,t){return this.__eventEmitter.on(e,t),()=>this.off(e,t)}off(e,t){this.__eventEmitter.off(e,t)}get videoUrl(){var e;return(null===(e=this.__dataPlugin.data)||void 0===e?void 0:e.video_url)||""}get duration(){return this.__playback.duration}get progress(){return this.__playback.progress}get videoId(){var e;return(null===(e=this.__dataPlugin.data)||void 0===e?void 0:e.video_id)||""}get isLooping(){return this.__playback.isLooping}claim(){const e=encodeURIComponent(this.videoUrl||""),t="https://rutube.ru/forms/invalid-content/?id=".concat(this.videoUrl,"&content_type=video&video_link=").concat(e);this.emit(yr.claim,null);const n=window.open(t,"_blank");n&&n.focus()}loopVideo(){this.emit(yr.repeatVideo,null),this.__playback.isLooping=!this.__playback.isLooping}copyTechInfo(){this.emit(yr.copyTechInfo,null)}copyLink(){if(this.emit(yr.copyLink,null),this.__externalUrl)nA(this.__externalUrl).catch((e=>console.warn(e)));else if(this.videoUrl){const e=tA(this.__isEmbed),t=(0,r.Kj)(e);nA("".concat((0,O.nu)(this.videoUrl),"?").concat(t.toString())).catch((e=>console.warn(e)))}}copyLinkAtTime(){const e=tA(this.__isEmbed);if(this.emit(yr.copyLinkAtTime,null),this.videoUrl){var t;const n=this.progress&&this.duration?Math.round(this.duration*this.progress/100):0,r=(0,O.Qv)((0,O.nu)(this.videoUrl));Object.entries((0,l.A)({t:n},e)).forEach((e=>{let[t,n]=e;return void 0!==n&&(null==r?void 0:r.searchParams.append(t,n))})),nA(null!==(t=null==r?void 0:r.toString())&&void 0!==t?t:"").catch((e=>console.warn(e)))}}copyTag(){this.emit(yr.copyCode,null);nA(((e,t)=>{var n;const r=(0,O.Qv)(t||"",window.location.origin),i=window.location.origin,o=null==r||null===(n=r.searchParams)||void 0===n?void 0:n.get("p");return'\n      <iframe\n        width="720"\n        height="405"\n        src="'.concat(i,"/play/embed/").concat(e).concat(o?"/?p=".concat(encodeURIComponent(o)):"",'"\n        style="border: none;"\n        allow="clipboard-write; autoplay"\n        allowFullScreen\n      ></iframe>\n    ')})(this.videoId,this.videoUrl)).catch((e=>console.warn(e)))}hotkeysManual(){const e=window.open("https://rutube.ru/info/hotkeys","_blank");e&&e.focus()}toggleTechInfo(){this.emit(yr.toggleTechInfo,null)}replay(){this.emit(yr.replay,null),this.seekToStart()}reportError(){this.emit(yr.reportError,null);const e=window.open("https://rutube.ru/forms/problem/","_blank");e&&e.focus()}}var sA;let lA,uA;rA=aA,[oA,iA]=(0,k.A)(rA,[(0,I.k_)({implement:"IExtraActionsPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"IsEmbed",optional:!0},"IPlayerConfigPlugin"]})],[],0,void 0,I.j8).c,iA();function cA(e){return e(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IDataPlugin")}sA=class extends oA{constructor(e,t,n,r,i){super(e,t,n,i),this.__playback=void 0,this._activities=r,this.__playback=t}seekToStart(){this.__playback.isPlaying||this.__playback.play(),this.__playback.progress<100&&(this.__playback.seek(0),this.__playback.sendStartStat())}replay(){this._activities.resetInteractiveFragment(),super.replay()}},[uA,lA]=(0,k.A)(sA,[(0,I.k_)({implement:"IExtraActionsPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"IsEmbed",optional:!0},"IActivitiesPlugin","IPlayerConfigPlugin"]})],[],0,void 0,oA).c,lA();const dA=[{names:["{{authorid}}"],selector:e=>{var t;return String((null===(t=cA(e))||void 0===t||null===(t=t.author)||void 0===t?void 0:t.id)||"")}},{names:["{{trackid}}"],selector:e=>String(cA(e).id||"")},{names:["{{dl}}"],selector:e=>{var t;return String((null===(t=cA(e))||void 0===t?void 0:t.referer)||"")}},{names:["{{video_id}}"],selector:e=>{var t;return String((null===(t=cA(e))||void 0===t?void 0:t.video_id)||"")}},{names:["{{live}}"],selector:()=>"0"},{names:["{{viewer_id}}","{{viewer}}"],selector:e=>{var t;return String((null===(t=cA(e))||void 0===t?void 0:t.viewer)||"")}},{names:["{{full_referer}}"],selector:e=>{var t;return(null===(t=cA(e))||void 0===t?void 0:t.referer)||""}}],hA=e=>e("IStatisticAggregatorPlugin"),pA=e=>e("IPlayback"),mA=[{names:["{{fts}}"],selector:e=>String(Math.floor(pA(e).currentTime||0))},{names:["{{contentCurrentPosition}}","{{playback.position}}"],selector:e=>{const t=pA(e);return String(Math.floor(t.fragmentTime?t.fragmentTime/1e3:t.currentTime||0))}},{names:["{{final}}"],selector:e=>hA(e).final?"1":"0"},{names:["{{audio_vol}}"],cyclic:{selector:e=>hA(e).volumeChanges},selector:e=>{const t=pA(e),n=t.muted?0:t.volume;return n>=0?String(Math.round(100*n)):""}},{names:["{{play_speed}}"],cyclic:{selector:e=>hA(e).playbackRate},selector:e=>pA(e).playbackRate.toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:0})||"1"},{names:["{{player_width}}"],selector:e=>{const t=pA(e).player.offsetWidth||0;return String(t)}},{names:["{{player_height}}"],selector:e=>{const t=pA(e).player.offsetHeight||0;return String(t)}}],vA=[{cyclic:{selector:e=>hA(e).eventActionsRange},selector:e=>hA(e).lastEventAction,names:["{{event_action}}"]},{names:["{{range_start}}"],cyclic:{selector:e=>hA(e).startRanges},selector:e=>hA(e).lastStartRange},{names:["{{range_end}}"],cyclic:{selector:e=>hA(e).endRanges},selector:e=>hA(e).lastEndRange},{names:["{{watchtime}}"],selector:e=>hA(e).watchTime}];class _A{constructor(){this.__puidSegments="",this._inited=!1}init(){if(this._inited)throw new Error("[PuidSegments] has already been initialized.");return this.setPuidSegments()}async setPuidSegments(){try{const e=Xm.A.get("puid_segments");if(e)this.__puidSegments=e;else{const e=await(async()=>{try{const e=await fetch("https://pretarg.adhigh.net/v1/segs",{credentials:"include"});return(await e.json()).segs}catch(e){return console.warn("fetchSegments",e),[]}})().catch(console.warn);if(!e)return;this.__puidSegments=e.join(":"),Xm.A.set("puid_segments",this.__puidSegments,{expires:1})}this._inited=!0}catch(e){console.warn("PUID segments fetch error",e)}}get puidSegments(){return this.__puidSegments}}const fA=new en("Player Metrics");var gA,bA;let yA,EA,wA,SA;new(bA=class extends I.j8{constructor(e){super(),this._resolve=void yA(this),this._stat=P.sH.box([]),this._statApi=P.sH.box([]),this._statAdditional=P.sH.box([]),this._followedLink=P.sH.box(""),this._rlineId=P.sH.box(""),this._viewId=void 0,this._gaCid=void 0,this._puidSegments=void 0,this._resolve=e.value,this._viewId=Math.trunc(Math.random()*Math.pow(10,10))+""+Math.trunc(Date.now()/1e3),this._puidSegments=new _A,(0,P.Gn)(this,{stat:P.EW,statApi:P.EW,statistics:P.EW,intervalEvents:P.EW,followedLink:P.EW,rlineId:P.EW,hbIntervalEvents:P.EW,statAdditional:P.EW})}init(){this._puidSegments.init().catch(console.warn),this.setGaCid()}setGaCid(){try{const e=(Xm.A.get("_ga")||"").match(/(\d+\.\d+)$/);this._gaCid=e?e[1]:""}catch(e){console.warn("_ga cookie error",e)}}get stat(){return this._stat.get()}set stat(e){this._stat.set(e)}get statApi(){return this._statApi.get()}set statApi(e){this._statApi.set(e)}get statAdditional(){return this._statAdditional.get()}set statAdditional(e){this._statAdditional.set(e)}get rawStatistic(){return[...this.stat,...this.statApi,...this.statAdditional]}get statistics(){return this.rawStatistic.reduce(((e,t)=>(e[t.name]=e[t.name]||[],e[t.name].push(t),e)),{})}get statEvents(){return this.statistics.statevent?this.statistics.statevent:[]}get loadEvents(){return this.statistics.statload?this.statistics.statload:[]}get intervalEvents(){let e=[];return this.statistics.heartbeat&&(e=[...this.statistics.heartbeat]),this.statistics.watchtime&&(e=[...e,...this.statistics.watchtime]),this.statistics.video_heartbeat&&(e=[...this.statistics.video_heartbeat]),e}get hbIntervalEvents(){var e;return null!==(e=this.statistics.hb_intervals_stat)&&void 0!==e?e:[]}get followedLink(){return this._followedLink.get()}set followedLink(e){this._followedLink.set(e)}get rlineId(){return this._rlineId.get()}set rlineId(e){this._rlineId.set(e)}get viewId(){return this._viewId}get gaCid(){return this._gaCid}get puidSegments(){return this._puidSegments.puidSegments}getSessionId(){return(0,e.u0)((0,e.fL)(),(e=>fA.log("New session_id generated. sessionId: '".concat(e,"'"))))}getPageLoadId(){return(0,e.$t)()}getCid(){return(0,e.fL)()}},({e:[yA],c:[SA,EA]}=(0,k.A)(bA,[(0,I.k_)({implement:"IStatisticStore",ctor_args:["Resolve"]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),wA=bA,(gA=class extends ft{constructor(){super(SA),this.useStatisticStore=()=>(0,fr.Ks)("IStatisticStore"),this.getStatisticStore=e=>e("IStatisticStore"),EA()}})[wA]=void 0,gA);const AA=[{names:["{{cid}}"],selector:e=>No.getStatisticStore(e).uuid},{names:["{{viewer_id}}","{{view_id_loc}}"],selector:e=>{var t;return(null===(t=No.getStatisticStore(e).userId)||void 0===t?void 0:t.toString())||""}},{names:["{{playlist_id}}"],selector:e=>{var t;return(null===(t=No.getStatisticStore(e).playlistId)||void 0===t?void 0:t.toString())||""}},{names:["{{resource_id}}"],selector:e=>{var t;return String((null===(t=No.getStatisticStore(e))||void 0===t?void 0:t.followedResourceId)||"")}},{names:["{{pid}}"],selector:e=>{var t;return String((null===(t=No.getStatisticStore(e))||void 0===t?void 0:t.guid)||"")}},{names:["{{is_backgr_player}}"],selector:e=>{var t;return String(null!==(t=No.getStatisticStore(e))&&void 0!==t&&t.isBackground?1:0)}}],CA=e=>e("IStatisticStore");const kA=[{getter:e.kJ,names:["{{fingerprint_id}}"]},{selector:e=>CA(e).getPageLoadId(),names:["{{pageload_id}}"]},{names:["{{url_location}}","{{full_url}}","{{referer_loc}}"],getter:()=>window.location.href},{names:["{{ru_session_id}}","{{session_id}}"],selector:e=>CA(e).getSessionId()},{names:["{{ru_cid}}","{{user_agent_id}}"],selector:e=>CA(e).getCid()},{names:["{{user_agent_cl}}"],getter:()=>{var e;return null!==(e=window.navigator.userAgent)&&void 0!==e?e:"na"}},{names:["{{VTSmmm}}"],getter:()=>(new Date).getTime().toString()},{names:["{{time_zone}}"],getter:Zm},{names:["{{event_source}}"],getter:()=>"rutube"},{names:["{{device_orientation}}"],getter:()=>{try{return window.matchMedia("(orientation: landscape)").matches?"H":window.matchMedia("(orientation: portrait)").matches?"V":"N"}catch(e){return"N"}}},{names:["{{random_int}}"],getter:()=>String(Nl())},{names:["{{random}}"],getter:()=>String(Math.random())},{names:["{{vts}}","{{vision_time_stamp}}"],getter:()=>String(Math.floor(Date.now()/1e3))},{names:["{{toggle}}"],selector:()=>parseInt(_o.getItem("raichu-autoplay-next")||"",10)?"on":"off"},{names:["{{position}}"],getter:()=>""},{names:["{{ab_tag}}"],getter:()=>(e=>{const t=Xm.A.get(e),n=[];if(t)try{const e=JSON.parse(t);for(const t in e){var r;n.push({id:t,group:null===(r=e[t])||void 0===r?void 0:r.active})}}catch(e){console.warn("statistics",e)}return JSON.stringify(n)})("canary1")},{names:["{{player_name}}"],getter:()=>"raichu"},{names:["{{screen_name}}"],getter:()=>window.location.pathname},{names:["{{aOris}}"],getter:function(){const e=(0,O.jh)();return e.length?e.map((e=>encodeURIComponent((null==e?void 0:e.toString())||""))).join(","):""}},{names:["{{cvid}}"],selector:e=>{const t=CA(e).getCid(),{loadedTimeStamp:n,viewCount:r}=(e=>{const t=e("IStatisticState");return t instanceof Xn?t:null})(e)||{};return"".concat(t,"_").concat(String(n),"_").concat(String(r))}},{names:["{{doc_ref}}"],getter:()=>document.referrer||""},{names:["{{ver}}"],selector:()=>"2.102.0"},{names:["{{pl_w}}"],selector:e=>{var t;const n=Ew(e);return null!==(t=n.size)&&void 0!==t&&t.width?n.size.width.toString():""}},{names:["{{pl_h}}"],selector:e=>{var t;const n=Ew(e);return null!==(t=n.size)&&void 0!==t&&t.height?n.size.height.toString():""}}],PA=["names","cyclic"];var IA;let TA,xA;class RA extends I.j8{constructor(e,t){super(),this.__resolve=void 0,this.resolveCustomPlaceholders=e=>{const t=(e=>e("IPlayerConfigPlugin"))(e).get("placeholders");return t?Object.keys(t).map((e=>{let n="";return t[e]&&(n=t[e].toString()),{names:["{{".concat(e,"}}")],getter:()=>n}})):[]},this._playerVersion=t,this.__resolve=e.value,this.resolveCommonPlaceholders=this.resolveCommonPlaceholders.bind(this)}getPlaceholders(){return kA.concat((e=>{let{versionName:t}=e;return[{names:["{{ga_cid}}"],selector:e=>{var t;return String((null===(t=SA.getStatisticStore(e))||void 0===t?void 0:t.gaCid)||"")}},{names:["{{puid50}}"],selector:e=>SA.getStatisticStore(e).puidSegments},{names:["{{appv}}"],getter:()=>t}]})({versionName:this._playerVersion.value})).concat(AA).concat(dA).concat(mA).concat(vA)}makePlaceholderResolvers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getPlaceholders().map((t=>{let{names:n,cyclic:r}=t,i=(0,V.A)(t,PA);const{selector:o,getter:a}=e&&r?r:i;return{names:n,value:a?a():o?o(this.__resolve):""}}))}resolveCommonPlaceholders(e){const t=this.makePlaceholderResolvers();return Pn(e,t,!0)}}IA=RA,[xA,TA]=(0,k.A)(IA,[(0,I.k_)({implement:"IPlaceholdersState",ctor_args:["Resolve","PlayerVersion"]})],[],0,void 0,I.j8).c,TA();const LA=e=>{try{return e("IEndScreenPlugin")}catch(e){return null}},OA=[{names:["{{endscreen_videos}}"],selector:e=>{var t;return(null===(t=LA(e))||void 0===t||null===(t=t.nextVideo)||void 0===t?void 0:t.id)||""}},{names:["{{content_next_item_id}}"],selector:e=>{var t;return JSON.stringify((null===(t=LA(e))||void 0===t?void 0:t.recommendations.map((e=>e.video.id)))||[])}}];const NA=e=>e("IAdvertStatPlugin");a(9139);const MA=[{criteria:{name:"blocking_rule_11520617"},data:{fatal:!1,type:"pending_stream",message:"Stream is going to be started in time"}},{criteria:{type:"source_deactivated"},data:{fatal:!0,type:"source_deactivated",message:"Video is not available anymore"}},{criteria:{type:"paid_access"},data:{fatal:!0,type:"payment_required",message:"This video is available for users with paid subscription only"}},{criteria:{name:"user_deleted_video"},data:{fatal:!0,type:"deleted_by_user",message:"This video was deleted by user"}},{criteria:{name:"moder_deleted_video"},data:{fatal:!0,type:"deleted_by_platform_support",message:"This video was deleted by platform support team"}},{criteria:{type:"blocking_rule"},data:{fatal:!0,type:"blocked_by_copyright",message:"This video was hidden because of copyright reasons (please check your VPN connection)."}},{criteria:{name:"delete_roskomnadzor"},data:{fatal:!0,type:"deleted_by_rkn",message:"This video was deleted automatically because of RKN rules"}},{criteria:{name:"stream_access_fail"},data:{fatal:!1,type:"stream_not_started",message:"Stream is not started yet, please wait a bit"}},{criteria:{name:"stream_yet_finished"},data:{fatal:!1,type:"stream_finished",message:"Stream has been finished just yet. You need to wait some time and refresh the page in order to get VOD"}},{criteria:{name:"delete_by_rightholder"},data:{fatal:!0,type:"blocked_by_rightholder",message:"This video is not available due to copyright reasons or VPN usage"}}],DA=["xmltimeout","adtimeout"];var BA;let FA,HA,VA;BA=class extends sm{constructor(e,t){super(void 0),this.__movieIndex=(FA(this),0),this.__hasLoadError=P.sH.box(!1),this.__loadError=P.sH.box(""),this.__isPlayOptionsLoaded=P.sH.box(!1),this.__autoplay=P.sH.box(!0),this.__playOptionsRequested=P.sH.box(!1),this.__needToRefetchPlayOptions=P.sH.box(!1),this.isEmbed=!1,this._config=e,this.isEmbed=t.value,(0,P.Gn)(this,{autoplay:P.EW,isPlayOptionsLoaded:P.EW,playOptionsRequested:P.EW,needToRefetchPlayOptions:P.EW,fetchPlayOptions:P.XI,isInteractiveVideo:P.EW,hasLoadError:P.EW,loadError:P.EW})}init(){return(0,P.mJ)((()=>({videoId:this._config.get("videoId"),subscriptions:this._config.get("userPaidSubscription")})),(e=>{let{videoId:t}=e;t&&(this.data=null,(0,P.h5)(this.fetchPlayOptions.bind(this)))}),{fireImmediately:!0})}getErrorEventDetails(){var e,t;return((e,t)=>{const n=MA.find((n=>{let{criteria:r}=n;return r.type&&r.type===t||r.name&&r.name===e}));return null==n?void 0:n.data})(null===(e=this.data)||void 0===e||null===(e=e.detail)||void 0===e?void 0:e.name,null===(t=this.data)||void 0===t||null===(t=t.detail)||void 0===t?void 0:t.type)}initErrorInfo(){return(0,P.mJ)((()=>({data:this.data})),(e=>{let{data:t}=e;if(!t)return;const n=this.getErrorEventDetails();n&&va.Ug.emit(zi.L2.ERROR,n)}))}initRefetchPlayOptions(){return(0,P.mJ)((()=>this.needToRefetchPlayOptions),(e=>{e&&this.fetchPlayOptions()}))}setIsPlayOptionsLoaded(e){this.__isPlayOptionsLoaded.set(e)}setPlayOptionsRequested(e){this.__playOptionsRequested.set(e)}setAutoplay(e){this.__autoplay.set(e)}setHasLoadError(e){this.__hasLoadError.set(e)}setLoadError(e){this.__loadError.set(e)}async fetchPlayOptions(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=jn();try{var n,r,i;this.setIsPlayOptionsLoaded(!1),this.setPlayOptionsRequested(!0),this.setAutoplay(!1),this.needToRefetchPlayOptions=!1;const o=await nv(this._config.get("videoId"),t,{ac_client:"web",ver:"2.102.0"},this.safeModeConfig),a=o;a.color=o.appearance?"#".concat(o.appearance.color):"",a.stat_api=Fn(a.stat_api||[]),a.advert=null!==(n=null===(r=a.advert)||void 0===r?void 0:r.map((e=>{let{xmltimeout:t,adtimeout:n}=e,r=(0,V.A)(e,DA);return(0,l.A)({xmltimeout:Math.max(5,t||0),adtimeout:Math.max(5,n||0)},r)})))&&void 0!==n?n:[],a.origin_type=o.origin_type,a.viewer=o.viewer,o.viewer&&!this._config.get("userId")&&this._config.set("userId",String(o.viewer)),a.meta=o.meta,this.handleAutoplay(Boolean(null==a||null===(i=a.appearance)||void 0===i?void 0:i.auto_start)),Un(a.stat_api),this.setIsPlayOptionsLoaded(!0),this.setPlayOptionsRequested(!1),va.Ug.emit(zi.L2.PLAYOPTIONS_LOADED,{videoId:this._config.get("videoId"),playOptions:o}),this.data=a,e&&(this.__movieIndex+=1)}catch(e){this.setHasLoadError(!0),(e instanceof Error||"string"==typeof e)&&this.setLoadError(e.toString()),console.warn("Player fail to fetch PlayOptions",e)}}get safeModeConfig(){return this._config.get("safeModeConfig")}get movieIndex(){return this.__movieIndex}get hasLoadError(){return this.__hasLoadError.get()}get loadError(){return this.__loadError.get()}get isPlayOptionsLoaded(){return this.__isPlayOptionsLoaded.get()}get autoplay(){return this.__autoplay.get()}get playOptionsRequested(){return this.__playOptionsRequested.get()}set playOptionsRequested(e){this.__playOptionsRequested.set(e)}get appearance(){var e;return(null===(e=this._data.get())||void 0===e?void 0:e.appearance)||null}get authorData(){if(this.author)return(0,l.A)((0,l.A)({},this.author),{},{authorUrl:this.author.url})}get needToRefetchPlayOptions(){return this.__needToRefetchPlayOptions.get()}set needToRefetchPlayOptions(e){this.__needToRefetchPlayOptions.set(e)}handleAutoplay(e){const t=this._config.get("autoplay");this.isEmbed&&void 0!==t?this.setAutoplay(t):this.setAutoplay(e)}get isInteractiveVideo(){return Boolean(this._config.get("interactiveFragments"))}},({e:[FA],c:[VA,HA]}=(0,k.A)(BA,[(0,I.k_)({implement:"IDataPlugin",ctor_args:["IPlayerConfigPlugin","IsEmbed"]})],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"initErrorInfo"],[(0,I.o7)(),2,"initRefetchPlayOptions"],[P.XI,2,"setIsPlayOptionsLoaded"],[P.XI,2,"setPlayOptionsRequested"],[P.XI,2,"setAutoplay"],[P.XI,2,"setHasLoadError"],[P.XI,2,"setLoadError"],[I.zm,2,"fetchPlayOptions"]],0,void 0,sm)),HA();const UA=e=>{const t=e("IDataPlugin");return t instanceof VA?t:null},jA=[{names:["{{mid}}"],selector:e=>{var t;return String((null===(t=UA(e))||void 0===t?void 0:t.movieIndex)||0)}},{names:["{{video_quality}}"],cyclic:{selector:e=>Eu(e).activeQualityValue},selector:e=>Eu(e).activeQualityValue},{names:["{{playback_qualiti}}"],selector:e=>Eu(e).activeQualityValue},{names:["{{live}}"],selector:e=>{var t;return null!==(t=UA(e))&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&null!==(t=t.live_streams)&&void 0!==t&&t.hls?"1":"0"}},{names:["{{viewer_id_na}}"],selector:e=>{var t;return(null===(t=UA(e))||void 0===t||null===(t=t.viewer)||void 0===t?void 0:t.toString())||"na"}},{names:["{{channel_id}}"],selector:e=>{var t;return(null===(t=UA(e))||void 0===t||null===(t=t.authorData)||void 0===t?void 0:t.id.toString())||""}}],WA=[{names:["{{hdom}}"],getter:()=>(0,O.jh)().findLast((e=>!e.includes("localhost")))||"https://rutube.ru"},{names:["{{ad_safe_mode}}"],selector:e=>{var t;return String(null!==(t=is(e))&&void 0!==t&&t.isSafeMode?1:0)}},{names:["{{ads_rule_lim}}"],selector:e=>{var t;return String((null===(t=UA(e))||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.advert_limit_rule_id)||"")}},{names:["{{ads_rule_id}}"],selector:e=>{var t;return String((null===(t=UA(e))||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.advert_rule_id)||"")}},{names:["{{ads_request_id}}"],selector:e=>{var t;return(null===(t=NA(e))||void 0===t?void 0:t.advertUid)||""}},{names:["{{ads_opt}}"],selector:e=>{var t,n;const r=is(e),i=UA(e);return JSON.stringify({advert:null==i||null===(t=i.data)||void 0===t?void 0:t.advert,limits:null==r?void 0:r.limits,meta:null==i||null===(n=i.data)||void 0===n?void 0:n.meta})}},{names:["{{ads_framework}}"],selector:e=>{var t;return(null===(t=NA(e).provider)||void 0===t||null===(t=t.info)||void 0===t?void 0:t.framework)||""}},{names:["{{ad_wt}}"],selector:e=>{var t,n;return String(Math.round((null!==(t=null===(n=NA(e))||void 0===n?void 0:n.watchTime)&&void 0!==t?t:0)/1e3))}},{names:["{{delay}}"],selector:e=>{const t=is(e);return t.currentAdvert?t.currentAdvert.name.startsWith("postroll")?"-2":t.currentAdvert.start.toString():""}},{names:["{{seq}}"],selector:e=>{const t=is(e),{blockState:n}=t;return n?(n.viewed+1).toString():"1"}},{names:["{{ads_viewid}}"],selector:e=>{var t;const n=is(e),r=String(null==n||null===(t=n.currentProvider)||void 0===t||null===(t=t.info)||void 0===t?void 0:t.advertId);return"".concat(r,"_").concat(String(null==n?void 0:n.advertRequestTimestamp),"_").concat(Math.random())}}];function zA(){return(0,fr.Ks)("IPlatformSubscriptionPlugin")}const GA=e=>e("IPlatformSubscriptionPlugin"),qA="remove-ads-module__button___vFtJh",KA="remove-ads-module__small___w5csJ",YA=(0,Jn.PA)((e=>{let{isCustom:n=!1,className:r}=e;const{requestSubscription:i,registerSubscriptionCTAShow:o,buttonProps:{isSmall:a,position:s},canDisableAds:l}=zA(),{getDataAttribute:u}=(0,wi.f)();(0,t.useEffect)((()=>{l&&o()}),[o,l]);const c=e=>{e.preventDefault(),i(zi.JZ.RUTUBE)};return l?n?t.createElement("button",(0,ai.A)({className:r,onClick:c},u(Si.R.DISABLE_ADS_BUTTON)),"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ"):t.createElement("button",(0,ai.A)({style:{bottom:s},className:er()(qA,{[KA]:a}),onClick:c},u(Si.R.DISABLE_ADS_BUTTON)),"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ"):null})),XA=[657766,23460655,23606264,26302101,23178409];var QA,ZA,JA;let $A,eC,tC,nC;new(JA=class extends(QA=I.j8){constructor(e,t,n,r,i,o,a,s){super(),this._activeSubscriptions=void $A(this),this._playOptions=void 0,this._isOnPlatform=void 0,this._counterHelper=void 0,this._advert=void 0,this._advertStat=void 0,this._playerSize=void 0,this.fullscreen=n,this._playOptions=a,this._activeSubscriptions=(0,P.sH)(e.get("userPaidSubscription")||[]),this._isOnPlatform=!s,this._counterHelper=t&&t instanceof ol?t.counterHelper:void 0,this._advert=r,this._advertStat=i,this._playerSize=o,(0,P.Gn)(this,{buttonProps:P.EW,currentAdvertName:P.EW})}get isSubscriptionActive(){return!!this.activeSubscriptions.length}get videoUrl(){var e;return(null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.video_url)||""}get activeSubscriptions(){return this._activeSubscriptions.filter((e=>!0===e.is_active))}requestSubscription(e){var t,n,r,i;null!==(t=this._advertStat)&&void 0!==t&&t.advert&&(null===(i=this._counterHelper)||void 0===i||i.get("mainPlatformSubscriptionClickRemoveAdsButton")(this._advertStat.getCommonParams(this._advertStat.advert)));const o=null!==(n=null!=e?e:null===(r=this._playOptions)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.detail)||void 0===r||null===(r=r.product_codes)||void 0===r?void 0:r[0])&&void 0!==n?n:null;var a;o&&(this._isOnPlatform&&(this.fullscreen.isFullscreen&&this.fullscreen.handleFullscreen(),va.Ug.emit(zi.L2.SUBSCRIPTION_REQUEST,{productCode:o,place:"removeAds"}),null===(a=this._advert)||void 0===a||a.disableAdvertPlaying()))}handleStubSubscriptionRequest(e){var t;let{productCode:n,type:r}=e;const i={productCode:n,place:"stub",name:(null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.detail)||void 0===t?void 0:t.name)||""};if("show"===r)va.Ug.emit(zi.L2.SUBSCRIPTION_BUTTON_SHOW,i);else this._isOnPlatform&&va.Ug.emit(zi.L2.SUBSCRIPTION_REQUEST,i)}get hasVisibleAdvert(){var e;return Boolean((null===(e=this._advert)||void 0===e?void 0:e.currentAdvert)&&"show"===this._advert.currentState&&this._advert.isLoaded)}get canDisableAds(){var e;const t=(null===(e=this._playOptions)||void 0===e||null===(e=e.author)||void 0===e?void 0:e.id)||null,n=t&&!XA.includes(t);return!this.isSubscriptionActive&&!!n&&this.hasVisibleAdvert}get disableAdsButtonTitle(){return"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ"}get buttonProps(){return nC.calculateButtonProps(this._playerSize.size)}get currentAdvertName(){var e;return null===(e=this._advert)||void 0===e||null===(e=e.currentAdvert)||void 0===e?void 0:e.name}registerSubscriptionCTAShow(){var e;if(!this.hasVisibleAdvert)return;const t=()=>{var e;if(null!==(e=this._advert)&&void 0!==e&&e.currentAdvert){var t,n;const e=null===(t=this._advertStat)||void 0===t?void 0:t.getCommonParams(null===(n=this._advert)||void 0===n?void 0:n.currentAdvert);var r;if(e)null===(r=this._counterHelper)||void 0===r||r.get("mainPlatformSubscriptionShowRemoveAdsButton")(e)}};var n;null!==(e=this._advert)&&void 0!==e&&e.isLoaded?t():null===(n=this._advert)||void 0===n||n.once(Va.load,t)}static calculateButtonProps(e){return{position:(()=>{if(null==e||!e.height)return 140;const t=.1*e.height;return e.height>252?t+70:70})(),isSmall:!(null==e||!e.height)&&(null==e?void 0:e.height)<350}}},({e:[$A],c:[nC,eC]}=(0,k.A)(JA,[(0,I.k_)({implement:"IPlatformSubscriptionPlugin",ctor_args:["IPlayerConfigPlugin","IStatisticState","IFullscreenPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IAdvertStatPlugin",optional:!0},"IPlayerSizePlugin",{implement:"IDataPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0}]})],[[I.zm,2,"requestSubscription"],[I.zm,2,"handleStubSubscriptionRequest"],[I.zm,2,"registerSubscriptionCTAShow"]],0,void 0,QA)),tC=JA,(ZA=class extends ft{constructor(){super(nC),this.RemoveAdsButton=YA,eC()}})[tC]=void 0,ZA);const rC=e=>{let{subscription_id:t}=e;return t},iC=[{names:["{{cs_id_list}}"],selector:e=>{var t;return null===(t=GA(e))||void 0===t?void 0:t.activeSubscriptions.map(rC).join(",")}},{names:["{{cs_id_list_na}}"],selector:e=>{var t;return(null===(t=GA(e))||void 0===t?void 0:t.activeSubscriptions.map(rC).join(","))||"na"}}],oC=[{names:["{{auto_play}}"],selector:e=>{var t;return null!==(t=Ug(e))&&void 0!==t&&t.isAutoplayEnabled?"1":"0"}},{names:["{{toggle}}"],selector:e=>{var t;return null!==(t=Ug(e))&&void 0!==t&&t.isAutoplayEnabled?"on":"off"}}];class aC extends xA{getPlaceholders(){return super.getPlaceholders().concat([{names:["{{referral_rutube}}"],selector:e=>{var t;return(null===(t=No.getStatisticStore(e))||void 0===t?void 0:t.followedLink)||""}},{names:["{{yclid}}"],getter:jn},{names:["{{id_distribution}}"],selector:()=>""},{names:["{{id_website}}"],selector:()=>""},{names:["{{yclid_p}}"],selector:()=>""}]).concat(jA).concat(oC).concat(OA).concat(ll).concat(ww).concat(Rw).concat(WA).concat(iC)}}var sC;let lC,uC;class cC extends I.j8{constructor(e,t){super(),this._counterHelper=void 0,this._config=e,this._counterHelper=t&&t instanceof Xn?t.counterHelper:void 0,(0,P.Gn)(this,{onClickNext:P.XI,videos:P.EW})}onClickNext(){var e;this.nextVideo&&(null===(e=this._counterHelper)||void 0===e||e.get("mainPlaylistNext")(this.nextVideo.id),va.Ug.emit(zi.L2.NEXT_VIDEO,{video:this.nextVideo,playlistId:this.playlistId}))}onClickPrev(){var e;this.prevVideo&&(null===(e=this._counterHelper)||void 0===e||e.get("mainPlaylistPrev")(this.prevVideo.id),va.Ug.emit(zi.L2.PREV_VIDEO,{video:this.prevVideo,playlistId:this.playlistId}))}get nextVideo(){return this._config.get("nextVideo")||null}get prevVideo(){return this._config.get("prevVideo")||null}get videos(){return{prevVideo:this.prevVideo,nextVideo:this.nextVideo}}get playlistId(){return this._config.get("playlistId")}get isShowPlaylistButtons(){return this._config.get("isShowPlaylistButtons")}}var dC;let hC,pC;sC=cC,[uC,lC]=(0,k.A)(sC,[(0,I.k_)({implement:"IPlaylistPlugin",ctor_args:["IPlayerConfigPlugin",{implement:"IStatisticState",optional:!0}]})],[],0,void 0,I.j8).c,lC();dC=class extends uC{constructor(e,t,n){super(e,n),this._advert=t}onClickNext(){this.nextVideo&&!this._advert.isPlaying&&super.onClickNext()}onClickPrev(){this.prevVideo&&!this._advert.isPlaying&&super.onClickPrev()}},[pC,hC]=(0,k.A)(dC,[(0,I.k_)({implement:"IPlaylistPlugin",ctor_args:["IPlayerConfigPlugin","IAdvertPlugin",{implement:"IStatisticState",optional:!0}]})],[],0,void 0,uC).c,hC();const mC={SCREEN_EDGE_OFFSET:16,BORDER_RADIUS:12,TOGGLE_ANIMATION_DURATION:150,PLACEMENT_ANIMATION_DURATION:100,get PLACEMENT_TRANSITION(){return"transform ".concat(this.PLACEMENT_ANIMATION_DURATION,"ms ease-out")}},vC={VIEW_MODE:"popover",PLACEMENT:"bottom-end",PLACEMENT_STRATEGY:"absolute",NESTED_PLACEMENT:"right-start",TRIGGER_ON:"click",NESTED_TRIGGER_ON:"hover",MATCH_TRIGGER_WIDTH:!0,CLOSE_ON_SCROLL:!1,OFFSET_OPTIONS:{mainAxis:8},NESTED_OFFSET_OPTIONS:{mainAxis:8,alignmentAxis:0},PLACEMENT_SEQUENCE:["bottom-end","bottom","bottom-start","top-end","top","top-start"],NESTED_PLACEMENT_SEQUENCE:["right-start","right","right-end","left-start","left","left-end"],MOUSE_ENTER_DELAY:100,MOUSE_LEAVE_DELAY:100},_C=(0,t.createContext)({viewMode:vC.VIEW_MODE});_C.displayName="Dropdown.Context";const fC=()=>{const e=(0,t.useContext)(_C);if(!e)throw new Error("[Dropdown.Context] Dropdown.* Components must be used within a Dropdown.");return e},gC=(0,t.forwardRef)(((e,t)=>{const{PopoverComponent:n,BottomSheetComponent:r,componentProps:i}=e,{viewMode:o}=fC();switch(o){case"popover":return(0,S.jsx)(n,(0,l.A)({ref:t},i));case"bottomSheet":return(0,S.jsx)(r,(0,l.A)({ref:t},i));default:throw new Error("[@rutube/freyr] DropdownViewResolver: Unsupported viewMode")}})),bC=e=>{let{children:t}=e;return t};bC.displayName="DropdownBottomSheet.Anchor";const yC="data-freyr-active";var EC=a(2564);const wC=(0,t.createContext)(null);wC.displayName="DropdownPopoverRoot.Context";const SC=()=>{const e=(0,t.useContext)(wC);if(!e)throw new Error("[DropdownPopoverRoot.Context] DropdownPopoverRoot.* Components must be used within a Dropdown.");return e},AC=(0,t.forwardRef)(((e,t)=>{const{refs:n,isOpen:r,activeAnchorId:i}=SC();return(0,EC.t)((0,l.A)((0,l.A)({},e),{},{ref:t,setPositionReference:n.setPositionReference,activeAnchorId:i,additionalProps:{[yC]:!!r||void 0}}))}));AC.displayName="DropdownPopover.Anchor";const CC=(0,t.forwardRef)(((e,t)=>(0,S.jsx)(gC,{ref:t,PopoverComponent:AC,BottomSheetComponent:bC,componentProps:e})));CC.displayName="DropdownAnchor";var kC=a(775);const PC=["style","className","as","disabled","active","title","subTitle","startSlot","endSlot"],IC="_root_5711ab_v1-27-0",TC="_disabled_5711ab_v1-27-0",xC="_startSlot_5711ab_v1-27-0",RC="_endSlot_5711ab_v1-27-0",LC="_active_5711ab_v1-27-0",OC="_wrapper_5711ab_v1-27-0",NC=(0,t.forwardRef)((function(e,t){const{style:n,className:r,as:i="button",disabled:o,active:a,title:s,subTitle:u,startSlot:c,endSlot:d}=e,h=(0,V.A)(e,PC),p=(0,ve.c)(r,IC,{[TC]:o,[LC]:a});return(0,S.jsxs)(i,(0,l.A)((0,l.A)({ref:t,style:n,className:p,disabled:o,type:"button"===i?"button":void 0,"data-active":a},h),{},{children:[c?(0,S.jsx)("div",{className:xC,children:c}):null,(0,S.jsxs)("div",{className:OC,children:[s?"string"==typeof s?(0,S.jsx)(me.o,{disabled:o,as:"div",variant:"body-m-regular",color:"primary",wordBreak:"break-word",children:s}):s:null,u?"string"==typeof u?(0,S.jsx)(me.o,{disabled:o,as:"div",variant:"caption-s-regular",color:"secondary",wordBreak:"break-word",children:u}):u:null]}),d?(0,S.jsx)("div",{className:RC,children:d}):null]}))}));NC.displayName="Cell";const MC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(const e of t)"function"==typeof e&&e(...arguments)}},DC=e=>"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90,BC=function(){const e=(0,l.A)({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];for(const t in n){const r=e[t],i=n[t];"function"==typeof r&&"function"==typeof i&&DC(t)?e[t]=MC(r,i):e[t]="className"===t&&"string"==typeof r&&"string"==typeof i?(0,ve.c)(r,i):void 0!==i?i:r}}return e},FC=(0,t.createContext)(null);FC.displayName="List.Context";const HC=()=>{const e=(0,t.useContext)(FC);if(!e)throw new Error("[@rutube/freyr] List.* Components must be used within a List.");return e},VC=["ref"],UC=(0,t.forwardRef)((function(e,n){const{focused:r,activeKey:i,getElementProps:o}=HC(),{ref:a,index:s}=(()=>{const{register:e,unregister:n,elementsMap:r}=HC(),[i,o]=(0,t.useState)(null),a=(0,t.useRef)(null),s=(0,t.useCallback)((e=>{a.current=e}),[]);return(0,fm.E)((()=>{const t=a.current;if(t)return e(t),()=>n(t)}),[e,n]),(0,fm.E)((()=>{var e;const t=a.current&&null!==(e=r.get(a.current))&&void 0!==e?e:null;null!==t&&o(t)}),[r]),(0,t.useMemo)((()=>({ref:s,index:null===i?-1:i})),[i,s])})(),u=o(s),{ref:c}=u,d=(0,V.A)(u,VC),h=(0,kC.SV)([n,c,a]),p=i===s;return(0,S.jsx)(NC,(0,l.A)({role:"menuitem",ref:h,active:r&&p,"data-active":p?"":void 0},BC(d,e)))}));function jC(e){const{value:n,defaultValue:r,onChange:i}=e,o=void 0!==n,[a,s]=(0,t.useState)(r),l=(0,t.useRef)(o?n:a);l.current=o?n:a;const u=(0,t.useCallback)(((e,t)=>{const n=l.current,r="function"==typeof e?e(n):e;Object.is(n,r)||(o||(l.current=r,s(r)),t?null==i||i(r,t):null==i||i(r))}),[o,i]);return[o?n:a,u]}UC.displayName="List.Item";var WC=Object.defineProperty,zC=(e,t,n)=>((e,t,n)=>t in e?WC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class GC{constructor(e,t){var n,r;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zC(this,"nativeEvent"),zC(this,"target"),zC(this,"currentTarget"),zC(this,"relatedTarget"),zC(this,"bubbles"),zC(this,"cancelable"),zC(this,"defaultPrevented"),zC(this,"eventPhase"),zC(this,"isTrusted"),zC(this,"timeStamp"),zC(this,"type"),this.nativeEvent=t,this.target=null!==(n=i.target)&&void 0!==n?n:t.target,this.currentTarget=null!==(r=i.currentTarget)&&void 0!==r?r:t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}}const qC=e=>{const{onFocus:n,onBlur:r,enabled:i}=e,o=(0,t.useRef)(!1),a=(0,t.useRef)(null);(0,t.useEffect)((()=>{if(!i)return;const e=()=>{o.current=!1},t=e=>{if(!o.current&&a.current){const t=new FocusEvent("blur",(0,l.A)((0,l.A)({},e),{},{relatedTarget:e.target,bubbles:!1,cancelable:!1}));r(new GC("blur",t,{target:a.current,currentTarget:a.current})),a.current=null}};return window.addEventListener("focus",e,{capture:!0}),window.addEventListener("focusin",t),()=>{window.removeEventListener("focus",e,{capture:!0}),window.removeEventListener("focusin",t)}}),[i,r]);const s=(0,t.useCallback)((e=>{document.activeElement!==e.target&&(null===e.relatedTarget||e.relatedTarget===document.body||e.relatedTarget===document)&&(r(e),a.current=null)}),[r]),u=(e=>{const n=(0,t.useRef)({isFocused:!1,observer:null});return(0,t.useEffect)((()=>{const e=n.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]),(0,t.useCallback)((t=>{const r=t.target;if(r instanceof HTMLButtonElement||r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement){n.current.isFocused=!0;const t=t=>{n.current.isFocused=!1,r.disabled&&(null==e||e(new GC("blur",t))),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};r.addEventListener("focusout",t,{once:!0});const i=new MutationObserver((()=>{if(n.current.isFocused&&r.disabled){i.disconnect(),n.current.observer=null;const e=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),r.dispatchEvent(new FocusEvent("focusout",{relatedTarget:e,bubbles:!0}))}}));i.observe(r,{attributes:!0,attributeFilter:["disabled"]}),n.current.observer=i}}),[e])})(r),c=(0,t.useCallback)((e=>{o.current=!0,a.current=e.target,u(e),n(e)}),[u,n]);return{onBlur:s,onFocus:c}},KC=(e,t,n)=>null!=n&&n.length?n.includes(t):null===e||(null==e?void 0:e.hasAttribute("disabled"))||"true"===(null==e?void 0:e.getAttribute("aria-disabled")),YC=e=>{const{elementsMap:t,disabledKeys:n,startKey:r,direction:i,loop:o}=e,a=Array.from(t.keys()).sort(((e,t)=>e-t)),s=a.length;if(0===s)return-1;let l=a.indexOf(r);-1===l&&(l=1===i?-1:s);let u=0;do{if(o)l=(l+i+s)%s;else if(l+=i,l<0||l>=s)return-1;const e=a[l],r=t.get(e);if(r&&!KC(r,e,n))return e;u++}while(u<s);return-1},XC={ALL:["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"],HORIZONTAL:["ArrowLeft","ArrowRight"],VERTICAL:["ArrowUp","ArrowDown"],HOME:"Home",END:"End"},QC={loop:!1,rtl:!1,orientation:"horizontal",enableEdgeNavigation:!0,disabledKeys:[]},ZC=e=>{const{loop:n,rtl:r,orientation:i,enableEdgeNavigation:o,activeKey:a,disabledKeys:s,onNavigate:u}=(0,l.A)((0,l.A)({},QC),e),c=(0,t.useId)(),d=(0,t.useRef)(new Map),[h,p]=(0,t.useState)(!1),[m,v]=jC({value:a,defaultValue:-1,onChange:u}),_=(0,t.useCallback)((e=>t=>{t?d.current.set(e,t):d.current.delete(e);const n=KC(t,e,s);v((t=>-1!==t||n?t:e))}),[s,v]),f=(0,t.useCallback)((()=>Array.from(d.current.keys()).sort(((e,t)=>e-t))),[]),g=(0,t.useCallback)(((e,t)=>{const n=d.current.get(e);n&&(n.focus(t),v(e))}),[v]),b=(0,t.useCallback)((e=>{if(0===f().length)return;const t=YC({elementsMap:d.current,disabledKeys:s,startKey:m,direction:e,loop:n});return-1!==t?(g(t),t):void 0}),[m,f,s,n,g]),y=(0,t.useCallback)((()=>b(1)),[b]),E=(0,t.useCallback)((()=>b(-1)),[b]),w=(0,t.useCallback)((()=>{const e=f();if(0===e.length)return;const t=YC({elementsMap:d.current,startKey:e[0]-1,direction:1,disabledKeys:s,loop:n});-1!==t&&g(t)}),[f,s,n,g]),S=(0,t.useCallback)((()=>{const e=f();if(0===e.length)return;const t=YC({elementsMap:d.current,startKey:e[e.length-1]+1,direction:-1,disabledKeys:s,loop:n});-1!==t&&g(t)}),[f,s,n,g]),A=(0,t.useCallback)((e=>({id:"".concat(c,"-").concat(e),tabIndex:m===e?0:-1,ref:_(e),onFocus:()=>{v(e)},onKeyDown:e=>{const t="horizontal"===i,n=t?XC.HORIZONTAL:XC.VERTICAL,a=t?r?"ArrowLeft":"ArrowRight":"ArrowDown";n.includes(e.key)?(e.preventDefault(),e.key===a?y():E()):e.key===XC.HOME&&o?(e.preventDefault(),w()):e.key===XC.END&&o&&(e.preventDefault(),S())}})),[c,m,_,v,i,r,o,y,E,w,S]),C=(e=>{const{onFocusWithin:n,onBlurWithin:r,onFocusWithinChange:i,enabled:o=!0,skipRoot:a=!1}=e,s=(0,t.useRef)(!1),l=(0,t.useCallback)((e=>{const t=document.activeElement===e.currentTarget,r=e.target.contains(document.activeElement)&&(!a||!t);!s.current&&r&&(s.current=!0,null==n||n(e),null==i||i(!0))}),[n,i,a]),u=(0,t.useCallback)((e=>{s.current&&(s.current=!1,null==r||r(e),null==i||i(!1))}),[r,i]),{onBlur:c,onFocus:d}=qC({onFocus:l,onBlur:u,enabled:o});return o?{onFocus:d,onBlur:c}:{onFocus:void 0,onBlur:void 0}})({skipRoot:!0,onFocusWithin(){p(!0)},onBlurWithin:()=>{p(!1)}}),k=(0,t.useCallback)((e=>{if(e.target===e.currentTarget&&XC.ALL.includes(e.key)){e.preventDefault();const t="horizontal"===i?r?"ArrowLeft":"ArrowRight":"ArrowDown";e.key===t||e.key===XC.HOME?w():S()}}),[w,S,i,r]);return{focused:h,getElementProps:A,containerProps:(0,t.useMemo)((()=>BC(C,{role:"group",dir:r?"rtl":"ltr",tabIndex:-1,"aria-activedescendant":-1!==m?"".concat(c,"-").concat(m):void 0,"aria-orientation":i,onKeyDown:k})),[m,c,C,k,i,r]),focusNext:y,focusPrevious:E,focusFirst:w,focusLast:S,focusByKey:g,activeKey:m,setActiveKey:v}},JC=(e,t)=>{const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0},$C=["style","className","children"],ek="_root_3eed34_v1-27-0",tk=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,children:o}=e,a=(0,V.A)(e,$C),{register:s,unregister:u,elementsMap:c}=(()=>{const[e,n]=(0,t.useState)((()=>new Set)),r=(0,t.useCallback)((e=>{n((t=>new Set(t).add(e)))}),[]),i=(0,t.useCallback)((e=>{n((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),o=(0,t.useMemo)((()=>{const t=new Map;return Array.from(e.keys()).sort(JC).forEach(((e,n)=>{t.set(e,n)})),t}),[e]);return(0,t.useMemo)((()=>({register:r,unregister:i,elementsMap:o})),[o,r,i])})(),{focused:d,activeKey:h,getElementProps:p,containerProps:m}=ZC({loop:!0,orientation:"vertical"}),v=(0,ve.c)(i,ek),_=(0,t.useMemo)((()=>({register:s,unregister:u,focused:d,elementsMap:c,activeKey:h,getElementProps:p})),[s,u,d,c,h,p]);return(0,S.jsx)(FC.Provider,{value:_,children:(0,S.jsx)("div",(0,l.A)((0,l.A)((0,l.A)({ref:n,style:r,className:v},m),a),{},{children:o}))})}));tk.displayName="List";const nk=Object.assign(tk,{Item:UC});nk.displayName="List",nk.Item.displayName="List.Item";const rk=(0,t.createContext)(null);rk.displayName="DropdownBottomSheet.Context";const ik=()=>{const e=(0,t.useContext)(rk);if(!e)throw new Error("[DropdownBottomSheet.Context] DropdownBottomSheet.* Components must be used within a Dropdown.");return e},ok=["style","className","value","disabled","text","caption","startIcon","endIcon","onClick"],ak=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,value:o,disabled:a,text:s,caption:u,startIcon:c,endIcon:d,onClick:h}=e,p=(0,V.A)(e,ok),{onItemClick:m}=fC(),{setIsOpen:v}=ik(),_=(0,t.useCallback)((e=>{a||(null==h||h(e),null==m||m(e,{value:o,text:s}),v(!1))}),[h,a,m,v,s,o]);return(0,S.jsx)(nk.Item,(0,l.A)({ref:n,role:"menuitem",style:r,className:i,disabled:a,title:s,subTitle:u,startSlot:c,endSlot:d,onClick:_},p))}));ak.displayName="DropdownBottomSheet.Item";const sk=(0,t.createContext)(null);sk.displayName="DropdownMenu.Context";const lk=()=>{const e=(0,t.useContext)(sk);if(!e)throw new Error("[DropdownMenu.Context] DropdownMenu.* Components must be used within a Dropdown.");return e},uk=["style","className","value","disabled","text","caption","startIcon","endIcon","onClick"],ck=(0,t.forwardRef)(((e,t)=>{const{style:n,className:r,value:i,disabled:o,text:a,caption:s,startIcon:u,endIcon:c,onClick:d}=e,h=(0,V.A)(e,uk),{onItemClick:p}=fC(),{activeIndex:m,getItemProps:v,nodeId:_}=lk(),f=(0,kC.rm)({label:o?null:"string"==typeof a?a:void 0}),g=(0,kC.cq)(),b=(0,kC.R1)(),y=f.index===m,E=(0,kC.SV)([f.ref,t]),w=v((0,l.A)({onClick:_!==b?void 0:e=>{o||(null==g||g.events.emit("click"),null==d||d(e),null==p||p(e,{value:i,text:a}))}},h));return(0,S.jsx)(NC,(0,l.A)({ref:E,role:"menuitem",style:n,className:r,tabIndex:y?0:-1,disabled:o,active:y,title:a,subTitle:s,startSlot:u,endSlot:c},w))}));ck.displayName="DropdownPopover.Item";const dk=(0,t.forwardRef)(((e,t)=>(0,S.jsx)(gC,{ref:t,BottomSheetComponent:ak,PopoverComponent:ck,componentProps:e})));dk.displayName="DropdownItem";const hk=(0,t.createContext)(null);hk.displayName="BottomSheet.Context";const pk=()=>{const e=(0,t.useContext)(hk);if(!e)throw new Error("BottomSheet.* Components must be used within a BottomSheet.");return e},mk=["style","className","overlayStyle","overlayClassName","zIndex","focusManagerProps","children"],vk="_root_0a9a96_v1-27-0",_k="_overlay_0a9a96_v1-27-0",fk="_bottomSheet_0a9a96_v1-27-0",gk="_swipeArea_0a9a96_v1-27-0",bk="_resizer_0a9a96_v1-27-0",yk="_content_0a9a96_v1-27-0",Ek=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,overlayStyle:o,overlayClassName:a,zIndex:s,focusManagerProps:u,children:c}=e,d=(0,V.A)(e,mk),{refs:h,context:p,isMounted:m,bottomSheetContainer:v,isContainerReady:_,close:f,headingId:g,descriptionId:b,moveProps:y,getFloatingProps:E,isReadyForFocus:w,panelTransitionStyles:A,overlayTransitionStyles:C,handleTransitionEnd:k,lockScroll:P}=pk(),I=(0,kC.SV)([h.setFloating,n]),T=(0,t.useMemo)((()=>({close:f,headingId:g,descriptionId:b})),[b,g,f]);if(!m||!_)return null;const x=E({style:A,className:fk,"aria-labelledby":g,"aria-describedby":b}),R=(0,l.A)({visuallyHiddenDismiss:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"},u),L=(0,l.A)((0,l.A)((0,l.A)({},C),o),{},{position:v?"absolute":"fixed",overflow:"hidden",zIndex:s}),O=(0,ve.c)(a,_k),N=(0,ve.c)(i,yk);return(0,S.jsx)(kC.XF,{root:v,children:(0,S.jsx)("div",{className:vk,children:(0,S.jsx)(kC.zR,{className:O,style:L,lockScroll:P,children:(0,S.jsx)(kC.s3,(0,l.A)((0,l.A)({context:p},R),{},{disabled:!w,children:(0,S.jsxs)("div",(0,l.A)((0,l.A)((0,l.A)({ref:I,onTransitionEnd:k},x),d),{},{children:[(0,S.jsx)("div",(0,l.A)((0,l.A)({className:gk,"aria-hidden":"true"},y),{},{children:(0,S.jsx)("div",{className:bk})})),(0,S.jsx)("div",{style:r,className:N,children:"function"==typeof c?c(T):c})]}))}))})})})}));Ek.displayName="BottomSheetContent";const wk=["className","variant"],Sk={root:"_root_f4aa28_v1-27-0",dynamic:"_dynamic_f4aa28_v1-27-0",stopStart:"_stopStart_f4aa28_v1-27-0",stopMiddle:"_stopMiddle_f4aa28_v1-27-0",stopEnd:"_stopEnd_f4aa28_v1-27-0",cap:"_cap_f4aa28_v1-27-0",invert:"_invert_f4aa28_v1-27-0",light:"_light_f4aa28_v1-27-0",dark:"_dark_f4aa28_v1-27-0"},Ak=e=>{const{className:n,variant:r}=e,i=(0,V.A)(e,wk),o=(0,t.useId)(),a="".concat(o,"-main"),s="".concat(o,"-tail"),u=(0,ve.c)(n,Sk.root,Sk[r]);return(0,S.jsxs)("svg",(0,l.A)((0,l.A)({className:u,xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 100 100",fill:"none"},i),{},{children:[(0,S.jsxs)("defs",{children:[(0,S.jsxs)("linearGradient",{id:s,gradientTransform:"rotate(90)",children:[(0,S.jsx)("stop",{offset:"0%",stopOpacity:"0",className:Sk.stopStart}),(0,S.jsx)("stop",{offset:"100%",stopOpacity:"0.5",className:Sk.stopMiddle})]}),(0,S.jsxs)("linearGradient",{id:a,gradientTransform:"rotate(90)",children:[(0,S.jsx)("stop",{offset:"0%",stopOpacity:"1",className:Sk.stopEnd}),(0,S.jsx)("stop",{offset:"100%",stopOpacity:"0.5",className:Sk.stopMiddle})]})]}),(0,S.jsxs)("g",{strokeWidth:10,children:[(0,S.jsx)("path",{stroke:"url(#".concat(s,")"),d:"M 95 50 A 45 45 0 0 1 50 95"}),(0,S.jsx)("path",{stroke:"url(#".concat(a,")"),d:"M 50 95 A 45 45 0 0 1 50 5"}),(0,S.jsx)("path",{className:Sk.cap,stroke:"currentColor",strokeLinecap:"round",d:"M 48 5 A 45 45 0 0 1 52 5"})]})]}))};Ak.displayName="LoaderIndicator";const Ck=["className","size","variant"],kk={root:"_root_c56536_v1-27-0",indicator:"_indicator_c56536_v1-27-0",rotation:"_rotation_c56536_v1-27-0","size-s":"_size-s_c56536_v1-27-0","size-m":"_size-m_c56536_v1-27-0","size-l":"_size-l_c56536_v1-27-0"},Pk=(0,t.forwardRef)(((e,t)=>{const{className:n,size:r="m",variant:i="dynamic"}=e,o=(0,V.A)(e,Ck),a=(0,ve.c)(n,kk.root,kk["size-".concat(r)]);return(0,S.jsx)("div",(0,l.A)((0,l.A)({ref:t,className:a,role:"progressbar","aria-label":"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°"},o),{},{children:(0,S.jsx)(Ak,{variant:i,className:kk.indicator})}))}));Pk.displayName="Loader";const Ik={xs:"s",s:"s",m:"m",l:"l"},Tk=["className","size","variant","as","disabled","fullWidth","loading","children","startIcon","endIcon"],xk={root:"_root_83564e_v1-27-0",loading:"_loading_83564e_v1-27-0",primary:"_primary_83564e_v1-27-0",secondary:"_secondary_83564e_v1-27-0",tertiary:"_tertiary_83564e_v1-27-0",outline:"_outline_83564e_v1-27-0","primary-contrast":"_primary-contrast_83564e_v1-27-0",negative:"_negative_83564e_v1-27-0",disabled:"_disabled_83564e_v1-27-0",loader:"_loader_83564e_v1-27-0",content:"_content_83564e_v1-27-0","size-xs":"_size-xs_83564e_v1-27-0",noIcon:"_noIcon_83564e_v1-27-0","size-s":"_size-s_83564e_v1-27-0",onlyIcon:"_onlyIcon_83564e_v1-27-0","size-m":"_size-m_83564e_v1-27-0","size-l":"_size-l_83564e_v1-27-0",fullWidth:"_fullWidth_83564e_v1-27-0"},Rk=(0,t.forwardRef)((function(e,t){const{className:n,size:r="m",variant:i="primary",as:o="button",disabled:a,fullWidth:s,loading:u,children:c,startIcon:d,endIcon:h}=e,p=(0,V.A)(e,Tk),m="button"===o?"type"in p?p.type:"button":"type"in p?p.type:void 0,v=!!d,_=!!h,f=null!=c,g=v||_,b=g&&!f,y="negative"===i?"light":"primary"===i?"invert":"dynamic",E=(0,ve.c)(n,xk.root,xk.reset,xk[i],xk["size-".concat(r)],{[xk.loading]:u,[xk.disabled]:a,[xk.fullWidth]:s,[xk.onlyIcon]:b,[xk.noIcon]:!g});return(0,S.jsxs)(o,(0,l.A)((0,l.A)({ref:t,className:E,type:m,disabled:u||a,tabIndex:u||a?-1:0,"aria-disabled":u||a,"aria-busy":u},p),{},{children:[u&&(0,S.jsx)(Pk,{className:xk.loader,size:Ik[r],variant:y}),v&&d,f?(0,S.jsx)("span",{className:xk.content,children:c}):null,_&&h]}))}));Rk.displayName="Button";const Lk=["style","className","heading","description","content","enableClose","onClose"],Ok={root:"_root_f54e43_v1-27-0",container:"_container_f54e43_v1-27-0",wrapper:"_wrapper_f54e43_v1-27-0",heading:"_heading_f54e43_v1-27-0",closeButton:"_closeButton_f54e43_v1-27-0"},Nk=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,heading:o,description:a,content:s,enableClose:u=!0,onClose:c}=e,d=(0,V.A)(e,Lk),{headingId:h,descriptionId:p,close:m}=pk(),v=(0,t.useCallback)((e=>{m(),null==c||c(e)}),[m,c]),_=(0,ve.c)(i,Ok.root);return(0,S.jsxs)("div",(0,l.A)((0,l.A)({ref:n,style:r,className:_},d),{},{children:[(0,S.jsxs)("div",{className:Ok.container,children:[(0,S.jsxs)("div",{className:Ok.wrapper,children:[o?(0,S.jsx)(me.o,{className:Ok.heading,id:h,variant:"title-headline-2",wordBreak:"break-word",children:o}):null,a?(0,S.jsx)(me.o,{id:p,variant:"body-m-regular",color:"secondary",wordBreak:"break-word",children:a}):null]}),u?(0,S.jsx)(Rk,{className:Ok.closeButton,size:"s",variant:"secondary",startIcon:(0,S.jsx)(ot,{size:24,"aria-hidden":!0}),onClick:v,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ð½ÐµÐ»ÑŒ"}):null]}),s?(0,S.jsx)("div",{className:Ok.content,children:s}):null]}))}));Nk.displayName="BottomSheetHeader";const Mk=300,Dk="transform",Bk="ease-out",Fk=20,Hk=40,Vk={LOCK_SCROLL:!0,CLOSE_ON_OUTSIDE_CLICK:!0,CLOSE_ON_ESCAPE:!0};var Uk=a(8469),jk=a(5853),Wk=a(334);const zk=(0,t.forwardRef)(((e,n)=>{const{children:r,lockScroll:i=Vk.LOCK_SCROLL,container:o,closeOnOutsideClick:a=Vk.CLOSE_ON_OUTSIDE_CLICK,closeOnEscape:s=Vk.CLOSE_ON_ESCAPE,open:u,defaultOpen:c,onOpenChange:d,onAfterOpenChange:h}=e,p=(e=>{const{isOpenControlled:n,isContainerSpecified:r,container:i,closeOnOutsideClick:o,closeOnEscape:a,open:s,defaultOpen:u,onOpenChange:c,onAfterOpenChange:d}=e,h=(0,t.useId)(),p=(0,t.useId)(),[m,v]=(0,jk.D)({value:n?s:void 0,defaultValue:u,onChange:c}),_=(0,U.n)(i),f=(0,t.useCallback)((()=>{v(!0)}),[v]),g=(0,t.useCallback)((()=>{v(!1)}),[v]),[b,y]=(0,t.useState)(0),E=(0,t.useRef)(0),w=(0,t.useRef)(0),S=(0,t.useCallback)((()=>{typeof window>"u"||(window.cancelAnimationFrame(E.current),y((e=>(e>Hk&&(window.cancelAnimationFrame(w.current),w.current=window.requestAnimationFrame((()=>{g()}))),0))))}),[g]),{moveProps:A}=le({onMove:e=>{typeof window>"u"||(window.cancelAnimationFrame(E.current),E.current=window.requestAnimationFrame((()=>{y((t=>Math.max(t+e.deltaY,-Fk)))})))},onMoveEnd:S});(0,t.useEffect)((()=>()=>{window.cancelAnimationFrame(E.current),window.cancelAnimationFrame(w.current)}),[]);const C=(0,kC.we)({open:m,onOpenChange:v}),k=C.context,P=(0,kC.kp)(k),I=(0,kC.It)(k,{role:"dialog"}),T=(0,kC.s9)(k,{escapeKey:a,outsidePress:o,outsidePressEvent:"mousedown"}),x=(0,kC.bv)([P,I,T]),{status:R}=(0,kC.$X)(k,{duration:Mk}),{isMounted:L,styles:O}=(0,kC.DL)(k,{duration:Mk,initial:{opacity:0},open:{opacity:1,transitionTimingFunction:"ease-in"},close:{opacity:0,transitionTimingFunction:"ease-out"}}),{styles:N}=(0,kC.DL)(k,{duration:Mk,initial:{transform:"translateY(100%)"},open:{transform:"translateY(0)"},close:{transform:"translateY(100%)"}}),M=(0,t.useMemo)((()=>(0,l.A)((0,l.A)({},N),{},{transitionProperty:Dk,transitionDuration:"".concat(b?0:Mk,"ms"),transitionTimingFunction:Bk},b?{transform:"translateY(".concat(b,"px)")}:{})),[N,b]),{isReadyForFocus:D,onTransitionEnd:B}=(0,Wk.a)({isMounted:L,status:R}),{handleTransitionEnd:F}=(0,Uk.y)({status:R,transitionProperty:"transform",onAfterOpenChange:d}),H=(0,t.useCallback)((e=>{B(),F(e)}),[F,B]),V=!r||!!_;return(0,t.useMemo)((()=>(0,l.A)((0,l.A)((0,l.A)({},C),x),{},{isOpen:m,bottomSheetContainer:_,isContainerReady:V,status:R,isMounted:L,open:f,close:g,headingId:h,descriptionId:p,moveProps:A,isReadyForFocus:D,panelTransitionStyles:M,overlayTransitionStyles:O,handleTransitionEnd:H})),[C,x,m,_,V,R,L,f,g,h,p,A,D,M,O,H])})({isOpenControlled:"open"in e,isContainerSpecified:"container"in e,container:o,closeOnOutsideClick:a,closeOnEscape:s,open:u,defaultOpen:c,onOpenChange:d,onAfterOpenChange:h}),{isOpen:m,refs:v,status:_,open:f,close:g}=p,b=(0,t.useMemo)((()=>(0,l.A)((0,l.A)({},p),{},{lockScroll:i})),[p,i]);return(0,t.useImperativeHandle)(n,(()=>{var e,t;return{isOpen:m,status:_,trigger:null==(e=v.reference)?void 0:e.current,content:"unmounted"===_?null:null==(t=v.floating)?void 0:t.current,open:f,close:g}}),[v.floating,v.reference,_,m,f,g]),(0,S.jsx)(hk.Provider,{value:b,children:r})}));zk.displayName="BottomSheet";var Gk=a(7505);const qk=(0,t.forwardRef)(((e,t)=>{const{refs:n,getReferenceProps:r}=pk();return(0,Gk.O)((0,l.A)((0,l.A)({},e),{},{ref:t,setReference:n.setReference,getReferenceProps:r}))}));qk.displayName="BottomSheetTrigger";const Kk=Object.assign(zk,{Trigger:qk,Content:Ek,Header:Nk});Kk.Trigger.displayName="BottomSheet.Trigger",Kk.Content.displayName="BottomSheet.Content";const Yk=e=>"function"==typeof e,Xk=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yk(e)?e(...n):e};var Qk=Object.defineProperty,Zk=(e,t,n)=>((e,t,n)=>t in e?Qk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);const Jk={enabled:!0,leading:!0,onExecute:()=>{},trailing:!0,wait:0};class $k{constructor(e,t){Zk(this,"_executionCount",0),Zk(this,"_lastArgs"),Zk(this,"_lastExecutionTime",0),Zk(this,"_options"),Zk(this,"_timeoutId"),this.fn=e,this._options=(0,l.A)((0,l.A)({},Jk),t)}setOptions(e){this._options=(0,l.A)((0,l.A)({},this._options),e),this._options.enabled||this.cancel()}setFn(e){this.fn=e}getOptions(){return this._options}getEnabled(){return Xk(this._options.enabled,this)}getWait(){return Xk(this._options.wait,this)}maybeExecute(){const e=Date.now(),t=e-this._lastExecutionTime,n=this.getWait();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(this._options.leading&&t>=n)this.execute(...i);else if(this._lastArgs=i,!this._timeoutId&&this._options.trailing){const t=n-(this._lastExecutionTime?e-this._lastExecutionTime:0);this._timeoutId=setTimeout((()=>{void 0!==this._lastArgs&&this.execute(...this._lastArgs)}),t)}}execute(){this.getEnabled()&&(this.fn(...arguments),this._executionCount++,this._lastExecutionTime=Date.now(),this._timeoutId=void 0,this._lastArgs=void 0,this._options.onExecute(this))}cancel(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0,this._lastArgs=void 0)}getLastExecutionTime(){return this._lastExecutionTime}getNextExecutionTime(){return this._lastExecutionTime+this.getWait()}getExecutionCount(){return this._executionCount}getIsPending(){return this.getEnabled()&&!!this._timeoutId}}const eP=(e,n)=>{const[r]=(0,t.useState)((()=>(e=>Object.getOwnPropertyNames(Object.getPrototypeOf(e)).reduce(((t,n)=>{const r=e[n];return Yk(r)&&(t[n]=r.bind(e)),t}),e))(new $k(e,n))));r.setOptions(n);const i=(0,t.useRef)(e);return(0,t.useEffect)((()=>{i.current!==e&&(r.setFn(e),i.current=e)}),[e,r]),(0,t.useEffect)((()=>()=>{r.cancel()}),[r]),r},tP=(e,n)=>{const r=eP(e,n);return(0,t.useCallback)((function(){r.maybeExecute(...arguments)}),[r])},nP={attributes:!0,characterData:!0,childList:!0,subtree:!0},rP=e=>{const{target:n,callback:r,enable:i=!0,observerOptions:o=nP}=e,a=n&&"current"in n?n.current:n,s=(0,t.useRef)(null),l=(0,t.useCallback)((()=>{var e,t;a?null==(e=s.current)||e.observe(a,o):null==(t=s.current)||t.disconnect()}),[a,o]),u=(0,t.useCallback)((()=>{var e;null==(e=s.current)||e.disconnect()}),[]);return(0,t.useEffect)((()=>{if(i&&!(typeof window>"u"))return s.current=new MutationObserver(r),l(),()=>{var e;null==(e=s.current)||e.disconnect()}}),[i,r,l]),{disconnect:u}},iP=e=>Number.isNaN(parseInt(e))?0:parseInt(e),oP=[!0,!1,!1,!0],aP=e=>{const{target:n,positionCallback:r,scrollCallback:i,enable:o=!0,throttleTimeout:a=200}=e,s=n&&"current"in n?n.current:n,l=(0,t.useRef)(oP),u=(0,t.useRef)(null),c=(0,t.useCallback)((()=>{!s||!o||typeof window>"u"||(window.cancelAnimationFrame(u.current),u.current=window.requestAnimationFrame((()=>{const{scrollHeight:e,scrollWidth:t,scrollTop:n,scrollLeft:i,clientHeight:o,clientWidth:a}=s,u=[0===n,Math.abs(t-a-Math.abs(i))<=1,Math.abs(e-o-n)<=1,0===i],c=u.toString()!==l.current.toString();if(l.current=u,c){const[e,t,n,i]=u;null==r||r({blockStart:e,blockEnd:n,inlineStart:i,inlineEnd:t})}})))}),[s,o,r]),d=(0,t.useCallback)((e=>{c(),null==i||i(e)}),[c,i]),h=tP(d,{enabled:o,leading:!0,wait:a}),p=tP(c,{enabled:o,leading:!0,wait:a});(0,fm.E)((()=>{c()}),[s,o,c]),gm({target:s,callback:p});const{disconnect:m}=rP({target:s,callback:p,enable:o});(0,t.useEffect)((()=>()=>{window.cancelAnimationFrame(u.current),m()}),[m]),(0,t.useEffect)((()=>(o&&(null==s||s.addEventListener("scroll",h,{passive:!0})),()=>{null==s||s.removeEventListener("scroll",h)})),[s,o,h])},sP={DIRECTION:"vertical",START_SCROLL_INDICATOR:!1,END_SCROLL_INDICATOR:!1,SCROLL_VARIANT:"default",AUTO_OVERFLOW:!1},lP=/^(\d+\.?\d*|\.\d+)?(x)$/,uP=e=>"0"===e?e:lP.test(e)?"var(--rt-spacing-".concat(e,")"):e,cP=(e,t)=>{if(t<=0)return e;const n=e.match(/^(\d+\.?\d*)px$/);if(n){const r=parseFloat(n[1])-t;return r>=0?"".concat(r,"px"):"calc(".concat(e," - ").concat(t,"px)")}return"calc(".concat(e," - ").concat(t,"px)")},dP=["style","className","children","padding","direction","scrollVariant","enableStartScrollIndicator","enableEndScrollIndicator","enableAutoOverflow","startScrollIndicatorStyle","endScrollIndicatorStyle","onScrollPositionChange","onScroll","isRTL"],hP={root:"_root_55b6a7_v1-27-0",hasStartIndicator:"_hasStartIndicator_55b6a7_v1-27-0",startIndicator:"_startIndicator_55b6a7_v1-27-0",hasEndIndicator:"_hasEndIndicator_55b6a7_v1-27-0",endIndicator:"_endIndicator_55b6a7_v1-27-0",vertical:"_vertical_55b6a7_v1-27-0",autoOverflow:"_autoOverflow_55b6a7_v1-27-0",container:"_container_55b6a7_v1-27-0",horizontal:"_horizontal_55b6a7_v1-27-0",rtl:"_rtl_55b6a7_v1-27-0",default:"_default_55b6a7_v1-27-0",hidden:"_hidden_55b6a7_v1-27-0",hover:"_hover_55b6a7_v1-27-0"},pP=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,children:o,padding:a,direction:s=sP.DIRECTION,scrollVariant:u=sP.SCROLL_VARIANT,enableStartScrollIndicator:c=sP.START_SCROLL_INDICATOR,enableEndScrollIndicator:d=sP.END_SCROLL_INDICATOR,enableAutoOverflow:h=sP.AUTO_OVERFLOW,startScrollIndicatorStyle:p,endScrollIndicatorStyle:m,onScrollPositionChange:v,onScroll:_,isRTL:f}=e,g=(0,V.A)(e,dP),[b,y]=(0,t.useState)(null),[E,w]=(0,t.useState)(!1),[A,C]=(0,t.useState)(!1),k="vertical"===s,{blockScroll:P,inlineScroll:I,blockScrollSize:T,inlineScrollSize:x}=(e=>{const{target:n,enable:r=!0,throttleTimeout:i=200}=e,o=(0,t.useRef)(null),[a,s]=(0,t.useState)(!1),[l,u]=(0,t.useState)(!1),[c,d]=(0,t.useState)(0),[h,p]=(0,t.useState)(0),m=n&&"current"in n?n.current:n,v=(0,t.useCallback)((()=>{!m||!r||typeof window>"u"||(window.cancelAnimationFrame(o.current),o.current=window.requestAnimationFrame((()=>{const{offsetWidth:e,offsetHeight:t,scrollWidth:n,scrollHeight:r,clientWidth:i,clientHeight:o}=m,a=window.getComputedStyle(m),{borderBlockStartWidth:l,borderBlockEndWidth:c,borderInlineStartWidth:h,borderInlineEndWidth:v}=a,_=iP(l),f=iP(c),g=e-(iP(h)+i+iP(v)),b=t-(_+o+f),y=Math.abs(r-o)>0,E=Math.abs(n-i)>0;s(y),u(E),d(b),p(g)})))}),[m,r]),_=tP(v,{enabled:r,leading:!0,wait:i});(0,fm.E)((()=>{v()}),[m,r,v]),gm({target:m,callback:_});const{disconnect:f}=rP({target:m,callback:_,enable:r});return(0,t.useEffect)((()=>()=>{window.cancelAnimationFrame(o.current),f()}),[f]),{blockScroll:a,inlineScroll:l,blockScrollSize:c,inlineScrollSize:h}})({target:b,enable:!!b}),R=(0,kC.SV)([n,y]),L=(0,t.useCallback)((e=>{const{blockStart:t,blockEnd:n,inlineStart:r,inlineEnd:i}=e,o=k?!n:!i;w(k?!t:!r),C(o),null==v||v(e)}),[v,k]),O=k?P:I;aP({enable:!!b&&(O&&(c||d)||!!v||!!_),target:b,positionCallback:L,scrollCallback:_});const{top:N,left:M,right:D,bottom:B}=(0,t.useMemo)((()=>(e=>{const{padding:t="",blockScrollSize:n=0,inlineScrollSize:r=0,isRTL:i=!1}=e,o=t.trim().split(/\s+/);let a="0",s="0",l="0",u="0";if(""===t)return{top:a,right:s,bottom:l,left:u};switch(o.length){case 1:a=s=l=u=o[0];break;case 2:a=l=o[0],s=u=o[1];break;case 3:a=o[0],s=u=o[1],l=o[2];break;case 4:a=o[0],s=o[1],l=o[2],u=o[3];break;default:throw new Error("Invalid padding value")}a=uP(a),s=uP(s),l=uP(l),u=uP(u);const c=i?"left":"right";if(r>0){const e=cP("right"===c?s:u,r);"right"===c?s=e:u=e}return n>0&&(l=cP(l,n)),{top:a,right:s,bottom:l,left:u}})({padding:a,blockScrollSize:T,inlineScrollSize:x,isRTL:f})),[T,x,f,a]),F={paddingBlockStart:N,paddingInlineStart:M,paddingInlineEnd:D,paddingBlockEnd:B},H=(0,ve.c)(i,hP.root,hP[s],hP[u],{[hP.rtl]:f,[hP.autoOverflow]:h,[hP.hasStartIndicator]:c&&O&&E,[hP.hasEndIndicator]:d&&O&&A});return(0,S.jsxs)("div",(0,l.A)((0,l.A)({style:r,className:H},g),{},{children:[c&&(0,S.jsx)("div",{className:hP.startIndicator,style:p}),(0,S.jsx)("div",{ref:R,style:F,className:hP.container,children:o}),d&&(0,S.jsx)("div",{className:hP.endIndicator,style:m})]}))}));pP.displayName="ScrollContainer";const mP=["style","className","children","zIndex"],vP="_root_a046e3_v1-27-0",_P="_hasHeading_a046e3_v1-27-0",fP=(0,t.forwardRef)(((e,t)=>{const{style:n,className:r,children:i,zIndex:o}=e,a=(0,V.A)(e,mP),{heading:s}=ik(),u=(0,ve.c)(r,vP,{[_P]:!!s});return(0,S.jsxs)(Kk.Content,(0,l.A)((0,l.A)({ref:t,style:n,className:u,zIndex:o},a),{},{children:[s?(0,S.jsx)(Kk.Header,{heading:s}):null,(0,S.jsx)(pP,{padding:"2x",style:{marginBlock:"-2px"},enableAutoOverflow:!0,children:(0,S.jsx)(nk,{role:"menu",children:i})})]}))}));fP.displayName="DropdownBottomSheet.Menu";const gP=(0,t.createContext)(null);gP.displayName="DropdownPopover.Context";const bP=()=>{const e=(0,t.useContext)(gP);if(!e)throw new Error("[DropdownPopover.Context] DropdownPopover.* Components must be used within a Dropdown.");return e},yP=["style","className","zIndex","children","isRoot","nodeId","context","placement","menuRef","elementsRef","labelsRef","activeIndex","isMounted","floatingStyles","transitionStyles","focusManagerProps","getFloatingProps","getItemProps"],EP={root:"_root_4fd4ca_v1-27-0",dropdown:"_dropdown_4fd4ca_v1-27-0","placement-top-start":"_placement-top-start_4fd4ca_v1-27-0",container:"_container_4fd4ca_v1-27-0","placement-top":"_placement-top_4fd4ca_v1-27-0","placement-top-end":"_placement-top-end_4fd4ca_v1-27-0","placement-bottom-start":"_placement-bottom-start_4fd4ca_v1-27-0","placement-bottom":"_placement-bottom_4fd4ca_v1-27-0","placement-bottom-end":"_placement-bottom-end_4fd4ca_v1-27-0","placement-right-start":"_placement-right-start_4fd4ca_v1-27-0","placement-right":"_placement-right_4fd4ca_v1-27-0","placement-right-end":"_placement-right-end_4fd4ca_v1-27-0","placement-left-start":"_placement-left-start_4fd4ca_v1-27-0","placement-left":"_placement-left_4fd4ca_v1-27-0","placement-left-end":"_placement-left-end_4fd4ca_v1-27-0"},wP=e=>{var n,r;const{style:i,className:o,zIndex:a,children:s,isRoot:u,nodeId:c,context:d,placement:h,menuRef:p,elementsRef:m,labelsRef:v,activeIndex:_,isMounted:f,floatingStyles:g,transitionStyles:b,focusManagerProps:y,getFloatingProps:E,getItemProps:w}=e,A=(0,V.A)(e,yP),{container:C}=fC(),{enableOverlay:k,lockScroll:P}=bP(),{context:I,handleTransitionEnd:T,isReadyForFocus:x,isContextMenu:R}=SC(),L=null==(r=null==(n=null==I?void 0:I.middlewareData)?void 0:n.hide)?void 0:r.referenceHidden,O=E({style:(0,l.A)((0,l.A)((0,l.A)({},g),i),{},{zIndex:a,visibility:L?"hidden":"visible"})}),N=(0,t.useMemo)((()=>({activeIndex:_,getItemProps:w,isMounted:f,nodeId:c})),[_,w,f,c]),M=(0,ve.c)(EP.root,o,EP["placement-".concat(h)]);return(0,S.jsx)(sk.Provider,{value:N,children:(0,S.jsx)(kC.ph,{elementsRef:m,labelsRef:v,children:f&&(0,S.jsxs)(kC.XF,{root:C,children:[u&&P&&(0,S.jsx)(kC.zR,{style:k?void 0:{inset:"unset"},lockScroll:P}),(0,S.jsx)(kC.s3,(0,l.A)((0,l.A)({context:d,outsideElementsInert:k},y),{},{disabled:!x||R,children:(0,S.jsx)("div",(0,l.A)((0,l.A)((0,l.A)({ref:p,className:M},O),A),{},{children:(0,S.jsx)(pP,{padding:"0 2x",enableAutoOverflow:!0,className:EP.dropdown,style:b,onTransitionEnd:T,children:s})}))}))]})})})};wP.displayName="Dropdown.InternalMenu";const SP=(0,t.forwardRef)(((e,t)=>{const{focusManagerProps:n}=bP(),{refs:r,nodeId:i,context:o,placement:a,elementsRef:s,labelsRef:u,activeIndex:c,isMounted:d,floatingStyles:h,transitionStyles:p,getFloatingProps:m,getItemProps:v}=SC(),_=(0,kC.SV)([r.setFloating,t]);return(0,S.jsx)(kC.$c,{id:i,children:(0,S.jsx)(wP,(0,l.A)({isRoot:!0,nodeId:i,context:o,placement:a,menuRef:_,elementsRef:s,labelsRef:u,activeIndex:c,isMounted:d,floatingStyles:h,transitionStyles:p,getFloatingProps:m,getItemProps:v,focusManagerProps:n},e))})}));SP.displayName="DropdownPopover.Menu";const AP=(0,t.forwardRef)(((e,t)=>(0,S.jsx)(gC,{ref:t,PopoverComponent:SP,BottomSheetComponent:fP,componentProps:e})));AP.displayName="DropdownMenu";const CP=(0,t.forwardRef)(((e,n)=>{const{closeOnEscape:r,closeOnOutsideClick:i,children:o,heading:a}=e,{open:s,defaultOpen:u=!1,onOpenChange:c,onAfterOpenChange:d}=fC(),[h,p]=(0,jk.D)({value:s,defaultValue:u,onChange:c}),m=(0,t.useMemo)((()=>({isOpen:h,setIsOpen:p,heading:a})),[h,p,a]);return(0,S.jsx)(rk.Provider,{value:m,children:(0,S.jsx)(Kk,(0,l.A)((0,l.A)({ref:n,open:h,onOpenChange:(e,t)=>p(e,null==t?void 0:t.evt,null==t?void 0:t.reason),onAfterOpenChange:d,closeOnEscape:r,closeOnOutsideClick:i},e),{},{children:o}))})}));CP.displayName="DropdownBottomSheet.Root";var kP=a(3838),PP=a(7918);const IP=(e,t)=>e-t>1?"":"".concat(e,"px");var TP=a(9756);const xP=e=>{const{isOpenControlled:n,isNested:r=!1,disabled:i,open:o,defaultOpen:a,onOpenChange:s,onAfterOpenChange:u}=e,c=(0,t.useRef)([]),d=(0,t.useRef)([]),[h,p]=(0,t.useState)(null),[m,v]=(0,jk.D)({value:n?o:void 0,defaultValue:a,onChange:s}),{triggerOn:_=vC.TRIGGER_ON,placement:f=vC.PLACEMENT,placementStrategy:g=vC.PLACEMENT_STRATEGY,placementSequence:b,constraintContainer:y,offsetOptions:E,nestedOffsetOptions:w,matchTriggerWidth:S=vC.MATCH_TRIGGER_WIDTH,mouseEnterDelay:A=vC.MOUSE_ENTER_DELAY,mouseLeaveDelay:C=vC.MOUSE_LEAVE_DELAY,closeOnScroll:k=vC.CLOSE_ON_SCROLL}=bP(),P=(0,kC.cq)(),I=(0,kC.R1)(),T=(0,kC.fI)(),x=(0,t.useMemo)((()=>r?(0,l.A)((0,l.A)({},vC.NESTED_OFFSET_OPTIONS),w):(0,l.A)((0,l.A)({},vC.OFFSET_OPTIONS),E)),[r,w,E]),R="context-menu"===_,L=!r&&S&&!R,O=r?vC.NESTED_PLACEMENT:f,N=r?vC.NESTED_PLACEMENT_SEQUENCE:null!=b?b:vC.PLACEMENT_SEQUENCE,M=(0,kC.we)({nodeId:T,open:m,onOpenChange:v,placement:O,strategy:g,whileElementsMounted:m&&!k?kP.ll:void 0,middleware:[(0,PP.cY)(x),(0,PP.UU)({fallbackPlacements:N,boundary:y,padding:mC.SCREEN_EDGE_OFFSET}),(0,PP.Ej)({apply(e){let{availableHeight:t,rects:n,elements:r}=e;Object.assign(r.floating.style,{minWidth:L?"".concat(n.reference.width,"px"):void 0,maxHeight:IP(t,r.floating.scrollHeight)})},boundary:y,padding:mC.SCREEN_EDGE_OFFSET},[L,y]),(0,PP.BN)({boundary:y}),(0,PP.jD)({strategy:"referenceHidden",boundary:y})]}),{context:D,refs:B}=M,F=(0,kC.kp)(D,{enabled:!i&&"click"===_,event:"mousedown",toggle:!r,ignoreMouse:r}),H=(0,kC.Mk)(D,{enabled:!i&&(r||"hover"===_),delay:{open:A,close:C},handleClose:(0,kC.iB)({blockPointerEvents:!0})}),V=(0,kC.s9)(D,{bubbles:!0,ancestorScroll:k}),U=(0,kC.It)(D,{role:"menu"}),j=(0,kC.C1)(D,{listRef:c,loop:!0,activeIndex:h,nested:r,focusItemOnHover:!1,onNavigate:p,openOnArrowKeyDown:!R}),W=(0,kC.bv)([F,H,V,U,j]),{status:z}=(0,kC.$X)(D,{duration:mC.TOGGLE_ANIMATION_DURATION}),{isMounted:G,styles:q}=(0,kC.DL)(D,{duration:mC.TOGGLE_ANIMATION_DURATION,initial:{opacity:0},open:{opacity:1,transitionTimingFunction:"ease-in"},close:{opacity:0,transitionTimingFunction:"ease-out"}});(0,TP.c)({status:z,placement:M.placement,floating:M.elements.floating,transition:mC.PLACEMENT_TRANSITION,duration:mC.PLACEMENT_ANIMATION_DURATION});const{isReadyForFocus:K,onTransitionEnd:Y}=(0,Wk.a)({isMounted:G,status:z}),{handleTransitionEnd:X}=(0,Uk.y)({status:z,onAfterOpenChange:u}),Q=(0,t.useCallback)((e=>{Y(),X(e)}),[X,Y]),Z=(e=>{const{disabled:n,isOpen:r,setOpen:i,setPositionReference:o}=e,a=typeof window>"u",s=(0,t.useCallback)((e=>{a||n||(e.preventDefault(),o({getBoundingClientRect(){return{width:0,height:0,x:e.clientX,y:e.clientY,top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX}}}),i(!0))}),[n,a,i,o]);return{handleTriggerContextMenu:s,handleTriggerMouseDown:(0,t.useCallback)((()=>{a||n||!r||i(!1)}),[a,n,r,i])}})({disabled:i||!R,isOpen:m,setOpen:v,setPositionReference:B.setPositionReference.bind(null)});return(0,t.useEffect)((()=>{if(!P)return;const e=()=>{v(!1)},t=e=>{e.nodeId!==T&&e.parentId===I&&v(!1)};return P.events.on("click",e),P.events.on("menuopen",t),()=>{P.events.off("click",e),P.events.off("menuopen",t)}}),[P,v,T,I]),(0,t.useEffect)((()=>{m&&P&&P.events.emit("menuopen",{parentId:I,nodeId:T})}),[P,m,T,I]),(0,t.useMemo)((()=>(0,l.A)((0,l.A)((0,l.A)((0,l.A)({},M),W),Z),{},{nodeId:T,elementsRef:c,labelsRef:d,activeIndex:h,isOpen:m,isMounted:G,isReadyForFocus:K,isContextMenu:R,transitionStyles:q,handleTransitionEnd:Q,status:z})),[h,Z,M,Q,W,m,G,K,R,T,z,q])},RP=["children","activeAnchorId","activeTriggerId"],LP=(0,t.forwardRef)(((e,n)=>{const{children:r,activeAnchorId:i,activeTriggerId:o}=e,a=(0,V.A)(e,RP),{open:s,defaultOpen:u=!1,onOpenChange:c,onAfterOpenChange:d,disabled:h}=fC(),p=xP((0,l.A)((0,l.A)({},a),{},{isOpenControlled:void 0!==s,open:s,defaultOpen:u,onOpenChange:c,onAfterOpenChange:d,disabled:h})),{isOpen:m,refs:v,status:_}=p;(0,t.useImperativeHandle)(n,(()=>{var e,t;return{isOpen:m,trigger:null==(e=v.reference)?void 0:e.current,content:"unmounted"===_?null:null==(t=v.floating)?void 0:t.current}}),[m,v.floating,v.reference,_]);const f=(0,t.useMemo)((()=>(0,l.A)((0,l.A)({},p),{},{activeAnchorId:i,activeTriggerId:o})),[i,o,p]);return(0,S.jsx)(wC.Provider,{value:f,children:r})}));LP.displayName="DropdownPopover.InternalRoot";const OP=["children","activeAnchorId","activeTriggerId","constraintContainer"],NP=(0,t.forwardRef)(((e,n)=>{const{children:r,activeAnchorId:i,activeTriggerId:o,constraintContainer:a}=e,s=(0,V.A)(e,OP),u=(0,U.n)(a),c=(0,t.useMemo)((()=>(0,l.A)({constraintContainer:u},s)),[u,s]);return(0,S.jsx)(gP.Provider,{value:c,children:(0,S.jsx)(kC.P6,{children:(0,S.jsx)(LP,(0,l.A)((0,l.A)({ref:n,activeAnchorId:i,activeTriggerId:o},s),{},{children:r}))})})}));NP.displayName="DropdownPopover.Root";const MP=["disabled","container","open","defaultOpen","onOpenChange","onAfterOpenChange","onItemClick"],DP=(0,t.forwardRef)(((e,n)=>{var r;const{disabled:i,container:o,open:a,defaultOpen:s,onOpenChange:l,onAfterOpenChange:u,onItemClick:c}=e,d=(0,V.A)(e,MP),h=null!==(r=d.viewMode)&&void 0!==r?r:vC.VIEW_MODE,p=(0,U.n)(o),m=(0,t.useMemo)((()=>({viewMode:h,disabled:i,container:p,open:a,defaultOpen:s,onOpenChange:l,onAfterOpenChange:u,onItemClick:c})),[h,i,p,a,s,l,u,c]);return(0,S.jsx)(_C.Provider,{value:m,children:(0,S.jsx)(gC,{ref:n,PopoverComponent:NP,BottomSheetComponent:CP,componentProps:d})})}));DP.displayName="Dropdown";const BP=e=>{const{disabled:t,children:n}=e;return console.warn("[Dropdown.SubMenu] SubMenu is not supported in BottomSheet view. Component will render its children as a plain list."),t?null:n};BP.displayName="DropdownBottomSheet.SubMenu";const FP=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsArrowsChevronRight",__value:'<path fill="currentColor" fill-rule="evenodd" d="M8.293 5.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414-1.414L13.586 12 8.293 6.707a1 1 0 0 1 0-1.414" clip-rule="evenodd" />'})),HP=(0,t.forwardRef)(FP),VP=["disabled","text","caption","startIcon"],UP=(0,t.forwardRef)(((e,t)=>{const{disabled:n,text:r,caption:i,startIcon:o}=e,a=(0,V.A)(e,VP),{refs:s,nodeId:u,context:c,placement:d,elementsRef:h,labelsRef:p,activeIndex:m,isMounted:v,floatingStyles:_,transitionStyles:f,getFloatingProps:g,getItemProps:b,getReferenceProps:y}=xP({isOpenControlled:"open"in e,isNested:!0,disabled:n}),{getItemProps:E}=lk(),w=(0,kC.SV)([s.setFloating,t]);return(0,S.jsxs)(kC.$c,{id:u,children:[(0,S.jsx)(dk,(0,l.A)({ref:s.setReference,disabled:n,className:EP.subMenuItem,text:r,caption:i,startIcon:o,endIcon:(0,S.jsx)(HP,{size:16,"aria-hidden":!0})},y(E()))),(0,S.jsx)(wP,(0,l.A)({isRoot:!1,nodeId:u,context:c,placement:d,menuRef:w,elementsRef:h,labelsRef:p,activeIndex:m,isMounted:v,floatingStyles:_,transitionStyles:f,focusManagerProps:{initialFocus:-1,returnFocus:!1},getFloatingProps:g,getItemProps:b},a))]})}));UP.displayName="DropdownPopover.SubMenu";const jP=(0,t.forwardRef)(((e,t)=>(0,S.jsx)(gC,{ref:t,PopoverComponent:UP,BottomSheetComponent:BP,componentProps:e})));jP.displayName="DropdownSubMenu";const WP=(0,t.forwardRef)(((e,t)=>(0,S.jsx)(Kk.Trigger,(0,l.A)({ref:t},e))));WP.displayName="DropdownBottomSheet.Trigger";const zP=(0,t.forwardRef)(((e,t)=>{const{refs:n,getReferenceProps:r,isOpen:i,activeTriggerId:o,handleTriggerContextMenu:a,handleTriggerMouseDown:s}=SC();return(0,Gk.O)((0,l.A)((0,l.A)({},e),{},{ref:t,setReference:n.setReference,getReferenceProps:r,activeTriggerId:o,additionalProps:{[yC]:!!i||void 0,onContextMenu:a,onMouseDown:s}}))}));zP.displayName="DropdownPopover.Trigger";const GP=(0,t.forwardRef)(((e,t)=>(0,S.jsx)(gC,{ref:t,PopoverComponent:zP,BottomSheetComponent:WP,componentProps:e})));GP.displayName="DropdownTrigger";const qP=Object.assign(DP,{Anchor:CC,Trigger:GP,Menu:AP,SubMenu:jP,Item:dk});qP.Anchor.displayName="Dropdown.Anchor",qP.Trigger.displayName="Dropdown.Trigger",qP.Menu.displayName="Dropdown.Menu",qP.SubMenu.displayName="Dropdown.SubMenu",qP.Item.displayName="Dropdown.Item";const KP=["style","className","as","children","direction","justify","align","wrap","inline","flexGrow","flexShrink","flexBasis","gap","columnGap","rowGap"],YP={root:"_root_abf276_v1-27-0",inline:"_inline_abf276_v1-27-0",row:"_row_abf276_v1-27-0",column:"_column_abf276_v1-27-0","row-reverse":"_row-reverse_abf276_v1-27-0","column-reverse":"_column-reverse_abf276_v1-27-0","justify-center":"_justify-center_abf276_v1-27-0","justify-flex-start":"_justify-flex-start_abf276_v1-27-0","justify-flex-end":"_justify-flex-end_abf276_v1-27-0","justify-space-between":"_justify-space-between_abf276_v1-27-0","justify-space-around":"_justify-space-around_abf276_v1-27-0","justify-space-evenly":"_justify-space-evenly_abf276_v1-27-0","align-center":"_align-center_abf276_v1-27-0","align-flex-start":"_align-flex-start_abf276_v1-27-0","align-flex-end":"_align-flex-end_abf276_v1-27-0","align-baseline":"_align-baseline_abf276_v1-27-0","align-stretch":"_align-stretch_abf276_v1-27-0",wrap:"_wrap_abf276_v1-27-0",nowrap:"_nowrap_abf276_v1-27-0","gap-x":"_gap-x_abf276_v1-27-0","column-gap-x":"_column-gap-x_abf276_v1-27-0","row-gap-x":"_row-gap-x_abf276_v1-27-0","gap-2x":"_gap-2x_abf276_v1-27-0","column-gap-2x":"_column-gap-2x_abf276_v1-27-0","row-gap-2x":"_row-gap-2x_abf276_v1-27-0","gap-4x":"_gap-4x_abf276_v1-27-0","column-gap-4x":"_column-gap-4x_abf276_v1-27-0","row-gap-4x":"_row-gap-4x_abf276_v1-27-0","gap-6x":"_gap-6x_abf276_v1-27-0","column-gap-6x":"_column-gap-6x_abf276_v1-27-0","row-gap-6x":"_row-gap-6x_abf276_v1-27-0","gap-8x":"_gap-8x_abf276_v1-27-0","column-gap-8x":"_column-gap-8x_abf276_v1-27-0","row-gap-8x":"_row-gap-8x_abf276_v1-27-0","gap-10x":"_gap-10x_abf276_v1-27-0","column-gap-10x":"_column-gap-10x_abf276_v1-27-0","row-gap-10x":"_row-gap-10x_abf276_v1-27-0","gap-12x":"_gap-12x_abf276_v1-27-0","column-gap-12x":"_column-gap-12x_abf276_v1-27-0","row-gap-12x":"_row-gap-12x_abf276_v1-27-0","gap-16x":"_gap-16x_abf276_v1-27-0","column-gap-16x":"_column-gap-16x_abf276_v1-27-0","row-gap-16x":"_row-gap-16x_abf276_v1-27-0","gap-20x":"_gap-20x_abf276_v1-27-0","column-gap-20x":"_column-gap-20x_abf276_v1-27-0","row-gap-20x":"_row-gap-20x_abf276_v1-27-0","gap-24x":"_gap-24x_abf276_v1-27-0","column-gap-24x":"_column-gap-24x_abf276_v1-27-0","row-gap-24x":"_row-gap-24x_abf276_v1-27-0","gap-28x":"_gap-28x_abf276_v1-27-0","column-gap-28x":"_column-gap-28x_abf276_v1-27-0","row-gap-28x":"_row-gap-28x_abf276_v1-27-0","gap-32x":"_gap-32x_abf276_v1-27-0","column-gap-32x":"_column-gap-32x_abf276_v1-27-0","row-gap-32x":"_row-gap-32x_abf276_v1-27-0"},XP=(0,t.forwardRef)((function(e,t){const{style:n,className:r,as:i="div",children:o,direction:a="row",justify:s="flex-start",align:u="stretch",wrap:c="nowrap",inline:d,flexGrow:h,flexShrink:p,flexBasis:m,gap:v,columnGap:_,rowGap:f}=e,g=(0,V.A)(e,KP),b=(0,ve.c)(r,YP.root,YP[a],YP[c],YP["justify-".concat(s)],YP["align-".concat(u)],{[YP.inline]:d,[YP["gap-".concat(v)]]:v,[YP["column-gap-".concat(_)]]:!v&&_,[YP["row-gap-".concat(f)]]:!v&&f}),y=(0,l.A)({flexGrow:h,flexShrink:p,flexBasis:m},n);return(0,S.jsx)(i,(0,l.A)((0,l.A)({ref:t,style:y,className:b},g),{},{children:o}))}));XP.displayName="Flex";const QP=["style","className","disabled","loading","size","label","endSlot","value","defaultValue","onChange"],ZP={root:"_root_c9b27b_v1-27-0",disabled:"_disabled_c9b27b_v1-27-0",slider:"_slider_c9b27b_v1-27-0",dotHandle:"_dotHandle_c9b27b_v1-27-0",input:"_input_c9b27b_v1-27-0",dot:"_dot_c9b27b_v1-27-0",loading:"_loading_c9b27b_v1-27-0","size-s":"_size-s_c9b27b_v1-27-0",loader:"_loader_c9b27b_v1-27-0","size-m":"_size-m_c9b27b_v1-27-0","size-l":"_size-l_c9b27b_v1-27-0"},JP=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,disabled:o,loading:a,size:s="m",label:u,endSlot:c,value:d,defaultValue:h=!1,onChange:p}=e,m=(0,V.A)(e,QP),v=(0,t.useId)(),_=(0,t.useId)(),[f,g]=jC({value:d,defaultValue:h,onChange:p}),b=!!c,y=(0,ve.c)(ZP.root,ZP["size-".concat(s)],i,{[ZP.disabled]:o,[ZP.loading]:a});return(0,S.jsxs)(XP,{gap:"4x",align:"center",children:[(0,S.jsxs)("label",{className:y,style:r,children:[(0,S.jsx)("input",(0,l.A)({ref:n,type:"checkbox",checked:f,className:ZP.input,onChange:e=>{o||g(!f,e)},disabled:o,"aria-describedby":v,"aria-labelledby":_},m)),(0,S.jsxs)("div",{"aria-hidden":!0,className:ZP.slider,children:[a&&(0,S.jsx)(Pk,{variant:f?"light":"dynamic",id:v,className:ZP.loader,size:s}),(0,S.jsx)("span",{className:ZP.dot,children:(0,S.jsx)("span",{className:ZP.dotHandle})})]}),u&&(0,S.jsx)(me.o,{id:_,disabled:o,variant:"body-m-regular",children:u})]}),b&&u&&c]})}));JP.displayName="Switch";const $P=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsArrowsRefresh",__value:'<path fill="currentColor" fill-rule="evenodd" d="M9.542 21.177a9.49 9.49 0 0 1-6.41-5.767A1 1 0 0 1 5 14.69a7.502 7.502 0 0 0 13.733.62l-.309.178a1 1 0 1 1-1-1.731l2.45-1.415a1 1 0 0 1 1.365.366l1.415 2.45a1 1 0 0 1-1.732 1l-.21-.363a9.504 9.504 0 0 1-11.17 5.382m-5.415-9.519a1 1 0 0 1-1.366-.366l-1.414-2.45a1 1 0 0 1 1.732-1l.21.364C5.132 3.96 9.854 1.59 14.459 2.824a9.49 9.49 0 0 1 6.409 5.766A1 1 0 0 1 19 9.31a7.502 7.502 0 0 0-13.733-.62l.309-.178a1 1 0 0 1 1 1.732z" clip-rule="evenodd" />'})),eI=(0,t.forwardRef)($P),tI=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsMainLink",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12 3.515A6 6 0 1 1 20.487 12l-1.415 1.414A1 1 0 0 1 17.658 12l1.415-1.414a4 4 0 0 0-5.657-5.657L12 6.343a1 1 0 0 1-1.415-1.414zm4.208 4.278a1 1 0 0 1 0 1.414l-7 7a1 1 0 1 1-1.415-1.414l7-7a1 1 0 0 1 1.415 0m-9.864 2.793a1 1 0 0 1 0 1.414l-1.415 1.414a4 4 0 1 0 5.657 5.657l1.415-1.414a1 1 0 0 1 1.414 1.414L12 20.485A6 6 0 1 1 3.515 12l1.414-1.414a1 1 0 0 1 1.415 0" clip-rule="evenodd" />'})),nI=(0,t.forwardRef)(tI),rI=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsArrowsChevronSelectorHorizontal",__value:'<path fill="currentColor" fill-rule="evenodd" d="M9.707 6.293a1 1 0 0 1 0 1.414L5.414 12l4.293 4.293a1 1 0 0 1-1.414 1.414l-5-5a1 1 0 0 1 0-1.414l5-5a1 1 0 0 1 1.414 0m4.586 0a1 1 0 0 1 1.414 0l5 5a1 1 0 0 1 0 1.414l-5 5a1 1 0 0 1-1.414-1.414L18.586 12l-4.293-4.293a1 1 0 0 1 0-1.414" clip-rule="evenodd" />'})),iI=(0,t.forwardRef)(rI),oI=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsEditorCommand",__value:'<path fill="currentColor" fill-rule="evenodd" d="M2 6a4 4 0 1 1 8 0v2h4V6a4 4 0 1 1 4 4h-2v4h2a4 4 0 1 1-4 4v-2h-4v2a4 4 0 1 1-4-4h2v-4H6a4 4 0 0 1-4-4m6 2V6a2 2 0 1 0-2 2zm2 2v4h4v-4zm-2 6H6a2 2 0 1 0 2 2zm8 0v2a2 2 0 1 0 2-2zm0-8h2a2 2 0 1 0-2-2z" clip-rule="evenodd" />'})),aI=(0,t.forwardRef)(oI),sI=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsMapsTravelFlag",__value:'<path fill="currentColor" fill-rule="evenodd" d="M4 1a1 1 0 0 1 1 1v.397C5.728 2.173 6.708 2 8 2c1.693 0 3.097.561 4.316 1.05l.055.022C13.64 3.579 14.72 4 16 4c1.387 0 2.26-.23 2.754-.428.248-.1.405-.192.488-.248a1 1 0 0 0 .073-.053A1 1 0 0 1 21 4v11a1 1 0 0 1-.293.707L20 15c.707.707.707.708.706.708l-.001.001-.002.002-.005.005-.01.01-.027.025-.074.064a3 3 0 0 1-.235.173c-.198.132-.479.29-.856.44-.755.303-1.883.572-3.496.572-1.693 0-3.097-.561-4.316-1.05l-.055-.021C10.36 15.42 9.28 15 8 15c-1.387 0-2.26.23-2.754.428a3 3 0 0 0-.246.11V22a1 1 0 1 1-2 0V2a1 1 0 0 1 1-1m1 3.538v8.859C5.728 13.173 6.708 13 8 13c1.693 0 3.097.562 4.316 1.05l.055.021C13.64 14.58 14.72 15 16 15c1.387 0 2.26-.23 2.754-.428q.142-.058.246-.11V5.603c-.728.224-1.708.397-3 .397-1.693 0-3.097-.561-4.316-1.05l-.055-.022C10.36 4.421 9.28 4 8 4c-1.387 0-2.26.23-2.754.428a3 3 0 0 0-.246.11" clip-rule="evenodd" />'})),lI=(0,t.forwardRef)(sI),uI="Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð² Ð¼ÐµÐ½ÑŽ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ð¿Ð»ÐµÐµÑ€Ð°",cI="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ",dI="Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð¾",hI="ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ",pI="Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ",mI="Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ",vI=()=>(0,fr.p5)().resolve("IStatsForNerdsPlugin"),_I="context-menu-settings-module__content___Na4Aw",fI="context-menu-settings-module__item___Lz1bh",gI=(0,Jn.PA)((e=>{let{children:n}=e;const{isEmbed:r,container:i,hideSettingsPanel:o}=(0,pt.useControls)(),a=pm(),{isLive:s,isTVStream:l}=lm(),u=cm(),c=Fp(),{isFullScreen:d}=c,[h,p]=(0,t.useState)(!1),m=(e=>{let{isInteractive:n,isEmbed:r,isLive:i,isTVStream:o,hidePanel:a}=e;const{sendStats:s,extraActions:l,playback:u}=cm(),c=vI(),{isLooping:d}=u;return(0,t.useMemo)((()=>l?[!o&&{title:Er.Replay,ariaLabels:{title:"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°"},type:"action",menuIcon:t.createElement(dg,{"aria-hidden":!0}),onClick:()=>{l.replay(),a(),s("mainSettingsMoreMenuReplay")}},!n&&!r&&!i&&{title:Er.LoopVideo,ariaLabels:{title:"Ð—Ð°Ñ†Ð¸ÐºÐ»Ð¸Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾".concat(" + ",d?mI:pI)},type:"switcher",menuIcon:t.createElement(eI,{"aria-hidden":!0}),active:d,onClick:()=>{u.isLooping?s("mainSettingsMoreMenuReplayVideoOff"):s("mainSettingsMoreMenuReplayVideoOn"),l.loopVideo(),a()}},{title:Er.CopyLink,type:"action",ariaLabels:{title:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ Ð½Ð° Ð²Ð¸Ð´ÐµÐ¾"},menuIcon:t.createElement(nI,{"aria-hidden":!0}),onClick:()=>{l.copyLink(),a(),s("mainSettingsMoreMenuCopyLinkVideo")}},!n&&!o&&{title:Er.CopyLinkAtTime,type:"action",ariaLabels:{title:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð¿Ñ€Ð¸Ð²ÑÐ·ÐºÐ¾Ð¹ ÐºÐ¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸"},menuIcon:t.createElement(nI,{"aria-hidden":!0}),onClick:()=>{l.copyLinkAtTime(),a(),s("mainSettingsMoreMenuCopyLinkAtTime")}},!n&&{type:"action",title:Er.CopyTag,ariaLabels:{title:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð´ Ð´Ð»Ñ Ð²ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¿Ð»ÐµÐµÑ€Ð°"},menuIcon:t.createElement(iI,{"aria-hidden":!0}),onClick:()=>{l.copyTag(),a(),s("mainSettingsMoreMenuCopyTag")}},{title:Er.HotkeysManual,type:"action",ariaLabels:{title:"Ð–ÐµÑÑ‚Ñ‹ Ð¸ Ð³Ð¾Ñ€ÑÑ‡Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ¸"},menuIcon:t.createElement(aI,{"aria-hidden":!0}),onClick:()=>{l.hotkeysManual(),a(),s("mainSettingsMoreMenuHotkeyManual")}},{type:"action",title:Er.Info,ariaLabels:{title:"Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ"},menuIcon:t.createElement(K,null),onClick:()=>{H.B.isMobile?l.copyTechInfo():l.toggleTechInfo(),c.copyStatsInBuffer().catch((e=>console.warn(e))),a(),s("mainSettingsMoreMenuCopyInfo")}},{type:"action",title:Er.ReportError,ariaLabels:{title:"Ð¡Ð¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ðµ"},menuIcon:t.createElement(lI,{"aria-hidden":!0}),onClick:()=>{l.reportError(),a(),s("mainSettingsMoreMenuReportError")}}].filter(Boolean):[]),[l,o,n,r,i,d,a,s,u,c])})({isInteractive:a,isEmbed:r,isLive:s,isTVStream:l,hidePanel:o}),v=(0,t.useCallback)((e=>{p(e),e&&u.sendStats("mainContextMenuItemClick",{clickedItemTitle:"show_extended_player_menu"}),u.hasSettingsInteraction=!1}),[u]);return(0,t.useEffect)((()=>p(!1)),[d]),t.createElement(qP,{triggerOn:"context-menu",placement:"bottom-start",enableOverlay:!0,onOpenChange:v,onAfterOpenChange:e=>c.preventOnClickAction=e,closeOnScroll:!0,container:i,open:h},n&&t.createElement(qP.Trigger,null,n),t.createElement(qP.Menu,{className:_I},null==m?void 0:m.map((e=>{let{title:n,ariaLabels:r,onClick:i,menuIcon:o,active:a,type:s}=e;return t.createElement(qP.Item,{key:n,"aria-label":null==r?void 0:r.title,value:n,text:n,startIcon:null!=o?o:void 0,endIcon:"switcher"===s?t.createElement(JP,{size:"l",value:a,tabIndex:-1,"aria-hidden":!0,onChange:(e,t)=>{null==i||i(),t.stopPropagation(),t.preventDefault()}}):void 0,className:fI,onClick:i,onPointerEnter:()=>u.hasSettingsInteraction=!0,onPointerLeave:()=>u.hasSettingsInteraction=!1})}))))})),bI=(0,t.createContext)(null);bI.displayName="Sidebar.Context";const yI=()=>{const e=(0,t.useContext)(bI);if(!e)throw new Error("Sidebar.* Components must be used within a Sidebar.");return e},EI={root:"_root_fe25de_v1-27-0","placement-block-start":"_placement-block-start_fe25de_v1-27-0","placement-block-end":"_placement-block-end_fe25de_v1-27-0","placement-inline-start":"_placement-inline-start_fe25de_v1-27-0","placement-inline-end":"_placement-inline-end_fe25de_v1-27-0",inline:"_inline_fe25de_v1-27-0",fixed:"_fixed_fe25de_v1-27-0",overlay:"_overlay_fe25de_v1-27-0",transparent:"_transparent_fe25de_v1-27-0",sidebar:"_sidebar_fe25de_v1-27-0",content:"_content_fe25de_v1-27-0"},wI=["style","className","rootStyle","rootClassName","focusManagerProps","children"],SI=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,rootStyle:o,rootClassName:a,focusManagerProps:s,children:u}=e,c=(0,V.A)(e,wI),{refs:d,context:h,isMounted:p,sidebarContainer:m,isContainerReady:v,close:_,headingId:f,getFloatingProps:g,panelTransitionStyles:b,overlayTransitionStyles:y,placement:E,lockScroll:w,isReadyForFocus:A,handleTransitionEnd:C,overlay:k,overlayStyle:P,overlayClassName:I,zIndex:T}=yI(),x=(0,kC.SV)([d.setFloating,n]),R=(0,t.useMemo)((()=>({close:_,headingId:f})),[f,_]);if(!p||!v)return null;const L=g({style:(0,l.A)({},b),className:(0,ve.c)(EI.sidebar,EI["placement-".concat(E)]),"aria-labelledby":f}),O=(0,l.A)({visuallyHiddenDismiss:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"},s),N=(0,ve.c)(i,EI.content),M=(0,ve.c)(EI.root,a,EI["placement-".concat(E)],{[EI.fixed]:!m}),D=(0,ve.c)(I,EI.overlay,{[EI.transparent]:"transparent"===k}),B=(0,l.A)((0,l.A)((0,l.A)({},y),P),{},{overflow:"hidden",zIndex:T,position:"absolute"},"none"===k?{inset:"unset"}:void 0);return(0,S.jsx)(kC.XF,{root:m,children:(0,S.jsxs)("div",{className:M,style:o,children:[(0,S.jsx)(kC.zR,{className:D,style:B,lockScroll:w}),(0,S.jsx)(kC.s3,(0,l.A)((0,l.A)({context:h},O),{},{disabled:!A,children:(0,S.jsx)("div",(0,l.A)((0,l.A)((0,l.A)({ref:x,onTransitionEnd:C},L),c),{},{children:(0,S.jsx)("div",{style:r,className:N,children:"function"==typeof u?u(R):u})}))}))]})})}));SI.displayName="SidebarFloatingContent";var AI=a(3184);const CI=e=>{var t,n,r,i;return{width:null!==(t=null==(r=e.current)?void 0:r.scrollWidth)&&void 0!==t?t:"auto",height:null!==(n=null==(i=e.current)?void 0:i.scrollHeight)&&void 0!==n?n:"auto"}},kI=["style","className","rootStyle","rootClassName","children","focusManagerProps"],PI=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,rootStyle:o,rootClassName:a,children:s,focusManagerProps:u}=e,c=(0,V.A)(e,kI),{refs:d,context:h,isMounted:p,close:m,headingId:v,getFloatingProps:_,panelTransitionStyles:f,placement:g,isOpen:b,isReadyForFocus:y,handleTransitionEnd:E}=yI(),w=(0,t.useRef)(null),A=(0,t.useRef)(null),C=(0,kC.SV)([d.setFloating,n,w]),k=(0,t.useMemo)((()=>({close:m,headingId:v})),[v,m]),{rootTransitionStyles:P,panelTransitionStyles:I,handleTransitionEnd:T}=(e=>{const{placement:n,isOpen:r,panelRef:i,rootRef:o}=e,[a,s]=(0,t.useState)({}),[l,u]=(0,t.useState)({}),c=n.startsWith("block-"),d=(0,t.useCallback)(((e,t,n)=>{(0,se.flushSync)((()=>{s(e?{blockSize:n}:{inlineSize:t}),u(e?{minBlockSize:n}:{minInlineSize:t})}))}),[]);(0,AI.C)((()=>{let e;const t=window.requestAnimationFrame((()=>{if(r)d(c,0,0);else{const e=CI(i);d(c,e.width,e.height)}e=window.requestAnimationFrame((()=>{if(r){const e=CI(i);d(c,e.width,e.height)}else d(c,0,0)}))}));return()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(e)}}),[r,d,c,i]);const h=(0,t.useCallback)((e=>{if(e.target===o.current&&"width"===e.propertyName&&r){const e=CI(i);s(c?{blockSize:a.blockSize===e.height?"auto":e.height}:{inlineSize:a.inlineSize===e.width?"auto":e.width})}}),[o,r,i,c,a.blockSize,a.inlineSize]);return(0,t.useMemo)((()=>({handleTransitionEnd:h,rootTransitionStyles:a,panelTransitionStyles:l})),[h,a,l])})({placement:g,isOpen:b,panelRef:w,rootRef:A}),x=_({style:(0,l.A)((0,l.A)({},f),I),className:(0,ve.c)(EI.sidebar,EI["placement-".concat(g)]),"aria-labelledby":v}),R=(0,ve.c)(i,EI.content),L=(0,S.jsx)(kC.s3,(0,l.A)((0,l.A)({context:h,disabled:!y,modal:!1},u),{},{children:(0,S.jsx)("div",(0,l.A)((0,l.A)((0,l.A)({ref:C,onTransitionEnd:E},x),c),{},{children:(0,S.jsx)("div",{style:r,className:R,children:"function"==typeof s?s(k):s})}))})),O=(0,ve.c)(EI.root,a,EI["placement-".concat(g)],EI.inline),N=(0,l.A)((0,l.A)({},o),P);return(0,S.jsx)("div",{ref:A,className:O,style:N,"aria-hidden":!b,onTransitionEnd:T,children:p?L:null})}));PI.displayName="SidebarInlineContent";const II=(0,t.forwardRef)(((e,t)=>{const{inline:n}=yI();return n?(0,S.jsx)(PI,(0,l.A)({ref:t},e)):(0,S.jsx)(SI,(0,l.A)({ref:t},e))}));II.displayName="SidebarContent";const TI=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsArrowsChevronLeft",__value:'<path fill="currentColor" fill-rule="evenodd" d="M15.707 5.293a1 1 0 0 1 0 1.414L10.414 12l5.293 5.293a1 1 0 0 1-1.414 1.414l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 0" clip-rule="evenodd" />'})),xI=(0,t.forwardRef)(TI),RI=["style","className","header","headerPlacement","buttonSize","enableBackButton","enableClose","onBackButtonClick","onClose"],LI={root:"_root_466bbb_v1-27-0","header-start":"_header-start_466bbb_v1-27-0","header-center":"_header-center_466bbb_v1-27-0",hasBackButton:"_hasBackButton_466bbb_v1-27-0",hasCloseButton:"_hasCloseButton_466bbb_v1-27-0",header:"_header_466bbb_v1-27-0",closeButton:"_closeButton_466bbb_v1-27-0",backButton:"_backButton_466bbb_v1-27-0"},OI=(0,t.forwardRef)(((e,t)=>{const{style:n,className:r,header:i,headerPlacement:o="start",buttonSize:a="s",enableBackButton:s=!1,enableClose:u=!1,onBackButtonClick:c,onClose:d}=e,h=(0,V.A)(e,RI),p=!!i,m=(0,ve.c)(r,LI.root,{[LI["header-".concat(o)]]:p,[LI.hasCloseButton]:u,[LI.hasBackButton]:s});return(0,S.jsxs)("div",(0,l.A)((0,l.A)({ref:t,style:n,className:m},h),{},{children:[s?(0,S.jsx)(Rk,{className:LI.backButton,size:a,variant:"tertiary",startIcon:(0,S.jsx)(xI,{size:24,"aria-hidden":!0}),onClick:c,"aria-label":"ÐÐ°Ð·Ð°Ð´"}):null,p?(0,S.jsx)("div",{className:LI.header,children:i}):null,u?(0,S.jsx)(Rk,{className:LI.closeButton,size:a,variant:"tertiary",startIcon:(0,S.jsx)(ot,{size:24,"aria-hidden":!0}),onClick:d,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"}):null]}))}));OI.displayName="ModalHeader";const NI=["style","className","heading","enableClose","onClose"],MI="_root_111817_v1-27-0",DI=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,heading:o,enableClose:a=!0,onClose:s}=e,u=(0,V.A)(e,NI),{headingId:c,close:d}=yI(),h=(0,t.useCallback)((e=>{d(),null==s||s(e)}),[d,s]),p=(0,ve.c)(i,MI);return(0,S.jsx)(OI,(0,l.A)({ref:n,style:r,className:p,headerPlacement:"center",buttonSize:"m",enableClose:a,onClose:h,header:(0,S.jsx)(S.Fragment,{children:o?(0,S.jsx)(me.o,{id:c,variant:"title-headline-4",wordBreak:"break-word",children:o}):null})},u))}));DI.displayName="SidebarHeader";var BI=a(7208);const FI=300,HI="transform",VI="ease-out",UI={"inline-start":{close:"translateX(-100%)",open:"translateX(0)"},"inline-end":{close:"translateX(100%)",open:"translateX(0)"},"block-start":{close:"translateY(-100%)",open:"translateY(0)"},"block-end":{close:"translateY(100%)",open:"translateY(0)"}},jI=["children","lockScroll","inline","overlay","overlayStyle","overlayClassName","zIndex"],WI=(0,t.forwardRef)(((e,n)=>{const{children:r,lockScroll:i,inline:o=!1,overlay:a="default",overlayStyle:s,overlayClassName:u,zIndex:c}=e,d=(0,V.A)(e,jI),h=(e=>{const{isOpenControlled:n,container:r,closeOnOutsideClick:i=!0,closeOnEscape:o=!0,open:a,defaultOpen:s=!1,placement:u="inline-start",onOpenChange:c,onAfterOpenChange:d}=e,h=(0,t.useId)(),[p,m]=(0,jk.D)({value:n?a:void 0,defaultValue:s,onChange:c}),v=(0,U.n)(r),_=(0,t.useCallback)((()=>{m(!0)}),[m]),f=(0,t.useCallback)((()=>{m(!1)}),[m]),g=(0,kC.we)({open:p,onOpenChange:m}),b=g.context,y=(0,kC.kp)(b),E=(0,kC.It)(b,{role:"dialog"}),w=(0,kC.s9)(b,{escapeKey:o,outsidePress:i,outsidePressEvent:"mousedown"}),S=(0,kC.bv)([y,E,w]),A=(0,BI.Z)(p),C=p&&void 0===A?0:FI,{status:k}=(0,kC.$X)(b,{duration:C}),{isMounted:P,styles:I}=(0,kC.DL)(b,{duration:C,initial:{opacity:0},open:{opacity:1,transitionTimingFunction:"ease-in"},close:{opacity:0,transitionTimingFunction:"ease-out"}}),T=UI[u],{styles:x}=(0,kC.DL)(b,{duration:C,initial:{transform:T.close},open:{transform:T.open},close:{transform:T.close}}),R=(0,t.useMemo)((()=>(0,l.A)((0,l.A)({},x),{},{transitionProperty:HI,transitionTimingFunction:VI})),[x]),{isReadyForFocus:L,onTransitionEnd:O}=(0,Wk.a)({isMounted:P,status:k}),{handleTransitionEnd:N}=(0,Uk.y)({status:k,transitionProperty:"transform",onAfterOpenChange:d}),M=(0,t.useCallback)((e=>{O(),N(e)}),[N,O]),D=!("container"in e)||!!v;return(0,t.useMemo)((()=>(0,l.A)((0,l.A)((0,l.A)({},g),S),{},{isOpen:p,sidebarContainer:v,isContainerReady:D,status:k,isMounted:P,open:_,close:f,headingId:h,isReadyForFocus:L,panelTransitionStyles:R,overlayTransitionStyles:I,handleTransitionEnd:M,placement:u})),[g,S,p,v,D,k,P,_,f,h,L,R,I,M,u])})((0,l.A)({isOpenControlled:"open"in d},d)),{isOpen:p,refs:m,status:v,open:_,close:f}=h;(0,t.useImperativeHandle)(n,(()=>{var e,t;return{isOpen:p,status:v,trigger:null==(e=m.reference)?void 0:e.current,content:"unmounted"===v?null:null==(t=m.floating)?void 0:t.current,open:_,close:f}}),[m.floating,m.reference,v,p,_,f]);const g=(0,t.useMemo)((()=>(0,l.A)((0,l.A)({},h),{},{lockScroll:i,inline:o,overlay:a,overlayStyle:s,overlayClassName:u,zIndex:c})),[o,i,a,u,s,h,c]);return(0,S.jsx)(bI.Provider,{value:g,children:r})}));WI.displayName="Sidebar";const zI=(0,t.forwardRef)(((e,t)=>{const{refs:n,getReferenceProps:r}=yI();return(0,Gk.O)((0,l.A)((0,l.A)({},e),{},{ref:t,setReference:n.setReference,getReferenceProps:r}))}));zI.displayName="SidebarTrigger";const GI=Object.assign(WI,{Trigger:zI,Content:II,Header:DI});GI.Trigger.displayName="Sidebar.Trigger",GI.Content.displayName="Sidebar.Content";const qI=(0,t.createContext)(null);qI.displayName="Popover.Context";const KI=()=>{const e=(0,t.useContext)(qI);if(!e)throw new Error("[Popover.Context] Popover.* Components must be used within a Popover.");return e},YI=(0,t.forwardRef)(((e,t)=>{const{refs:n,isOpen:r,activeAnchorId:i}=KI();return(0,EC.t)((0,l.A)((0,l.A)({},e),{},{ref:t,setPositionReference:n.setPositionReference,activeAnchorId:i,additionalProps:{[yC]:!!r||void 0}}))}));YI.displayName="PopoverAnchor";const XI=["className","style","zIndex","children","focusManagerProps"],QI={root:"_root_427261_v1-27-0",popover:"_popover_427261_v1-27-0","placement-top-start":"_placement-top-start_427261_v1-27-0",container:"_container_427261_v1-27-0","placement-top":"_placement-top_427261_v1-27-0","placement-top-end":"_placement-top-end_427261_v1-27-0","placement-bottom-start":"_placement-bottom-start_427261_v1-27-0","placement-bottom":"_placement-bottom_427261_v1-27-0","placement-bottom-end":"_placement-bottom-end_427261_v1-27-0","placement-right-start":"_placement-right-start_427261_v1-27-0","placement-right":"_placement-right_427261_v1-27-0","placement-right-end":"_placement-right-end_427261_v1-27-0","placement-left-start":"_placement-left-start_427261_v1-27-0","placement-left":"_placement-left_427261_v1-27-0","placement-left-end":"_placement-left-end_427261_v1-27-0"},ZI=(0,t.forwardRef)(((e,n)=>{var r,i;const{className:o,style:a,zIndex:s,children:u,focusManagerProps:c}=e,d=(0,V.A)(e,XI),{refs:h,context:p,placement:m,getFloatingProps:v,isMounted:_,floatingStyles:f,transitionStyles:g,handleTransitionEnd:b,popoverContainer:y,isContainerReady:E,isReadyForFocus:w,closePopover:A,headingId:C,descriptionId:k,enableOverlay:P,lockScroll:I}=KI(),T=(0,kC.SV)([h.setFloating,n]),x=(0,t.useMemo)((()=>({closePopover:A,headingId:C,descriptionId:k})),[k,C,A]);if(!_||!E)return null;const R=null==(i=null==(r=null==p?void 0:p.middlewareData)?void 0:r.hide)?void 0:i.referenceHidden,L=v({style:(0,l.A)((0,l.A)({},f),{},{zIndex:s,visibility:!_||R?"hidden":"unset"})}),O=(0,l.A)({visuallyHiddenDismiss:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"},c),N=(0,l.A)((0,l.A)({},a),g),M=(0,ve.c)(QI.root,QI["placement-".concat(m)]),D=(0,ve.c)(o,QI.popover);return(0,S.jsxs)(kC.XF,{root:y,children:[I&&(0,S.jsx)(kC.zR,{style:P?void 0:{inset:"unset"},lockScroll:I}),(0,S.jsx)(kC.s3,(0,l.A)((0,l.A)({outsideElementsInert:P},O),{},{context:p,disabled:!w,children:(0,S.jsx)("div",(0,l.A)((0,l.A)((0,l.A)({ref:T,className:M,"aria-labelledby":C,"aria-describedby":k},L),d),{},{children:(0,S.jsx)("div",{className:D,style:N,onTransitionEnd:b,children:"function"==typeof u?u(x):u})}))}))]})}));ZI.displayName="PopoverContent";const JI={SCREEN_EDGE_OFFSET:16,TOGGLE_ANIMATION_DURATION:150,PLACEMENT_ANIMATION_DURATION:100,get PLACEMENT_TRANSITION(){return"transform ".concat(this.PLACEMENT_ANIMATION_DURATION,"ms ease-out")}},$I={PLACEMENT:"bottom-end",PLACEMENT_STRATEGY:"absolute",PLACEMENT_SEQUENCE:["bottom-end","bottom","bottom-start","right","right-start","right-end","left","left-start","left-end","top-end","top","top-start"],TOGGLE_ON_CLICK:!0,DISABLE_SIZE_MIDDLEWARE:!1,OFFSET_OPTIONS:{mainAxis:8}},eT=["children","activeAnchorId","activeTriggerId","enableOverlay","lockScroll"],tT=(0,t.forwardRef)(((e,n)=>{const{children:r,activeAnchorId:i,activeTriggerId:o,enableOverlay:a,lockScroll:s}=e,u=(0,V.A)(e,eT),c=(e=>{const{isOpenControlled:n,container:r,constraintContainer:i,placement:o=$I.PLACEMENT,placementStrategy:a=$I.PLACEMENT_STRATEGY,placementSequence:s=$I.PLACEMENT_SEQUENCE,clickOutsideIgnoreElement:u,toggleOnClick:c=$I.TOGGLE_ON_CLICK,offsetOptions:d,disableSizeMiddleware:h=$I.DISABLE_SIZE_MIDDLEWARE,open:p,defaultOpen:m,onOpenChange:v,onAfterOpenChange:_}=e,f=(0,t.useId)(),g=(0,t.useId)(),[b,y]=(0,jk.D)({value:n?p:void 0,defaultValue:m,onChange:v}),E=(0,U.n)(r),w=(0,U.n)(i),S=(0,kC.we)({open:b,onOpenChange:y,strategy:a,placement:o,whileElementsMounted:kP.ll,middleware:[(0,PP.cY)((0,l.A)((0,l.A)({},$I.OFFSET_OPTIONS),d)),(0,PP.UU)({fallbackPlacements:s,boundary:w}),!h&&(0,PP.Ej)({apply(e){let{availableHeight:t,elements:n}=e;Object.assign(n.floating.style,{maxHeight:IP(t,n.floating.scrollHeight)})},boundary:w,padding:JI.SCREEN_EDGE_OFFSET},[w]),(0,PP.BN)({limiter:(0,PP.ER)(),boundary:w}),(0,PP.jD)({strategy:"referenceHidden",boundary:w})]}),A=S.context,C=(0,kC.kp)(A,{toggle:c}),k=(0,t.useCallback)((e=>{const t=e.target,n="string"==typeof u?t.closest(u):u;return!(null!=n&&n.contains(t))}),[u]),P=(0,kC.s9)(A,{outsidePress:k}),I=(0,kC.It)(A),T=(0,kC.bv)([C,P,I]),{status:x}=(0,kC.$X)(A,{duration:JI.TOGGLE_ANIMATION_DURATION}),{isMounted:R,styles:L}=(0,kC.DL)(A,{duration:JI.TOGGLE_ANIMATION_DURATION,initial:{opacity:0},open:{opacity:1,transitionTimingFunction:"ease-in"},close:{opacity:0,transitionTimingFunction:"ease-out"}});(0,TP.c)({status:x,placement:S.placement,floating:S.elements.floating,transition:JI.PLACEMENT_TRANSITION,duration:JI.PLACEMENT_ANIMATION_DURATION});const{isReadyForFocus:O,onTransitionEnd:N}=(0,Wk.a)({isMounted:R,status:x}),{handleTransitionEnd:M}=(0,Uk.y)({status:x,onAfterOpenChange:_}),D=(0,t.useCallback)((e=>{N(),M(e)}),[M,N]),B=(0,t.useCallback)((()=>{y(!0)}),[y]),F=(0,t.useCallback)((()=>{y(!1)}),[y]),H=!("container"in e)||!!E;return(0,t.useMemo)((()=>(0,l.A)((0,l.A)((0,l.A)({},S),T),{},{isOpen:b,isMounted:R,isContainerReady:H,isReadyForFocus:O,transitionStyles:L,handleTransitionEnd:D,popoverContainer:E,status:x,openPopover:B,closePopover:F,headingId:f,descriptionId:g})),[S,T,b,R,H,O,L,D,E,x,B,F,f,g])})((0,l.A)({isOpenControlled:"open"in u},u)),{isOpen:d,refs:h,status:p,openPopover:m,closePopover:v}=c;(0,t.useImperativeHandle)(n,(()=>{var e,t;return{trigger:null==(e=h.reference)?void 0:e.current,content:"unmounted"===p?null:null==(t=h.floating)?void 0:t.current,isOpen:d,openPopover:m,closePopover:v}}),[h.floating,h.reference,p,d,m,v]);const _=(0,t.useMemo)((()=>(0,l.A)((0,l.A)({},c),{},{activeAnchorId:i,activeTriggerId:o,enableOverlay:a,lockScroll:s})),[c,i,o,a,s]);return(0,S.jsx)(qI.Provider,{value:_,children:r})}));tT.displayName="Popover";const nT=(0,t.forwardRef)(((e,t)=>{const{refs:n,getReferenceProps:r,isOpen:i,activeTriggerId:o}=KI();return(0,Gk.O)((0,l.A)((0,l.A)({},e),{},{ref:t,setReference:n.setReference,getReferenceProps:r,activeTriggerId:o,additionalProps:{[yC]:!!i||void 0}}))}));nT.displayName="PopoverTrigger";const rT=tT;rT.Anchor=YI,rT.Trigger=nT,rT.Content=ZI,rT.Anchor.displayName="Popover.Anchor",rT.Trigger.displayName="Popover.Trigger",rT.Content.displayName="Popover.Content";var iT=a(5182);const oT=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerSettings",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12.002 1a3.21 3.21 0 0 0-2.936 1.909L8.48 4.225a1.43 1.43 0 0 1-.587.655c-.261.15-.564.215-.864.183l-1.434-.152A3.21 3.21 0 0 0 2.05 8.275c.033.62.245 1.219.611 1.721l.846 1.163a1.43 1.43 0 0 1 0 1.682l-.846 1.163q-.053.073-.102.148a3.211 3.211 0 0 0 3.037 4.937l1.43-.152a1.43 1.43 0 0 1 1.456.84l.585 1.314a3.214 3.214 0 0 0 5.872 0l.584-1.313a1.43 1.43 0 0 1 1.452-.836l1.43.152a3.2 3.2 0 0 0 1.795-.332 3.213 3.213 0 0 0 1.14-4.753l-.845-1.162a1.44 1.44 0 0 1 .003-1.688l.847-1.163a3.211 3.211 0 0 0-2.937-5.085l-1.43.152c-.3.032-.602-.032-.863-.183a1.43 1.43 0 0 1-.586-.655l-.59-1.318A3.21 3.21 0 0 0 12.001 1m0 2a1.21 1.21 0 0 0-1.108.72l-.584 1.313a3.44 3.44 0 0 1-1.415 1.579 3.43 3.43 0 0 1-2.074.44L5.386 6.9a1.213 1.213 0 0 0-1.109 1.92l.847 1.163a3.43 3.43 0 0 1 0 4.034l-.847 1.164a1.211 1.211 0 0 0 1.11 1.919l1.43-.152a3.43 3.43 0 0 1 3.492 2.017l.585 1.315a1.213 1.213 0 0 0 2.216 0l.585-1.316a3.43 3.43 0 0 1 3.488-2.01l1.43.151c.844.128 1.81-.896 1.114-1.924-.988-1.296-1.503-1.934-1.503-3.183 0-.724.23-1.43.656-2.015l.847-1.164a1.21 1.21 0 0 0 .069-1.32 1.21 1.21 0 0 0-1.178-.599l-.44.047-.99.105a3.44 3.44 0 0 1-2.077-.442 3.43 3.43 0 0 1-1.413-1.577l-.587-1.31V3.72A1.21 1.21 0 0 0 12 3" clip-rule="evenodd" /><path fill="currentColor" fill-rule="evenodd" d="M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8m0 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4" clip-rule="evenodd" />'})),aT=(0,t.forwardRef)(oT),sT=()=>(0,fr.Ks)("IQualitiesPlugin"),lT=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M6.4 6.4V9.6L4 12L6.4 14.4V17.6H9.6L12 20L14.4 17.6H17.6V14.4L20 12L17.6 9.6V6.4H14.4L12 4L9.6 6.4H6.4Z",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}),t.createElement("circle",{cx:"12.0001",cy:"11.9996",r:"2.4",stroke:n,strokeWidth:"1.24",strokeLinecap:"round",strokeLinejoin:"round"}))},uT={"720p":e=>{let{color:n="#00A1E7"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"9",fill:"none",viewBox:"0 0 13 9"},t.createElement("path",{fill:n,d:"M0 1a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1z"}),t.createElement("g",{filter:"url(#a)"},t.createElement("path",{fill:"#fff",d:"M2.227 7V4.41h2.29V7h1.221V1H4.516v2.352h-2.29V1H1v6zM8.84 7q.996 0 1.704-.341.708-.344 1.08-1.022Q12 4.956 12 3.943q0-.965-.368-1.618a2.38 2.38 0 0 0-1.036-.989Q9.927 1 9.017 1H7.202v6zm-.411-1.051V2.043h.651q.539 0 .903.205.368.205.553.635.19.428.19 1.092 0 .981-.438 1.478-.436.496-1.334.496z"})),t.createElement("defs",null,t.createElement("filter",{id:"a",width:"11",height:"6.8",x:"1",y:"1",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},t.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.createElement("feOffset",{dy:".8"}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.59 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_0_1"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_1",result:"shape"}))))},"1080p":e=>{let{color:n="#00A1E7"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"9",viewBox:"0 0 14 9",fill:"none"},t.createElement("path",{fill:n,d:"M0 1c0-.552.482-1 1.077-1h11.846C13.518 0 14 .448 14 1v7c0 .552-.482 1-1.077 1H1.077C.482 9 0 8.552 0 8z"}),t.createElement("g",{filter:"url(#a)"},t.createElement("path",{fill:"#fff",d:"M2.66 6.56V4.799h1.51v-.97H2.66v-.951h1.624v-.974H1.53v4.658zm3.173-1.923h1.565V6.56h1.143V1.903H7.398V3.65H5.833V1.903H4.688v4.658h1.145zm4.732 1.924q.784 0 1.355-.263.573-.27.877-.8.305-.535.303-1.309c0-.49-.097-.91-.297-1.251a1.9 1.9 0 0 0-.71-.707l-.132-.068q-.54-.26-1.26-.26H9.202v4.658zm.79-4.496a3 3 0 0 0-.154-.027l.155.027q.075.016.149.036zm.828.344.077.055q-.037-.029-.076-.055m.459.46a2 2 0 0 0 .075.118zm-2.295.008h.403q.396.002.648.14l.119.078q.165.129.263.348l.001.001q.136.29.137.77c0 .471-.11.809-.312 1.03-.198.217-.51.336-.954.336h-.305zm2.527.462.007.02zm.028.094.022.084zm.082.438.002.032q0-.015-.002-.032m-.986.672q-.006.048-.016.094.01-.045.016-.094m.919.376-.021.08zm-.04.144-.03.086zm-.046.13q-.016.042-.035.082zm-.334.554-.022.025zm-1.123.629-.031.007z"})),t.createElement("defs",null,t.createElement("filter",{id:"a",width:"11.57",height:"5.457",x:"1.529",y:"1.903",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},t.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.createElement("feOffset",{dy:".8"}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.59 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_0_1"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_1",result:"shape"}))))},"1440p":e=>{let{color:n="#00A1E7"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"9",viewBox:"0 0 13 9",fill:"none"},t.createElement("path",{fill:n,d:"M0 1a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1z"}),t.createElement("g",{fill:"#fff",filter:"url(#a)"},t.createElement("path",{d:"M1.775 7v-.887l2.07-1.917a8 8 0 0 0 .444-.46q.182-.205.275-.401a1 1 0 0 0 .094-.429.8.8 0 0 0-.116-.44.77.77 0 0 0-.319-.287 1 1 0 0 0-.457-.103.96.96 0 0 0-.466.108.74.74 0 0 0-.307.31 1 1 0 0 0-.108.48H1.718q0-.57.258-.991.259-.42.725-.65t1.074-.23q.624-.001 1.088.22.465.22.724.609t.259.892q0 .33-.131.65-.128.321-.457.713-.33.39-.93.935l-.849.832v.04h2.443V7zM6.688 7V1.182h1.23v2.565h.077l2.093-2.565h1.475l-2.16 2.605L11.589 7h-1.471L8.523 4.608l-.605.738V7z"})),t.createElement("defs",null,t.createElement("filter",{id:"a",width:"9.87",height:"6.698",x:"1.718",y:"1.102",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},t.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.createElement("feOffset",{dy:".8"}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.59 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_0_1"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_1",result:"shape"}))))},"2160p":e=>{let{color:n="#00A1E7"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"9",fill:"none",viewBox:"0 0 13 9"},t.createElement("path",{fill:n,d:"M0 1a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1z"}),t.createElement("g",{fill:"#fff",filter:"url(#a)"},t.createElement("path",{d:"M1.495 5.977V5.01l2.43-3.827h.834v1.34h-.494L2.734 4.947v.046h3.451v.985zM4.288 7V5.682l.022-.43v-4.07h1.154V7zM6.88 7V1.182h1.23v2.565h.076l2.094-2.565h1.474L9.595 3.787 11.78 7h-1.472L8.714 4.608l-.605.739V7z"})),t.createElement("defs",null,t.createElement("filter",{id:"a",width:"10.284",height:"6.618",x:"1.495",y:"1.182",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},t.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.createElement("feOffset",{dy:".8"}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.59 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_0_1"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_1",result:"shape"}))))},"4320p":e=>{let{color:n="#00A1E7"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"9",fill:"none",viewBox:"0 0 13 9"},t.createElement("path",{fill:n,d:"M0 1a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1z"}),t.createElement("g",{filter:"url(#a)"},t.createElement("path",{fill:"#fff",d:"M3.622 7.083q.615 0 1.082-.198.466-.2.73-.56a1.43 1.43 0 0 0 .263-.86q0-.391-.182-.688a1.9 1.9 0 0 0-.462-.514 4 4 0 0 0-.6-.39q.305-.15.543-.349.24-.202.377-.47.142-.267.142-.623 0-.48-.26-.794a1.55 1.55 0 0 0-.692-.479A2.7 2.7 0 0 0 3.623 1q-.504 0-.937.162a1.63 1.63 0 0 0-.702.475q-.262.316-.262.786 0 .352.125.624.13.271.344.482.219.21.483.376a2.8 2.8 0 0 0-.571.373q-.259.215-.414.515-.15.3-.15.705 0 .495.243.852.243.352.71.543.465.19 1.13.19M8 7.002V4.886l.531-.381 1.553 2.497h1.426L9.426 3.698l2.067-2.622H10.1L8.494 3.091q-.126.174-.247.348-.122.175-.248.35V1.075H6.743v5.926zM3.622 3.351a3 3 0 0 1-.36-.211 1 1 0 0 1-.264-.264.65.65 0 0 1-.098-.356q0-.287.204-.446a.8.8 0 0 1 .51-.158q.312 0 .515.158a.53.53 0 0 1 .206.446.66.66 0 0 1-.1.369.9.9 0 0 1-.264.263 3 3 0 0 1-.349.199m-.017 2.812q-.45 0-.68-.207a.7.7 0 0 1-.227-.53.8.8 0 0 1 .11-.414q.11-.183.3-.328.194-.146.454-.263l.109.057q.203.117.401.254.2.134.328.304.135.17.134.398a.67.67 0 0 1-.231.53q-.231.2-.698.2"})),t.createElement("defs",null,t.createElement("filter",{id:"a",width:"9.97",height:"6.883",x:"1.539",y:"1",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},t.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),t.createElement("feOffset",{dy:".8"}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.59 0"}),t.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_0_1"}),t.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_1",result:"shape"}))))}};var cT=a(2245);const dT="ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸",hT={"144p":"144p","240p":"240p","360p":"360p","480p":"480p SD","720p":"720p HD","1080p":"1080p Full HD","1440p":"1440p 2K","2160p":"2160p 4K","4320p":"4320p 8K"},pT={"480p":"SD","720p":"HD","1080p":"FHD","1440p":"2K","2160p":"4K","4320p":"8K"},mT="quality-badge-module__badge___GD8ny",vT="quality-badge-module__compact___CfHTn",_T="quality-badge-module__label___mS1hu",fT=(0,Jn.PA)((e=>{let{qualityValue:n,color:r,isCompact:i}=e;const o=pT[n];if(o)return t.createElement(cT.E,{size:"s",variant:"secondary",style:{"--rt-colors-controls-secondary":r},className:er()(mT,{[vT]:i})},t.createElement("div",{className:_T},o))})),gT="raichu-settings-module__wrapper___GUwi3",bT="raichu-settings-module__isTouch___xZYeV",yT="raichu-settings-module__settings___oOxR2",ET="raichu-settings-module__panelWrapper___A79sI",wT="raichu-settings-module__settingsList___e8gND",ST="raichu-settings-module__isEmbed___FDipZ",AT="raichu-settings-module__settingsItems___qJL30",CT="raichu-settings-module__settingsItemContainer___wnjyl",kT="raichu-settings-module__settingsItem___Tjywq",PT="raichu-settings-module__thumbSwitcher___MVqzh",IT="raichu-settings-module__settingsItemOption___LFyJV",TT="raichu-settings-module__settingsItemOptionActive___Gw8C0",xT="raichu-settings-module__settingsItemOptionTitle___yqJLa",RT="raichu-settings-module__settingsItemIcon___wxjpX",LT="raichu-settings-module__settingsNavigationIcon___wj9I8",OT="raichu-settings-module__title___qWoeC",NT="raichu-settings-module__colorInfoIcon___QtlQ0",MT="raichu-settings-module__settingsItemIconContainer___qTjVZ",DT="raichu-settings-module__whiteItem___x03y0",BT="raichu-settings-module__settingsItemIconContainerPrev___uMh9t",FT="raichu-settings-module__settingsItemIconClose___ufl3H",HT="raichu-settings-module__settingsItemActive___N0moK",VT="raichu-settings-module__settingsItemActiveExtra___xv9di",UT="raichu-settings-module__settingBtn___Rv8Wp",jT="raichu-settings-module__gear___WMgea",WT="raichu-settings-module__qualityMark___zim3g",zT="raichu-settings-module__animationContainer___dql_U",GT="raichu-settings-module__animationContainerMobile___OvL4s",qT="raichu-settings-module__gearRotate___L76Li",KT="raichu-settings-module__settingsPaletteItem___mjhrT",YT="raichu-settings-module__paletteItems___VWnf1",XT="raichu-settings-module__paletteItemsActive___sJvdD",QT="raichu-settings-module__settingsItemSubtitleBackground___OZQYV",ZT="raichu-settings-module__settingsSubtitleBackgroundOpacity___IA1v9",JT="raichu-settings-module__settingsSubtitleBackgroundOpacityRow___bVSev",$T="raichu-settings-module__settingsSubtitleBackgroundOpacityItem___wvuzR",ex="raichu-settings-module__settingsSubtitleBackgroundOpacityItemActive____4FAs",tx="raichu-settings-module__settingsItemPrev___BBpCC",nx=(0,Jn.PA)((()=>{const{activeQualityIndex:e,qualities:n}=sT(),r=n[null!=e?e:0],{progressBarColor:i}=(0,pt.useControls)(),o=pt.ControlsPlugin.IsNewControls?()=>t.createElement(fT,{qualityValue:null==r?void 0:r.value,color:i,isCompact:!0}):(e=>{if(e)return uT[e.value]})(r);return o?t.createElement("div",{className:WT},t.createElement(o,{color:i})):null})),rx=(0,Jn.PA)((e=>{let{color:n,isActive:r}=e;return t.createElement("div",{"aria-hidden":"true",className:er()(jT,{[qT]:r})},t.createElement(lT,{color:n}))})),ix=(0,Jn.PA)((e=>{let{isActive:n}=e;return t.createElement("div",{"aria-hidden":"true",className:er()(jT,{[qT]:n})},t.createElement(aT,null))})),ox=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsMediaDevicesPlayCircle",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12m10.245-4.567.028.018 4.721 3.035.026.017c.151.097.316.203.448.305.14.109.36.3.49.608a1.5 1.5 0 0 1 0 1.168c-.13.307-.35.499-.49.608a6 6 0 0 1-.448.305l-.026.017-4.72 3.035-.029.018c-.176.113-.36.232-.523.317s-.46.223-.829.196a1.5 1.5 0 0 1-1.094-.597c-.22-.295-.265-.62-.282-.803s-.017-.403-.017-.612V8.932c0-.21 0-.429.017-.612s.061-.508.282-.803a1.5 1.5 0 0 1 1.094-.597c.368-.027.665.111.829.196s.347.204.523.317M10.5 9.332v5.336L14.65 12z" clip-rule="evenodd" />'})),ax=(0,t.forwardRef)(ox),sx=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99397 8.54952C6.75184 8.79165 6.35928 8.79165 6.11715 8.54952L4.5616 6.99397C4.49362 6.92599 4.44473 6.84615 4.41492 6.76112C4.39761 6.71186 4.38635 6.65976 4.38202 6.6057C4.3795 6.57438 4.37934 6.54291 4.38156 6.51157C4.3861 6.44669 4.40063 6.38456 4.42362 6.32671C4.45142 6.25658 4.49252 6.19051 4.54691 6.13235C4.55231 6.12656 4.55783 6.12088 4.56345 6.1153L6.11715 4.5616C6.35928 4.31947 6.75184 4.31947 6.99397 4.5616C7.23609 4.80372 7.23609 5.19629 6.99397 5.43841L6.49684 5.93553H19C19.3424 5.93553 19.62 6.21312 19.62 6.55553V11.2222C19.62 11.5646 19.3424 11.8422 19 11.8422C18.6576 11.8422 18.38 11.5646 18.38 11.2222V7.17553H6.49679L6.99397 7.67271C7.23609 7.91483 7.23609 8.3074 6.99397 8.54952ZM5.62002 12.7778C5.62002 12.4354 5.34243 12.1578 5.00002 12.1578C4.6576 12.1578 4.38002 12.4354 4.38002 12.7778V17.4445C4.38002 17.7869 4.6576 18.0645 5.00002 18.0645H17.5033L17.0061 18.5617C16.7639 18.8038 16.7639 19.1963 17.0061 19.4385C17.2482 19.6806 17.6408 19.6806 17.8829 19.4385L19.4384 17.8829C19.5074 17.814 19.5567 17.7328 19.5864 17.6465C19.6027 17.5989 19.6135 17.5488 19.6178 17.4968C19.6205 17.4655 19.6207 17.434 19.6186 17.4027C19.6096 17.2678 19.5566 17.1353 19.4597 17.0284C19.4519 17.0199 19.444 17.0115 19.4358 17.0034L17.8829 15.4505C17.6408 15.2084 17.2482 15.2084 17.0061 15.4505C16.7639 15.6927 16.7639 16.0852 17.0061 16.3274L17.5032 16.8245H5.62002V12.7778Z",fill:n}))},lx=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},t.createElement("path",{fill:n,d:"M8.8 11c0 .4-.4.8-.8.8H5a.8.8 0 0 1 0-1.6h3c.4 0 .8.4.8.8Zm11 4c0 .4-.4.8-.8.8h-3a.8.8 0 0 1 0-1.6h3c.4 0 .8.4.8.8Zm0-4c0 .4-.4.8-.8.8h-7a.8.8 0 0 1 0-1.6h7c.4 0 .8.4.8.8Zm-7 4c0 .4-.4.8-.8.8H5a.8.8 0 0 1 0-1.6h7c.4 0 .8.4.8.8Z"}),t.createElement("path",{fill:n,d:"M1.3 8c0-2.6 2-4.8 4.7-4.8h12c2.6 0 4.8 2.2 4.8 4.8v8c0 2.6-2.2 4.8-4.8 4.8H6A4.7 4.7 0 0 1 1.2 16V8ZM6 4.7A3.2 3.2 0 0 0 2.7 8v8c0 1.8 1.5 3.3 3.3 3.3h12c1.8 0 3.3-1.5 3.3-3.3V8c0-1.8-1.5-3.3-3.3-3.3H6Z"}))},ux=e=>{const{options:t,activeColor:n,setPanel:r,hidePanel:i,isTouchDevice:o,captionsStore:a,settingsStore:s}=e;return[{title:"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°",type:"prev",onClick:()=>r(t.current,"prev")},{title:"",type:"palette",activeColor:n,onItemClick:e=>{a.captionsColor=e;const n=ux({options:t,activeColor:e,setPanel:r,hidePanel:i,isTouchDevice:o,captionsStore:a,settingsStore:s});o||(s.activePanel=n),i()}}]},cx=e=>{const{options:t,size:n,setPanel:r,hidePanel:i,isTouchDevice:o,settingsStore:a,captionsStore:s}=e,l=(e,t)=>{s.captionsTextSize=e,a.activePanel=t,i()};return[{title:"Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð°",type:"prev",onClick:()=>r(t.current,"prev")},{title:"Ð£Ð¼ÐµÐ½ÑŒÑˆÐµÐ½Ð½Ñ‹Ð¹",type:"option",active:"small"===n,onClick:()=>l("small",cx({options:t,size:"small",setPanel:r,settingsStore:a,hidePanel:i,isTouchDevice:o,captionsStore:s}))},{title:"Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹",type:"option",active:"medium"===n,onClick:()=>l("medium",cx({options:t,size:"medium",setPanel:r,hidePanel:i,settingsStore:a,isTouchDevice:o,captionsStore:s}))},{title:"Ð£Ð²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ð¹",type:"option",active:"large"===n,onClick:()=>l("large",cx({options:t,size:"large",setPanel:r,hidePanel:i,isTouchDevice:o,settingsStore:a,captionsStore:s}))}]},dx=(e,n,r)=>{const i=(0,t.useRef)([]),o=Nh(),a=cm(),{captions:s,captionsTextSize:l,captionsColor:u,captionsBackgroundColor:c,onCaptionsSettingsClick:d}=o,h=hw().get("videoId");return(0,t.useMemo)((()=>{const t=s&&Object.keys(s).length;if(!t)return null;i.current=[];const p=ux({options:i,activeColor:u,setPanel:e,hidePanel:n,isTouchDevice:r,settingsStore:a,captionsStore:o}),m=cx({options:i,size:l,settingsStore:a,setPanel:e,hidePanel:n,isTouchDevice:r,captionsStore:o}),v=[{title:"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°",type:"prev",onClick:()=>{e(i.current,"prev")}},{title:"",type:"subtitleBg",onPaletteItemClick:e=>{o.captionsBackgroundColor=e,n()},onBackgroundOpacityClick:e=>{o.captionsBackgroundOpacity=e,n()}}];if(i.current.push({title:"Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹",type:"prev",onClick:()=>{e("default","prev")}}),s&&t>1){const t=(e=>{const{hidePanel:t,setPanel:n,options:r,onCaptionsSettingsClick:i,captionsStore:o}=e,{captions:a,activeCaption:s}=o,l=[];return l.push({title:"Ð¯Ð·Ñ‹Ðº",type:"prev",onClick:()=>n(r.current,"prev")}),Object.keys(a).forEach((e=>{var n;const r=e;l.push({title:null===(n=a[r])||void 0===n?void 0:n.langTitle,type:"option",active:(null==s?void 0:s.langTitle)===r||(null==s?void 0:s.sub_id)===+r,onClick:()=>{var e;o.activeCaption=a[r],i(null===(e=a[r])||void 0===e?void 0:e.langTitle),t()}})})),l})({settingsStore:a,captionsStore:o,hidePanel:n,videoId:h,setPanel:e,options:i,onCaptionsSettingsClick:d});i.current.push({title:"Ð¯Ð·Ñ‹Ðº",type:"next",options:t,innerOption:!0,onClick:()=>{e(t,"next")}})}return i.current.push({title:"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°",type:"color",activeColor:u,innerOption:!0,options:p,onClick:()=>{e(p,"next",276)}}),i.current.push({title:"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°",type:"color",activeColor:c,options:v,innerOption:!0,onClick:()=>{e(v,"next",294)}}),i.current.push({title:"Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð°",type:"next",innerOption:!0,options:m,onClick:()=>{e(m,"next")}}),i.current.push({title:"Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",type:"option",active:!1,innerOption:!0,onClick:()=>{o.resetCaptionSettings(),n()}}),{title:"Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹",type:"next",options:i.current,navigationIcon:lx,onClick:()=>{e(i.current,"next")}}}),[s,c,u,o,l,n,r,d,e,a,h])},hx=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M12 2.5C11.3895 2.5 10.7854 2.56034 10.1954 2.6777C9.78916 2.75851 9.39431 2.49469 9.3135 2.08844C9.23268 1.68218 9.4965 1.28734 9.90276 1.20652C10.5885 1.07012 11.2906 1 12 1C13.4117 1 14.8096 1.27806 16.1139 1.8183C17.4181 2.35853 18.6032 3.15037 19.6014 4.1486C20.5996 5.14683 21.3915 6.3319 21.9317 7.63615C22.4719 8.9404 22.75 10.3383 22.75 11.75C22.75 13.1617 22.4719 14.5596 21.9317 15.8638C21.3915 17.1681 20.5996 18.3532 19.6014 19.3514C18.6032 20.3496 17.4181 21.1415 16.1138 21.6817C14.8096 22.2219 13.4117 22.5 12 22.5C11.2906 22.5 10.5885 22.4299 9.90276 22.2935C9.4965 22.2127 9.23268 21.8178 9.3135 21.4116C9.39431 21.0053 9.78916 20.7415 10.1954 20.8223C10.7854 20.9397 11.3895 21 12 21C13.2147 21 14.4176 20.7607 15.5398 20.2959C16.6621 19.831 17.6818 19.1497 18.5407 18.2907C19.3997 17.4318 20.081 16.4121 20.5459 15.2898C21.0107 14.1676 21.25 12.9647 21.25 11.75C21.25 10.5353 21.0107 9.33244 20.5459 8.21018C20.081 7.08792 19.3997 6.0682 18.5407 5.20926C17.6818 4.35032 16.6621 3.66897 15.5398 3.20411C14.4176 2.73926 13.2147 2.5 12 2.5Z",fill:n}),t.createElement("path",{d:"M7.06789 3.0186C7.29801 3.36301 7.20536 3.82876 6.86095 4.05888C6.3608 4.39306 5.89092 4.77761 5.45926 5.20926C5.02761 5.64092 4.64306 6.1108 4.30888 6.61095C4.07876 6.95536 3.61301 7.04801 3.2686 6.81789C2.92419 6.58777 2.83154 6.12202 3.06166 5.77761C3.45007 5.19629 3.89701 4.65019 4.3986 4.1486C4.90019 3.64701 5.44629 3.20007 6.02761 2.81166C6.37202 2.58154 6.83777 2.67419 7.06789 3.0186Z",fill:n}),t.createElement("path",{d:"M2.33844 9.0635C2.74469 9.14431 3.00851 9.53916 2.9277 9.94541C2.81034 10.5354 2.75 11.1395 2.75 11.75C2.75 12.3605 2.81034 12.9646 2.9277 13.5546C3.00851 13.9608 2.74469 14.3557 2.33844 14.4365C1.93218 14.5173 1.53734 14.2535 1.45652 13.8472C1.32012 13.1615 1.25 12.4594 1.25 11.75C1.25 11.0406 1.32012 10.3385 1.45652 9.65276C1.53734 9.2465 1.93218 8.98268 2.33844 9.0635Z",fill:n}),t.createElement("path",{d:"M3.2686 16.6821C3.61301 16.452 4.07876 16.5446 4.30888 16.8891C4.64306 17.3892 5.02761 17.8591 5.45926 18.2907C5.89092 18.7224 6.3608 19.1069 6.86095 19.4411C7.20536 19.6712 7.29801 20.137 7.06789 20.4814C6.83777 20.8258 6.37202 20.9185 6.02761 20.6883C5.44629 20.2999 4.90019 19.853 4.3986 19.3514C3.89701 18.8498 3.45007 18.3037 3.06166 17.7224C2.83154 17.378 2.92419 16.9122 3.2686 16.6821Z",fill:n}),t.createElement("path",{d:"M15.9142 11.75C15.9142 11.1591 15.5767 10.7405 15.2239 10.4291C14.8908 10.1351 14.4151 9.82616 13.8733 9.4743L13.4483 9.19825C12.8096 8.78339 12.2601 8.42643 11.8034 8.21745C11.3329 8.00219 10.7451 7.84196 10.1651 8.15687C9.58502 8.47178 9.39923 9.05201 9.32348 9.56381C9.24995 10.0607 9.24999 10.7159 9.25004 11.4774V12.0225C9.24999 12.784 9.24995 13.4393 9.32348 13.9362C9.39923 14.448 9.58502 15.0282 10.1651 15.3431C10.7451 15.658 11.3329 15.4978 11.8034 15.2826C12.2601 15.0736 12.8096 14.7166 13.4482 14.3018L13.8732 14.0257C14.4151 13.6739 14.8909 13.3649 15.2239 13.0709C15.5767 12.7595 15.9142 12.3409 15.9142 11.75ZM13.0092 10.7017C13.6122 11.0934 13.9917 11.3423 14.2313 11.5537C14.3445 11.6536 14.391 11.7156 14.4087 11.7457L14.4112 11.75L14.4087 11.7543C14.391 11.7844 14.3445 11.8464 14.2313 11.9463C13.9917 12.1578 13.6122 12.4066 13.0092 12.7983L12.6809 13.0115C11.9783 13.4678 11.5227 13.7614 11.1793 13.9185C11.0139 13.9942 10.9252 14.0143 10.8843 14.0183C10.8654 13.9818 10.834 13.8966 10.8073 13.7166C10.752 13.343 10.75 12.801 10.75 11.9632V11.5368C10.75 10.699 10.752 10.157 10.8073 9.78341C10.834 9.60344 10.8654 9.51821 10.8843 9.48168C10.9252 9.48574 11.0139 9.50576 11.1793 9.58146C11.5227 9.73857 11.9783 10.0322 12.6809 10.4885L13.0092 10.7017ZM10.8551 14.0172C10.8556 14.0166 10.8603 14.0166 10.868 14.0192C10.8585 14.0192 10.8547 14.0179 10.8551 14.0172ZM10.8925 14.0325C10.8988 14.0375 10.9014 14.0415 10.9011 14.0422C10.9008 14.0429 10.8977 14.0405 10.8925 14.0325ZM10.9011 9.4578C10.9014 9.45853 10.8988 9.46249 10.8925 9.46748C10.8977 9.45955 10.9008 9.45706 10.9011 9.4578ZM10.868 9.4808C10.8603 9.48337 10.8556 9.48339 10.8551 9.48276C10.8547 9.48212 10.8585 9.48084 10.868 9.4808Z",fill:n}))};function px(){return(0,fr.p5)().resolve("IVideoSettingsPlugin")}const mx=(e,t,n)=>t?-1===e.level:n===e.index,vx=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M14.7074 2.33484C14.2058 1.81883 13.5168 1.5278 12.7971 1.52802H11.5431C10.8371 1.52801 10.1601 1.80936 9.66203 2.30983C9.166 2.80825 8.88813 3.48307 8.88923 4.18603C8.8771 4.81787 8.36235 5.32463 7.73017 5.32664C7.5412 5.32401 7.35625 5.27179 7.1937 5.17531L7.18375 5.16961C5.91258 4.44122 4.29245 4.87659 3.55715 6.14238L2.89323 7.23376L2.88414 7.24912C2.15201 8.51975 2.58492 10.1432 3.85252 10.8805C3.86035 10.8851 3.86826 10.8895 3.87625 10.8938L3.94465 10.9303C4.26109 11.1171 4.43617 11.4316 4.43617 11.889C4.43617 12.3045 4.21392 12.6888 3.85406 12.8966C2.58637 13.6299 2.15239 15.2516 2.88437 16.5201L2.88516 16.5215L3.51338 17.605C3.85727 18.2212 4.43178 18.6758 5.11079 18.8688C5.79232 19.0625 6.523 18.9767 7.14104 18.6303L7.15224 18.6237C7.41594 18.4699 7.73017 18.4277 8.02509 18.5066C8.32002 18.5856 8.57111 18.7791 8.72272 19.0441L8.72884 19.0544C8.82544 19.2172 8.87759 19.4024 8.8801 19.5916C8.88263 21.0602 10.0739 22.25 11.5431 22.25H12.7971C14.2629 22.25 15.4532 21.0655 15.4602 19.5997L15.4602 19.5925C15.4587 19.2845 15.5804 18.9888 15.7981 18.771C16.014 18.5552 16.3064 18.4337 16.6114 18.433C16.806 18.4396 16.9962 18.4934 17.1654 18.5899C18.4343 19.3201 20.0544 18.8891 20.7928 17.6255L21.4495 16.5312L21.4543 16.5228C21.8099 15.9125 21.9075 15.1856 21.7255 14.5031C21.5435 13.8205 21.0969 13.2387 20.4846 12.8865C20.2184 12.7333 20.0243 12.4804 19.9451 12.1836C19.866 11.8869 19.9084 11.5708 20.063 11.3055L20.0658 11.3007C20.1654 11.1268 20.3096 10.9827 20.4834 10.8831L20.4893 10.8796C21.7245 10.1572 22.1639 8.59197 21.4991 7.33626C21.4867 7.3064 21.4724 7.27727 21.4561 7.24908L20.8337 6.16904C20.1007 4.89682 18.4762 4.45788 17.2023 5.18787L17.1945 5.19245C16.9305 5.34798 16.6154 5.39211 16.3188 5.3151C16.0222 5.23809 15.7685 5.04626 15.6135 4.78192L15.6114 4.77852C15.5163 4.61819 15.4643 4.43602 15.4603 4.24975C15.4761 3.53661 15.205 2.84667 14.7074 2.33484ZM12.7974 3.02802C13.1118 3.02789 13.4128 3.15499 13.6319 3.38038C13.851 3.60577 13.9695 3.91025 13.9605 4.22445L13.9602 4.25377C13.9649 4.70753 14.0892 5.15201 14.3205 5.5424C14.6771 6.14948 15.2603 6.59 15.9419 6.76696C16.6223 6.94362 17.3449 6.84311 17.9512 6.48761C18.5071 6.17131 19.2145 6.3633 19.534 6.91789L20.1192 7.93327C20.1298 7.95755 20.1417 7.98131 20.1549 8.00445C20.4704 8.55735 20.2828 9.26101 19.7343 9.58349C19.3313 9.81515 18.997 10.1496 18.7656 10.5527C18.4111 11.1626 18.314 11.8885 18.4958 12.5701C18.6778 13.2526 19.1244 13.8344 19.7366 14.1867C20.0029 14.3398 20.197 14.5928 20.2762 14.8896C20.3549 15.185 20.3132 15.4995 20.1604 15.7641L19.5041 16.8578L19.499 16.8666C19.1769 17.4202 18.4679 17.6092 17.913 17.2895L17.9107 17.2882C17.524 17.0672 17.0886 16.9452 16.6433 16.9333L16.6268 16.9331C15.9186 16.9296 15.2383 17.2095 14.7375 17.7103C14.2377 18.2102 13.9579 18.8887 13.9602 19.5954C13.9556 20.2342 13.4364 20.75 12.7971 20.75H11.5431C10.9008 20.75 10.3801 20.2293 10.3801 19.5869L10.3801 19.5792C10.3754 19.1267 10.2518 18.6836 10.0218 18.294C9.67127 17.6844 9.09231 17.2395 8.41286 17.0576C7.73399 16.876 7.01084 16.972 6.403 17.3243C6.13404 17.4735 5.81685 17.5101 5.52087 17.426C5.22322 17.3414 4.97155 17.1416 4.82156 16.871L4.81438 16.8583L4.18359 15.7704C3.86591 15.2192 4.05465 14.5139 4.6052 14.1949C5.42882 13.7192 5.93617 12.8402 5.93617 11.889C5.93617 10.9839 5.5468 10.1232 4.68531 9.62583C4.67818 9.62171 4.67097 9.6177 4.6637 9.61382L4.59646 9.5779C4.05306 9.25444 3.86759 8.55524 4.17993 8.0048L4.84293 6.91495L4.85202 6.89958C5.1714 6.34528 5.87824 6.15319 6.43402 6.46882C6.82339 6.69851 7.26629 6.82195 7.71841 6.82664L7.72612 6.82664C9.18208 6.82679 10.3683 5.65763 10.3892 4.20182L10.3892 4.18745C10.3878 3.88046 10.5087 3.58554 10.7252 3.36794C10.9418 3.15034 11.2361 3.02801 11.5431 3.02802L12.7974 3.02802Z",fill:n}),t.createElement("path",{d:"M12.1746 10.0029C11.1329 10.0029 10.2885 10.8473 10.2885 11.889C10.2885 12.9307 11.1329 13.7752 12.1746 13.7752C13.2163 13.7752 14.0608 12.9307 14.0608 11.889C14.0608 10.8473 13.2163 10.0029 12.1746 10.0029ZM8.78845 11.889C8.78845 10.0189 10.3045 8.50287 12.1746 8.50287C14.0447 8.50287 15.5608 10.0189 15.5608 11.889C15.5608 13.7591 14.0447 15.2752 12.1746 15.2752C10.3045 15.2752 8.78845 13.7591 8.78845 11.889Z",fill:n}))},_x=(e,t,n)=>{const r=n.length-1>t&&n[t+1],i=t>0&&n[t-1];return!(!r||r.value!==e.value)||(!i||i.value!==e.value)},fx={"720p":e=>{let{color:n}=e;return t.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:n||"#00A1E7",strokeWidth:"1.5"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17764 11.4276H10.6185V4H9.17764V6.91111H6.47776V4H5.03223V11.4276H6.47776V8.22187H9.17764V11.4276ZM17.5571 9.74093C17.8524 9.17869 18 8.47928 18 7.6427C18 6.84676 17.8555 6.17952 17.5664 5.64099C17.2773 5.09908 16.87 4.69094 16.3447 4.4166C15.8193 4.13887 15.1991 4 14.4841 4H12.3438V11.4276H14.2743C15.0577 11.4276 15.7276 11.2871 16.2841 11.006C16.8405 10.7215 17.2648 10.2998 17.5571 9.74093ZM16.2747 6.33194C16.4239 6.68418 16.4986 7.13465 16.4986 7.68334C16.4986 8.49283 16.326 9.10249 15.981 9.51231C15.639 9.92214 15.1152 10.127 14.4095 10.127H13.7894V5.29044H14.5587C14.9815 5.29044 15.3359 5.37511 15.6219 5.54446C15.911 5.71381 16.1286 5.9763 16.2747 6.33194Z",fill:n||"#00A1E7"}))},"1080p":()=>t.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:"#00A1E7",strokeWidth:"1.5"}),t.createElement("path",{d:"M7.56641 6.1748H5.42578V7.22168H7.41797V8.59277H5.42578V10.8115H3.7998V4.7998H7.56641V6.1748ZM9.84961 6.99902H11.6191V4.7998H13.1768V10.8115H11.6191V8.38965H9.84961V10.8115H8.28809V4.7998H9.84961V6.99902ZM15.7988 4.7998C16.3905 4.7998 16.9152 4.90945 17.3652 5.13574L17.5303 5.22559C17.9046 5.44698 18.2022 5.75321 18.4199 6.1416L18.5078 6.3125C18.6984 6.722 18.7891 7.20425 18.7891 7.75195C18.789 8.32596 18.6961 8.82943 18.502 9.25586L18.4131 9.43359C18.1609 9.89249 17.7932 10.2401 17.3154 10.4727H17.3145C16.8396 10.7009 16.2765 10.8115 15.6328 10.8115H13.9004V4.7998H15.7988ZM15.4482 9.42871H15.7402C16.2641 9.42866 16.6158 9.28431 16.8369 9.03223V9.03125C17.0659 8.77231 17.1982 8.36773 17.1982 7.78223C17.1982 7.3849 17.1404 7.07479 17.0371 6.84277L17.0361 6.84082C16.9355 6.60794 16.791 6.44579 16.6045 6.3418L16.6035 6.34082C16.414 6.23421 16.1688 6.1748 15.8584 6.1748H15.4482V9.42871ZM18.3848 9.01562C18.3423 9.12847 18.2941 9.23581 18.2383 9.33691L18.3115 9.19434C18.3384 9.1367 18.3618 9.07671 18.3848 9.01562Z",fill:"#00A1E7"})),"1440p":()=>t.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:"#00A1E7",strokeWidth:"1.5"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.79939 12H9.9322V10.5974H6.73298V10.5219L7.67718 9.56709C8.1091 9.13913 8.4774 8.74893 8.78209 8.39649C9.09012 8.04405 9.3245 7.68802 9.48521 7.32839C9.64593 6.96876 9.72628 6.57136 9.72628 6.13621C9.72628 5.72983 9.63253 5.3666 9.44503 5.04653C9.25753 4.72286 8.98968 4.46752 8.64146 4.28051C8.2966 4.0935 7.88309 4 7.40095 4C6.96233 4 6.58566 4.05394 6.27093 4.16183C5.95954 4.26613 5.68499 4.40459 5.44727 4.57721C5.21289 4.74983 4.99023 4.93324 4.7793 5.12744L5.62305 6.20094C5.91434 5.94201 6.19392 5.74241 6.46177 5.60216C6.72963 5.4619 7.00586 5.39177 7.29046 5.39177C7.56166 5.39177 7.77762 5.47089 7.93834 5.62913C8.1024 5.78377 8.18443 6.01753 8.18443 6.33041C8.18443 6.58935 8.13253 6.8321 8.02874 7.05866C7.92829 7.28523 7.76423 7.53697 7.53655 7.81389C7.31222 8.08721 7.01423 8.42886 6.64258 8.83884L4.79939 10.8402V12ZM15.3364 11.9993H17.1043L14.5228 7.60285L17.0842 4.11263H15.3565L13.3677 6.79368C13.2639 6.94832 13.1618 7.10296 13.0613 7.2576C12.9609 7.41225 12.8588 7.56689 12.755 7.72153V4.11263H11.198V11.9993H12.755V9.18343L13.4129 8.67635L15.3364 11.9993Z",fill:"#00A1E7"})),"2160p":()=>t.createElement("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"1.25",y:"1.25",width:"19.5",height:"13.5",rx:"2.75",stroke:"#00A1E7",strokeWidth:"1.5"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.65067 10.342H10.5346V9.02873H9.65067V4H8.21931L5 9.16553V10.342H8.13393V12H9.65067V10.342ZM8.13393 7.67168V9.02873H6.36607L7.71205 6.81259C7.8058 6.65937 7.88783 6.51345 7.95815 6.37483C8.02846 6.23256 8.09542 6.08664 8.15904 5.93707H8.19922C8.19587 5.99179 8.18917 6.08846 8.17913 6.22709C8.17243 6.36206 8.16574 6.5171 8.15904 6.6922L8.13895 7.21751C8.1356 7.39261 8.13393 7.544 8.13393 7.67168ZM15.7723 12H17.5402L14.9587 7.54036L17.5201 4H15.7924L13.8036 6.71956C13.6998 6.87643 13.5977 7.03329 13.4972 7.19015C13.3968 7.34701 13.2946 7.50388 13.1908 7.66074V4H11.6339V12H13.1908V9.14364L13.8488 8.62927L15.7723 12Z",fill:"#00A1E7"})),"4320p":()=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"16",viewBox:"0 0 22 16",fill:"none"},t.createElement("rect",{width:"19.5",height:"13.5",x:"1.25",y:"1.25",stroke:"#00A1E7",strokeWidth:"1.5",rx:"2.75"}),t.createElement("path",{fill:"#00A1E7",d:"M17.399 11.993h-1.754l-1.908-3.365-.653.513v2.852h-1.545V4.006h1.545V7.66q.154-.236.304-.47.149-.235.304-.47l1.973-2.715h1.714L14.838 7.54zM7.703 3.9q.627 0 1.156.213.533.213.852.645.319.426.319 1.07 0 .482-.175.842-.17.36-.463.634a3.4 3.4 0 0 1-.668.47q.39.224.738.524.348.295.568.694.224.398.224.929 0 .666-.324 1.158a2.14 2.14 0 0 1-.897.754q-.573.267-1.33.267-.817 0-1.39-.256a1.93 1.93 0 0 1-.872-.732q-.3-.48-.3-1.148 0-.546.185-.95.19-.405.508-.694.32-.295.703-.503a3.8 3.8 0 0 1-.593-.508 2.3 2.3 0 0 1-.424-.65 2.15 2.15 0 0 1-.154-.841q0-.634.324-1.06.328-.426.862-.64.533-.218 1.15-.218M6.567 9.866a.98.98 0 0 0 .279.716q.283.278.837.278.572 0 .857-.267.284-.273.284-.716a.9.9 0 0 0-.165-.535 1.8 1.8 0 0 0-.403-.41 7 7 0 0 0-.493-.344l-.135-.077a3 3 0 0 0-.558.355 1.6 1.6 0 0 0-.369.443q-.135.246-.134.557m1.126-4.731a.93.93 0 0 0-.628.213q-.25.213-.25.601 0 .273.12.48.124.204.324.356.204.153.444.284.229-.12.428-.268.2-.147.324-.355a.95.95 0 0 0 .125-.497q0-.389-.254-.6a.94.94 0 0 0-.633-.214"}))},gx=e=>{if(e)return fx[e.value]},bx=["children"];function yx(e){const{children:n}=e,r=(0,V.A)(e,bx);return t.createElement("span",(0,ai.A)({role:"listitem"},r),n)}const Ex=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M9 18L15 12L9 6",stroke:n,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},wx=e=>{const{title:n,onClick:r}=e;return t.createElement(yx,{className:er()(CT,tx)},t.createElement("button",{tabIndex:0,"aria-label":n+" Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð°Ð·Ð°Ð´",className:kT,onClick:r,key:n},t.createElement("span",{"aria-hidden":"true",className:er()(MT,BT)},t.createElement("span",{className:er()(RT,FT)},t.createElement(Ex,null)),t.createElement("span",null,n))))},Sx=()=>(0,fr.Ks)("IAppearancePlugin"),Ax=e=>{let{color:n="white"}=e;return t.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M6 12L10.3333 16L19 8",stroke:n,strokeWidth:"1.24444",strokeLinecap:"round",strokeLinejoin:"round"}))},Cx=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconCheck",__value:'<path fill="currentColor" fill-rule="evenodd" d="M17.623 8.233a1.11 1.11 0 0 0-1.5.131l-5.386 6.068-2.86-3.224a1.11 1.11 0 0 0-1.5-.131.97.97 0 0 0-.125 1.42l3.51 3.956a1 1 0 0 0 .074.076 1 1 0 0 0 .216.235c.448.356 1.12.297 1.5-.131l6.195-6.98a.97.97 0 0 0-.124-1.42" clip-rule="evenodd" />'})),kx=(0,t.forwardRef)(Cx),Px=(e,t)=>{if(e||t)try{return new URL(e||"",t)}catch(e){return}},Ix=e=>{let{url:t,pepper:n=null,isMobile:r,startTime:i,urlParams:o={}}=e;const a=Px(t);if(!a)return"";for(const e in o)a.searchParams.set(e,o[e]);return a.searchParams.set("r",r?"wm":"wd"),n&&a.searchParams.set("p",n),i&&a.searchParams.set("t",i.toString()),a.toString()},Tx="#00A1E7",xx=(e,t,n,r,i)=>{const o=n&&Math.floor(n/1e3);if(!t)return"";if(o){if(e>o)return"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ð±Ð¾Ð»ÑŒÑˆÐµ Ð´Ð»Ð¸Ð½Ñ‹ Ð²Ð¸Ð´ÐµÐ¾: ";if(e===o)return"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ñ€Ð°Ð²Ð½Ð¾ Ð´Ð»Ð¸Ð½Ðµ Ð²Ð¸Ð´ÐµÐ¾: "}if(r){if(i&&e>r)return"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ð±Ð¾Ð»ÑŒÑˆÐµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ ";if(i&&e===r)return"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ñ€Ð°Ð²Ð½Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ "}return""},Rx=(e,t,n,r,i)=>{const o=n&&Math.floor(n/1e3);return i?o&&r>o?"Ð’Ñ€ÐµÐ¼Ñ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð´Ð»Ð¸Ð½Ñ‹ Ð²Ð¸Ð´ÐµÐ¾: ":t&&e>r?"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ð±Ð¾Ð»ÑŒÑˆÐµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ ":t&&e===r?"Ð’Ñ€ÐµÐ¼Ñ ÑÑ‚Ð°Ñ€Ñ‚Ð° Ñ€Ð°Ð²Ð½Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ ":"":""},Lx=e=>/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i.test(e),Ox=e=>{let t=e.replace("#","");return Lx(e)?(3===t.length&&(t=[...t].map((e=>e.repeat(2))).join("")),(299*parseInt(t.substring(0,2),16)+587*parseInt(t.substring(2,4),16)+114*parseInt(t.substring(4,6),16))/1e3):0};var Nx="freyja_char-palette-item__paletteItem_oGoN1",Mx="freyja_char-palette-item__disabled_Ht1cw",Dx="freyja_char-palette-item__active_8T-bD",Bx="freyja_char-palette-item__paletteIcon_I0mMv",Fx="freyja_char-palette-item__withBorder_dTsfQ";const Hx=e=>{const{onClick:n,color:r,isActive:i=!1,isDisabled:o=!1,itemClass:a,activeClass:s,hasIcon:l,hasBorder:u}=e,c=Lx(r)?r:"#FFFFFF",d=Ox(r),h=er()(Nx,a,{[Dx]:i,[null!=s?s:""]:i,[Mx]:o,[Fx]:u&&d>=224});return t.createElement("button",{className:h,onClick:n,style:{backgroundColor:"".concat(c)}},l&&i&&!o&&t.createElement(kx,{className:Bx,color:d>128?"black":"white"}))};var Vx="freyja_char-palette__palette_u7AvW";var Ux=function(e){return e.DARK2021="dark2021",e.WHITE2021="white2021",e.AUTO="auto",e}(Ux||{});new Map([[Ux.DARK2021,{primary:"#242D36",secondary1000:"#1C232B",secondary900:"#1C232B",secondary800:"#212932",secondary701:"#29333D",secondary700:"#29333D",secondary602:"#29333D",secondary601:"#3D4A58",secondary600:"#3D4A58",secondary500:"#5A6877",secondary400:"#889BAF",secondary300:"#A7B4C4",secondary200:"#BFC9D4",secondary100:"#CED6DE",secondary50:"#E1E5EA",secondary3:"#FFFFFF",secondary2:"#FFFFFF",secondary1:"#FFFFFF",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.4deg, #222B34 0.11%, #1E262E 100%)",accent:"#FF645F",accent400:"#E15554",accent700:"#be4847",accentHover:"#FF7773",accentPressed:"#E75550",additional:"#453840",additionalHover:"#623D43",additionalPressed:"#583B42",text:"#FFFFFF",textHover:"#FF645F",textActive:"#be4847",error:"#E15554",buttonPrimary:"#FF645F",buttonPrimaryText:"#fff",buttonPrimaryHover:"#E15554",buttonPrimaryHoverText:"#fff",buttonPrimaryPressed:"#E53841",buttonPrimaryPressedText:"#141C23",buttonSecondary:"#F3F4F7",buttonSecondaryText:"#141C23",buttonSecondaryHover:"#FFFFFF",buttonSecondaryHoverText:"#141C23",buttonSecondaryPressed:"#A7B4C4",buttonSecondaryPressedText:"#141C23",buttonDisabled:"#29333D",buttonDisabledText:"#5A6877",birdColor1:"#FFFFFF",birdColor2:"#889BAF",birdColor3:"#1C232B",birdColor4:"#1C232B",linkPrimary:"#FF645F",linkPrimaryHover:"#E15554",menuText:"#FFFFFF",menuBg:"#242D36",menuPromoBg:"#FF645F",menuSecondaryBg:"#202530",menuBorderLight:"#3D4A58",menuBorderDark:"#202530",menuIconsBg:"#3D4A58",menuLinkPrimary:"#FF645F",menuVideoLink:"#5A6877",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.7) 100%)",popupOverlayBg:"rgba(28, 35, 43, 0.7)",invert:0,iconbg:"#29333D",additionalAccent:"#42A4FF",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",controlBorderAccent:"#C6E3FF",chipsBg:"rgba(255, 255, 255, 0.05)",shade5:"rgba(255, 255, 255, 0.05)",shade10:"rgba(255, 255, 255, 0.1)",shade15:"rgba(255, 255, 255, 0.15)"}],[Ux.WHITE2021,{primary:"#F6F6F6",secondary1000:"#FFFFFF",secondary900:"#E1E5EA",secondary800:"#E1E5EA",secondary701:"#FFFFFF",secondary700:"#BFC9D4",secondary602:"#EAEDF1",secondary601:"#E1E5EA",secondary600:"#A7B4C4",secondary500:"#889BAF",secondary400:"#5A6877",secondary300:"#3D4A58",secondary200:"#29333D",secondary100:"#212932",secondary50:"#1C232B",secondary3:"#5A6877",secondary2:"#242D36",secondary1:"#29333D",primarydark:"#242D36",secondary900dark:"#1C232B",secondary800dark:"#212932",secondary700dark:"#29333D",secondary600dark:"#3D4A58",secondary500dark:"#5A6877",secondary400dark:"#889BAF",secondary300dark:"#A7B4C4",secondary200dark:"#BFC9D4",secondary100dark:"#CED6DE",secondary50dark:"#E1E5EA",secondary1dark:"#FFFFFF",whiteTransparent15:"#FFFFFF26",skeletonGradient:"linear-gradient(252.74deg, #EAEDF1 0%, #E1E5EA 100%)",accent:"#FF645F",accent400:"#E15554",accent700:"#be4847",accentHover:"#FF7773",accentPressed:"#E75550",additional:"#FFEEEE",additionalHover:"#FFF5F5",additionalPressed:"#FFE6E6",text:"#29333D",textHover:"#5A6877",textActive:"#1C232B",error:"#E15554",buttonPrimary:"#FF645F",buttonPrimaryText:"#fff",buttonPrimaryHover:"#E15554",buttonPrimaryHoverText:"#fff",buttonPrimaryPressed:"#E53841",buttonPrimaryPressedText:"#242D36",buttonSecondary:"#242D36",buttonSecondaryText:"#FFFFFF",buttonSecondaryHover:"#1C232B",buttonSecondaryHoverText:"#FFFFFF",buttonSecondaryPressed:"#5A6877",buttonSecondaryPressedText:"#E1E5EA",buttonDisabled:"#E1E5EA",buttonDisabledText:"#889BAF",birdColor1:"#5A6877",birdColor2:"#FFFFFF",birdColor3:"#1C232B",birdColor4:"#E1E5EA",linkPrimary:"#29333D",linkPrimaryHover:"#1C232B",menuText:"#29333D",menuBg:"#F6F6F6",menuPromoBg:"#E1E5EA",menuSecondaryBg:"#ECECED",menuBorderLight:"#E1E5EA",menuBorderDark:"#E1E5EA",menuIconsBg:"#ffffff",menuLinkPrimary:"#29333D",menuVideoLink:"#29333D",baseBorderRadius:"4px",overlayGradient:"linear-gradient(rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.7) 100%)",popupOverlayBg:"rgba(90, 104, 119, 0.3)",invert:.8,iconbg:"#ffffff",additionalAccent:"#42A4FF",additionalAccentHover:"#6BB8FF",additionalAccentPressed:"#1F93FF",success:"#52C78F",controlBorderAccent:"#C6E3FF",chipsBg:"rgba(0, 0, 0, 0.05)",shade5:"rgba(0, 0, 0, 0.05)",shade10:"rgba(0, 0, 0, 0.1)",shade15:"rgba(0, 0, 0, 0.15)"}]]);let jx=Ux.DARK2021;const Wx=["#e53935","#8e24aa","#5e35b1","#3949ab","#0e8dee","#00cbff","#00897b","#43a047","#7cb342","#fbf819","#fdd835","#ffb300","#d57700","#6d4c41","#000000","#9e9e9e","#e0e0e0","#ffffff"],zx=e=>{const{colors:n,onItemClick:r,activeColor:i,className:o,itemClass:a,itemActiveClass:s,hasIcon:l,hasBorder:u}=e,c=n||Wx,d=er()(Vx,o),h=jx;return t.createElement("div",{className:d},c.map((e=>t.createElement(Hx,{key:e,color:e,onClick:t=>{r(e,t)},isActive:e===i,itemClass:a,activeClass:s,hasIcon:l,hasBorder:h===Ux.WHITE2021&&u}))))},Gx=[{0:"Ð‘ÐµÐ· Ñ„Ð¾Ð½Ð°",2:"20%",3:"30%",4:"40%",5:"50%"},{6:"60%",7:"70%",8:"80%",9:"90%",10:"100%"}],qx=e=>{let{onVariantClick:n,activeVariant:r,isTouchDevice:i}=e;return t.createElement(t.Fragment,null,t.createElement("p",null,"ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ„Ð¾Ð½Ð°"),t.createElement("div",{"aria-label":"ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ„Ð¾Ð½Ð°"},Gx.map((e=>t.createElement("div",{className:JT},Object.keys(e).map((o=>{const a=parseFloat(o);return t.createElement("button",{tabIndex:0,"aria-label":e[a],className:er()($T,{[bT]:i,[ex]:a===r}),onClick:()=>{n&&n(a)}},e[a])})))))))},Kx={switcher:e=>{let{active:n,onClick:r,title:i,navigationIcon:o}=e;return t.createElement(yx,{className:CT},t.createElement("button",{tabIndex:0,"aria-label":"".concat(i," Ð’").concat(n?"Ñ‹":"","ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ"),className:kT,onClick:r,key:i},o&&t.createElement("div",{className:LT},t.createElement(o,{color:"currentColor"})),t.createElement("span",{className:OT},i),t.createElement(mr,{onChange:r,size:pr.SMALL,classNames:{placement:n?"":PT},isActive:!!n})))},next:e=>{const{activeValue:n,activeValueExtra:r,title:i,aria:o,onClick:a,activeValueIcon:s,navigationIcon:l,innerOption:u=!1}=e,{getDataAttribute:c}=(0,wi.f)();return t.createElement(yx,{className:CT},t.createElement("button",(0,ai.A)({tabIndex:0,className:er()(kT,{[IT]:u}),"aria-label":o||i,onClick:a,key:i},(e=>{const t={"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾":"QUALITY_BUTTON","Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ":"SPEED_BUTTON","Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹":"SUBTITLE_BUTTON","Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð°":"SIZE_TEXT_BUTTON"}[e];return t?c(Si.R[t]):{}})(i)),l&&t.createElement("div",{"aria-hidden":"true",className:LT},t.createElement(l,{color:"currentColor"})),t.createElement("span",{"aria-hidden":"true",className:OT},i),t.createElement("span",{"aria-hidden":"true",className:MT},t.createElement(t.Fragment,null,n&&t.createElement("span",{className:HT},n,r&&t.createElement("span",{className:VT},r),s&&t.createElement(s,null)),t.createElement("span",{className:RT},t.createElement(Ex,null))))))},prev:wx,option:e=>{const{color:n}=Sx(),{active:r,title:i,onClick:o,icon:a}=e,s=i+(r?" Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð¾":""),{getDataAttribute:l}=(0,wi.f)();return t.createElement(yx,{className:CT},t.createElement("button",(0,ai.A)({tabIndex:0,"aria-label":s,className:er()(kT,IT,{[TT]:r}),onClick:()=>{o&&o()}},l("Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"===i?Si.R.RESET_SETTINGS_BUTTON:"Ð£Ð¼ÐµÐ½ÑŒÑˆÐµÐ½Ð½Ñ‹Ð¹"===i?Si.R.SMALL_TEXT:"Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹"===i?Si.R.STANDARD_TEXT:"Ð£Ð²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ð¹"===i?Si.R.BIG_TEXT:Si.R.TEXT_SUBTITLE)),t.createElement("span",{"aria-hidden":"true",className:xT},i,a&&t.createElement(a,{color:n})),t.createElement("span",{"aria-hidden":"true",className:MT},r&&t.createElement("span",{className:RT},t.createElement(Ax,null)))))},palette:e=>{const{onItemClick:n,activeColor:r,isTouchDevice:i}=e;return t.createElement("div",{role:"listitem","aria-label":"Ð’Ñ‹Ð±Ð¾Ñ€ Ñ†Ð²ÐµÑ‚Ð°",className:er()(kT,KT)},t.createElement(zx,{onItemClick:(e,t)=>{n&&n(e)},itemClass:er()(YT,{[bT]:i}),itemActiveClass:XT,activeColor:r}))},color:e=>{const{activeColor:n,title:r,onClick:i,innerOption:o=!1}=e,a="#ffffff"===n,{getDataAttribute:s}=(0,wi.f)();return t.createElement(yx,{className:CT},t.createElement("button",(0,ai.A)({tabIndex:0,"aria-label":r,className:er()(kT,{[IT]:o}),onClick:i,key:r},(e=>{const t={"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°":"COLOUR_TEXT_BUTTON","Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°":"COLOUR_BACKGROUND_BUTTON"}[e];return t?s(Si.R[t]):{}})(r)),t.createElement("span",{className:xT},r),t.createElement("span",{className:MT},t.createElement(t.Fragment,null,n&&t.createElement("span",{className:er()(NT,{[DT]:a}),style:{backgroundColor:n}}),t.createElement("span",{className:RT},t.createElement(Ex,null))))))},subtitleBg:(0,Jn.PA)((e=>{const{onPaletteItemClick:n,onBackgroundOpacityClick:r,isTouchDevice:i}=e,{captionsBackgroundColor:o,captionsBackgroundOpacity:a}=Nh(),{getDataAttribute:s}=(0,wi.f)(),l=n||((e,t)=>{});return t.createElement("div",(0,ai.A)({className:er()(kT,QT),role:"listitem"},s(Si.R.COLOUR_BACKGROUND_BUTTON)),t.createElement("div",{className:KT,"aria-label":"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°"},t.createElement(zx,{onItemClick:l,itemClass:er()(YT,{[bT]:i}),itemActiveClass:XT,activeColor:o})),t.createElement("div",{className:ZT},t.createElement(qx,{activeVariant:a,onVariantClick:r,isTouchDevice:i})))})),action:e=>{const{title:n,onClick:r,navigationIcon:i}=e;return t.createElement(yx,{className:CT},t.createElement("button",{tabIndex:0,"aria-label":n,className:er()(kT),onClick:e=>{r&&r(e)}},i&&t.createElement("div",{"aria-hidden":"true",className:LT},t.createElement(i,{color:"currentColor"})),t.createElement("span",{"aria-hidden":"true",className:OT},n)))},header:wx},Yx=e=>{const n=Kx[e.type]?Kx[e.type]:null;return n&&t.createElement(n,e)},Xx=e=>{let{listRef:n,enabled:r,items:i}=e;(0,t.useEffect)((()=>{const e=e=>{var t;if(!["ArrowUp","ArrowDown"].includes(e.key))return;e.preventDefault();const r=null===(t=n.current)||void 0===t?void 0:t.querySelectorAll("a, button"),i=r?Array.from(r):[];if(!i.length)return;const o=i.findIndex((e=>e===document.activeElement)),a=i[o+("ArrowUp"===e.key?-1:1)]||i[0];null==a||a.focus()};return r&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[r,i,n])},Qx=(0,t.forwardRef)(((e,n)=>{var r,i;const{items:o,panelWidth:a,enableKeyboard:s}=e,{isTouchDevice:l,isEmbed:u}=Fp(),{getDataAttribute:c}=(0,wi.f)(),{iconSizeValue:d}=(0,pt.useControls)(),h=(0,$a.a)().size,p=(null==h?void 0:h.height)||0;let m=p?p-(l?60:70):300;l&&(m=Math.max(m,250));let v=60;pt.ControlsPlugin.IsNewControls&&(m-=25,v=l?60:72+("S"===d?40:"M"===d?48:64));const _=(0,t.useCallback)((e=>{e.stopPropagation()}),[]),f=(0,t.useRef)(null);return Xx({listRef:f,enabled:s}),t.createElement("div",{ref:n,className:er()(yT,wT,{[bT]:l}),onTouchStart:_,style:{maxHeight:u?"calc(100vh - ".concat(v,"px)"):"".concat(m,"px")}},t.createElement("div",(0,ai.A)({role:"list",ref:f,className:AT,style:{width:a.toString()+"px"}},"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾"===(null==o||null===(r=o[0])||void 0===r?void 0:r.title)&&"prev"===(null==o||null===(i=o[0])||void 0===i?void 0:i.type)?c(Si.R.MENU_QUALITY):{}),null==o?void 0:o.map(((e,n)=>t.createElement(Yx,(0,ai.A)({},e,{isTouchDevice:l,key:n.toString()+e.title}))))))})),Zx=(0,Jn.PA)(Qx),Jx=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t.createElement("path",{fill:n,d:"M5 10.38a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Zm7 0a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Zm7 0a1.62 1.62 0 1 0 0 3.24 1.62 1.62 0 0 0 0-3.24Z"}))},$x=(0,Jn.PA)((e=>{let{hidePanel:n,onPanelResize:r}=e;const{isTouchDevice:i}=Fp(),o=i?297:268,a=cm(),{activePanel:s,prevPanel:l,nextPanel:u,settingsList:c,options:d}=a,{isAutoplayEnabled:h}=Vg(),{isLive:p,isTVStream:m}=lm(),v=pm(),_=(0,t.useRef)(null),f=!!CS(),[g,b]=(0,t.useState)(""),[y,E]=(0,t.useState)(o),w=(0,t.useRef)(null),S=(0,t.useRef)(null);(0,t.useEffect)((()=>{_.current=c}),[c]);const A=(0,t.useCallback)(((e,t,n)=>{a.activePanel=null,a.prevPanel=w.current,"default"===e?(w.current=_.current,b(t),a.nextPanel=_.current,E(o)):(w.current=e,b(t),a.nextPanel=e,E(n||o))}),[]),C=!p&&((e,n)=>{const r=gv,i=px().playback,o=i.playbackRate,{counterHelper:a}=(0,pt.useControls)();return(0,t.useMemo)((()=>{const t=[];return null!=r&&r.length?(t.push({title:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ",type:"prev",onClick:()=>{e("default","prev")}}),r.forEach((e=>{t.push({title:"".concat(e,"x"),type:"option",active:o===e,onClick:()=>{i.handlePlaybackRate(e),null==a||a.get("mainSettingsPlaybackRate")(e),n()}})})),{title:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ",aria:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ ".concat(o,"x"),type:"next",options:t,activeValue:"".concat(o,"x"),navigationIcon:hx,onClick:()=>{e(t,"next")}}):null}),[r,o,e,i,a,n])})(A,n),k=((e,n)=>{const r=yu(),{activeQualityIndex:i,activeQualityLevel:o,autoQuality:a,qualities:s}=sT();return(0,t.useMemo)((()=>{if(!s||s.length<=0)return null;const t=[];t.push({title:"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾",type:"prev",onClick:()=>{e("default","prev")}}),s.filter(_x).forEach(((e,o)=>{const s=mx(e,a,null!=i?i:-1);t.push({title:e.value===lo?"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸":"".concat(e.value).concat(e.frameRate||""),type:"option",active:s,icon:gx(e),onClick:s?void 0:()=>{r.changeQuality(0===o?-1:o,e.level),n()}})}));const l={title:"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾",type:"next",options:t,onClick:()=>{e(t,"next")},navigationIcon:vx},u=t.find((e=>e.active));if(u){const e=s.find((e=>e.level===o)),t=a&&(null==e?void 0:e.value)!==lo;l.activeValue=u.title,t&&(l.activeValue=null!=e&&e.value?"".concat(e.value).concat(e.frameRate||""):"",l.aria="ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ ".concat(u.title," ").concat(l.activeValue)),l.activeValueExtra=t?"(ÐÐ²Ñ‚Ð¾)":void 0,l.activeValueIcon=u.icon}return l}),[s,o])})(A,n),P=Mh()&&dx(A,n,H.B.isMobile),I=d.isShowAutoPlay&&(e=>{const n=um(),r=Vg(),i=sl(),{isLive:o}=n||{},{isEmbed:a}=cm();return(0,t.useMemo)((()=>a||o?null:{title:"ÐÐ²Ñ‚Ð¾Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ",type:"switcher",active:r.isAutoplayEnabled,navigationIcon:pt.ControlsPlugin.IsNewControls?()=>t.createElement(ax,null):sx,onClick:()=>{const t=!e;r.isAutoplayEnabled=t,null==i||i.counterHelper.get("mainSettingsAutoplay")({action:t?"on":"off"})}}),[a,o,r,e,null==i?void 0:i.counterHelper])})(h),T=d.isShowMore&&(e=>{let{isInteractive:n,isEmbed:r,setPanel:i,isLive:o,isTVStream:a,hidePanel:s}=e;const l=(0,pt.useControls)(),{sendStats:u,extraActions:c,playback:d}=cm(),h=vI(),{itemsToExclude:p}=br()||{},m=(0,t.useCallback)((()=>{s(),l.hideControls(!0)}),[l,s]);return(0,t.useMemo)((()=>{if(!c)return null;let e=[{title:Er.More,type:"prev",onClick:()=>{i("default","prev")}},!a&&{title:Er.Replay,type:"action",navigationIcon:Or,onClick:()=>{c.replay(),m(),u("mainSettingsMoreMenuReplay")}},!n&&!r&&!o&&{title:Er.LoopVideo,type:"switcher",navigationIcon:Rr,active:d.isLooping,onClick:()=>{d.isLooping?u("mainSettingsMoreMenuReplayVideoOff"):u("mainSettingsMoreMenuReplayVideoOn"),c.loopVideo(),m()}},{title:Er.CopyLink,type:"action",navigationIcon:Ar,onClick:()=>{c.copyLink(),m(),u("mainSettingsMoreMenuCopyLinkVideo")}},!n&&!a&&{title:Er.CopyLinkAtTime,type:"action",navigationIcon:Ar,onClick:()=>{c.copyLinkAtTime(),m(),u("mainSettingsMoreMenuCopyLinkAtTime")}},!n&&{type:"action",title:Er.CopyTag,navigationIcon:Pr,onClick:()=>{c.copyTag(),m(),u("mainSettingsMoreMenuCopyTag")}},{title:Er.HotkeysManual,type:"action",navigationIcon:Ir,onClick:()=>{c.hotkeysManual(),m(),u("mainSettingsMoreMenuHotkeyManual")}},{type:"action",title:Er.Info,navigationIcon:Tr,onClick:()=>{H.B.isMobile?c.copyTechInfo():c.toggleTechInfo(),h.copyStatsInBuffer().catch((e=>console.warn(e))),m(),u("mainSettingsMoreMenuCopyInfo")}},{type:"action",title:Er.ReportError,navigationIcon:Mr,onClick:()=>{c.reportError(),m(),u("mainSettingsMoreMenuReportError")}},r&&{title:Er.Claim,type:"action",navigationIcon:wr,onClick:()=>{c.claim(),m(),u("mainSettingsMoreMenuReportVideo")}}].filter(Boolean);return p&&p.size&&(e=e.filter((e=>!p.has(e.title)))),{title:Er.More,type:"next",actions:e,navigationIcon:Jx,onClick:()=>i(e,"next",280)}}),[c,a,n,r,o,d,p,i,m,u])})({isInteractive:v,isEmbed:f,setPanel:A,hidePanel:n,isLive:p,isTVStream:m});(0,t.useEffect)((()=>{a.clearSettingsList(),C&&a.addSettingsItem(C),k&&a.addSettingsItem(k),P&&a.addSettingsItem(P),I&&a.addSettingsItem(I),T&&a.addSettingsItem(T)}),[I,i,C,k,a,P,T]),(0,t.useEffect)((()=>{w.current=_.current,a.activePanel=_.current}),[c,a]),(0,t.useEffect)((()=>{r()}),[y,r]);const x=(0,t.useCallback)((e=>{const t=null==e?void 0:e.querySelector('[tabindex="0"]');t&&t.focus()}),[]);return t.createElement("div",Em.Ln,t.createElement("div",{id:"raichuSettingsPanel",className:er()(ET,{[ST]:f}),style:{width:y.toString()+"px"}},l&&u&&t.createElement(cy.A,{in:!(!l||!u),appear:!0,unmountOnExit:!0,onEntered:()=>{a.activePanel=u,a.prevPanel=null,a.nextPanel=null},nodeRef:S,classNames:"raichu-settings-animation-".concat(g),timeout:300},t.createElement("div",{ref:S,className:er()(zT,{[GT]:i})},l&&t.createElement(cy.A,{in:!!l,timeout:300,appear:!0,unmountOnExit:!0,classNames:"raichu-settings-animation-prevItem"},t.createElement(Zx,{items:l,panelWidth:y})),u&&t.createElement(Zx,{items:u,panelWidth:y}))),s&&t.createElement(Zx,{ref:x,items:s,panelWidth:y,enableKeyboard:!0})))})),eR=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsMainCheck",__value:'<path fill="currentColor" fill-rule="evenodd" d="M20.707 5.293a1 1 0 0 1 0 1.414l-11 11a1 1 0 0 1-1.414 0l-5-5a1 1 0 1 1 1.414-1.414L9 15.586 19.293 5.293a1 1 0 0 1 1.414 0" clip-rule="evenodd" />'})),tR=(0,t.forwardRef)(eR),nR="settings-item-module__cell___Z8w2C",rR="settings-item-module__mobile___lrppi",iR="settings-item-module__header___VuV1T",oR="settings-item-module__title___y3ufi",aR="settings-item-module__palette___F3QYD",sR="settings-item-module__bgSubtitle___zf4dv",lR="settings-item-module__hidden___EdTlF",uR="settings-item-module__tablet___zmxAR",cR=(0,Jn.PA)((e=>{var n,r;const{idKey:i,title:o,isBackButtonHidden:a,ariaLabels:s,onClick:l,hidePanel:u}=e;return t.createElement(XP,{key:i,"aria-label":null==s?void 0:s.content,className:iR,role:"listitem",justify:"space-between",align:"center","aria-hidden":!0},t.createElement(Rk,{className:er()({[lR]:a}),"aria-label":null!==(n=null==s?void 0:s.back)&&void 0!==n?n:"",startIcon:t.createElement(xI,null),onClick:l}),t.createElement(XP,{flexGrow:1,justify:"center","aria-hidden":!0},t.createElement(me.o,{className:oR,variant:"title-headline-5",key:o},o)),t.createElement(Rk,{"aria-label":null!==(r=null==s?void 0:s.close)&&void 0!==r?r:"",startIcon:t.createElement(ot,null),onClick:u}))})),dR=["id","color","borderColor","label"],hR="_root_886257_v1-27-0",pR="_empty_886257_v1-27-0",mR=(0,t.forwardRef)(((e,t)=>{const{id:n,color:r,borderColor:i,label:o}=e,a=(0,V.A)(e,dR),s=(0,ve.c)(hR,{[pR]:!r});return(0,S.jsx)("span",(0,l.A)({ref:t,id:n,style:{backgroundColor:r,borderColor:i},className:s,role:"img","aria-label":o},a))}));mR.displayName="ColorSwatch";const vR=["onClick","isChecked","checkMarkColor","children","label"],_R="_root_40a80e_v1-27-0",fR="_checked_40a80e_v1-27-0",gR="_checkMark_40a80e_v1-27-0",bR=e=>{const{onClick:t,isChecked:n=!1,checkMarkColor:r,children:i,label:o}=e,a=(0,V.A)(e,vR),s=(0,ve.c)(_R,{[fR]:n});return(0,S.jsx)(kC.lb,{render:e=>(0,S.jsx)(Rk,(0,l.A)((0,l.A)((0,l.A)({className:s,variant:"outline",size:"l",role:"option",tabIndex:0,"aria-selected":n,type:"button",onClick:t},e),a),{},{"aria-label":o,startIcon:(0,S.jsxs)(S.Fragment,{children:[i,(0,S.jsx)("svg",{className:gR,style:{fill:r},width:"14",height:"12",viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.6549 0.244311C14.0723 0.606019 14.1174 1.23758 13.7557 1.65493L5.28164 11.4327L0.323601 6.87939C-0.0831736 6.50582 -0.110092 5.87323 0.263476 5.46645C0.637044 5.05968 1.26964 5.03276 1.67641 5.40633L5.11837 8.56731L12.2443 0.34507C12.606 -0.0722857 13.2376 -0.117397 13.6549 0.244311Z"})})]})}))})};bR.displayName="ColorSwatchPickerItem";const yR=["style","className","value","defaultValue","onChange","colors"],ER="_listbox_b922c7_v1-27-0",wR=(0,t.forwardRef)(((e,n)=>{const{style:r,className:i,value:o,defaultValue:a=xh.DEFAULT_VALUE,onChange:s,colors:u=Rh}=e,c=(0,V.A)(e,yR),[d,h]=jC({value:o,defaultValue:a,onChange:s}),p=u.findIndex((e=>e.color===d));p<0&&console.warn("Ð¦Ð²ÐµÑ‚ ".concat([a,o].map((e=>'"'.concat(e,'"'))).join(" Ð¸Ð»Ð¸ ")," Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð² ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ð¹ Ð¿Ð°Ð»Ð¸Ñ‚Ñ€Ðµ Ñ†Ð²ÐµÑ‚Ð¾Ð² (Ð² ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ðµ colors)"));const[m,v]=(0,t.useState)(p);return(0,S.jsx)(kC.eC,(0,l.A)((0,l.A)({ref:n,style:r,className:(0,ve.c)(i,ER),role:"listbox",orientation:"horizontal",activeIndex:m,onNavigate:v},c),{},{children:u.map((e=>{const{color:t,borderColor:n,checkMarkColor:r,label:i}=e;return(0,S.jsx)(bR,{isChecked:t===d,checkMarkColor:r,onClick:()=>h(t),label:i,children:(0,S.jsx)(mR,{color:t,borderColor:n,label:i})},t)}))}))}));wR.displayName="ColorSwatchPicker";const SR={VARIANT:"primary",SIZE:"m"},AR=["style","className","variant","size","endIcon","counter","active","defaultActive","disabled","children","onChange","onClick"],CR={root:"_root_8771b4_v1-27-0","size-m":"_size-m_8771b4_v1-27-0","size-s":"_size-s_8771b4_v1-27-0",primary:"_primary_8771b4_v1-27-0",active:"_active_8771b4_v1-27-0",disabled:"_disabled_8771b4_v1-27-0",secondary:"_secondary_8771b4_v1-27-0",textWrapper:"_textWrapper_8771b4_v1-27-0"},kR=(0,t.forwardRef)(((e,t)=>{const{style:n,className:r,variant:i=SR.VARIANT,size:o=SR.SIZE,endIcon:a,counter:s,active:u,defaultActive:c=!1,disabled:d=!1,children:h,onChange:p,onClick:m}=e,v=(0,V.A)(e,AR),[_,f]=jC({value:u,defaultValue:c,onChange:p}),g=!(e=>void 0===e||"string"==typeof e&&0===e.trim().length)(s),b=null!=h,y=!!a,E=_?"invert-secondary":"secondary",w=(0,ve.c)(CR.root,CR.reset,CR["size-".concat(o)],CR[i],r,{[CR.active]:_,[CR.disabled]:d});return(0,S.jsxs)("button",(0,l.A)((0,l.A)({ref:t,style:n,className:w,type:"button",disabled:d,tabIndex:d?-1:0,onClick:e=>{d||(null==m||m(e),f((e=>!e)))}},v),{},{children:[(0,S.jsxs)(XP,{justify:"center",align:"center",gap:"2x",className:CR.textWrapper,children:[b?(0,S.jsx)(me.o,{variant:"body-m-medium",as:"span",color:"inherit",disabled:d,children:h}):null,g&&(0,S.jsx)(me.o,{className:CR.counter,as:"span",variant:"body-m-medium",color:E,disabled:d,children:s})]}),y&&a]}))}));kR.displayName="Chip";const PR={small:"Ð£Ð¼ÐµÐ½ÑŒÑˆÐµÐ½Ð½Ñ‹Ð¹",medium:"Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹",large:"Ð£Ð²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ð¹"},IR=["Ð‘ÐµÐ· Ñ„Ð¾Ð½Ð°","10%","20%","30%","40%","50%","60%","70%","80%","90%","100%"],TR="opacity-selector-module__item___LHZTF",xR="opacity-selector-module__defaultItem___sVnNB",RR=e=>{let{onSelect:n,currentIdx:r,ariaLabels:i}=e;return t.createElement(XP,{"aria-label":"ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ„Ð¾Ð½Ð°",role:"listbox",wrap:"wrap",gap:"2x"},IR.map(((e,o)=>{var a,s;if(1===o)return null;const l=o===r;return t.createElement(kR,{className:er()(TR,{[xR]:0===o}),"aria-label":null!==(a=null==i||null===(s=i.opacityTitleFn)||void 0===s?void 0:s.call(i,e,l))&&void 0!==a?a:"",active:l,onChange:()=>null==n?void 0:n(o),key:e},t.createElement(me.o,{color:l?"invert-primary":"primary",variant:"body-m-medium"},e))})))},LR={switcher:e=>{const{idKey:n,active:r,ariaLabels:i,onClick:o,title:a,navigationIcon:s}=e,{color:l}=Sx();return t.createElement(NC,{className:er()(nR,{[rR]:H.B.isMobile}),key:n,startSlot:s&&t.createElement(s,{"aria-hidden":!0,color:l}),title:t.createElement(me.o,{variant:"body-m-regular"},a),endSlot:t.createElement(JP,{size:"l","aria-hidden":!0,tabIndex:-1,value:r,onChange:(e,t)=>{null==o||o(),t.stopPropagation(),t.preventDefault()}}),"aria-label":null==i?void 0:i.title,role:"listitem",onClick:e=>{null==o||o(),e.stopPropagation(),e.preventDefault()}})},next:e=>{const{idKey:n,activeValue:r,activeValueExtra:i,title:o,ariaLabels:a,onClick:s,activeValueIcon:l,navigationIcon:u}=e,{getDataAttribute:c}=(0,wi.f)(),{color:d}=Sx();return t.createElement(NC,(0,ai.A)({className:er()(nR,{[rR]:H.B.isMobile}),key:n,startSlot:u&&t.createElement(u,{"aria-hidden":!0,color:d}),title:t.createElement(me.o,{variant:"body-m-regular"},o),endSlot:t.createElement(XP,{columnGap:"4x",align:"center","aria-hidden":!0},r&&t.createElement(me.o,{variant:"body-m-regular"},r),l&&t.createElement(l,null),i&&t.createElement(me.o,{color:"secondary",variant:"body-m-regular"},i),t.createElement(HP,{"aria-hidden":"true"})),"aria-label":null==a?void 0:a.title,role:"listitem",onClick:s},(e=>{const t={"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾":"QUALITY_BUTTON","Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ":"SPEED_BUTTON","Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹":"SUBTITLE_BUTTON","Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð°":"SIZE_TEXT_BUTTON"}[e];return t?c(Si.R[t]):{}})(o)))},header:cR,option:e=>{const{color:n}=Sx(),{idKey:r,active:i,title:o,ariaLabels:a,onClick:s,icon:l}=e,{getDataAttribute:u}=(0,wi.f)();return t.createElement(NC,(0,ai.A)({className:er()(nR,{[rR]:H.B.isMobile}),key:r,title:t.createElement(XP,{columnGap:"4x",align:"center","aria-hidden":!0},t.createElement(me.o,{variant:"body-m-regular"},o),l&&t.createElement(l,{color:n})),endSlot:i&&t.createElement(tR,{size:24,"aria-hidden":!0}),"aria-label":null==a?void 0:a.title,role:"listitem",onClick:s},u("Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"===o?Si.R.RESET_SETTINGS_BUTTON:"Ð£Ð¼ÐµÐ½ÑŒÑˆÐµÐ½Ð½Ñ‹Ð¹"===o?Si.R.SMALL_TEXT:"Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹"===o?Si.R.STANDARD_TEXT:"Ð£Ð²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð½Ñ‹Ð¹"===o?Si.R.BIG_TEXT:Si.R.TEXT_SUBTITLE)))},palette:e=>{const{idKey:n,onItemClick:r,activeColor:i,ariaLabels:o}=e,{playerSizeValue:a}=(0,$a.a)();return t.createElement(wR,{key:n,className:er()(aR,{[rR]:H.B.isMobile,[uR]:"ML"===a&&H.B.isMobile}),"aria-label":null==o?void 0:o.content,value:(0,ys.toUpper)(i),defaultValue:"#0E8DEE",onChange:r})},color:e=>{const{idKey:n,activeColor:r,activeColorName:i,title:o,ariaLabels:a,onClick:s}=e,{getDataAttribute:l}=(0,wi.f)();return t.createElement(NC,(0,ai.A)({className:er()(nR,{[rR]:H.B.isMobile}),key:n,title:t.createElement(me.o,{variant:"body-m-regular"},o),endSlot:t.createElement(XP,{columnGap:"4x",align:"center","aria-hidden":!0},i&&t.createElement(me.o,{variant:"body-m-regular"},i),r&&t.createElement(mR,{color:r,label:i}),t.createElement(HP,{"aria-hidden":"true"})),"aria-label":null==a?void 0:a.title,role:"listitem",onClick:s},(e=>{const t={"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°":"COLOUR_TEXT_BUTTON","Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°":"COLOUR_BACKGROUND_BUTTON"}[e];return t?l(Si.R[t]):{}})(o)))},subtitleBg:(0,Jn.PA)((e=>{const{idKey:n,onPaletteItemClick:r,onBackgroundOpacityClick:i,ariaLabels:o}=e,{captionsBackgroundColor:a,captionsBackgroundOpacity:s}=Nh(),{getDataAttribute:l}=(0,wi.f)(),{playerSizeValue:u}=(0,$a.a)();return t.createElement(XP,(0,ai.A)({className:er()({[uR]:"ML"===u&&H.B.isMobile}),key:n,direction:"column",align:"flex-start",gap:"2x","aria-label":null==o?void 0:o.content},l(Si.R.COLOUR_BACKGROUND_BUTTON)),t.createElement(wR,{className:er()(aR,{[rR]:H.B.isMobile}),"aria-label":"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°",value:a,defaultValue:"#0E8DEE",onChange:e=>null==r?void 0:r(e)}),t.createElement(me.o,{className:sR,color:"secondary",variant:"body-m-regular"},"ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ„Ð¾Ð½Ð°"),t.createElement(RR,{currentIdx:s,ariaLabels:o,onSelect:e=>null==i?void 0:i(e)}))})),action:e=>{const{idKey:n,title:r,ariaLabels:i,onClick:o,navigationIcon:a}=e,{color:s}=Sx();return t.createElement(NC,{className:er()(nR,{[rR]:H.B.isMobile}),key:n,startSlot:a&&t.createElement(a,{"aria-hidden":!0,color:s}),title:t.createElement(me.o,{variant:"body-m-regular"},r),"aria-label":null==i?void 0:i.title,role:"listitem",onClick:o})},prev:cR},OR=e=>{const n=LR[e.type];return n&&t.createElement(n,e)},NR="Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð² Ð¼ÐµÐ½ÑŽ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²",MR=e=>{const{options:t,activeColor:n,setPanel:r,hidePanel:i,isTouchDevice:o,captionsStore:a,settingsStore:s}=e;return[{title:"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°",type:"header",isPaletteHeader:!0,ariaLabels:{back:NR,close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ†Ð²ÐµÑ‚Ð° Ñ‚ÐµÐºÑÑ‚Ð° ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²",content:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ†Ð²ÐµÑ‚Ð° Ñ‚ÐµÐºÑÑ‚Ð° ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²"},onClick:()=>r(t.current,"prev"),hidePanel:i},{title:"",type:"palette",activeColor:n,ariaLabels:{colorTitleFn:(e,t)=>"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð° ".concat(e," + ").concat(t?dI:cI)},onItemClick:e=>{a.captionsColor=e;const n=MR({options:t,activeColor:e,setPanel:r,hidePanel:i,isTouchDevice:o,captionsStore:a,settingsStore:s});o||(s.activePanel=n),i()}}]},DR=e=>{const{options:t,size:n,setPanel:r,hidePanel:i,isTouchDevice:o,settingsStore:a,captionsStore:s}=e,l=Object.keys(PR).map((e=>{var l;return{title:null!==(l=PR[e])&&void 0!==l?l:"",type:"option",ariaLabels:{title:"".concat(PR[e]," + ").concat(e===n?dI:cI)},active:n===e,onClick:()=>((e,t)=>{s.captionsTextSize=e,a.activePanel=t,i()})(e,DR({options:t,size:e,setPanel:r,settingsStore:a,hidePanel:i,isTouchDevice:o,captionsStore:s}))}}));return[{title:"Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð°",type:"header",ariaLabels:{back:NR,close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ñ‚ÐµÐºÑÑ‚Ð° ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²",content:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ñ‚ÐµÐºÑÑ‚Ð° ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²"},onClick:()=>r(t.current,"prev"),hidePanel:i},...l]},BR=e=>{const{captionsStore:n,settingsStore:r,options:i,videoId:o,hidePanel:a,isTouchDevice:s,onCaptionsSettingsClick:l,setPanel:u}=e,{captions:c,captionsTextSize:d,captionsColor:h,captionsBackgroundColor:p,getColorName:m}=n,v=c&&Object.keys(c).length;if(!v)return null;i.current=[];const _=MR({options:i,activeColor:h,setPanel:u,hidePanel:a,isTouchDevice:s,settingsStore:r,captionsStore:n}),f=DR({options:i,size:d,settingsStore:r,setPanel:u,hidePanel:a,isTouchDevice:s,captionsStore:n}),g=[{title:"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°",type:"header",isPaletteHeader:!0,ariaLabels:{back:NR,close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ„Ð¾Ð½Ð° ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²",content:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ„Ð¾Ð½Ð° ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²"},onClick:()=>u(i.current,"prev"),hidePanel:a},{title:"",type:"subtitleBg",ariaLabels:{colorTitleFn:(e,t)=>"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð° ".concat(e," + ").concat(t?dI:cI),opacityTitleFn:(e,t)=>"ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ„Ð¾Ð½Ð° ".concat(e," + ").concat(t?dI:cI)},onPaletteItemClick:e=>{n.captionsBackgroundColor=e,a()},onBackgroundOpacityClick:e=>{n.captionsBackgroundOpacity=e,a()}}];if(i.current.push({title:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²",type:"header",ariaLabels:{back:uI,close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²",content:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²"},onClick:()=>u("default","prev"),hidePanel:a}),c&&v>1){const e=(e=>{const{hidePanel:t,setPanel:n,options:r,onCaptionsSettingsClick:i,captionsStore:o}=e,{captions:a,activeCaption:s}=o,l=[];return l.push({title:"Ð¯Ð·Ñ‹Ðº",type:"header",ariaLabels:{back:NR,close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐ·Ñ‹ÐºÐ° ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²",content:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐ·Ñ‹ÐºÐ° ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²"},onClick:()=>n(r.current,"prev"),hidePanel:t}),Object.keys(a).forEach((e=>{var n;const r=e,u=null===(n=a[r])||void 0===n?void 0:n.langTitle,c=(null==s?void 0:s.langTitle)===r||(null==s?void 0:s.sub_id)===+r;l.push({title:u,type:"option",ariaLabels:{title:"".concat(u," + ").concat(c?dI:cI)},active:c,onClick:()=>{o.activeCaption=a[r],i(u),t()}})})),l})({settingsStore:r,captionsStore:n,hidePanel:a,videoId:o,setPanel:u,options:i,onCaptionsSettingsClick:l});i.current.push({title:"Ð¯Ð·Ñ‹Ðº",type:"next",ariaLabels:{title:"Ð¯Ð·Ñ‹Ðº + ".concat(hI)},options:e,innerOption:!0,onClick:()=>{u(e,"next")}})}return i.current.push({title:"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°",type:"color",ariaLabels:{title:"Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð° + ".concat(hI)},activeColor:h,activeColorName:m(h),innerOption:!0,options:_,onClick:()=>u(_,"next",276)}),i.current.push({title:"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°",type:"color",ariaLabels:{title:"Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð° + ".concat(hI)},activeColor:p,activeColorName:m(p),options:g,innerOption:!0,onClick:()=>u(g,"next",294)}),i.current.push({title:"Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð°",type:"next",ariaLabels:{title:"Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð° + ".concat(hI)},activeValue:d?PR[d]:"",innerOption:!0,options:f,onClick:()=>u(f,"next")}),i.current.push({title:"Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",type:"option",ariaLabels:{title:"Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð² + ".concat(cI)},active:!1,innerOption:!0,onClick:()=>{n.resetCaptionSettings(),a()}}),{title:"Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹",type:"next",ariaLabels:{title:"Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹ + ".concat(hI)},options:i.current,navigationIcon:()=>t.createElement(Vh,null),onClick:()=>u(i.current,"next")}},FR=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsMainSlashCircle",__value:'<path fill="currentColor" fill-rule="evenodd" d="M4.968 6.382a9 9 0 0 0 12.65 12.65zm1.414-1.414 12.65 12.65a9 9 0 0 0-12.65-12.65M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12" clip-rule="evenodd" />'})),HR=(0,t.forwardRef)(FR),VR=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsMainMoreHorizontal",__value:'<path fill="currentColor" fill-rule="evenodd" d="M3 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0m7 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0" clip-rule="evenodd" />'})),UR=(0,t.forwardRef)(VR),jR=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsUnsortedSpeedometer2",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12m11-6a6 6 0 0 0-6 6 1 1 0 1 1-2 0 8 8 0 0 1 8-8 1 1 0 1 1 0 2m5.207.793a1 1 0 0 1 0 1.414l-3.275 3.275A2.002 2.002 0 0 1 12 14a2 2 0 1 1 .518-3.932l3.275-3.275a1 1 0 0 1 1.414 0" clip-rule="evenodd" />'})),WR=(0,t.forwardRef)(jR),zR={.25:"0.25x",.5:"0.5x",.75:"0.75x",1:"1x",1.25:"1.25x",1.5:"1.5x",1.75:"1.75x",2:"2.0x"},GR=e=>"".concat(e?dI:cI),qR=(e,t)=>{const n="auto"===e?dT:hT[e];return n?"".concat(n," + ").concat(GR(t)):""},KR="settings-panel-module__container___F87xO",YR="settings-panel-module__panelWrapper___aajFl",XR="settings-panel-module__desktop___SF9n3",QR=(0,Jn.PA)((()=>{var e;const n=cm(),r=(0,pt.useControls)(),{isLive:i,isTVStream:o}=lm(),a=pm(),{isAutoplayEnabled:s}=Vg(),{isEmbed:l}=r,{activePanel:u,settingsList:c,options:d,hideSettingsMenu:h}=n,p=(0,t.useRef)(null),[m,v]=(0,t.useState)(""),[_,f]=(0,t.useState)(null),[g,b]=(0,t.useState)(!1),[y,E]=(0,t.useState)("");(0,t.useEffect)((()=>{p.current=c}),[c]);const w=(0,t.useCallback)(((e,t)=>{n.activePanel=null,"default"===e?(v(t),n.activePanel=p.current):(v(t),n.activePanel=e)}),[]),S=!i&&((e,n)=>{const r=gv,{counterHelper:i,playback:o}=(0,pt.useControls)(),a=o.playbackRate;return(0,t.useMemo)((()=>{if(null==r||!r.length)return null;const s=[{title:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ",type:"header",ariaLabels:{back:uI,close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚Ð¸ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ",content:"Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚Ð¸ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ"},onClick:()=>e("default","prev"),hidePanel:n},...r.map((e=>{return{title:"".concat(e,"x"),type:"option",active:a===e,ariaLabels:{title:(t=e,r=a===e,"".concat(zR[t]," + ").concat(GR(r)))},onClick:()=>{o.handlePlaybackRate(e),null==i||i.get("mainSettingsPlaybackRate")(e),n()}};var t,r}))];return{title:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ",ariaLabels:{title:"Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ + ".concat(hI)},type:"next",options:s,activeValue:"".concat(a,"x"),navigationIcon:()=>t.createElement(WR,null),onClick:()=>e(s,"next")}}),[r,n,a,e,o,i])})(w,h),A=((e,n)=>{const r=yu(),{activeQualityIndex:i,activeQualityLevel:o,autoQuality:a,qualities:s}=sT();return(0,t.useMemo)((()=>{if(!s||s.length<=0)return null;const l=[{title:"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾",type:"header",ariaLabels:{back:uI,close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° Ð²Ð¸Ð´ÐµÐ¾",content:"Ð’Ñ‹Ð±Ð¾Ñ€ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° Ð²Ð¸Ð´ÐµÐ¾"},onClick:()=>e("default","prev"),hidePanel:n},...s.filter(_x).map(((e,o)=>{const s=mx(e,a,null!=i?i:-1);return{title:e.value===lo?dT:"".concat(e.value).concat(e.frameRate||""),type:"option",active:s,ariaLabels:{title:qR(e.value,s)},icon:()=>t.createElement(fT,{qualityValue:null==e?void 0:e.value}),onClick:s?void 0:()=>{r.changeQuality(0===o?-1:o,e.level),n()}}}))],u={title:"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾",type:"next",options:l,ariaLabels:{title:"ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð²Ð¸Ð´ÐµÐ¾ + ".concat(hI)},onClick:()=>e(l,"next"),navigationIcon:()=>t.createElement(aT,null),activeValueIcon:()=>{if(a&&i&&i>0){const e=s[i].value;return t.createElement(fT,{qualityValue:e})}if(l.find((e=>e.active))){var e;const n=(null===(e=s.find((e=>e.level===o)))||void 0===e?void 0:e.value)||"";return t.createElement(fT,{qualityValue:n})}}},c=l.find((e=>e.active));if(c){const e=s.find((e=>e.level===o)),t=a&&(null==e?void 0:e.value)!==lo;u.activeValue=c.title,t&&(u.activeValue=null!=e&&e.value?"".concat(e.value).concat(e.frameRate||""):"",u.aria="ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ ".concat(c.title," ").concat(u.activeValue)),u.activeValueExtra=t?"(ÐÐ²Ñ‚Ð¾)":void 0}return u}),[s,o])})(w,h),C=Mh()&&((e,n,r)=>{const i=(0,t.useRef)([]),o=Nh(),a=cm(),{captions:s,captionsTextSize:l,captionsColor:u,captionsBackgroundColor:c,onCaptionsSettingsClick:d}=o,h=hw().get("videoId"),[p,m]=(0,t.useState)(null);return(0,t.useEffect)((()=>{m(BR({captionsStore:o,settingsStore:a,options:i,videoId:h,hidePanel:n,isTouchDevice:r,setPanel:e,onCaptionsSettingsClick:d}))}),[o,n,r,d,e,a,h,s,l,u,c]),p})(w,h,H.B.isMobile),k=d.isShowAutoPlay&&(e=>{const n=um(),r=Vg(),i=sl(),{isLive:o}=n||{},{isEmbed:a}=cm(),s=Boolean(r.isAutoplayEnabled);return(0,t.useMemo)((()=>a||o?null:{title:"ÐÐ²Ñ‚Ð¾Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ",type:"switcher",active:s,ariaLabels:{title:s?"ÐÐ²Ñ‚Ð¾Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾":"ÐÐ²Ñ‚Ð¾Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð²Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾"},navigationIcon:()=>t.createElement(ax,null),onClick:()=>{const t=!e;r.isAutoplayEnabled=t,null==i||i.counterHelper.get("mainSettingsAutoplay")({action:t?"on":"off"})}}),[a,o,s,e,r,null==i?void 0:i.counterHelper])})(s),P=d.isShowMore&&(e=>{let{isInteractive:n,isEmbed:r,setPanel:i,isLive:o,isTVStream:a,hidePanel:s}=e;const l=(0,pt.useControls)(),{sendStats:u,extraActions:c,playback:d}=cm(),h=vI(),p=br(),m=null==p?void 0:p.itemsToExclude,{isLooping:v}=d,_=(0,t.useCallback)((()=>{s(),H.B.isMobile&&l.hideControls(!0)}),[l,s]);return(0,t.useMemo)((()=>{if(!c)return null;let e=[{title:Er.More,type:"header",ariaLabels:{back:uI,close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¼ÐµÐ½ÑŽ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº",content:"Ð’Ñ‹Ð±Ð¾Ñ€ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº"},onClick:()=>i("default","prev"),hidePanel:_},!a&&{title:Er.Replay,ariaLabels:{title:"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°"},type:"action",navigationIcon:()=>t.createElement(dg,null),onClick:()=>{c.replay(),_(),u("mainSettingsMoreMenuReplay")}},!n&&!r&&!o&&{title:Er.LoopVideo,ariaLabels:{title:"Ð—Ð°Ñ†Ð¸ÐºÐ»Ð¸Ñ‚ÑŒ Ð²Ð¸Ð´ÐµÐ¾".concat(" + ",v?mI:pI)},type:"switcher",navigationIcon:()=>t.createElement(eI,null),active:v,onClick:()=>{d.isLooping?u("mainSettingsMoreMenuReplayVideoOff"):u("mainSettingsMoreMenuReplayVideoOn"),c.loopVideo(),_()}},{title:Er.CopyLink,type:"action",ariaLabels:{title:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ Ð½Ð° Ð²Ð¸Ð´ÐµÐ¾"},navigationIcon:()=>t.createElement(nI,null),onClick:()=>{c.copyLink(),_(),u("mainSettingsMoreMenuCopyLinkVideo")}},!n&&!a&&{title:Er.CopyLinkAtTime,type:"action",ariaLabels:{title:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð¿Ñ€Ð¸Ð²ÑÐ·ÐºÐ¾Ð¹ ÐºÐ¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸"},navigationIcon:()=>t.createElement(nI,null),onClick:()=>{c.copyLinkAtTime(),_(),u("mainSettingsMoreMenuCopyLinkAtTime")}},!n&&{type:"action",title:Er.CopyTag,ariaLabels:{title:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð´ Ð´Ð»Ñ Ð²ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¿Ð»ÐµÐµÑ€Ð°"},navigationIcon:()=>t.createElement(iI,null),onClick:()=>{c.copyTag(),_(),u("mainSettingsMoreMenuCopyTag")}},{title:Er.HotkeysManual,type:"action",ariaLabels:{title:"Ð–ÐµÑÑ‚Ñ‹ Ð¸ Ð³Ð¾Ñ€ÑÑ‡Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ¸"},navigationIcon:()=>t.createElement(aI,null),onClick:()=>{c.hotkeysManual(),_(),u("mainSettingsMoreMenuHotkeyManual")}},{type:"action",title:Er.Info,ariaLabels:{title:"Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ"},navigationIcon:()=>t.createElement(K,null),onClick:()=>{H.B.isMobile?c.copyTechInfo():c.toggleTechInfo(),h.copyStatsInBuffer().catch((e=>console.warn(e))),_(),u("mainSettingsMoreMenuCopyInfo")}},{type:"action",title:Er.ReportError,ariaLabels:{title:"Ð¡Ð¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ðµ"},navigationIcon:()=>t.createElement(lI,null),onClick:()=>{c.reportError(),_(),u("mainSettingsMoreMenuReportError")}},r&&{title:Er.Claim,type:"action",ariaLabels:{title:"ÐŸÐ¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð²Ð¸Ð´ÐµÐ¾"},navigationIcon:()=>t.createElement(HR,null),onClick:()=>{c.claim(),_(),u("mainSettingsMoreMenuReportVideo")}}].filter(Boolean);return m&&null!=m&&m.size&&(e=e.filter((e=>!(null!=m&&m.has(e.title))))),{title:Er.More,ariaLabels:{title:"Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº + ".concat(hI)},type:"next",actions:e,navigationIcon:()=>t.createElement(UR,null),onClick:()=>i(e,"next",280)}}),[c,_,a,n,r,o,v,m,i,u,d,h])})({isInteractive:a,isEmbed:l,setPanel:w,hidePanel:h,isLive:i,isTVStream:o});return(0,t.useEffect)((()=>(n.clearSettingsList(),n.addSettingsItem({title:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",type:"header",isBackButtonHidden:!0,ariaLabels:{content:"ÐœÐµÐ½ÑŽ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ð¿Ð»ÐµÐµÑ€Ð°",close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¼ÐµÐ½ÑŽ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ð¿Ð»ÐµÐµÑ€Ð°"},hidePanel:h}),S&&n.addSettingsItem(S),A&&n.addSettingsItem(A),k&&n.addSettingsItem(k),C&&n.addSettingsItem(C),P&&n.addSettingsItem(P),()=>{n.hasSettingsInteraction=!1})),[k,S,A,n,C,P,h]),aP({target:_,positionCallback:e=>b(!e.blockStart||!e.blockEnd)}),(0,t.useEffect)((()=>{const e=e=>{e.stopPropagation(),e.preventDefault()};return g?(null==_||_.removeEventListener("wheel",e),null==_||_.removeEventListener("touchmove",e)):(null==_||_.addEventListener("wheel",e),null==_||_.addEventListener("touchmove",e)),()=>{null==_||_.removeEventListener("wheel",e),null==_||_.removeEventListener("touchmove",e)}}),[_,g]),(0,t.useEffect)((()=>{n.activePanel=p.current}),[c,n]),(0,t.useEffect)((()=>{var e;E((null==u||null===(e=u[0])||void 0===e?void 0:e.title)||"")}),[u]),t.createElement(pP,{className:KR,ref:f,onPointerEnter:()=>n.hasSettingsInteraction=!0,onPointerLeave:()=>n.hasSettingsInteraction=!1,key:y},t.createElement("div",(0,ai.A)({id:"raichuSettingsPanel",className:er()(YR,"settings-animation-".concat(m),{[XR]:!H.B.isMobile})},Em.Ln,{key:(null==u||null===(e=u[0])||void 0===e?void 0:e.title)||""}),null==u?void 0:u.map(((e,n)=>t.createElement(OR,(0,ai.A)({},e,{isTouchDevice:H.B.isMobile,key:n.toString()+e.title,idKey:n.toString()+e.title}))))))})),ZR="settings-module__contentWrapper___KwMMH",JR="settings-module__settingBtn___jU3Tk",$R="settings-module__sideBarContentWrapper___tD0Fq",eL="settings-module__wrapper___oYN7K",tL="settings-module__isTouch___hvegl",nL="popper-panel-wrapper-module__preventTap___azySr",rL="popper-panel-wrapper-module__fullSizeOverlay___TyQx2",iL=e=>{let{size:n,coordinates:r}=e;const i=(0,t.useRef)(null),o=(0,t.useCallback)((e=>{if(i.current=e,e&&n&&r){const{width:t,height:i}=n,{x:o,y:a}=r,s=e.getBoundingClientRect(),l="-".concat(s.y-a,"px"),u="-".concat(s.x-o,"px");e.style.top=l,e.style.left=u,e.style.width="".concat(t,"px"),e.style.height="".concat(i,"px")}}),[n,r]);return t.createElement("div",{ref:o,className:er()(rL,nL)})},oL=e=>{let{className:n,popperOptions:r,visible:i,hidePanel:o,renderButton:a,renderPanel:s,testId:l,size:u,coordinates:c,portal:d=!1,portalContainer:h}=e;const p=(0,t.useRef)(null),m=(0,t.useRef)(null),v=(0,t.useRef)(null),_=(0,t.useCallback)((()=>{var e;(null===(e=p.current)||void 0===e?void 0:e.update)&&p.current.update().catch(console.warn)}),[]);return(0,Zn.Wr)(v,(e=>{const t=e.composedPath()||[];!!m.current&&t.includes(m.current)||v.current&&i&&(o(),e.preventDefault(),e.stopPropagation())})),(0,t.useEffect)((()=>{var e;(null===(e=p.current)||void 0===e?void 0:e.update)&&p.current.update().catch(console.warn)}),[null==u?void 0:u.width]),t.createElement(t.Fragment,null,t.createElement("div",(0,ai.A)({"data-testid":l,className:n,role:"none"},Em.aQ),t.createElement(Qn.e0,{anchorRef:m,hidePopperOnHidingElement:!1,isPopperShown:i,popperOptions:r,portal:d,portalContainer:h,popperKey:Qn.m0.tooltip,customPopperZIndex:1e3,instanceRef:p,renderPopperElements:()=>t.createElement("div",{ref:v},s({onResize:_}))},m&&a(m))),H.B.isMobile&&i&&t.createElement(iL,{size:u,coordinates:c}))},aL=(0,Jn.PA)((()=>{var e;const{isTouchDevice:n}=Fp(),r=(0,pt.useControls)(),{size:i,coordinates:o}=(0,$a.a)(),a=(null==i?void 0:i.width)||0,s=cm(),{hasSettingsInteraction:l,hideSettingsMenu:u}=s,{isShowSettingsPannel:c,iconSizeValue:d,wrapperRef:h,tabIndex:p}=r,{getDataAttribute:m}=(0,wi.f)(),v="settings"===r.activePanel,_=(0,t.useCallback)((()=>{r.activePanel=v?"":"settings"}),[r,v]);(0,t.useEffect)((()=>{const e=()=>!l&&u();return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[l,u]);const f=null!==(e=null!=h?h:document.getElementById(Dp.v.RAICHU_CONTAINER_WITH_PLAYER))&&void 0!==e?e:document.querySelector("body"),g=(0,Fr._)(),b=(0,t.useMemo)((()=>({placement:n?"bottom-end":"top",modifiers:[{name:"offset",options:{offset:n?[-6,0]:[0,48]}},{name:"preventOverflow",options:{boundary:g||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[n,g]),y=(0,t.useCallback)((()=>{r.activePanel="",r.setHideControlsTimer()}),[r]),E=(0,t.useCallback)((()=>{y(),r.preventHideControls=!1}),[r,y]),w=n?void 0:wn.m_.Settings;if(!pt.ControlsPlugin.isCurrentRedesignStageAvailable)return t.createElement(oL,{portal:!0,portalContainer:f,className:er()(eL,{[tL]:n}),popperOptions:b,visible:c,hidePanel:y,size:i,coordinates:o,renderButton:e=>t.createElement(Uh.S,(0,ai.A)({ref:e,tabIndex:p,role:"button","aria-haspopup":"true","aria-controls":"raichuSettingsPanel","aria-expanded":c,"aria-label":"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ð»ÐµÐµÑ€Ð°",className:JR,tooltipTitle:w,onClick:_,iconSticker:t.createElement(nx,null),size:d},m(Si.R.SETTINGS_BUTTON)),t.createElement(ix,{isActive:c})),renderPanel:e=>{let{onResize:n}=e;return t.createElement($x,{hidePanel:E,onPanelResize:n})}});const S=t.createElement(iT.$,(0,ai.A)({className:JR,tabIndex:0,role:"button","aria-haspopup":"true","aria-controls":"raichuSettingsPanel","aria-expanded":c,"aria-label":"".concat(c?"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ"," Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð²Ð¸Ð´ÐµÐ¾Ð¿Ð»ÐµÐµÑ€Ð°"),onClick:_,iconSticker:t.createElement(nx,null),size:d},m(Si.R.SETTINGS_BUTTON)),t.createElement(ix,{isActive:c}));return n?t.createElement(GI,{container:f,placement:"inline-end",overlay:"transparent",open:s.isSettingsMenuVisible,onOpenChange:e=>s.isSettingsMenuVisible=e},t.createElement(GI.Trigger,null,S),t.createElement(GI.Content,{className:$R,style:{width:a<=480?"".concat(a,"px"):"384px"}},t.createElement(QR,null))):t.createElement(rT,{container:f,constraintContainer:f,offsetOptions:{mainAxis:56},placementSequence:[],placement:"top-start",open:s.isSettingsMenuVisible,onOpenChange:e=>{s.isSettingsMenuVisible=e,s.hasSettingsInteraction=!1}},t.createElement(rT.Trigger,null,t.createElement("div",null,t.createElement(Uh.S,(0,ai.A)({className:JR,tabIndex:0,role:"button","aria-haspopup":"true","aria-controls":"raichuSettingsPanel","aria-expanded":c,"aria-label":"".concat(c?"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ"," Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð²Ð¸Ð´ÐµÐ¾Ð¿Ð»ÐµÐµÑ€Ð°"),tooltipTitle:wn.m_.Settings,onClick:_,iconSticker:t.createElement(nx,null),size:d},m(Si.R.SETTINGS_BUTTON)),t.createElement(ix,{isActive:c})))),t.createElement(rT.Content,{className:ZR},t.createElement(QR,null)))})),sL=(0,Jn.PA)((e=>{let{action:n,buttonsSize:r,wrapperId:i}=e;const o=(0,Fr._)(),{isTouchDevice:a}=Fp(),s=(0,pt.useControls)(),{isShowSettingsPannel:l,tabIndex:u}=s,{size:c,coordinates:d,sendStats:h}=px(),{getDataAttribute:p}=(0,wi.f)(),m=a?void 0:wn.m_.Settings,v=(0,t.useMemo)((()=>({placement:a?"bottom-end":"top",modifiers:[{name:"offset",options:{offset:a?[-6,0]:[0,23]}},{name:"preventOverflow",options:{boundary:o||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[a,o]),_=(0,t.useCallback)((()=>{s.activePanel="",s.setHideControlsTimer()}),[s]),f=(0,t.useCallback)((()=>{_(),s.preventHideControls=!1}),[s,_]),g="settings"===s.activePanel,b=(0,t.useCallback)((()=>{g?s.activePanel="":(s.activePanel="settings",h("mainSettingsClick"))}),[s,g,h]);return t.createElement(oL,{portal:!1,portalContainer:document.getElementById(i||Dp.v.RAICHU_CONTAINER_WITH_PLAYER),className:er()(gT,{[bT]:a}),popperOptions:v,visible:l,hidePanel:_,size:c,coordinates:d,renderButton:e=>t.createElement(ss.r,(0,ai.A)({"data-testid":"ui-settings-button",ref:e,tabIndex:u,role:"button","aria-haspopup":"true","aria-controls":"raichuSettingsPanel","aria-expanded":l,"aria-label":"".concat(l?"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ":"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ"," Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð²Ð¸Ð´ÐµÐ¾Ð¿Ð»ÐµÐµÑ€Ð°"),action:n,className:UT,tooltipTitle:m,tooltipPlacement:"top",tooltipZIndex:wn.m_.ControlsTooltipZIndex,onClick:b,iconSticker:t.createElement(nx,null),size:r},p(Si.R.SETTINGS_BUTTON)),t.createElement(rx,{color:"#fff",isActive:l})),renderPanel:e=>{let{onResize:n}=e;return t.createElement($x,{hidePanel:f,onPanelResize:n})}})}));var lL;let uL,cL,dL;class hL extends I.j8{static get VideoSettings(){return pt.ControlsPlugin.IsNewControls?aL:sL}static get ContextMenuSettings(){return gI}constructor(e,t,n,r,i,o,a){super(),this._playerSize=void uL(this),this._settingsList=P.sH.array([]),this._activePanel=P.sH.box(null),this._nextPanel=P.sH.box(null),this._prevPanel=P.sH.box(null),this._isSettingsMenuVisible=P.sH.box(!1),this._hasSettingsInteraction=P.sH.box(!1),this.__counterHelper=void 0,this._isEmbed=void 0,this._options={isShowMore:!0,isShowAutoPlay:!0},this.extraActions=n,this._playback=i,this._controlsPlugin=a,null!=r&&r.value&&(this._options=(0,l.A)((0,l.A)({},this._options),r.value)),this.__counterHelper=t instanceof ol?t.counterHelper:void 0,this._isEmbed=o.value,(0,P.Gn)(this,{activePanel:P.EW,nextPanel:P.EW,prevPanel:P.EW,settingsList:P.EW,addSettingsItem:P.XI,clearSettingsList:P.XI,isSettingsMenuVisible:P.EW,hasSettingsInteraction:P.EW}),this._playerSize=e,this.sendStats=this.sendStats.bind(this)}settingsVisibilityObserve(){return(0,P.mJ)((()=>this.isSettingsMenuVisible),(e=>{this._controlsPlugin.preventHideControls=e,e&&(this.hasSettingsInteraction=!1)}))}sendStats(e,t){var n;null===(n=this.__counterHelper)||void 0===n||n.get(e)(null!=t?t:{clickedItemTitle:""})}get isSettingsMenuVisible(){return this._isSettingsMenuVisible.get()}set isSettingsMenuVisible(e){this._isSettingsMenuVisible.set(e)}get hasSettingsInteraction(){return this._hasSettingsInteraction.get()}set hasSettingsInteraction(e){this._hasSettingsInteraction.set(e)}get activePanel(){return(0,P.HO)(this._activePanel.get())}set activePanel(e){this._activePanel.set(e)}get nextPanel(){return this._nextPanel.get()}set nextPanel(e){this._nextPanel.set(e)}get prevPanel(){return this._prevPanel.get()}set prevPanel(e){this._prevPanel.set(e)}get settingsList(){return(0,P.HO)(this._settingsList)}get size(){return this._playerSize.size}get coordinates(){return this._playerSize.coordinates}get options(){return this._options}get playback(){return this._playback}get isEmbed(){return this._isEmbed}addSettingsItem(e){this._settingsList.push(e)}clearSettingsList(){this._settingsList.clear()}hideSettingsMenu(){this.isSettingsMenuVisible=!1,this._controlsPlugin.hideSettingsPanel(),this.hasSettingsInteraction=!1}}lL=hL,({e:[uL],c:[dL,cL]}=(0,k.A)(lL,[(0,I.k_)({implement:"IVideoSettingsPlugin",ctor_args:["IPlayerSizePlugin","IStatisticState",{implement:"IExtraActionsPlugin",optional:!0},{implement:"VideoSettingsOptions",optional:!0},"IPlayback","IsEmbed","IControlsPlugin"]})],[[(0,I.o7)(),2,"settingsVisibilityObserve"],[I.zm,2,"sendStats"],[I.zm,2,"addSettingsItem"],[I.zm,2,"clearSettingsList"],[I.zm,2,"hideSettingsMenu"]],0,void 0,I.j8)),cL();var pL,mL;let vL,_L,fL,gL;var bL;let yL,EL,wL;new(mL=class extends I.j8{constructor(e,t,n){super(),this._eventEmitter=void vL(this),this._counterHelper=void 0,this._isKeyboardShortuctsEnabled=P.sH.box(!0),this.__handlers=new Map,this.__shiftHandlers=new Map,this._blocked=P.sH.box(!1),this._playback=e,(0,P.h5)((()=>{this._isKeyboardShortuctsEnabled.set(this._playback.isPlayerReady&&!(null!=n&&n.stub))})),this._counterHelper=t instanceof Xn?t.counterHelper:void 0,this._eventEmitter=new xa,(0,P.Gn)(this,{blocked:P.EW})}initListener(){const e=this._keyHandler.bind(this),t=(0,P.mJ)((()=>this._isKeyboardShortuctsEnabled),(t=>{t&&(this.initHandlers(),window.addEventListener("keydown",e))}),{fireImmediately:!0});return()=>{window.removeEventListener("keydown",e),t()}}_keyHandler(e){const t=e.target,n=t&&(e=>{const t=e.nodeName.toLowerCase();return"true"===e.contentEditable||t.indexOf("input")>=0||t.indexOf("textarea")>=0})(t);if((e=>e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)(e)&&!gL.ALLOWED_SPECIAL_KEYS[e.code]||n)return;const r=e.shiftKey?this.__shiftHandlers.get(e.code):this.__handlers.get(e.code);r&&(this.stopEvent(e),this.blocked||r(e))}stopEvent(e){e.preventDefault(),e.stopPropagation()}initHandlers(){this.pushHandler({key:["Space","KeyK"],handler:()=>{this._playback.isPlaying?this._playback.pause():this._playback.play()}}),this.pushHandler({key:["KeyL","ArrowRight"],handler:()=>this.defaultForwardSeek()}),this.pushHandler({key:["KeyJ","ArrowLeft"],handler:()=>this.defaultBackwardSeek()}),this.pushHandler({key:"ArrowUp",handler:()=>{const e=Math.floor(Math.min(100*this._playback.volume+5,100));this._playback.handleVolume(e),this._eventEmitter.emit(oi.volumeUp,{newVolume:e})}}),this.pushHandler({key:"ArrowDown",handler:()=>{const e=Math.floor(Math.max(100*this._playback.volume-5,0));this._playback.handleVolume(e),this._eventEmitter.emit(oi.volumeDown,{newVolume:e})}}),this.pushHandler({key:"KeyM",handler:()=>{this._playback.handleMuted(),this._playback.muted,this._eventEmitter.emit(oi.mute,null)}})}pushHandler(e){let{key:t,handler:n,shift:r}=e;const i=r?this.__shiftHandlers:this.__handlers;Array.isArray(t)?t.forEach((e=>{i.set(e,n)})):i.set(t,n)}getHandler(e){return this.__handlers.get(e)}getShiftHandler(e){return this.__shiftHandlers.get(e)}on(e,t){this._eventEmitter.on(e,t)}off(e,t){this._eventEmitter.off(e,t)}defaultForwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekForward(10),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:mf.E.HOTKEY,rewindDirection:mf.U.FORWARD}),this._eventEmitter.emit(oi.seekForward,t)}defaultBackwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekBack(10),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:mf.E.HOTKEY,rewindDirection:mf.U.BACK}),this._eventEmitter.emit(oi.seekBackward,t)}get blocked(){return this._blocked.get()}set blocked(e){this._blocked.set(e)}},({e:[vL],c:[gL,_L]}=(0,k.A)(mL,[(0,I.k_)({implement:"IShortcutsPlugin",ctor_args:["IPlayback","IStatisticState",{implement:"IStubPlugin",optional:!0}]})],[[(0,I.o7)(),2,"initListener"]],0,void 0,I.j8)),fL=mL,(pL=class extends ft{constructor(){super(gL),this.ALLOWED_SPECIAL_KEYS={KeyP:!0,KeyN:!0,ArrowLeft:!0,ArrowRight:!0},_L()}})[fL]=void 0,pL);var SL;let AL,CL,kL;bL=class extends gL{constructor(e,t,n,r,i,o,a,s,l,u,c,d,h){yL((super(e,r,s),this._playback=e,this._fullscreen=t,this._captions=n,this._nextPlugin=i,this._playlist=o,this._advert=a,this._stub=s,this._pip=l,this._cinema=u,this._qualitiesPlugin=c,this._controls=d,this._activities=h,this)),this._isKeyboardShortuctsEnabled.set(this._playback.isPlayerReady&&!(null!=a&&a.isPlaying)&&!(null!=s&&s.stub))}initVideo(){return this.initVideoHandlers(),(0,P.mJ)((()=>{var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}),(e=>{this.blocked=e}))}initShortuctsEnabled(){var e,t;return this._isKeyboardShortuctsEnabled.set(this._playback.isPlayerReady&&!(null!==(e=this._advert)&&void 0!==e&&e.isPlaying)&&!(null!==(t=this._stub)&&void 0!==t&&t.stub)),(0,P.mJ)((()=>{var e,t,n;return{isPlayerReady:this._playback.isPlayerReady,advertIsPlaying:null===(e=this._advert)||void 0===e?void 0:e.isPlaying,stub:null===(t=this._stub)||void 0===t?void 0:t.stub,isInteractiveVideo:!(null!==(n=this._activities)&&void 0!==n&&n.isInteractiveVideo)}}),(e=>{let{isPlayerReady:t,advertIsPlaying:n,stub:r,isInteractiveVideo:i}=e;this._isKeyboardShortuctsEnabled.set(t&&!n&&!r&&!i)}))}initVideoHandlers(){super.initHandlers();const e=()=>{var e;return this._playback.isTvStream||(null===(e=this._activities)||void 0===e?void 0:e.isInteractiveVideo)};this.pushHandler({key:"KeyL",handler:()=>!e()&&this.defaultForwardSeek()}),this.pushHandler({key:"KeyJ",handler:()=>!e()&&this.defaultBackwardSeek()}),this.pushHandler({key:"ArrowLeft",handler:t=>{t.altKey?this.nextFrameBackward():e()||this.defaultBackwardSeek()}}),this.pushHandler({key:"ArrowRight",handler:t=>{t.altKey?this.nextFrameForward():e()||this.defaultForwardSeek()}}),this.pushHandler({key:["KeyL","ArrowRight"],shift:!0,handler:()=>{var t;if(null!==(t=this._activities)&&void 0!==t&&t.isSkipButtonVisible)return void this._activities.skipButtonClick();if(e())return;const{time:n,label:r}=this.getTimeMark();void 0!==n&&(this._playback.seek(n,"hotkey"),this._eventEmitter.emit(oi.nextTimeMark,{label:r||""}))}}),this.pushHandler({key:["KeyJ","ArrowLeft"],shift:!0,handler:()=>{if(e())return;const{time:t,label:n}=this.getTimeMark(!0);void 0!==t&&(this._playback.seek(t,"hotkey"),this._eventEmitter.emit(oi.previousTimeMark,{label:n||""}))}}),this.pushHandler({key:"KeyC",handler:()=>{var e;if(this._captions.hasCaptions&&(null===(e=this._controls)||void 0===e||!e.isNakedMode)){const e=this._captions.isShowCaptions;this._captions.isShowCaptions=!e,this._eventEmitter.emit(oi.subtitles,!e)}}}),this.pushHandler({key:"KeyN",shift:!0,handler:()=>{var e,t,n;null!==(e=this._playlist)&&void 0!==e&&e.isShowPlaylistButtons?null===(t=this._playlist)||void 0===t||t.onClickNext():null===(n=this._nextPlugin)||void 0===n||n.onClick()}}),this.pushHandler({key:"KeyP",shift:!0,handler:()=>{var e,t;null!==(e=this._playlist)&&void 0!==e&&e.isShowPlaylistButtons&&(null===(t=this._playlist)||void 0===t||t.onClickPrev())}}),this.pushHandler({key:"KeyF",handler:()=>{this._fullscreen.handleFullscreen()}}),this.pushHandler({key:"Escape",handler:()=>{this._fullscreen.isFullscreen?this._fullscreen.handleFullscreen():va.Ug.emit(zi.L2.ESCAPE_PRESS,{})}}),this.pushHandler({key:"KeyT",handler:()=>{var e;null===(e=this._cinema)||void 0===e||e.handleCinema()}}),this.pushHandler({key:"KeyI",handler:()=>{var e;null===(e=this._pip)||void 0===e||e.togglePiP()}}),this.pushHandler({key:["Digit0","Digit1","Digit2","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9"],handler:t=>{if(e())return;const n=parseInt(t.key.replace("Digit",""),10),r=this._playback.duration;if(r&&!(r<=0)){if(n>0){const e=n*Math.ceil(r/10);this._playback.seek(e,"hotkey")}else this._playback.seek(0,"hotkey");this._eventEmitter.emit(oi.percentRewind,{label:"".concat(10*n,"%")||0})}}}),this.pushHandler({key:"Comma",handler:()=>{if(this._playback.isLive)return;const e=this._playback.changePlayBackRate("down");this._eventEmitter.emit(oi.playbackRate,{newRate:e})}}),this.pushHandler({key:"Period",handler:()=>{if(this._playback.isLive)return;const e=this._playback.changePlayBackRate("up");this._eventEmitter.emit(oi.playbackRate,{newRate:e})}})}getTimeMark(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const r=this._playback.progress,i=this._playback.duration,o=null!==(e=null===(t=this._controls)||void 0===t?void 0:t.chapters)&&void 0!==e?e:[],a=Math.round(i*r/100),s=n?[...o].reverse():o;if(1===s.length)return{};const l=s.find((e=>{let{start:t}=e;return n?t<a-.8:t>a}));if(!l)return{};const{start:u,name:c}=l;return{time:u,label:"".concat((0,__.a3)({value:u})," â€” ").concat(c)}}nextFrameForward(){this._playback.paused&&this._playback.seek(this._playback.currentTime+this.frameDuration,"hotkey")}nextFrameBackward(){this._playback.paused&&this._playback.seek(this._playback.currentTime-this.frameDuration,"hotkey")}defaultBackwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekBack(10,"hotkey"),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:mf.E.HOTKEY,rewindDirection:mf.U.BACK}),this._eventEmitter.emit(oi.seekBackward,t)}defaultForwardSeek(){var e;if(this._playback.ended)return;const t=this._playback.currentTime;this._playback.seekForward(10,"hotkey"),null===(e=this._counterHelper)||void 0===e||e.get("mainContentPlaybackRewindMode")({rewindType:mf.E.HOTKEY,rewindDirection:mf.U.FORWARD}),this._eventEmitter.emit(oi.seekForward,t)}get frameDuration(){var e;return(null===(e=this._qualitiesPlugin)||void 0===e||null===(e=e.activeQuality)||void 0===e?void 0:e.frameDuration)||zi.hW}},({e:[yL],c:[wL,EL]}=(0,k.A)(bL,[(0,I.k_)({implement:"IShortcutsPlugin",ctor_args:["IPlayback","IFullscreenPlugin","ICaptionsPlugin","IStatisticState",{implement:"INextVideoPlugin",optional:!0},{implement:"IPlaylistPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IStubPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},{implement:"CinemaModePlugin",optional:!0},{implement:"IQualitiesPlugin",optional:!0},{implement:"IControlsPlugin",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[[(0,I.o7)(),2,"initVideo"],[(0,I.o7)(),2,"initShortuctsEnabled"]],0,void 0,gL)),EL();function PL(e){return"not_skippable_".concat(e)}var IL;let TL,xL,RL;SL=class extends No{constructor(e,t,n,r,i){AL((super(e,t,n,i),this.playerConfig=n,this.pip=r,this))}initFollowedResourceId(){return(0,P.mJ)((()=>{var e;return null===(e=this.playerConfig)||void 0===e?void 0:e.get("followedResourceId")}),(e=>{this.followedResourceId=null!=e?e:Yf}))}initFollowedLink(){return(0,P.mJ)((()=>{var e;return null===(e=this.playerConfig)||void 0===e?void 0:e.get("followedLink")}),(e=>{this.followedLink=String(e)}))}get shouldBeBackground(){return super.shouldBeBackground&&!this.isInPiP}get isInPiP(){var e,t;return null!==(e=null===(t=this.pip)||void 0===t?void 0:t.isInPiP)&&void 0!==e&&e}},({e:[AL],c:[kL,CL]}=(0,k.A)(SL,[(0,I.k_)({implement:"IStatisticValues",ctor_args:["Resolve","IPlayback",{implement:"IPlayerConfigPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},"IVisibilityStatePlugin"]})],[[(0,I.o7)(),2,"initFollowedResourceId"],[(0,I.o7)(),2,"initFollowedLink"]],0,void 0,No)),CL();class LL extends I.j8{constructor(e,t,n,r,i,o,a,s,l,u,c){super(),this.__playOptions=void TL(this),this.__userSettings=void 0,this.__stubPlugin=void 0,this.__providerPlugin=void 0,this.__appearancePlugin=void 0,this.__playbackPlugin=void 0,this.__embedPlugin=void 0,this.__platformSubscription=void 0,this.__onlineOffline=void 0,this.isOfflineStubTriggired=!1,this._pip=l,this.config=u,this.__playOptions=e,this.__userSettings=t,this.__stubPlugin=n,this.__providerPlugin=r,this.__appearancePlugin=i,this.__playbackPlugin=o,this.__embedPlugin=a,this.__platformSubscription=s,this.__onlineOffline=c}init(){const e=(0,P.mJ)((()=>{var e,t;return{data:null===(e=this.__playOptions)||void 0===e?void 0:e.data,isAdultAllowed:this.__userSettings.isUserAdult,paused:this.__playbackPlugin.paused,videoId:null===(t=this.config)||void 0===t?void 0:t.get("videoId")}}),((e,t)=>{var n,r;let{data:i,videoId:o,isAdultAllowed:a}=e,{data:s,videoId:l}=t;if(l&&o!==l)this.__stubPlugin.stub=null;else if(i&&this.__playOptions)return i.is_adult?(this.stubCallbackWrapper((()=>this.setAdultStub(a)),!1),void(a||this.__playbackPlugin.paused||this.__playbackPlugin.pause())):void(null!==(n=i.detail)&&void 0!==n&&n.access_url?this.stubCallbackWrapper((()=>this.setAccessIframeStub())):i.iframe_url?this.stubCallbackWrapper((()=>this.setExternalPlayerStub())):"common_subscription"!==(null===(r=i.detail)||void 0===r?void 0:r.type)?i.detail?this.stubCallbackWrapper((()=>{var e;return this.setCommonStub((null===(e=i.detail)||void 0===e||null===(e=e.id)||void 0===e?void 0:e.toString())||"unknown_stub")})):i.video_balancer||this.stubCallbackWrapper((()=>this.setErrorStub("balancer"))):this.stubCallbackWrapper((()=>this.setSubscriptionStub())))})),t=(0,P.mJ)((()=>{var e;return{is_adult:null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.is_adult,isAdultAllowed:this.__userSettings.isUserAdult,paused:this.__playbackPlugin.paused}}),(e=>{let{is_adult:t,isAdultAllowed:n,paused:r}=e;if(t)return this.stubCallbackWrapper((()=>this.setAdultStub(n)),!1),void(n||r||this.__playbackPlugin.pause())})),n=(0,P.mJ)((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.hasLoadError}),(e=>{e&&this.stubCallbackWrapper((()=>this.setErrorStub("play_options")))}));let r=null;const i=(0,P.mJ)((()=>this.__providerPlugin.hasLoadError),(e=>{const t=this.__providerPlugin.provider,n=()=>{null!==r&&(clearTimeout(r),r=null)};if(e){if(t){const e=()=>{n();const t=async()=>{var t;if(null!==(t=this.__playOptions)&&void 0!==t&&t.video_id)try{var n;const t=await rv(null===(n=this.__playOptions)||void 0===n?void 0:n.video_id);var r;if((null==t?void 0:t.stream_status)===jl.STREAM_ACTIVE){if(this.__playOptions)await this.__playOptions.fetchPlayOptions(),null!==(r=this.__providerPlugin.provider)&&void 0!==r&&r.startLoad?this.__providerPlugin.provider.startLoad():this.__playbackPlugin.load(),await this.__playbackPlugin.play(),this.__playbackPlugin.goLive(),this.__stubPlugin.stub=null}else e()}catch(t){e()}};r=setTimeout((()=>{t()}),3e3)};this.__playbackPlugin.isTvStream&&e()}this.stubCallbackWrapper((()=>this.setErrorStub("hls")))}return n})),o=(0,P.mJ)((()=>this.__providerPlugin.initError),(e=>{e&&this.stubCallbackWrapper((()=>this.setErrorStub("provider")))})),a=(0,P.mJ)((()=>{var e;return null===(e=this.__embedPlugin)||void 0===e?void 0:e.allowed}),(e=>{e||this.stubCallbackWrapper((()=>this.setDistributionErrorStub()))})),s=(0,P.mJ)((()=>{var e,t;return{link:null===(e=this.__playOptions)||void 0===e?void 0:e.link,isLoaded:null===(t=this.__playOptions)||void 0===t?void 0:t.isPlayOptionsLoaded}}),(e=>{var t,n,r;let{link:i,isLoaded:o}=e;if(!(null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.detail)||void 0===t||null===(t=t.languages)||void 0===t||!t.length))return;const a="stream_push"===(null===(n=this.__playOptions)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.stream_type)||"stream_access_fail"===(null===(r=this.__playOptions)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.detail)||void 0===r?void 0:r.name);let s=!1;switch(typeof i){case"object":s=0===Object.keys(i).length;break;case"string":s=!i}o&&s&&!a?this.stubCallbackWrapper((()=>this.setStreamNotFoundStub())):this.__stubPlugin.stub=null}),{fireImmediately:!0});return()=>[e,t,n,i,a,o,s].forEach((e=>e()))}initOnline(){return(0,P.mJ)((()=>{var e,t;return{isOnline:null===(e=null===(t=this.__onlineOffline)||void 0===t?void 0:t.isOnline)||void 0===e||e,currentTime:this.__playbackPlugin.currentTime}}),(e=>{let{isOnline:t,currentTime:n}=e;this.__playbackPlugin.getBuffered()[2]-n<=.1&&(t?this.isOfflineStubTriggired&&(this.isOfflineStubTriggired=!1,this.__stubPlugin.stub=null):this.setOfflineStub())}))}setAdultStub(e){var t;e?this.__stubPlugin.stub=null:this.__stubPlugin.setStub("infoWithAction",{btnText:zi.Oc[this.__stubPlugin.activeLanguage].btn,onBtnClick:()=>{this.__userSettings.isUserAdult=!0},title:zi.Oc[this.__stubPlugin.activeLanguage].title,description:zi.Oc[this.__stubPlugin.activeLanguage].description,backgroundImage:Bo,backgroundColor:this.getBackgroundColor(),messageForStat:(t="18","skippable_".concat(t))})}setAccessIframeStub(){var e,t;this.__stubPlugin.setStub("iframe",{url:(null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.detail)||void 0===e?void 0:e.access_url)||"",isExternalLoading:!0,title:null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.video_id,messageForStat:PL("access")})}setExternalPlayerStub(){var e;this.__stubPlugin.setStub("iframe",{url:(null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.iframe_url)||"",messageForStat:PL("player")})}setSubscriptionStub(){var e,t,n,r,i,o,a,s,l;const u=null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.detail)||void 0===e||null===(e=e.languages)||void 0===e?void 0:e.find((e=>e.lang===this.__stubPlugin.activeLanguage)),c=this.getBackgroundColor(),d=null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.id,h=null===(n=this.config)||void 0===n?void 0:n.get("videoId"),p=!!this.__embedPlugin?d:h,m=p?"/api/video/".concat(p,"/thumbnail/?redirect=1"):null===(r=this.__playOptions)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.detail)||void 0===r?void 0:r.image,v=(null==u?void 0:u.url_title)||"ÐžÑ„Ð¾Ñ€Ð¼Ð¸Ñ‚ÑŒ",_=null!==(i=null===(o=this.__playOptions)||void 0===o||null===(o=o.data)||void 0===o||null===(o=o.detail)||void 0===o||null===(o=o.product_codes)||void 0===o?void 0:o[0])&&void 0!==i?i:void 0;null===(a=this.__platformSubscription)||void 0===a||a.handleStubSubscriptionRequest({productCode:_,type:"show"}),this.__stubPlugin.setStub("infoWithAction",{title:null!==(s=null==u?void 0:u.title)&&void 0!==s?s:"",description:null!==(l=null==u?void 0:u.description)&&void 0!==l?l:"",backgroundImage:m,backgroundColor:c,btnText:v,onBtnClick:()=>{var e;return null===(e=this.__platformSubscription)||void 0===e?void 0:e.handleStubSubscriptionRequest({productCode:_,type:"click"})},isBlurred:!!_,messageForStat:PL("subscription")})}setCommonStub(e){var t,n;const r=null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.detail)||void 0===t||null===(t=t.languages)||void 0===t?void 0:t.find((e=>e.lang===this.__stubPlugin.activeLanguage));var i,o,a;null!==(n=this.__playOptions)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&null!==(n=n.detail)&&void 0!==n&&n.url?this.__stubPlugin.setStub("infoWithAction",{type:null===(i=this.__playOptions)||void 0===i||null===(i=i.data)||void 0===i||null===(i=i.detail)||void 0===i?void 0:i.type,title:(null==r?void 0:r.title)||"",description:(null==r?void 0:r.description)||"",backgroundImage:null===(o=this.__playOptions)||void 0===o||null===(o=o.data)||void 0===o||null===(o=o.detail)||void 0===o?void 0:o.image,btnText:(null==r?void 0:r.url_title)||"ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸",backgroundColor:this.getBackgroundColor(),onBtnClick:e=>{var t;e.preventDefault(),window.open(null===(t=this.__playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.detail)||void 0===t?void 0:t.url,"_blank")},messageForStat:PL("common_info_".concat(e))}):this.__stubPlugin.setStub("info",{title:(null==r?void 0:r.title)||"",description:(null==r?void 0:r.description)||"",backgroundImage:null===(a=this.__playOptions)||void 0===a||null===(a=a.data)||void 0===a||null===(a=a.detail)||void 0===a?void 0:a.image,messageForStat:PL("common_info_".concat(e))})}setErrorStub(e){this.__stubPlugin.setStub("info",{title:zi.gE[this.__stubPlugin.activeLanguage].title,backgroundImage:Bo,messageForStat:PL("player_error_".concat(e))})}setDistributionErrorStub(){this.__stubPlugin.setStub("info",{title:zi.Rx[this.__stubPlugin.activeLanguage].title,backgroundImage:Bo,messageForStat:PL("distribution_error")})}getBackgroundColor(){var e;return this.__embedPlugin&&null!==(e=this.__appearancePlugin)&&void 0!==e&&e.color?this.__appearancePlugin.color:"var(--pen-accent)"}stubCallbackWrapper(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._pip&&this._pip.isInPiP&&t&&this._pip.exitFromPiP(),e()}setOfflineStub(){this.__stubPlugin.setStub("info",{title:zi.D7[this.__stubPlugin.activeLanguage].title,messageForStat:PL("offline")}),this.isOfflineStubTriggired=!0}setStreamNotFoundStub(){this.__stubPlugin.setStub("info",{title:zi.gE[this.__stubPlugin.activeLanguage].title,backgroundImage:Bo,messageForStat:PL("not_found")})}}function OL(){try{return JSON.parse(_o.getItem(zi.Ok.USER_HISTORY)||"{}")}catch(e){return console.warn(e),{}}}function NL(e){const t=OL();return t[e]?t[e]:void 0}function ML(e){return e.progress&&e.progress>=100?0:e.seconds}var DL;let BL;IL=LL,({e:[TL],c:[RL,xL]}=(0,k.A)(IL,[(0,I.k_)({implement:"IStubsTriggerPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IUserSettingsPlugin","IStubPlugin","IProviderPlugin",{implement:"IAppearancePlugin",optional:!0},"IPlayback",{implement:"IEmbedPlugin",optional:!0},{implement:"IPlatformSubscriptionPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IOnlineOfflinePlugin",optional:!0}]})],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"initOnline"]],0,void 0,I.j8)),xL();class FL extends I.j8{constructor(e,t){super(),this.videoId=void BL(this),this._initStorage=()=>{const e=_o.getItem(zi.Ok.USER_HISTORY);if(e){const t=JSON.parse(e);for(const e in t)Date.now()-t[e].date>=2592e6&&delete t[e];_o.setItem(zi.Ok.USER_HISTORY,JSON.stringify(t))}else _o.setItem(zi.Ok.USER_HISTORY,JSON.stringify({}))},this.playback=e,this.videoId=t}getVideoProgress(e){const t=NL(e);if(t)return ML(t)}updateVideoId(e){this.videoId=e}init(){this._initStorage();const e=[(0,P.mJ)((()=>this.playback.currentTime),(e=>{this.playback.isPlaying&&this.playback.progress>0&&function(e){let{videoId:t,progress:n,seconds:r}=e;try{const e=OL(),i=(0,l.A)((0,l.A)({},e),{},{[t]:{videoId:t,progress:n,seconds:r,date:Date.now()}});_o.setItem(zi.Ok.USER_HISTORY,JSON.stringify(i))}catch(e){console.info(e)}}({videoId:this.videoId,progress:this.playback.progress,seconds:e})}))];return()=>e.forEach((e=>e()))}}DL=FL,[BL]=(0,k.A)(DL,[],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8).e;const HL=async(e,t)=>{let n=null;const i=await(e=>{const t=(0,r.Kj)({t:String(Math.floor(Date.now()/1e3))});return fetch("".concat(ev(),"/api/video/position/").concat(e,"?").concat(t.toString())).then((e=>e.ok?e.json():null)).catch((e=>(console.warn(e),null)))})(e);if(!i)return null;const o=Math.floor(i?i.pos:0);if(o>0&&t){n={progress:o/(t/1e3)*100,seconds:o,date:1e3*i.etc}}return n};var VL;let UL,jL;var WL;let zL,GL,qL;VL=class extends FL{constructor(e,t){super(e,t.get("videoId")),(0,P.Gn)(this,{fetchVideoProgress:P.L3})}*fetchVideoProgress(e,t,n){const r=NL(e);let i=null;return n&&(i=yield HL(e,t)),n&&i||!r?i&&!r?ML(i):i&&r?r.date>i.date?ML(r):ML(i):void 0:ML(r)}},[jL,UL]=(0,k.A)(VL,[(0,I.k_)({implement:"IVideoHistoryPlugin",ctor_args:["IPlayback","IPlayerConfigPlugin"]})],[],0,void 0,FL).c,UL();class KL extends I.j8{constructor(e,t,n,r,i){var o;super(),this._active=(zL(this),P.sH.box(!1)),this._isMounted=P.sH.box(!1),this._isProviderInit=P.sH.box(!1),this._isReplayAllowed=P.sH.box(!0),this._playerStatus=P.sH.box(""),this._provider=P.sH.box(null),this._wasFirstPlay=P.sH.box(!1),this._wasVideoStarted=P.sH.box(!1),this._advertPhase=P.sH.box(void 0),this._eventBus=void 0,this._stubStore=e,this.playback=t,this._playOptions=n,this.advert=r,this._eventBus=null!==(o=null==i?void 0:i.value)&&void 0!==o?o:va.Ug,(0,P.Gn)(this,{active:P.EW,isMounted:P.EW,provider:P.EW,isProviderInit:P.EW,isReplayAllowed:P.EW,playerStatus:P.EW,wasFirstPlay:P.EW,wasVideoStarted:P.EW,advertPhase:P.EW})}init(){const e=[];e.push((0,P.mJ)((()=>{var e;return null===(e=this._stubStore.stub)||void 0===e?void 0:e.type}),(e=>{e&&(this.playerStatus="error")}))),e.push(this.getChangeStateReaction()),e.push((0,P.mJ)((()=>this.playback.ended),(e=>{e&&(this.playerStatus="completed")}))),e.push((0,P.mJ)((()=>this.playback.seeking),(e=>{e&&(this.playerStatus="seeking")}))),e.push((0,P.mJ)((()=>this.playback.isPlaying),(e=>{e&&(this.playerStatus="playing")}))),e.push((0,P.mJ)((()=>{var e;return null===(e=this.advert)||void 0===e?void 0:e.isPlaying}),(e=>{this.playerStatus="advert",this.advertPhase=e?"playing":"complete"}))),e.push((0,P.mJ)((()=>{var e;return null===(e=this.advert)||void 0===e?void 0:e.isLoading}),(e=>{e&&(this.playerStatus="advert",this.advertPhase="prepare")})));const t=()=>{this.playerStatus="seeked"},n=()=>{this.playerStatus="buffering"},r=()=>{this.playerStatus="pause"};return this.playback.player.addEventListener("seeked",t),this.playback.player.addEventListener("waiting",n),this.playback.player.addEventListener("pause",r),e.push((()=>{var e;null===(e=this._provider.get())||void 0===e||e.destroy(),this.playback.player.removeEventListener("seeked",t),this.playback.player.removeEventListener("waiting",n),this.playback.player.removeEventListener("pause",r)})),()=>e.forEach((e=>e()))}getChangeStateReaction(){return(0,P.mJ)((()=>({playerStatus:this.playerStatus,advertPhase:this.advertPhase})),(e=>{var t,n;let{playerStatus:r,advertPhase:i}=e;"error"!==r&&this._eventBus.emit(zi.L2.CHANGE_STATE,{status:r,state:r,isLicensed:Boolean(null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.is_licensed),phase:"advert"===r?i:void 0,isPlaying:this.playback.isPlaying||(null===(n=this.advert)||void 0===n?void 0:n.isPlaying)||!1})}))}get active(){return this._active.get()}set active(e){this._active.set(e)}get isMounted(){return this._isMounted.get()}set isMounted(e){this._isMounted.set(e)}get isProviderInit(){return this._isProviderInit.get()}set isProviderInit(e){this._isProviderInit.set(e)}get provider(){return this._provider.get()}set provider(e){this._provider.set(e)}get isReplayAllowed(){return this._isReplayAllowed.get()}set isReplayAllowed(e){this._isReplayAllowed.set(e)}get playerStatus(){return this._playerStatus.get()}set playerStatus(e){this._playerStatus.set(e)}get isLoading(){return"loading"===this._playerStatus.get()}get isPlaying(){return"playing"===this._playerStatus.get()}get isPaused(){return"pause"===this._playerStatus.get()}get getIsEnded(){return"completed"===this._playerStatus.get()}get wasFirstPlay(){return this._wasFirstPlay.get()}set wasFirstPlay(e){this._wasFirstPlay.set(e)}get wasVideoStarted(){return this._wasVideoStarted.get()}set wasVideoStarted(e){this._wasVideoStarted.set(e)}get advertPhase(){return this._advertPhase.get()}set advertPhase(e){this._advertPhase.set(e)}}var YL;let XL,QL,ZL;WL=KL,({e:[zL],c:[qL,GL]}=(0,k.A)(WL,[(0,I.k_)({implement:"IPlayerStatusState",ctor_args:["IStubPlugin","IPlayback",{implement:"IDataPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"EventBus",optional:!0}]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),GL();class JL extends I.j8{constructor(){super(),this.__isOnline=(XL(this),P.sH.box(!0)),(0,P.Gn)(this,{isOnline:P.EW})}init(){return this.initOnlineOfflineHandlers()}initOnlineOfflineHandlers(){const e=()=>{this.isOnline=!1},t=()=>{this.isOnline=!0};return window.addEventListener("offline",e),window.addEventListener("online",t),()=>{window.removeEventListener("offline",e),window.removeEventListener("online",t)}}get isOnline(){return this.__isOnline.get()}set isOnline(e){this.__isOnline.set(e)}}var $L;let eO,tO,nO;YL=JL,({e:[XL],c:[ZL,QL]}=(0,k.A)(YL,[(0,I.k_)("IOnlineOfflinePlugin")],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),QL();$L=class extends ZL{constructor(e,t,n){super(),this._wasPlayingBeforeOffline=(eO(this),!1),this._playbackPlugin=e,this._providerPlugin=t,this._visibilityState=n}initPlugin(){return(0,P.mJ)((()=>this.isOnline),(e=>{this._handleOnline(e)}))}_handleOnline(e){var t,n,r;null===(t=this._providerPlugin.provider)||void 0===t||null===(n=t.onOnlineToggle)||void 0===n||n.call(t,e),e?(null!==(r=this._providerPlugin.provider)&&void 0!==r&&r.startLoad?this._providerPlugin.provider.startLoad():this._playbackPlugin.load(),this._wasPlayingBeforeOffline&&this._visibilityState.isVisible&&(this._playbackPlugin.play(),this._wasPlayingBeforeOffline=!1),H.B.isiOSMobile&&(this._playbackPlugin.readyState<=2&&this._playbackPlugin.paused&&this._playbackPlugin.play(),this._playbackPlugin.seek(this._playbackPlugin.currentTime+.1))):this._wasPlayingBeforeOffline=this._playbackPlugin.isPlaying||this._playbackPlugin.buffering}},({e:[eO],c:[nO,tO]}=(0,k.A)($L,[(0,I.k_)({implement:"IOnlineOfflinePlugin",ctor_args:["IPlayback","IProviderPlugin","IVisibilityStatePlugin"]})],[[(0,I.o7)(),2,"initPlugin"],[I.zm,2,"_handleOnline"]],0,void 0,ZL)),tO();const rO=e=>{var t;let n,r;if(!e||!e.url)return{edge:"",dive:""};const i=null==e||null===(t=e.url)||void 0===t?void 0:t[0];try{r=new URL(i).hostname}catch(e){console.info(e)}if(-1!==i.indexOf("dive")){const e=i.split("/");n=e[e.indexOf("dive")+1]}return{edge:r,dive:n}},iO={default:"dm",fullscreen:"tm",mini:"pip",audio:"au"};let oO=function(e){return e.START="start",e.INITIALIZED="initialized",e.BALANCER_REQUEST="balancer_request",e.VIDEO_PLAYING="video_playing",e.VIDEO_PAUSE="video_pause",e.BUFFERING="buffering",e.VIDEO_PLAYING_END="video_playing_end",e.A_REQUEST="a_request",e.A_PLAYING="a_playing",e.ERROR="error",e.FATAL="fatal",e}({}),aO=function(e){return e.DUMMY="dummy",e.START="start",e.OPTIONS_REQUEST="options_request",e.OPTIONS_LOADED="options_loaded",e.BL_REQUEST="bl_request",e.PROVIDER_INITED="provider_inited",e.PROVIDER_INIT_ERROR="provider_init_error",e.PLAY_START="play_start",e.REWIND="rewind",e.PAUSE="pause",e.UNPAUSE="unpause",e.CHANGE_SM="change_sm",e.CHANGE_Q="change_q",e.Q_UP="quality_up",e.Q_DOWN="quality_down",e.CHANGE_QM="change_qm",e.CHANGE_V="change_v",e.TEN_SEC="10sec",e.A_BLOCKER_FOUND="a_blocker_found",e.A_REQUEST="a_request",e.A_START="a_start",e.A_END="a_end",e.A_INIT_ERROR="a_init_error",e.AD_INIT="ad_init",e.AD_REQUEST="ad_request",e.AD_LOAD="ad_load",e.AD_START_TRIGGERED="ad_start_triggered",e.AD_STARTED="ad_started",e.AD_ALREADY_STARTED="ad_already_started",e.AD_EARLY_START_ATTEMPT="ad_early_start_attempt",e.AD_ERROR="ad_error",e.AD_LOAD_ERROR="ad_load_error",e.AD_START_ERROR="ad_start_error",e.AD_PLAYING_ERROR="ad_playing_error",e.AD_SDK_LOAD_TIMEOUT="ad_sdk_load_timeout",e.AD_SDK_LOAD_ERROR="ad_sdk_load_error",e.END="end",e.BUFFERING_START="buffering_start",e.BUFFERING_END="buffering_end",e.ERROR="error",e.FATAL_ERROR="fatal_error",e.SWITCH_CDN="switch_cdn",e.FIRST_FRAGMENT="first_fragment",e.SEQUENCE_ERROR="sequence_error",e.SHOW_LOADER="show_loader",e.SHOW_LOADER_BEFORE_TEN_SEC="show_loader_before_ten_sec",e.HIDE_LOADER="hide_loader",e.BUFFERING_TIME="buffering_time",e.LONG_STARTUP_BUFFERING_TIME="long_startup_buffering_time",e.INVALID_FTS="invalid_fts",e}({});var sO=a(4823);const lO=()=>{const e=(()=>{const e="https://log.".concat(window.location.host).replace(/qa\.|aq\.|qaq\./,"");return sO.env.LOG||e})();return"".concat(e,"/player_events/?{{params}}")},uO=["errorMessage"];var cO;let dO,hO,pO;class mO extends I.j8{logUpDownQuality(e){var t,n;const r=null===(t=this.__providerPlugin.provider)||void 0===t?void 0:t.instance,i="function"==typeof(null==r?void 0:r.levels)?r.levels():null==r?void 0:r.levels;if(!r||!i)return;const o=i[r.currentLevel||0],a=i[e];if(!o||!a)return;const s=a.height>=o.height?aO.Q_UP:aO.Q_DOWN;null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(s,a.height.toString())})}constructor(e,t,n,r,i,o,a,s,l,u,c,d,h,p){super(),this.__playOptions=void dO(this),this.__providerPlugin=void 0,this.__playbackPlugin=void 0,this.__videoLayout=void 0,this.__advertPlugin=void 0,this.__statisticStore=void 0,this.__statisticWatchTime=void 0,this.__stubStore=void 0,this.__errorPlugin=void 0,this.__counterHelper=void 0,this.__playerConfig=void 0,this.__statisticValues=void 0,this.__statistics=void 0,this.__firstFragmentEventSend=!1,this.__firstFragmentCounter=0,this.__bufferingStartTime=0,this.__isStartupBuffering=!0,this.__playerStatus=void 0,this.__isPlayStarted=!1,this.__app=void 0,this.__lastMessages={},this.__eventsToThrottle=[ml,vl],this.LONG_STARTUP_BUFFERING_THRESHOLD_MS=1e3,this.onVideoStarted=()=>{var e;this.__isPlayStarted=!0,null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.PLAY_START)})},this.onVideoHasBeenStarted=()=>{var e;if(!this.__playbackPlugin.isStatStartSent)return void this.__playbackPlugin.player.removeEventListener("playing",this.onVideoStarted);const t=this.__providerPlugin.activeQualityLevel;(null===(e=this.__providerPlugin.provider)||void 0===e||null===(e=e.instance)||void 0===e?void 0:e.levels)&&t?this.onVideoStarted():this.__playbackPlugin.player.addEventListener("playing",this.onVideoStarted,{once:!0})},this.videoTagErrorHandler=e=>{var t;this.__playerStatus=oO.ERROR,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.ERROR,e.message)})},this.videoTagLoadStartHandler=()=>{var e;"m3u8"===(0,O.rS)(this.__playbackPlugin.player.src)&&(this.__playerStatus=oO.BALANCER_REQUEST,null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.BL_REQUEST)}))},this._shouldSendEvent=e=>{if(!this.__eventsToThrottle.includes(e))return!0;const t=Date.now(),n=!this.__lastMessages[e]||t-this.__lastMessages[e]>500;return this.__lastMessages[e]=t,n},this._playerVersion=p,this.__playOptions=e,this.__providerPlugin=t,this.__playbackPlugin=n,this.__statisticStore=r,this.__statisticWatchTime=i,this.__stubStore=o,this.__videoLayout=a,this.__advertPlugin=s,this.__errorPlugin=l,this.__counterHelper=c&&c instanceof Xn?c.counterHelper:void 0,this.__app=d.value,this.__playerConfig=u,this.__statisticValues=h,this.__statistics=c,this.handlePlaying=this.handlePlaying.bind(this),this.handleBuffering=this.handleBuffering.bind(this),this.handleFirstFragment=this.handleFirstFragment.bind(this)}init(){const e=this.setLoggerStat(),t=(0,P.mJ)((()=>({stub:this.__stubStore.stub})),(e=>{let{stub:t}=e;var n;t&&(null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.DUMMY,t.params.messageForStat)}))})),n=(0,P.mJ)((()=>this.__playerConfig.get("videoId")),(e=>{var t;e&&(this.__playerStatus=oO.START,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.START)}),this.__isPlayStarted=!1,this.__firstFragmentEventSend=!1,this.__lastMessages={})}),{fireImmediately:!0}),r=(0,P.mJ)((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.playOptionsRequested}),(e=>{var t;e&&(this.__playerStatus=oO.INITIALIZED,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.OPTIONS_REQUEST)}))}),{fireImmediately:!0}),i=(0,P.mJ)((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.isPlayOptionsLoaded}),(e=>{var t;e&&(this.__playerStatus=oO.INITIALIZED,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.OPTIONS_LOADED)}))}),{fireImmediately:!0}),o=(0,P.mJ)((()=>this.__playbackPlugin.isStatStartSent),this.onVideoHasBeenStarted),a=(0,P.mJ)((()=>this.__playbackPlugin.isPlaying),this.handlePlaying.bind(this)),s=this.subscribePlaybackEvent(ii.p.seek,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.REWIND)})})),l=(0,P.mJ)((()=>this.__providerPlugin.qualities),(e=>{var t;null!=e&&e.length&&(this.__playerStatus=oO.BALANCER_REQUEST,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.BL_REQUEST)}))})),u=(0,P.mJ)((()=>this.__playbackPlugin.buffering),this.handleBuffering.bind(this)),c=(0,P.mJ)((()=>({videoId:this.__playerConfig.get("videoId"),playerMode:this.__videoLayout.playerMode})),(e=>{let{videoId:t,playerMode:n}=e;var r;t&&n&&(null===(r=this.__counterHelper)||void 0===r||r.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.CHANGE_SM)}))})),d=(0,P.mJ)((()=>this.__playbackPlugin.isPlayerReady),(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.CHANGE_QM)})})),h=(0,P.mJ)((()=>this.__playbackPlugin.fragmentTime),(e=>{var t;if(null!==e&&"number"!=typeof e)null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.INVALID_FTS,"fts not a number")});else if("number"==typeof e&&0!==e){const t=e.toString().length;var n;if(t<10&&t>13)null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.INVALID_FTS,"fts invalid: ".concat(e,", frag name: ").concat(this.__providerPlugin.currentFragId))})}})),p=(0,P.mJ)((()=>this.__providerPlugin.activeQualityLevel),(e=>{var t;this.logUpDownQuality(e),null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.CHANGE_Q)})})),m=this.subscribePlaybackEvent(ii.p.volumeChange,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.CHANGE_V)})})),v=(0,P.mJ)((()=>this.__statisticWatchTime.tenSecPassed),(e=>{var t;e&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.TEN_SEC)}))})),_=this.subscribeAdvertEvent(Va.init,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.AD_INIT)})})),f=this.subscribeAdvertEvent(Va.adBlockerFound,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.A_BLOCKER_FOUND)})})),g=this.subscribeAdvertEvent(Va.request,(e=>{var t;null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.AD_REQUEST,void 0,{adProvider:e.provider})})})),b=this.subscribeAdvertEvent(Va.load,(()=>{var e,t;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.A_REQUEST)}),null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.AD_LOAD)})})),y=this.subscribeAdvertEvent(Va.startTriggered,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.AD_START_TRIGGERED)})})),E=this.subscribeAdvertEvent(Va.start,(()=>{var e,t;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.A_START)}),null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.AD_STARTED)})})),w=this.subscribeAdvertEvent(Va.alreadyStarted,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.AD_ALREADY_STARTED)})})),S=this.subscribeAdvertEvent(Va.earlyStartAttempt,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.AD_EARLY_START_ATTEMPT)})})),A=this.subscribeAdvertEvent(Va.end,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.A_END)})})),C=this.subscribeAdvertEvent(Va.error,(e=>{var t;const n=aO["AD_".concat(e.phase.toUpperCase(),"_ERROR")]||aO.AD_ERROR,{errorMessage:r}=e,i=(0,V.A)(e,uO);null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(n,e.errorMessage,e.errorMessage?i:void 0)})})),k=this.subscribeAdvertEvent(Va.initError,(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.A_INIT_ERROR)})})),I=this.subscribeAdvertEvent(Va.sdkLoadTimeout,(e=>{var t;null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.AD_SDK_LOAD_TIMEOUT,e.errorMessage)})})),T=this.subscribeAdvertEvent(Va.sdkLoadError,(e=>{var t;null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.AD_SDK_LOAD_ERROR,e.errorMessage)})})),x=(0,P.mJ)((()=>this.__errorPlugin.error),(e=>{var t;e&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.ERROR,e)}))})),R=(0,P.mJ)((()=>this.__providerPlugin.isProviderInit),(e=>{if(e){var t;const e=null===(t=this.__providerPlugin.provider)||void 0===t?void 0:t.instance;if("Hls"===this.__providerPlugin.type)return this.handleHlsError(e);if("Dash"===this.__providerPlugin.type)return this.handleDashError(e)}})),L=(0,P.mJ)((()=>this.__providerPlugin.isProviderInit),(e=>{if(e&&"Hls"===this.__providerPlugin.type){var t,n;const e=null===(t=this.__providerPlugin.provider)||void 0===t?void 0:t.instance;var r;if(null!==(n=this.__providerPlugin.provider)&&void 0!==n&&null!==(n=n.Hls)&&void 0!==n&&n.Events.FRAG_LOADED)e.on(null===(r=this.__providerPlugin.provider)||void 0===r||null===(r=r.Hls)||void 0===r?void 0:r.Events.FRAG_LOADED,this.handleFirstFragment.bind(this));return()=>{var t,n;null!==(t=this.__providerPlugin.provider)&&void 0!==t&&null!==(t=t.Hls)&&void 0!==t&&t.Events.FRAG_LOADED&&e.off(null===(n=this.__providerPlugin.provider)||void 0===n||null===(n=n.Hls)||void 0===n?void 0:n.Events.FRAG_LOADED,this.handleFirstFragment.bind(this))}}})),O=(0,P.mJ)((()=>this.__providerPlugin.isProviderInit),(e=>{var t;e&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.PROVIDER_INITED)}))})),N=(0,P.mJ)((()=>this.__providerPlugin.initError),(e=>{var t;e&&(console.warn(e),null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.PROVIDER_INIT_ERROR,e)}))})),M=(0,P.mJ)((()=>this.__playbackPlugin.ended),(e=>{var t;e&&(this.__playerStatus=oO.VIDEO_PLAYING_END,null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.END)}))})),D=(0,P.mJ)((()=>this.__playbackPlugin.player),(e=>(e&&(e.addEventListener("error",this.videoTagErrorHandler),e.addEventListener("loadstart",this.videoTagLoadStartHandler)),()=>{e.removeEventListener("loadstart",this.videoTagLoadStartHandler),e.removeEventListener("error",this.videoTagErrorHandler)}))),B=(0,P.mJ)((()=>({showLoader:this.__playbackPlugin.waiting,wasStarted:this.__playbackPlugin.wasStarted})),(e=>{var t;let{showLoader:n,wasStarted:r}=e;r&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(n?aO.SHOW_LOADER:aO.HIDE_LOADER)}))})),F=(0,P.mJ)((()=>({isPlayStarted:this.__isPlayStarted,showLoader:this.__playbackPlugin.waiting})),(e=>{let{isPlayStarted:t,showLoader:n}=e;var r;!this.__statisticWatchTime.tenSecPassed&&n&&t&&(null===(r=this.__counterHelper)||void 0===r||r.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.SHOW_LOADER_BEFORE_TEN_SEC)}))})),H=(0,P.mJ)((()=>({showLoader:this.__playbackPlugin.waiting,wasStarted:this.__playbackPlugin.wasStarted})),(e=>{let{showLoader:t,wasStarted:n}=e;if(n)if(t)this.__bufferingStartTime=Date.now();else if(this.__bufferingStartTime>0){var r;const e=Date.now()-this.__bufferingStartTime;var i;if(null===(r=this.__counterHelper)||void 0===r||r.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.BUFFERING_TIME,"",{time:e})}),this.__isStartupBuffering&&e>this.LONG_STARTUP_BUFFERING_THRESHOLD_MS)null===(i=this.__counterHelper)||void 0===i||i.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.LONG_STARTUP_BUFFERING_TIME)});this.__bufferingStartTime=0,this.__isStartupBuffering=!1}})),U=(0,P.mJ)((()=>this.__providerPlugin.cdnHost),((e,t)=>{var n;e&&t&&t!==e&&(null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.SWITCH_CDN,"host switched from ".concat(t," to ").concat(e))}))})),j=(0,P.mJ)((()=>({isFatalError:this.__providerPlugin.hasLoadError||this.__providerPlugin.initError})),(e=>{let{isFatalError:t}=e;var n;t&&(null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.FATAL_ERROR,"provider_issue_occurred")}))}));return()=>[t,e,n,r,i,o,a,s,d,l,p,u,c,m,v,f,_,b,E,y,w,S,A,C,k,g,I,T,x,R,M,D,O,N,F,L,B,H,U,j,h].forEach((e=>e()))}setLoggerStat(){return(0,P.h5)((()=>this.__statisticStore.statAdditional=[{count:1,delay:0,method:"get",name:"logger",start:0,url_template:lO()}])),()=>{this.__statisticStore.statAdditional=[]}}handlePlaying(e){var t,n;e?(this.__playerStatus=oO.VIDEO_PLAYING,this.__isPlayStarted&&(null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.UNPAUSE)}))):(this.__playerStatus=oO.VIDEO_PAUSE,null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.PAUSE)}))}handleFirstFragment(){var e;null!==(e=this.__playOptions)&&void 0!==e&&e.data&&(this.__firstFragmentCounter++,1!==this.__firstFragmentCounter&&(this.__firstFragmentEventSend||(this.__firstFragmentEventSend=!0,(0,P.z7)((()=>this.__playbackPlugin.readyState>=1),(()=>{var e;null===(e=this.__counterHelper)||void 0===e||e.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.FIRST_FRAGMENT)})})))))}handleBuffering(e){var t,n;(this.__playerStatus=oO.BUFFERING,e)?null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.BUFFERING_START)}):null===(n=this.__counterHelper)||void 0===n||n.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.BUFFERING_END)})}handleDashError(e){const t=e=>{var t;this.__playerStatus=oO.ERROR;const n=Rl(e);null===(t=this.__counterHelper)||void 0===t||t.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.ERROR,n)}),console.warn(n)};return e.on("error",t),()=>{e.off("error",t)}}handleHlsError(e){var t;const n=(e,t)=>{this.__playerStatus=t.fatal?oO.FATAL:void 0;let n="Unknown Error";var r;(t&&(n=t.details in Al?Al[t.details]:xl("".concat(t.type||"Unknown type"),"".concat(t.details||"Unknown Details"))),this._shouldSendEvent(n))&&(null===(r=this.__counterHelper)||void 0===r||r.get("mainLoggerSend")({queryParams:this.getLoggerParams(aO.ERROR,n)}));console.warn(n,this.__playerStatus)};var r;null!==(t=this.__providerPlugin.provider)&&void 0!==t&&null!==(t=t.Hls)&&void 0!==t&&t.Events.ERROR&&(null==e||e.on(null===(r=this.__providerPlugin.provider)||void 0===r||null===(r=r.Hls)||void 0===r?void 0:r.Events.ERROR,n));return()=>{var t,r;null!==(t=this.__providerPlugin.provider)&&void 0!==t&&null!==(t=t.Hls)&&void 0!==t&&t.Events.ERROR&&(null==e||e.off(null===(r=this.__providerPlugin.provider)||void 0===r||null===(r=r.Hls)||void 0===r?void 0:r.Events.ERROR,n))}}_getBandwidth(){var e;const t=null===(e=this.__providerPlugin.provider)||void 0===e||null===(e=e.instance)||void 0===e?void 0:e.bandwidthEstimate;return!t||Number.isNaN(t)?null:"function"==typeof t?t():t}_getAdvertParams(e,t){var n,r,i,o,a,s;if(!["a_request","a_start","a_end","a_init_error","ad_request","ad_load","ad_start_triggered","ad_started","ad_already_started","ad_start_on_change_state","ad_error","ad_load_error","ad_start_error","ad_playing_error"].includes(e))return{};const l=null===(n=this.__advertPlugin)||void 0===n?void 0:n.currentAdvert,u=(null==t?void 0:t.adProvider)||(null===(r=this.__advertPlugin)||void 0===r?void 0:r.currentProvider),c=(t&&"traceId"in t?t.traceId:null)||(null==u?void 0:u.traceId)||"";return{axurl:(null==u?void 0:u.url_template)||(null==l?void 0:l.url_template),aformat:null==l?void 0:l.name,owner_id:null==u?void 0:u.ownerId,campaign_id:null==u||null===(i=u.placeholders)||void 0===i?void 0:i.campaignId,ad_id:null==u||null===(o=u.placeholders)||void 0===o?void 0:o.advertId,rule_id:null===(a=this.__playOptions)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.meta.advert_rule_id,ads_request_id:(null===(s=this.__advertPlugin)||void 0===s?void 0:s.currentAdvertUid)||"",ad_traceid:c,ad_error_code:t&&"errorCode"in t?t.errorCode:""}}getVideoId(){var e;let t=this.__playerConfig.get("videoId");var n;t===(null===(e=this.__playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.id)||void 0===e?void 0:e.toString())&&(t=(null===(n=this.__playOptions)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.video_id)||"");return t}getLoggerParams(e,t,n){var i,o,a,s;const u=(null===(i=this.__playOptions)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.id)||"",c=this.__statisticValues.guid,d=this.__providerPlugin.autoQuality,h=null===(o=this.__stubStore.stub)||void 0===o?void 0:o.type,p=this.__videoLayout.playerMode,m=null===(a=this.__providerPlugin.provider)||void 0===a?void 0:a.instance,v="function"==typeof(null==m?void 0:m.levels)?m.levels():null==m?void 0:m.levels,_=(null==m?void 0:m.currentLevel)||0,f=null==v?void 0:v[_],{edge:g,dive:b}=rO(f),y=this.__playbackPlugin.currentTime?+(1e3*this.__playbackPlugin.currentTime).toFixed(0):void 0,E=this.__playbackPlugin.muted?0:(100*(this.__playbackPlugin.volume||0)).toFixed(0),w=this.__videoLayout.isFullScreen?"fm":iO[p||"default"],S=this._getAdvertParams(e,n&&"adProvider"in n?n:void 0),A=this._getBandwidth(),C=this.__playerConfig.get("ts"),k=(n&&"time"in n?n.time:void 0)||("number"==typeof C?Date.now()-C:this.__statisticWatchTime.watchTime),P=this.__statistics?this.__statistics.viewCount+1:0,I=this.__statisticStore.getCid(),T=(0,r.al)(window.location.href),x=T.hasOwnProperty("referer")?T.referer||"":(0,O.If)(),R=(0,l.A)({app:this.__app,ms:k,did:this.did,pid:c,sid:this.uuid,view_id:null===(s=this.__playOptions)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.view_id,uid:this.uid,ps:this.__playerStatus,e:e,referer:x,tl:y,video_id:this.getVideoId(),track_id:u.toString(),sm:w,qm:d?"auto":"manual",qw:f&&(null==f?void 0:f.width),qh:f&&(null==f?void 0:f.height),codec:null==f?void 0:f.videoCodec,v:E,l:h,tr:this.__providerPlugin.type||void 0,edge:g,dive:b,bw:A?Math.round(A):null,ver:this._playerVersion.value,em:t,passmediaid:this.passmediaid,vsid:this.__playerConfig.get("visitorId"),cid:I,cyc:P},S),L=Object.keys(R).filter((e=>!!R[e]||0===R[e])).reduce(((e,t)=>(e[t]=R[t],e)),{app:"raichu"}),N=Object.keys(L).reduce(((e,t)=>{var n,r;return e[t]=null!==(n=null===(r=L[t])||void 0===r?void 0:r.toString())&&void 0!==n?n:"",e}),{});return new URLSearchParams(N).toString()}get passmediaid(){return fo.getItem("passmediaid")||""}get uid(){return this.__playerConfig.get("userId")}get did(){return(0,e.kJ)()}get uuid(){return this.__statisticValues.uuid}subscribePlaybackEvent(e,t){return this.__playbackPlugin.on(e,t),()=>{this.__playbackPlugin.off(e,t)}}subscribeAdvertEvent(e,t){var n;return null===(n=this.__advertPlugin)||void 0===n||n.on(e,t),()=>{var n;null===(n=this.__advertPlugin)||void 0===n||n.off(e,t)}}}cO=mO,({e:[dO],c:[pO,hO]}=(0,k.A)(cO,[(0,I.k_)({implement:"ILoggerPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IProviderPlugin","IPlayback","IStatisticStore","IStatisticWatchTimePlugin","IStubPlugin","IVideoLayoutPlugin",{implement:"IAdvertPlugin",optional:!0},"IErrorPlugin","IPlayerConfigPlugin",{implement:"IStatisticState",optional:!0},"LoggerNamespace","IStatisticValues","PlayerVersion"]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),hO();var vO;let _O,fO,gO;class bO extends I.j8{constructor(e,t){super(),this.__playOptions=void _O(this),this.__onlineOffline=void 0,this.__error=P.sH.box(""),this.__playOptions=e,this.__onlineOffline=t,(0,P.Gn)(this,{error:P.EW})}init(){const e=(0,P.mJ)((()=>{var e;return null===(e=this.__onlineOffline)||void 0===e?void 0:e.isOnline}),(e=>{this.error=e?"":"Internet connection lost"})),t=(0,P.mJ)((()=>{var e;return null===(e=this.__playOptions)||void 0===e?void 0:e.data}),(e=>{var t;!e||!e.detail&&null!=e&&e.video_balancer?this.error="":this.error="playOptions return stub: ".concat(String(null==e||null===(t=e.detail)||void 0===t?void 0:t.name))})),n=(0,P.mJ)((()=>{var e,t;return{hasLoadError:null===(e=this.__playOptions)||void 0===e?void 0:e.hasLoadError,loadError:null===(t=this.__playOptions)||void 0===t?void 0:t.loadError}}),(e=>{let{hasLoadError:t,loadError:n}=e;this.error=t&&n?n:""}));return()=>[e,t,n].forEach((e=>e()))}get error(){return this.__error.get()}set error(e){this.__error.set(e)}}var yO,EO;let wO;vO=bO,({e:[_O],c:[gO,fO]}=(0,k.A)(vO,[(0,I.k_)({implement:"IErrorPlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},{implement:"IOnlineOfflinePlugin",optional:!0}]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),fO();class SO extends(yO=I.j8){constructor(){super(),this._messageTime=(wO(this),2500),this._timer=null,this._visible=P.sH.box(!1),this._queue=P.sH.array([]),this._defaultQueue=P.sH.box([]),this._hiddenMessages=P.sH.array([]),this._wasTemporarilyHidden=P.sH.box(!1),(0,P.Gn)(this,{visible:P.EW,defaultQueue:P.EW,queue:P.EW,removeMessage:P.XI,addMessage:P.XI,startQueue:P.XI,resetQueue:P.XI,startTimer:P.XI,hideTemporarily:P.XI,restoreHiddenMessages:P.XI,wasTemporarilyHidden:P.EW}),this.startQueue=this.startQueue.bind(this),this.resetQueue=this.resetQueue.bind(this),this.startTimer=this.startTimer.bind(this),this.removeMessage=this.removeMessage.bind(this),this.hideTemporarily=this.hideTemporarily.bind(this),this.restoreHiddenMessages=this.restoreHiddenMessages.bind(this)}init(){return(0,P.mJ)((()=>this.defaultQueue),(()=>{(0,P.h5)((()=>this._queue.replace([...this.defaultQueue,...this.queue])))}))}clear(){return()=>{this.clearTimer()}}clearTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}addMessage(e){let{message:t}=e;const n=this.queue.find((e=>e.id===t.id));n||this._queue.push(t)}removeMessage(){this._queue.length&&(this._queue.remove(this._queue[0]),this.visible=!!this._queue.length)}startQueue(){this.visible=!0}resetQueue(){this._queue.clear(),this.visible=!1,this.clearTimer()}hideMessage(){this.visible&&(this.visible=!1)}startTimer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._messageTime;this._timer=setTimeout((()=>{this.visible=!1}),e)}hideTemporarily(){this._queue.length>0&&(this._hiddenMessages.replace([...this._queue]),this.resetQueue(),this._wasTemporarilyHidden.set(!0),this.clearTimer())}restoreHiddenMessages(){this._hiddenMessages.length>0&&this._wasTemporarilyHidden.get()&&(this._queue.replace([...this._hiddenMessages]),this._hiddenMessages.clear(),this._wasTemporarilyHidden.set(!1),this._queue.length>0&&(this.visible=!0))}get queue(){return this._queue}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get defaultQueue(){return this._defaultQueue.get()}set defaultQueue(e){this._defaultQueue.set(e)}get wasTemporarilyHidden(){return this._wasTemporarilyHidden.get()}}var AO;let CO,kO;EO=SO,[wO]=(0,k.A)(EO,[],[[(0,I.o7)(),2,"init"],[(0,I.o7)(),2,"clear"]],0,void 0,yO).e;AO=class extends SO{},[kO,CO]=(0,k.A)(AO,[(0,I.k_)("IDisclaimersPlugin")],[],0,void 0,SO).c,CO();const PO="disclaimer-module__disclaimer___C_xho",IO="disclaimer-module__disclaimerDanger___ghE3y",TO="disclaimer-module__disclaimerSuccess___orKzg",xO="disclaimer-module__disclaimerWarning___jSzNA",RO=e=>{let{handleEnd:n,isShow:r,handleTextShowed:i,disclaimer:o,timeout:a=500}=e;const s=(0,t.useRef)(null),{text:l,id:u,type:c}=o;return t.createElement(dy,{appear:!0,in:r,nodeRef:s,timeout:a,key:u,onEntered:i,onExited:n,unmountOnExit:!0},t.createElement("div",{ref:s,className:er()(PO,{[IO]:"danger"===c,[TO]:"success"===c,[xO]:"warning"===c})},t.createElement(l,null)))},LO="disclaimer-module__disclaimer___pMtgq",OO="disclaimer-module__S___e30C5",NO=e=>{let{handleEnd:n,isShow:r,handleTextShowed:i,disclaimer:o,timeout:a=500}=e;const s=(0,t.useRef)(null),{isSmallPlayer:l}=(0,$a.a)(),{text:u,id:c}=o;return t.createElement(dy,{appear:!0,in:r,nodeRef:s,timeout:a,key:c,onEntered:i,onExited:n,unmountOnExit:!0},t.createElement("div",{ref:s,className:er()(LO,{[OO]:l})},t.createElement(u,null)))};var MO=a(2189);const DO=[{excludeOnAudio:!0,id:"ALCOHOL",key:"ALCOHOL",text:()=>t.createElement(t.Fragment,null,"Ð’Ð¸Ð´ÐµÐ¾ Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ ÑÑ†ÐµÐ½Ñ‹",t.createElement("br",null),"ÑƒÐ¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÐµÐ½Ð¸Ñ Ñ‚Ð°Ð±Ð°ÐºÐ°/Ð°Ð»ÐºÐ¾Ð³Ð¾Ð»Ñ"),type:"danger"},{excludeOnAudio:!0,id:"HEALTH",key:"HEALTH",text:()=>t.createElement(t.Fragment,null,"ÐÐ»ÐºÐ¾Ð³Ð¾Ð»ÑŒ Ð¸ Ð½Ð¸ÐºÐ¾Ñ‚Ð¸Ð½",t.createElement("br",null),"Ð²Ñ€ÐµÐ´ÑÑ‚ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑŽ"),type:"danger"},{excludeOnAudio:!1,id:"META",key:"META",text:()=>t.createElement(t.Fragment,null,"Facebook Ð¸ Instagram Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ñ‹ Ð² Ð Ð¤"),type:"info"}],BO={id:"ADVERT",text:()=>t.createElement(t.Fragment,null,"Ð ÐµÐºÐ»Ð°Ð¼Ð° Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ñ€ÑƒÂ Ð²Ð¸Ð´ÐµÐ¾ Ð·Ð°Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ"),type:"warning",excludeOnAudio:!0,key:"ADVERT"};const FO=(0,Jn.PA)((e=>{let{className:n,hasHealthDisclaimer:r,onFinish:i,isAudio:o=!1,disclaimerTimeout:a,isPartnerHint:s,changeDisclaimerHeight:l}=e;const u=(0,fr.Ks)("IDisclaimersPlugin"),{queue:c,visible:d,startTimer:h,removeMessage:p,isHideDefaultDisclaimers:m}=u,[v]=c,{getDataAttribute:_}=(0,wi.f)(),f=(0,t.useRef)(null);if((0,t.useEffect)((()=>{m||(u.defaultQueue=function(e){let{isAudio:t,hasHealthDisclaimer:n,isPartnerHint:r}=e;if(r)return[BO];if(t)return DO.filter((e=>!e.excludeOnAudio));let i=[...DO];return n||(i=i.filter((e=>"ALCOHOL"!==e.key&&"HEALTH"!==e.key))),i}({isAudio:o,hasHealthDisclaimer:r,isPartnerHint:s}))}),[r,o,u,m,s]),(0,t.useEffect)((()=>(u.startQueue(),()=>{u.resetQueue()})),[u]),(0,t.useEffect)((()=>{0===c.length&&(null==i||i())}),[c.length,i]),gm({target:null==f?void 0:f.current,callback:(0,t.useCallback)((e=>{var t,n;return null==l?void 0:l(null!==(t=null==e||null===(n=e.borderBoxSize)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.blockSize)&&void 0!==t?t:0)}),[l])}),(0,t.useEffect)((()=>{v||null==l||l(0)}),[l,v]),!v)return null;return t.createElement("div",(0,ai.A)({ref:e=>{e&&(f.current=e,null==l||l(e.offsetHeight))},className:n,"data-testid":"disclaimer-".concat(v.key)},(e=>"HEALTH"===e.key||"ALCOHOL"===e.key?_(Si.R.ALCOHOL):"META"===e.key?_(Si.R.META):{})(v)),null!==MO.o&&void 0!==MO.o&&MO.o.IsNewControls?t.createElement(NO,{isShow:d,handleTextShowed:()=>h(v.messageTime),handleEnd:p,disclaimer:v}):t.createElement(RO,{timeout:a,isShow:d,handleTextShowed:()=>h(v.messageTime),handleEnd:p,disclaimer:v}))})),HO=()=>{const e=(0,fr.Ks)("IDisclaimersPlugin");return e instanceof CN?e:null},VO="raichu-age-disclaimer-module__wrapper___vBhIm",UO=e=>{const{ageRating:n,timeOut:r=500,disclaimerShowTime:i=zi.id}=e,[o,a]=(0,t.useState)(!0),s=(0,t.useRef)(null),{getDataAttribute:l}=(0,wi.f)();if(null==n||n<0)return null;return t.createElement(dy,{appear:!0,in:o,nodeRef:s,timeout:r,onEntered:()=>{setTimeout((()=>{a(!1)}),i)},unmountOnExit:!0},t.createElement("div",(0,ai.A)({"data-testid":"age-disclaimer",ref:s,className:VO},l(Si.R.AGE_LIMIT_VIDEO)),n,"+"))},jO="age-disclaimer-module__container___G1Wsr",WO="age-disclaimer-module__withControls___BymaX",zO="age-disclaimer-module__touch___IyXJj",GO=(0,Jn.PA)((()=>{const e=HO(),n=(null==e?void 0:e.isShowHeader)&&(null==e?void 0:e.isEmbed)&&(null==e?void 0:e.isShowShare)||H.B.isMobile&&(null==e?void 0:e.isShowControls);return null===e?null:t.createElement("div",{className:er()(jO,{[zO]:H.B.isMobile,[WO]:n}),style:e.bannerHeight>0?{transform:"translateY(".concat(e.bannerHeight,"px)")}:void 0},t.createElement(UO,{ageRating:e.ageRating,disclaimerShowTime:e.disclaimerShowTime}))})),qO="unmute-button-module__unmuteButton____h41m",KO="unmute-button-module__isTouch___tgCbK",YO="unmute-button-module__animateFinished___eMzyx",XO="unmute-button-module__unmuteButtonText___W3qjS",QO=e=>{let{onAnimationFinished:n}=e;const r=(0,t.useRef)(null),{playback:i,counterHelper:o}=(0,pt.useControls)(),{muted:a,handleMuted:s}=i,[l,u]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=setTimeout((()=>{n()}),3150);return null==o||o.get("mainControlsUnmuteShow")(),()=>{clearTimeout(e)}}),[]);return t.createElement(dy,{appear:!0,in:a,nodeRef:r,timeout:zi.O5,unmountOnExit:!0},t.createElement("button",{ref:r,className:er()(qO,{[YO]:l,[KO]:H.B.isMobile}),style:{animationDelay:"".concat(3e3,"ms"),animationDuration:"".concat(150,"ms")},onClick:()=>{var e;s(),null==o||o.get("mainControlsUnmuteClick")(),null===(e=document.getElementById(Dp.v.RAICHU_CONTAINER_WITH_PLAYER))||void 0===e||e.focus({preventScroll:!0})},tabIndex:0,"aria-label":"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº",onAnimationEnd:()=>{H.B.isMobile||u(!0)}},t.createElement(gi.L,null),t.createElement("span",{className:XO},"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº")))},ZO=(0,Jn.PA)((()=>{const e=HO(),{isShowMobilePiPButton:n}=vm()||{},r=null==e?void 0:e.getCustomStyles(),i=null==e?void 0:e.autoPlayWithMute,o=null==e?void 0:e.isShowControls,[a,s]=(0,t.useState)(40),[l,u]=(0,t.useState)(!1),c=(null==e?void 0:e.isShowDisclaimers)&&!e.isFinished&&l,d=null==e?void 0:e.isShowUnmuteButton,h=d&&H.B.isMobile,p=n&&!d&&o,m=c||d,v=H.B.isMobile,_=()=>{u(!0)};if((0,t.useEffect)((()=>{"NotInitialized"!==i&&u(!h)}),[i,h]),(0,t.useEffect)((()=>{s(c?82:40)}),[c,d]),null===e)return null;const{hasBackButton:f,isEmbed:g,hasHealthDisclaimer:b,isShowHeader:y,timeout:E,isPartnerHint:w}=e;return t.createElement(t.Fragment,null,m&&t.createElement("div",{className:er()(null==r?void 0:r.notifications,d?"":null==r?void 0:r.noUnmute,y?null==r?void 0:r.isShowHeader:"",f&&(null==r?void 0:r.withBackButton)||"",v?null==r?void 0:r.isTouchScreen:"",o&&g?"":null==r?void 0:r.isControlsHidden,p?null==r?void 0:r.withMiniControl:""),style:{minHeight:v?"auto":a,height:v?"auto":a}},d&&!v&&t.createElement(QO,{onAnimationFinished:_}),c&&t.createElement("div",{className:er()(null==r?void 0:r.disclaimers,v?null==r?void 0:r.mobile:"")},t.createElement(FO,{disclaimerTimeout:E,onFinish:()=>{null==e||e.handleFinished(!0)},hasHealthDisclaimer:b,isPartnerHint:w})),d&&v&&t.createElement(QO,{onAnimationFinished:_})),c&&t.createElement(GO,null))})),JO={notifications:"notifications-module__notifications___yAumc",isShowHeader:"notifications-module__isShowHeader___myCv2",isTouchScreen:"notifications-module__isTouchScreen___joUud",noUnmute:"notifications-module__noUnmute___kP3Nt",isControlsHidden:"notifications-module__isControlsHidden___csNVr",withMiniControl:"notifications-module__withMiniControl___wvjeW",withBackButton:"notifications-module__withBackButton___ZaGeH",disclaimers:"notifications-module__disclaimers___nAitu",mobile:"notifications-module__mobile___SKiqO"},$O="raichu-age-disclaimer-module__badge___Lqdkp",eN="raichu-age-disclaimer-module__L___K0Mdo",tN=e=>{const{ageRating:n,timeOut:r=500,disclaimerShowTime:i=zi.id}=e,[o,a]=(0,t.useState)(!0),s=(0,t.useRef)(null),{getDataAttribute:l}=(0,wi.f)(),{isSmallPlayer:u}=(0,$a.a)();if(null==n||n<0)return null;return t.createElement(dy,{appear:!0,in:o,nodeRef:s,timeout:r,onEntered:()=>{const e=setTimeout((()=>a(!1)),i);return()=>clearTimeout(e)},unmountOnExit:!0},t.createElement(cT.E,(0,ai.A)({className:er()($O,{[eN]:!u}),size:u?"m":"l",variant:"secondary-blur",ref:s},l(Si.R.AGE_LIMIT_VIDEO)),n,"+"))},nN="notifications-module__notifications___w7BUe",rN="notifications-module__leftColumn___UWMd7",iN="notifications-module__ageWrapper___zT8Dz",oN="notifications-module__mobile___tjR_p",aN="notifications-module__disclaimerWrapper___Fp6_y",sN="notifications-module__embed___zAfiF",lN="notifications-module__offset___BwWWI",uN="notifications-module__animated___t171t",cN="notifications-module__hidden___IXY7k";var dN=a(9826);const hN="unmute-button-module__unmuteButton___Kekii",pN="unmute-button-module__isTouch___MVoi8",mN="unmute-button-module__animateFinished___wFkYK",vN="unmute-button-module__unmuteButtonText___SyXOR",_N="unmute-button-module__icon___ZwQWF",fN=e=>{let{onAnimationFinished:n}=e;const r=(0,t.useRef)(null),{playback:i,counterHelper:o}=(0,pt.useControls)(),{muted:a,handleMuted:s}=i,[l,u]=(0,t.useState)(!1),c=(0,t.useCallback)((()=>{H.B.isMobile||u(!0)}),[u]);(0,t.useEffect)((()=>{const e=setTimeout((()=>{null==n||n()}),3150);return null==o||o.get("mainControlsUnmuteShow")(),()=>{clearTimeout(e)}}),[]);return t.createElement(dy,{appear:!0,in:a,nodeRef:r,timeout:zi.O5,unmountOnExit:!0},t.createElement("button",{ref:r,className:er()(hN,{[mN]:l,[pN]:H.B.isMobile}),style:{animationDelay:"".concat(3e3,"ms"),animationDuration:"".concat(150,"ms")},onClick:()=>{var e;s(),null==o||o.get("mainControlsUnmuteClick")(),null===(e=document.getElementById(Dp.v.RAICHU_CONTAINER_WITH_PLAYER))||void 0===e||e.focus({preventScroll:!0})},tabIndex:0,"aria-label":"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº",onAnimationEnd:c},t.createElement(dN.v,{className:_N}),t.createElement("span",{className:vN},"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº")))},gN=(0,Jn.PA)((()=>{const e=HO(),{isHeaderVisible:n,isTopControlsVisible:r,isEmbed:i,headerHeight:o}=Fp(),{isShowMobilePiPButton:a}=vm()||{},[s,l]=(0,t.useState)(0),[u,c]=(0,t.useState)(!1),d=(null==e?void 0:e.isShowDisclaimers)&&!e.isFinished,h=null==e?void 0:e.isShowUnmuteButton,p=H.B.isMobile,m=d||h,v=p&&!i,{hasHealthDisclaimer:_,timeout:f,isPartnerHint:g,ageRating:b,bannerHeight:y}=e||{},E=0!==s,w=h&&(!E||!p),S=((e,t)=>H.B.isMobile?e?e+12:t:e?e+12-t:0)(null!=y?y:0,n?o:0),A=(0,t.useCallback)((e=>{0===s&&0!==e&&requestAnimationFrame((()=>c(!0))),l(e)}),[s]);return(0,t.useEffect)((()=>{null!=e&&e.isPartnerHint&&(null==e||e.handleFinished(!1))}),[e]),null!==e&&m?t.createElement("div",{className:nN},t.createElement("div",{className:rN},t.createElement("div",{className:er()(aN,{[sN]:i,[oN]:p,[lN]:v&&n&&r&&a,[cN]:!E,[uN]:u}),style:{height:"".concat(s,"px")}},t.createElement(FO,{disclaimerTimeout:f,onFinish:()=>{null==e||e.handleFinished(!0)},hasHealthDisclaimer:Boolean(_),isPartnerHint:g,changeDisclaimerHeight:A})),w&&t.createElement(fN,null)),t.createElement("div",{className:er()(iN,{[oN]:p}),style:{"--vertical-offset":"".concat(S,"px")}},t.createElement(tN,{ageRating:b,disclaimerShowTime:e.disclaimerShowTime}))):null}));var bN,yN,EN;let wN,SN,AN,CN,kN;bN=class extends kO{static get Notifications(){return null!==pt.ControlsPlugin&&void 0!==pt.ControlsPlugin&&pt.ControlsPlugin.IsNewControls?gN:ZO}constructor(e,t,n,r,i,o,a,s,l,u,c){if(super(),this.__data=void wN(this),this.__options=void 0,this.__playback=void 0,this.__captions=void 0,this.__controls=void 0,this.__videoLayout=void 0,this.__shareState=void 0,this.__preview=void 0,this.__commBanner=void 0,this._isHideDefaultDisclaimers=P.sH.box(!1),this.__advert=void 0,this.__hasPartnerHint=P.sH.box(!1),this._isFinished=P.sH.box(!1),this.activities=c,!t)throw new Error("No options provided [IDisclaimersPluginOptions]");this.__data=e,this.__options=t.value,this.__playback=n,this.__captions=r,this.__controls=i,this.__videoLayout=o,this.__shareState=a,this.__preview=s,this.__commBanner=l,this.__advert=u,(0,P.Gn)(this,{isPartnerHint:P.EW,timeout:P.EW,hasPartnerHint:P.EW,isFinished:P.EW,isHideDefaultDisclaimers:P.EW,handleFinished:P.XI})}initPlugin(){return(0,P.mJ)((()=>{var e;return null===(e=this.__captions)||void 0===e?void 0:e.isShowCaptions}),(e=>{var n;if(e&&null!==(n=this.__captions)&&void 0!==n&&null!==(n=n.activeCaption)&&void 0!==n&&n.is_autogenerated&&(this.addMessage({message:{type:"success",id:"CAPTION",key:"CAPTION",text:()=>t.createElement(t.Fragment,null,"Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹ ÑÐ¾Ð·Ð´Ð°Ð½Ñ‹ Ð¸ÑÐºÑƒÑÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¼ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚Ð¾Ð¼.",t.createElement("br",null),"ÐœÐ¾Ð³ÑƒÑ‚ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ â€” Ð˜Ð˜ ÐµÑ‰Ñ‘ ÑƒÑ‡Ð¸Ñ‚ÑÑ"),excludeOnAudio:!1}}),this.visible=!0),!e){const[e]=this.queue;"CAPTION"===(null==e?void 0:e.id)&&(this.clearTimer(),this.removeMessage())}}),{fireImmediately:!0})}initVisible(){return(0,P.mJ)((()=>this.visible),(e=>{(0,P.h5)((()=>this.__videoLayout.isDisclaimersVisible=e))}),{fireImmediately:!0})}initAdvertStateTracking(){return(0,P.mJ)((()=>this.__videoLayout.isShowDisclaimers),((e,t)=>{!t&&e&&this.wasTemporarilyHidden?this.restoreHiddenMessages():t&&!e&&this.queue.length>0&&this.hideTemporarily()}),{fireImmediately:!1})}initPartnerHint(){return(0,P.mJ)((()=>["midroll","postroll","midpostroll"].some((e=>{var t;return null===(t=this.__advert)||void 0===t||null===(t=t.currentAdvert)||void 0===t?void 0:t.name.includes(e)}))),(e=>{(0,P.h5)((()=>{var t;return this.hasPartnerHint=Boolean(e&&(null===(t=this.activities)||void 0===t?void 0:t.hasPartnerHint))}))}))}initResetFinishedOnPartnerHint(){return(0,P.mJ)((()=>this.isPartnerHint),(e=>{this.isFinished=!e}))}initIsFinished(){return(0,P.mJ)((()=>this.__playback.ended),(e=>{e&&(this.isFinished=!1)}))}initChangeVideo(){return(0,P.mJ)((()=>this.__playback.currentVideoId),(()=>{this.isFinished=!1}))}get hasHealthDisclaimer(){return this.__data.hasHealthDisclaimer}get ageRating(){var e;return null===(e=this.__options)||void 0===e?void 0:e.ageRating}get disclaimerShowTime(){return zi.id}get autoPlayWithMute(){return this.__playback.autoPlayWithMute}get isShowControls(){return this.__controls.isShowControls}get isShowHeader(){return!(this.__playback.seeking||this.isShowPreview&&H.B.isMobile||this.__controls.isControlsForcedHidden)&&(this.__videoLayout.isShowHeader&&this.__videoLayout.showTitle&&this.isShowControls)}get isEmbed(){return this.__controls.isEmbed}get isShowUnmuteButton(){return!this.__controls.isControlsForcedHidden&&"Enabled"===this.autoPlayWithMute}get hasBackButton(){return this.__videoLayout.hasBackButton}get isShowShare(){var e;return Boolean(null===(e=this.__shareState)||void 0===e?void 0:e.isShowingShareBtn)}get bannerHeight(){var e;return(null===(e=this.__commBanner)||void 0===e?void 0:e.bannerHeight)||0}get isShowPreview(){var e;return null===(e=this.__preview)||void 0===e?void 0:e.isShowPreview}get isShowDisclaimers(){return this.__videoLayout.isShowDisclaimers}get hasPartnerHint(){return this.__hasPartnerHint.get()}set hasPartnerHint(e){this.__hasPartnerHint.set(e)}get isPartnerHint(){var e;return this.hasPartnerHint&&(null===(e=this.__advert)||void 0===e?void 0:e.isShowAdvertTimer)}get timeout(){return this.isPartnerHint?5e3:void 0}notificationStyles(){return JO}getCustomStyles(){return this.notificationStyles()}get isHideDefaultDisclaimers(){return this._isHideDefaultDisclaimers.get()}set isFinished(e){this._isFinished.set(e)}get isFinished(){return this._isFinished.get()}handleFinished(e){this.isFinished=e}},({e:[wN],c:[CN,SN]}=(0,k.A)(bN,[(0,I.k_)({implement:"IDisclaimersPlugin",ctor_args:["IDataPlugin",{implement:"IDisclaimersPluginOptions",optional:!0},"IPlayback",{implement:"ICaptionsPlugin",optional:!0},"IControlsPlugin","IVideoLayoutPlugin",{implement:"ISharePlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"ICommunicationBannerPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[[(0,I.o7)(),2,"initPlugin"],[(0,I.o7)(),2,"initVisible"],[(0,I.o7)(),2,"initAdvertStateTracking"],[(0,I.o7)(),2,"initPartnerHint"],[(0,I.o7)(),2,"initResetFinishedOnPartnerHint"],[(0,I.o7)(),2,"initIsFinished"],[(0,I.o7)(),2,"initChangeVideo"],[I.zm,2,"handleFinished"]],0,void 0,kO)),SN();class PN extends(yN=CN){constructor(e,t,n,r,i,o,a,s,l,u){super(e,(0,I.Yk)()(e),t,n,r,i,o,a,s,l,u)}}function IN(){return(0,fr.Ks)("IChannelSubscriptionPlugin")}EN=PN,[kN,AN]=(0,k.A)(EN,[(0,I.k_)({implement:"IDisclaimersPlugin",ctor_args:["IDataPlugin","IPlayback",{implement:"ICaptionsPlugin",optional:!0},"IControlsPlugin","IVideoLayoutPlugin",{implement:"ISharePlugin",optional:!0},{implement:"IPreviewPlugin",optional:!0},{implement:"ICommunicationBannerPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[],0,void 0,yN).c,AN();const TN=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M14.699 16.444h4.375l-1.23-1.248a1.808 1.808 0 0 1-.52-1.278v-2.807c0-1.103-.337-2.18-.963-3.08a5.261 5.261 0 0 0-2.537-1.95v-.303c0-.472-.184-.924-.513-1.257A1.736 1.736 0 0 0 12.074 4c-.464 0-.91.187-1.238.52a1.792 1.792 0 0 0-.512 1.258v.303c-2.039.732-3.5 2.708-3.5 5.03v2.808c0 .478-.187.938-.52 1.276l-1.23 1.25h9.625Zm-5.25 0h5.25-5.25Z",fill:n}),t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.393 4.084a2.358 2.358 0 0 1 1.68-.706 2.36 2.36 0 0 1 1.682.706c.416.423.66.985.688 1.576a5.892 5.892 0 0 1 2.428 2.016 6.016 6.016 0 0 1 1.075 3.435v2.807a1.21 1.21 0 0 0 .342.841l1.23 1.249a.622.622 0 0 1 .13.677c-.097.231-.323.315-.574.315h-14c-.25 0-.477-.084-.574-.315a.622.622 0 0 1 .13-.677l1.23-1.249c.218-.221.342-.524.342-.84v-2.808A5.962 5.962 0 0 1 9.704 5.66c.03-.59.273-1.153.689-1.576Zm7.195 11.738-.187-.19a2.432 2.432 0 0 1-.7-1.714v-2.807a4.77 4.77 0 0 0-.851-2.725 4.64 4.64 0 0 0-2.237-1.72.622.622 0 0 1-.411-.585v-.303c0-.31-.121-.605-.334-.82a1.114 1.114 0 0 0-.794-.336c-.296 0-.582.12-.794.335a1.17 1.17 0 0 0-.334.82v.304a.622.622 0 0 1-.412.585c-1.795.645-3.088 2.389-3.088 4.445v2.808c0 .64-.25 1.257-.7 1.713l-.187.19h11.03Z",fill:n}),t.createElement("path",{d:"M9 18h6a2.5 2.5 0 0 1-2.5 2.5h-1A2.5 2.5 0 0 1 9 18Z",fill:n}),t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.467 4.68a.622.622 0 0 1 .853-.214c1.313.788 2.167 1.616 2.674 2.63.503 1.006.628 2.122.628 3.404a.622.622 0 1 1-1.244 0c0-1.218-.125-2.102-.497-2.847-.367-.735-1.014-1.407-2.201-2.12a.622.622 0 0 1-.213-.853Zm-8.934 0a.622.622 0 0 1-.213.854c-1.187.712-1.834 1.384-2.201 2.12-.372.744-.497 1.628-.497 2.846a.622.622 0 1 1-1.244 0c0-1.282.125-2.398.628-3.403.507-1.015 1.361-1.843 2.674-2.63a.622.622 0 0 1 .853.213Z",fill:n}))},xN=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.372 5.902a.622.622 0 0 1 .87-.127l14.876 11.09a.622.622 0 1 1-.744.998L4.5 6.773a.622.622 0 0 1-.127-.87Z",fill:n}),t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 3.378c-.632 0-1.237.255-1.68.706-.417.423-.66.985-.69 1.576a5.86 5.86 0 0 0-1.351.844l1.034.77c.35-.254.735-.46 1.147-.608a.622.622 0 0 0 .412-.585v-.303c0-.31.121-.605.334-.82a1.109 1.109 0 0 1 1.588-.001c.213.216.334.511.334.82v.304a.62.62 0 0 0 .412.585 4.64 4.64 0 0 1 2.236 1.72c.554.796.852 1.748.852 2.725v1.618l1.244.928V11.11c0-1.23-.375-2.43-1.075-3.435A5.892 5.892 0 0 0 14.37 5.66a2.413 2.413 0 0 0-.688-1.576A2.358 2.358 0 0 0 12 3.378Zm7.619 13.133-2.96-2.207a2.452 2.452 0 0 0 .668 1.328l.187.19H6.486l.187-.19c.449-.456.7-1.073.7-1.713v-2.808c0-1.124.386-2.154 1.029-2.963l-.998-.744a5.985 5.985 0 0 0-1.276 3.707v2.808c0 .316-.124.619-.342.84l-1.23 1.249A.622.622 0 0 0 5 17.067h3.753v.266c0 .87.34 1.705.947 2.322a3.227 3.227 0 0 0 2.3.967 3.23 3.23 0 0 0 2.3-.967 3.31 3.31 0 0 0 .947-2.322v-.266H19a.622.622 0 0 0 .619-.556Zm-9.622.822v-.266h4.006v.266a2.07 2.07 0 0 1-.59 1.45 1.983 1.983 0 0 1-1.413.595 1.982 1.982 0 0 1-1.413-.596 2.066 2.066 0 0 1-.59-1.449Z",fill:n}))},RN=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.0602 15.4398C12.3032 15.6828 12.6971 15.6828 12.9401 15.4398L18.9401 9.43983C19.1831 9.19683 19.1831 8.80286 18.9401 8.55987C18.6971 8.31688 18.3032 8.31688 18.0602 8.55987L12.5002 14.1199L6.94013 8.55987C6.69714 8.31688 6.30317 8.31688 6.06017 8.55987C5.81718 8.80286 5.81718 9.19683 6.06017 9.43983L12.0602 15.4398Z",fill:n}))},LN=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3193 4.08435C10.7634 3.63321 11.3678 3.37793 12.0002 3.37793C12.6325 3.37793 13.2369 3.63321 13.681 4.08435C14.0972 4.50716 14.3409 5.06944 14.3695 5.66019C15.3425 6.09553 16.1825 6.79157 16.7977 7.67579C17.4975 8.68151 17.8725 9.88174 17.8724 11.1113C17.8724 11.1112 17.8724 11.1113 17.8724 11.1113V13.9184C17.8724 14.0752 17.9028 14.2304 17.9616 14.3748C18.0205 14.5191 18.1065 14.6497 18.2142 14.7592C18.2142 14.7592 18.2142 14.7592 18.2142 14.7592L19.4436 16.0081C19.6195 16.1868 19.671 16.4537 19.5741 16.685C19.4772 16.9163 19.2509 17.0668 19.0002 17.0668H15.2474V17.3335C15.2474 18.2026 14.9076 19.0381 14.2998 19.6556C13.6916 20.2734 12.8646 20.6224 12.0002 20.6224C11.1358 20.6224 10.3088 20.2734 9.70059 19.6556C9.09272 19.0381 8.75295 18.2026 8.75295 17.3335V17.0668H5.00017C4.7494 17.0668 4.52313 16.9163 4.42625 16.685C4.32937 16.4537 4.38082 16.1868 4.55674 16.0081L5.78612 14.7592C6.00392 14.5379 6.12795 14.2356 6.12795 13.9193V11.1113C6.12795 8.68107 7.56492 6.58554 9.6308 5.66026C9.65945 5.06948 9.90309 4.50717 10.3193 4.08435ZM9.99739 17.0668V17.3335C9.99739 17.8788 10.2107 18.3999 10.5874 18.7826C10.9638 19.165 11.4722 19.3779 12.0002 19.3779C12.5281 19.3779 13.0365 19.165 13.4129 18.7826C13.7896 18.3999 14.0029 17.8788 14.0029 17.3335V17.0668H9.99739ZM17.5146 15.8224L17.3274 15.6322C17.105 15.4062 16.929 15.1385 16.8092 14.8445C16.6894 14.5506 16.6279 14.2359 16.6279 13.9184C16.6279 13.9183 16.6279 13.9184 16.6279 13.9184V11.1113C16.6281 10.1345 16.3301 9.18249 15.7762 8.38654C15.2225 7.59072 14.4407 6.99045 13.5397 6.66659C13.2927 6.5778 13.1279 6.34354 13.1279 6.08104V5.77793C13.1279 5.46832 13.0068 5.17333 12.7942 4.95735C12.5819 4.7417 12.2961 4.62237 12.0002 4.62237C11.7043 4.62237 11.4184 4.7417 11.2062 4.95735C10.9936 5.17333 10.8724 5.46832 10.8724 5.77793V6.08104C10.8724 6.34357 10.7076 6.57786 10.4605 6.66662C8.6658 7.3114 7.37239 9.05526 7.37239 11.1113V13.9193C7.37239 14.5594 7.12192 15.1761 6.67297 15.6322L6.48578 15.8224H17.5146Z",fill:n}))},ON=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.37521 5.17519C7.97116 4.57925 8.77944 4.24444 9.62223 4.24444C10.465 4.24444 11.2733 4.57925 11.8693 5.17519C12.4652 5.77114 12.8 6.57942 12.8 7.42222C12.8 8.26502 12.4652 9.0733 11.8693 9.66925C11.2733 10.2652 10.465 10.6 9.62223 10.6C8.77944 10.6 7.97116 10.2652 7.37521 9.66925C6.77926 9.0733 6.44446 8.26502 6.44446 7.42222C6.44446 6.57942 6.77926 5.77114 7.37521 5.17519ZM9.62223 3C8.44939 3 7.32458 3.46591 6.49525 4.29524C5.66592 5.12457 5.20001 6.24938 5.20001 7.42222C5.20001 8.59507 5.66592 9.71988 6.49525 10.5492C7.32458 11.3785 8.44939 11.8444 9.62223 11.8444C10.7951 11.8444 11.9199 11.3785 12.7492 10.5492C13.5785 9.71988 14.0445 8.59507 14.0445 7.42222C14.0445 6.24938 13.5785 5.12457 12.7492 4.29524C11.9199 3.46591 10.7951 3 9.62223 3ZM9.62222 13C7.8659 13 6.18151 13.6977 4.9396 14.9396C3.6977 16.1815 3 17.8659 3 19.6222C3 19.7872 3.06556 19.9455 3.18224 20.0622C3.29893 20.1789 3.4572 20.2444 3.62222 20.2444H15.6222C15.9659 20.2444 16.2444 19.9659 16.2444 19.6222C16.2444 17.8659 15.5467 16.1815 14.3048 14.9396C13.0629 13.6977 11.3785 13 9.62222 13ZM5.81956 15.8196C6.82809 14.811 8.19595 14.2444 9.62222 14.2444C11.0485 14.2444 12.4164 14.811 13.4249 15.8196C14.2856 16.6803 14.8245 17.8028 14.9639 19H4.28054C4.41996 17.8028 4.9588 16.6803 5.81956 15.8196Z",fill:n}),t.createElement("path",{d:"M16.0169 12.6908C15.758 12.9496 15.758 13.3693 16.0169 13.6281C16.2757 13.887 16.6954 13.887 16.9542 13.6281L18.8225 11.7599L20.6913 13.6286C20.9501 13.8875 21.3698 13.8875 21.6286 13.6286C21.8875 13.3698 21.8875 12.9501 21.6286 12.6913L19.7598 10.8225L21.6286 8.95374C21.8875 8.6949 21.8875 8.27524 21.6286 8.0164C21.3698 7.75756 20.9501 7.75756 20.6913 8.0164L18.8225 9.88517L16.9542 8.0169C16.6954 7.75806 16.2757 7.75806 16.0169 8.0169C15.758 8.27574 15.758 8.6954 16.0169 8.95424L17.8852 10.8225L16.0169 12.6908Z",fill:n}))},NN="channel-subscription-button-module__popper___oCBxq",MN="channel-subscription-button-module__button___P5kXf",DN="channel-subscription-button-module__subscribed___rrr8x",BN="channel-subscription-button-module__text___Vpca3",FN="channel-subscription-button-module__panel___FY60T",HN="channel-subscription-button-module__list___eWYJd",VN="channel-subscription-button-module__listItem___DkZM0",UN="channel-subscription-button-module__switcher___X3s4H",jN="channel-subscription-button-module__listItemIcon___O7HLR",WN="channel-subscription-button-module__listItemTitle___u5f6J",zN=(0,Jn.PA)((e=>{let{isUserSubscribed:n,onSubscribe:r,onShowOptions:i,onHideOptions:o,onChangeNotificationType:a,isShowOptions:s,size:l,coordinates:u,userSubscriptionData:c}=e;const d=(0,Fr._)(),h=(0,t.useMemo)((()=>({placement:"top",modifiers:[{name:"offset",options:{offset:[0,4]}},{name:"preventOverflow",options:{boundary:d||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[d]),p="all"===(null==c?void 0:c.type);return t.createElement(oL,{className:NN,popperOptions:h,portal:!1,visible:s,hidePanel:o,renderButton:e=>t.createElement("button",{ref:e,onClick:n?i:r,className:er()(MN,{[DN]:n}),"aria-label":n?"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÑƒ Ð½Ð° ÐºÐ°Ð½Ð°Ð»":"ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ Ð½Ð° ÐºÐ°Ð½Ð°Ð»"},n?t.createElement(t.Fragment,null,p?t.createElement(TN,null):t.createElement(xN,null),t.createElement("span",{className:BN},"Ð’Ñ‹ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ°Ð½Ñ‹"),t.createElement(RN,{color:"#A7B4C4"})):t.createElement("span",{className:BN},"ÐŸÐ¾Ð´Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ")),renderPanel:()=>t.createElement("div",{className:FN},t.createElement("div",{className:HN},t.createElement("button",{className:VN,onClick:a},t.createElement("span",{className:jN},t.createElement(LN,null)),t.createElement("span",{className:WN},"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ"),t.createElement(mr,{classNames:{placement:p?"":UN},size:pr.SMALL,onChange:a,isActive:p})),t.createElement("button",{className:VN,onClick:r},t.createElement("span",{className:jN},t.createElement(ON,null)),t.createElement("span",{className:WN},"ÐžÑ‚Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ")))),size:l,coordinates:u})})),GN="channel-subscription-module__wrapper___EED70",qN="channel-subscription-module__embed___jtAe3",KN="channel-subscription-module__hidden___jBe0p",YN="channel-subscription-module__fullscreen___fV1oV",XN="channel-subscription-module__inactive___IMEKX",QN="channel-subscription-module__overlay___Mi4SA",ZN="channel-subscription-module__logo___q6gya",JN="channel-subscription-module__logoImg___LovHl",$N="channel-subscription-module__popup___CJM1M",eM="channel-subscription-module__popupShow___b4mw9",tM="channel-subscription-module__optionsShow___hOXDG",nM="channel-subscription-module__header___ZvO0r",rM="channel-subscription-module__body___hqF0V",iM=(0,Jn.PA)((()=>{var e;const n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=IN(),{size:o,isMobile:a,coordinates:s,subscribeClick:l,isFullscreen:u,counterHelper:c,subscribeData:d,isUserOwnChannel:h,userSubscriptionData:p,hideOptions:m,toggleOptions:v,isShowOptions:_,isShowSubscribe:f,isUserSubscribed:g,isSubscriptionHidden:b,changeNotificationType:y,isShowSubscriptionPopup:E,inactive:w,isEmbed:S,avatarPosition:A}=i,C=(0,pt.useControls)(),{getAuthorUrl:k}=Fp(),P=(0,t.useMemo)((()=>{const{type:e,id:t}=d;return"tv"===e?"".concat(zi.V2,"/metainfo/tv/").concat(String(t),"/"):k("channel")}),[k,d]),{startAutoHideTimer:I,clearAutoHideTimer:T}=(()=>{const e=(0,t.useRef)(null),n=IN();return{startAutoHideTimer:(0,t.useCallback)((()=>{e.current=setTimeout((()=>{n.isShowSubscriptionPopup=!1}),2e3)}),[n]),clearAutoHideTimer:(0,t.useCallback)((()=>{e.current&&(clearTimeout(e.current),e.current=null)}),[])}})();if((0,t.useEffect)((()=>{f&&(null==c||c.get("mainChannelSubscriptionShow")())}),[f,c]),!f||h)return null;const x=()=>{n.current&&(clearTimeout(n.current),n.current=null),i.isShowSubscriptionPopup=!1,C.preventHideControls=!1};return t.createElement("div",(0,ai.A)({className:er()(GN,{[qN]:S,[KN]:b,[YN]:!pt.ControlsPlugin.IsNewControls&&u,[XN]:S&&w}),style:{"--avatar-bottom":"".concat(A,"px")},onMouseEnter:a?void 0:()=>{n.current=setTimeout((()=>{i.isShowSubscriptionPopup=!0,C.preventHideControls=!0}),200)},onMouseLeave:a||_?void 0:x,ref:r},Em.aQ,Em.ED),a&&E&&t.createElement("div",{onClick:x,className:QN}),t.createElement("a",{onTouchEnd:a?e=>{e.preventDefault(),i.isShowSubscriptionPopup=!E,S&&(T(),E||I())}:void 0,className:ZN,href:P,target:"_blank",rel:"noreferrer","aria-label":"Ð›Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿ ÐºÐ°Ð½Ð°Ð»Ð°"},t.createElement("img",{alt:"Ð›Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿ ÐºÐ°Ð½Ð°Ð»Ð°",className:JN,src:d.avatar||zi.k_})),t.createElement("div",{className:er()($N,{[eM]:E,[tM]:_}),"aria-live":"polite"},t.createElement("div",{className:nM},null!==(e=d.name)&&void 0!==e?e:""),t.createElement("div",{className:rM},t.createElement(zN,{size:o,isMobile:a,coordinates:s,isShowOptions:_,isUserSubscribed:g,onSubscribe:()=>{d.id&&l(d.id,d.type)},onShowOptions:v,onHideOptions:m,onChangeNotificationType:()=>{const e="all"===p.type;d.id&&y(d.id,e?"without":"all")},userSubscriptionData:p}))))}));var oM,aM;let sM,lM;let uM;class cM extends(oM=I.j8){static get ChannelSubscription(){return iM}constructor(e,t,n,r,i,o,a,s,l,u,c){super(),this._counterHelper=void sM(this),this._isEmbed=void 0,this._justSubscribed=P.sH.box(!1),this._isShowOptions=P.sH.box(!1),this._playOptions=e,this._controls=t,this._advert=n,this._pauseScreen=r,this._fullscreen=i,this._config=o,this._playerSize=a,this._playback=s,this._activities=l,this._counterHelper=u&&u instanceof ol?u.counterHelper:void 0,this._isEmbed=c.value,(0,P.Gn)(this,{justSubscribed:P.EW,isShowOptions:P.EW})}initHideOptions(){return(0,P.mJ)((()=>this._controls.isShowControls),(e=>{e||(this.isShowOptions=!1,this.isShowSubscriptionPopup=!1)}))}get subscribeData(){var e;return null!==(e=this._playOptions)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&null!==(e=e.tv)&&void 0!==e&&e.id?this.tvSubscribeData:this.authorSubscribeData}get tvSubscribeData(){var e,t,n;return{id:null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.tv)||void 0===e?void 0:e.id,name:null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.tv)||void 0===t?void 0:t.name,avatar:null===(n=this._playOptions)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.tv)||void 0===n||null===(n=n.appearance)||void 0===n?void 0:n.avatar_image,type:"tv"}}get authorSubscribeData(){var e,t,n;return{id:null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.author)||void 0===e?void 0:e.id,name:null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.author)||void 0===t?void 0:t.name,avatar:null===(n=this._playOptions)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.author)||void 0===n?void 0:n.avatar_url,type:"userchannel"}}get userSubscriptionData(){return this._config.get("userSubscription")}get userId(){return this._config.get("userId")}get isShowControls(){return this._controls.isShowControls}get controlBlockHeight(){return this._controls.controlBlockHeight}get isSubscriptionHidden(){var e,t,n;return Boolean((null===(e=this._advert)||void 0===e?void 0:e.isShowAdvertTimer)||(null===(t=this._pauseScreen)||void 0===t?void 0:t.visible)||!this._controls.isShowControls||this._playback.ended||(null===(n=this._activities)||void 0===n||null===(n=n.currentActivities)||void 0===n?void 0:n.length))}set isShowSubscriptionPopup(e){this._controls.activePanel=e?"subscription":""}get isShowSubscriptionPopup(){return"subscription"===this._controls.activePanel}get inactive(){return!this.isShowSubscriptionPopup&&H.B.isMobile||!this.isShowControls&&!H.B.isMobile}get counterHelper(){return this._counterHelper}get isEmbed(){return this._isEmbed}get isFullscreen(){return this._fullscreen.isFullscreen}get isUserSubscribed(){return this._config.get("isUserSubscribed")}get justSubscribed(){return this._justSubscribed.get()}set justSubscribed(e){this._justSubscribed.set(e)}get isShowSubscribe(){var e,t;const n=null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_subscription,r=null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.appearance)||void 0===t?void 0:t.show_author,i=!H.B.isMobile||H.B.isMobile&&H.B.isAndroid&&this.isFullscreen;return Boolean(r&&n&&(!this.isUserSubscribed||this.isUserSubscribed&&this.justSubscribed)&&!this._isEmbed&&i&&!this._controls.isControlsForcedHidden)}get isMobile(){return H.B.isMobile}get size(){return this._playerSize.size}get coordinates(){return this._playerSize.coordinates}get isShowOptions(){return this._isShowOptions.get()}set isShowOptions(e){this._isShowOptions.set(e)}get isUserOwnChannel(){return this.subscribeData&&this.subscribeData.id===this.userId}get avatarPosition(){return pt.ControlsPlugin.IsNewControls?this.controlBlockHeight:this.isMobile&&this.isEmbed?22:this.isShowControls||!this.isShowControls&&!this.isEmbed?this.controlBlockHeight+16:16}handleFullScreen(){this._fullscreen.handleFullscreen()}subscribeClick(e,t){var n;null===(n=this.counterHelper)||void 0===n||n.get(this.isUserSubscribed?"mainChannelSubscriptionClickUnsubscribe":"mainChannelSubscriptionClickSubscribe")(),this.isUserSubscribed?this.isShowOptions=!1:this.justSubscribed=!0,va.Ug.emit(zi.L2.SUBSCRIBE_CLICK,{isUserSubscribed:this._config.get("isUserSubscribed"),id:e,type:t})}changeNotificationType(e,t){var n;null===(n=this.counterHelper)||void 0===n||n.get("without"===t?"mainChannelSubscriptionNotifyOff":"mainChannelSubscriptionNotifyOn")(),va.Ug.emit(zi.L2.CHANGE_NOTIFICATION_TYPE,{id:e,type:t})}toggleOptions(){this.isShowOptions=!this.isShowOptions}hideOptions(){this.isShowSubscriptionPopup=!1,this.isShowOptions=!1,this._controls.preventHideControls=!1}}aM=cM,({e:[sM],c:[uM,lM]}=(0,k.A)(aM,[(0,I.k_)({implement:"IChannelSubscriptionPlugin",ctor_args:["IDataPlugin","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IPauseScreenPlugin",optional:!0},"IFullscreenPlugin","IPlayerConfigPlugin","IPlayerSizePlugin","IPlayback",{implement:"IActivitiesPlugin",optional:!0},"IStatisticState","IsEmbed"]})],[[(0,I.o7)(),2,"initHideOptions"],[I.zm,2,"handleFullScreen"],[I.zm,2,"subscribeClick"],[I.zm,2,"changeNotificationType"],[I.zm,2,"toggleOptions"],[I.zm,2,"hideOptions"]],0,void 0,oM)),lM();const dM=()=>t.createElement("svg",{width:"23",height:"18",viewBox:"0 0 23 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M0.893122 14.3298C0.857871 14.364 0.8264 14.395 0.798803 14.4226C1.92511 9.95269 4.54783 8.07833 6.88111 7.28491C9.07145 6.54009 10.9966 6.73603 11.4564 6.78283C11.5076 6.78804 11.5407 6.79141 11.5538 6.79141H12.2538V6.09141V1.4292L21.3103 8.77353L12.2538 16.4783V11.5376V10.9995L11.7339 10.8611C8.62764 10.0345 5.83701 10.9951 3.86988 12.1115C2.88232 12.6719 2.08468 13.2809 1.53344 13.7498C1.25728 13.9847 1.04149 14.1858 0.893122 14.3298Z",stroke:"#F6F6F6",strokeWidth:"1.4"})),hM="share-button-module__shareWrapper___Dg5h6",pM="share-button-module__share___uzg2c",mM="share-button-module__hide___pMkt1",vM=(0,Jn.PA)((e=>{let{size:n}=e;const{handleShareButton:r,handleCheckSharePanelWasOpen:i}=pb(),{isShowingShareBtn:o,isHidedShareBtn:a}=hb();return o?t.createElement("div",null,t.createElement("div",null,t.createElement("div",{className:er()({[hM]:!H.B.isMobile,[mM]:a}),onClick:r,onMouseDown:i},t.createElement(ss.r,(0,ai.A)({tabIndex:a?-1:0,role:"button","aria-label":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð²Ð¸Ð´ÐµÐ¾",icon:dM,className:pM},Em.aQ,{size:n}))))):null})),_M=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsMainShareFilled",__value:'<path fill="currentColor" fill-rule="evenodd" d="M10.337 3.14a1.5 1.5 0 0 1 1.2-.552c.407.01.714.213.868.323a8 8 0 0 1 .566.462l8.471 7.26.02.017c.104.09.226.194.323.293.11.113.266.292.358.55a1.5 1.5 0 0 1 0 1.014 1.5 1.5 0 0 1-.358.55c-.098.1-.219.203-.323.293l-.02.017-8.498 7.284c-.186.16-.374.32-.539.438-.154.11-.461.313-.868.323a1.5 1.5 0 0 1-1.2-.552c-.257-.315-.302-.68-.319-.87a8 8 0 0 1-.018-.693v-3.1a10.4 10.4 0 0 0-6.23 3.605A1 1 0 0 1 2 19.163v-.612a10.67 10.67 0 0 1 8-10.322V4.703c0-.245 0-.492.018-.693.017-.19.062-.555.32-.87" clip-rule="evenodd" />'})),fM=(0,t.forwardRef)(_M),gM="share-button-module__shareWrapper___RMuqI",bM="share-button-module__hide___YUtyM",yM="share-button-module__share___QrS76",EM="share-button-module__icon___JDeJg",wM=(0,Jn.PA)((e=>{var n;let{buttonSize:r}=e;const{handleShareButton:i,handleCheckSharePanelWasOpen:o}=pb(),{isShowingShareBtn:a,isHidedShareBtn:s}=hb(),{iconSizeValue:l}=(0,pt.useControls)();return a?t.createElement("div",{className:er()(gM,{[bM]:Boolean(s)}),onClick:i,onMouseDown:o},t.createElement(iT.$,(0,ai.A)({tabIndex:s?-1:0,role:"button","aria-label":"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð²Ð¸Ð´ÐµÐ¾",className:yM},Em.aQ,{size:null!==(n=r)&&void 0!==n?n:l}),t.createElement(fM,{className:EM}))):null})),SM=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),{},{ref:n,name:"IconCloseIcon",__value:'<path fill="currentColor" d="M8 6.586 2.707 1.293 1.293 2.707 6.586 8l-5.293 5.293 1.414 1.414L8 9.414l5.293 5.293 1.414-1.414L9.414 8l5.293-5.293-1.414-1.414z" />'})),AM=(0,t.forwardRef)(SM);let CM=function(e){return e.SHARE_URL="share-url",e.EMBED_CODE="embed-code",e}({});const kM=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const r=(0,t.useRef)(),[i,o]=(0,t.useState)(e);(0,t.useEffect)((()=>()=>{(null==r?void 0:r.current)&&clearTimeout(r.current)}),[]);return[i,t=>(null!=r&&r.current&&clearTimeout(r.current),r.current=setTimeout((()=>o(e)),n),o(t))]};let PM=function(e){return e.VK="VK",e.OK="OK",e.TELEGRAM="TELEGRAM",e.WHATS_APP="WHATS_APP",e.EMAIL="EMAIL",e.EMBED_COPY_LINK="EMBED_COPY_LINK",e.EMBED_COPY_ICON="EMBED_COPY_ICON",e.EMBED_COPY_BUTTON="EMBED_COPY_BUTTON",e.COPY_LINK="COPY_LINK",e.COPY_ICON="COPY_ICON",e.COPY_BUTTON="COPY_BUTTON",e}({});function IM(e){try{return window.navigator.clipboard.writeText(e).then((()=>{})).catch((()=>{})),Promise.resolve("Ð¡ÑÑ‹Ð»ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°")}catch(t){return((e,t)=>{const n=document.createElement("textarea");if(n.value=e,n.style.position="absolute",n.style.left="-9999px",n.setAttribute("readonly",""),document.body.appendChild(n),t){const t=document.createRange();t.selectNodeContents(n);const r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(t)),n.setSelectionRange(0,e.length)}else n.select();return new Promise(((e,t)=>{try{return document.execCommand("copy"),e("Ð¡ÑÑ‹Ð»ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°")}catch(e){return t("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÑÑÑ‹Ð»ÐºÐ¸")}finally{document.body.removeChild(n)}}))})(e,["iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)}}var TM="freyja_char-share-tabs__container_pq2gR",xM="freyja_char-share-tabs__button_28cWv",RM="freyja_char-share-tabs__buttonActive_ErrNL";const LM=e=>{let{currentTab:n=CM.SHARE_URL,hideEmbedCode:r=!1,onTabChanged:i}=e;const[o,a]=(0,t.useState)(n),s=e=>{a(e),i(e)};return r?t.createElement(t.Fragment,null):t.createElement("div",{className:TM},t.createElement("button",{className:er()(xM,{[RM]:o===CM.SHARE_URL}),onClick:()=>s(CM.SHARE_URL)},"Ð¡ÑÑ‹Ð»ÐºÐ°"),t.createElement("button",{className:er()(xM,{[RM]:o===CM.EMBED_CODE}),onClick:()=>s(CM.EMBED_CODE)},"ÐšÐ¾Ð´ Ð²ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¿Ð»ÐµÐµÑ€Ð°"))};var OM="freyja_char-share-embed-preview__previewContainer_4ATwB",NM="freyja_char-share-embed-preview__previewImage_4kb-h",MM="freyja_char-share-embed-preview__previewPlayButton_Zm7gi",DM="freyja_char-share-embed-preview__progressBar_22nGp",BM="freyja_char-share-embed-preview__progressBarPoint_tgkmc",FM="freyja_char-share-embed-preview__progressViewed_r48k-",HM="freyja_char-share-embed-preview__progressCached_IeeJB",VM="freyja_char-share-embed-preview__progressClear_SNhlE";const UM=e=>{let{buttonColor:n="#00A1E7",arrowColor:r="white"}=e;return t.createElement("svg",{width:"46",height:"46",viewBox:"0 0 46 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("rect",{x:"3",y:"3",width:"40",height:"40",rx:"8",fill:n}),t.createElement("path",{d:"M19 16V30L29 23L19 16Z",fill:r}))},jM=e=>{let{color:n,thumbnailUrl:r}=e;return t.createElement("div",{className:OM},t.createElement("img",{className:NM,src:r,alt:"https://static.rutube.ru/static/img/png/player-stubs/countdown-default-bg.png"}),t.createElement("div",{className:MM},t.createElement(UM,{buttonColor:n,arrowColor:Ox(n)>128?"black":"white"})),t.createElement("div",{className:DM},t.createElement("div",{className:BM},t.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("circle",{cx:"6",cy:"6",r:"6",fill:"white"}))),t.createElement("div",{className:FM,style:{backgroundColor:n}}),t.createElement("div",{className:HM}),t.createElement("div",{className:VM})))},WM=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconCheckmarkThin",__value:'<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.244" d="m6 12 4.333 4L19 8" />'})),zM=(0,t.forwardRef)(WM),GM=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconCopyInBuffer",__value:'<path fill="currentColor" fill-rule="evenodd" d="M12.22 3.3h-.03c-.544 0-.996 0-1.364.031-.383.032-.738.1-1.07.274a2.7 2.7 0 0 0-1.152 1.151c-.173.333-.242.688-.274 1.071-.03.368-.03.82-.03 1.365V7.3h-.11c-.544 0-.996 0-1.364.03-.383.032-.738.1-1.07.274a2.7 2.7 0 0 0-1.152 1.151c-.173.333-.242.688-.274 1.071-.03.368-.03.82-.03 1.365v5.619c0 .545 0 .996.03 1.364.032.383.1.738.274 1.071a2.7 2.7 0 0 0 1.151 1.152c.333.173.688.241 1.071.273.368.03.82.03 1.365.03h3.618c.545 0 .996 0 1.364-.03.383-.032.738-.1 1.071-.273a2.7 2.7 0 0 0 1.152-1.152c.173-.333.241-.688.273-1.07.03-.369.03-.82.03-1.365v-.11h.11c.545 0 .996 0 1.364-.03.383-.032.738-.1 1.071-.273a2.7 2.7 0 0 0 1.152-1.152c.173-.333.241-.688.273-1.07.03-.369.03-.82.03-1.365V7.192c0-.545 0-.997-.03-1.365-.032-.383-.1-.738-.273-1.07a2.7 2.7 0 0 0-1.152-1.152c-.333-.173-.688-.242-1.07-.274-.369-.03-.82-.03-1.365-.03zm3.48 12h.08c.581 0 .974 0 1.277-.025.295-.024.442-.069.542-.12a1.3 1.3 0 0 0 .554-.555c.053-.1.097-.247.121-.542.025-.303.026-.696.026-1.277V7.22c0-.581 0-.975-.026-1.278-.024-.295-.069-.441-.12-.541a1.3 1.3 0 0 0-.555-.555c-.1-.052-.247-.096-.542-.12-.303-.026-.696-.026-1.277-.026h-3.56c-.581 0-.975 0-1.278.026-.295.024-.441.068-.542.12a1.3 1.3 0 0 0-.554.555c-.052.1-.096.246-.12.541-.026.303-.026.697-.026 1.278v.08h2.109c.545 0 .996 0 1.364.03.383.032.738.1 1.071.274a2.7 2.7 0 0 1 1.152 1.151c.173.333.241.688.273 1.071.03.368.03.82.03 1.364v4.11ZM9 8.7h-.78c-.581 0-.975.001-1.278.027-.295.024-.441.068-.541.12a1.3 1.3 0 0 0-.555.555c-.052.1-.096.246-.12.541-.026.303-.026.697-.026 1.278v5.56c0 .581 0 .974.026 1.277.024.295.068.442.12.542a1.3 1.3 0 0 0 .555.554c.1.052.246.097.541.121.303.025.697.026 1.278.026h3.56c.581 0 .974 0 1.277-.026.295-.024.442-.069.542-.12a1.3 1.3 0 0 0 .554-.555c.053-.1.097-.247.121-.542.025-.303.026-.696.026-1.277V11.22c0-.582 0-.975-.026-1.278-.024-.295-.068-.441-.12-.541a1.3 1.3 0 0 0-.555-.555c-.1-.052-.247-.096-.542-.12-.303-.026-.696-.026-1.277-.026z" clip-rule="evenodd" />'})),qM=(0,t.forwardRef)(GM);var KM="freyja_char-share-form__form_3bV-N",YM="freyja_char-share-form__iconWrapper_-oDUX",XM="freyja_char-share-form__button_tPaKn";const QM=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconError",__value:'<path fill="currentColor" fill-rule="evenodd" d="M9.751 6.538c1.019-1.697 3.479-1.697 4.497 0l5.468 9.113c1.049 1.748-.21 3.971-2.248 3.971H6.532c-2.038 0-3.297-2.223-2.248-3.971zm3.43.64a1.378 1.378 0 0 0-2.362 0L5.35 16.291a1.378 1.378 0 0 0 1.181 2.087h10.936a1.378 1.378 0 0 0 1.181-2.087zM12 9.378c.344 0 .622.278.622.622v3a.622.622 0 0 1-1.244 0v-3c0-.344.278-.622.622-.622m0 6a.622.622 0 0 0 0 1.244h.01a.622.622 0 0 0 0-1.244z" clip-rule="evenodd" />'})),ZM=(0,t.forwardRef)(QM),JM=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconPasswordOff",__value:'<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.244" d="M7.197 7A8.57 8.57 0 0 0 4 12.168C4.766 16.066 8.1 19 12.099 19c1.835 0 3.53-.618 4.901-1.663" /><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.244" d="M9.858 10A2.929 2.929 0 1 0 14 14.142M4 4l16 16M10 5.297A7.5 7.5 0 0 1 12.1 5c3.9 0 7.153 2.984 7.9 6.948A9 9 0 0 1 18.826 15" />'})),$M=(0,t.forwardRef)(JM),eD=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconPasswordOn",__value:'<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.244" d="M21 12c-.85-3.994-4.557-7-9-7s-8.15 3.006-9 7c.85 3.994 4.557 7 9 7s8.15-3.006 9-7" /><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.244" />'})),tD=(0,t.forwardRef)(eD);var nD=a(5051),rD=a.n(nD);const iD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return isNaN(+e)?"".concat(e):(e=+e)>=t?Intl.NumberFormat("en-US").format(e).replace(/,/g," ").replace(/\./g,""):"".concat(e).replace(/\./g," ")};var oD={input:"freyja_char-input__input_OV-wx",input_disabled:"freyja_char-input__input_disabled_kRjED",inputWrapper:"freyja_char-input__inputWrapper_16aM4",textareaWrapper:"freyja_char-input__textareaWrapper_dQrqc",label:"freyja_char-input__label_R4PVl",input_error:"freyja_char-input__input_error_U1cK-",errorText:"freyja_char-input__errorText_J1nYH",shadowTextarea:"freyja_char-input__shadowTextarea_oEVcY",iconWrapper:"freyja_char-input__iconWrapper_BQMGL",iconError:"freyja_char-input__iconError_8QQWR",error:"freyja_char-input__error_mRWob",errorLeft:"freyja_char-input__errorLeft_NZcu5",errorRight:"freyja_char-input__errorRight_-CbbA",length:"freyja_char-input__length_ked7s",length_bottom:"freyja_char-input__length_bottom_GSJjE",lengthWrapper:"freyja_char-input__lengthWrapper_86DfH",realLength:"freyja_char-input__realLength_jiRZZ",maxLength:"freyja_char-input__maxLength_i02mt",required:"freyja_char-input__required_qBQXg"};const aD=e=>{let{id:n,required:r,children:i}=e;return t.createElement("label",{htmlFor:n,className:er()(oD.label,{[oD.required]:r})},i)},sD=["id","value","maxLength","maxRows","rows","disabled","placeholder","required","style"],lD=e=>{const{id:n,value:r="",maxLength:i,maxRows:o,rows:a,disabled:s,placeholder:l,required:u,style:c}=e,d=(0,V.A)(e,sD),h=(0,t.useRef)(null),p=(0,t.useRef)(null),m=t.useRef(null),v=t.useCallback((()=>{const e=h.current,t=p.current;if(!t||!e)return;t.value=e.value||l||"x";const n=t.scrollHeight;t.value="x";const r=t.scrollHeight;let i=n;return a&&(i=Math.max(Number(a)*r,i)),o&&(i=Math.min(Number(o)*r,i)),i=Math.max(i,r),i}),[o,l,a]),_=t.useCallback((()=>{const e=v(),t=h.current;e&&t&&m.current!==e&&(m.current=e,t.style.height="".concat(e,"px"))}),[v]),f=((e,n)=>{const r=(0,t.useRef)();return(0,t.useCallback)((function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];r.current&&clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current&&clearTimeout(r.current),e(...i)}),n)}),[e,n])})(_,300);return(0,t.useEffect)((()=>{const e=h.current;if(!e)return;let t;let n;return"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver((()=>{cancelAnimationFrame(t),t=requestAnimationFrame((()=>{_()}))})),n.observe(e)),"object"==typeof window&&window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f),cancelAnimationFrame(t),n&&n.disconnect()}}),[f,_]),(0,t.useEffect)((()=>{_()}),[r,_]),t.createElement(t.Fragment,null,t.createElement("textarea",{className:oD.shadowTextarea,value:r||"",ref:p}),t.createElement("textarea",(0,ai.A)({},d,{placeholder:l,ref:h,id:n,value:r||"",disabled:s,rows:a,maxLength:i,required:u,style:c})))},uD=["label","type","disabled","multiple","error","maxLength","showLength","value","required","rows","errorPosition","maskChar","isAutoresize","maxRows","showErrorIcon"];const cD=(0,t.forwardRef)(((e,n)=>{var r;const{label:i,type:o="text",disabled:a=!1,multiple:s=!1,error:l,maxLength:u,showLength:c=!0,value:d,required:h,rows:p,errorPosition:m=null,maskChar:v="",isAutoresize:_,maxRows:f,showErrorIcon:g=!0}=e,b=(0,V.A)(e,uD),[y,E]=(0,t.useState)(!1),[w,S]=(0,t.useState)(0),A=(0,t.useMemo)((()=>{const t=(null==e?void 0:e.id)||(null==e?void 0:e.name);return"undefined"==typeof window?t||Math.random().toString():t||(0,xo.A)()}),[null==e?void 0:e.id,null==e?void 0:e.name]);(0,t.useEffect)((()=>{var e;u&&S(null===(e=d||"")||void 0===e?void 0:e.length)}),[d,u]);const C=()=>{"password"===o&&E((e=>!e))},k=t.createElement("div",{className:er()(oD.iconWrapper,oD.iconError),onClick:C},t.createElement(ZM,null)),P=y?$M:tD,I=t.createElement("div",{className:oD.iconWrapper,onClick:C},t.createElement(P,null)),T=(0,t.useMemo)((()=>({maxHeight:f?18*f:"auto"})),[f]);return t.createElement("div",{className:er()(oD.input,{[oD.input_error]:!!l,[oD.input_disabled]:a,error:!!l})},"function"==typeof i?i({required:h,id:A}):null!=i?t.createElement(aD,{id:A,required:h},i):null,s&&t.createElement("div",{className:oD.textareaWrapper},!_&&t.createElement("textarea",(0,ai.A)({},b,{id:A,ref:n,value:d||"",disabled:a,rows:p||6,maxLength:u,required:h,style:T})),_&&t.createElement(lD,(0,ai.A)({},b,{id:A,value:d||"",disabled:a,rows:p||6,maxLength:u,required:h,style:T})),c&&!!u&&t.createElement("span",{className:oD.lengthWrapper},t.createElement("span",{className:oD.realLength},iD(String(d||"").length)),t.createElement("span",{className:oD.maxLength}," Ð¸Ð· ",iD(u)))),!s&&t.createElement("div",{className:oD.inputWrapper},t.createElement(rD(),(0,ai.A)({},b,{id:A,inputRef:n,mask:null!==(r=b.mask)&&void 0!==r?r:"",value:null!=d?d:"",type:"password"===o&&y?"text":o,disabled:a,maxLength:u,required:h,maskChar:v})),l&&g?k:"password"===o&&I,c&&!!u&&"password"!==o&&!l&&t.createElement("span",{className:oD.length},t.createElement("span",null,iD(w))," Ð¸Ð· ".concat(iD(u)))),!!l&&t.createElement("p",{className:er()(oD.errorText,{[oD["error".concat(null!=m?m:"")]]:m})},l))})),dD=Object.assign(cD,{Label:aD}),hD=e=>{let{isCopied:n,onClick:r,value:i,isEmbedPage:o}=e;return t.createElement("div",{className:KM},t.createElement(dD,{readOnly:!0,value:i,onClick:()=>r(o?PM.EMBED_COPY_LINK:PM.COPY_LINK)}),t.createElement("div",{className:YM},n?t.createElement(zM,{size:"large"}):t.createElement("button",{className:XM,type:"button",onClick:()=>r(o?PM.EMBED_COPY_ICON:PM.COPY_ICON)},t.createElement(qM,{size:"large"}))))};var pD=a(2412),mD=a.n(pD),vD=a(6187),_D=a.n(vD);mD().extend(_D());const fD=(e,t)=>((e,t)=>{const{cutHoursIfZero:n=!1,emptyLineIfZero:r=!1}=t||{};if(!e)return r?"":n?"00:00":"00:00:00";const i=mD().duration(e,"seconds").format("HH:mm:ss");return i.startsWith("00")&&n?i.slice(3):i})(e,{cutHoursIfZero:t}),gD=e=>{if(!e)return 0;const[t,n,r]=e.trim().split(":").reverse();return+t+60*+n+(r?3600*+r:0)},bD=e=>{let{time:n,onTimeChange:r,showHours:i=!1,fallbackValue:o,error:a}=e;const[s,l]=(0,t.useState)(fD(n,!i));(0,t.useEffect)((()=>{l(fD(n,!i))}),[n,i]),(0,t.useEffect)((()=>{r(n)}),[n,r]);return t.createElement(dD,{value:s,onChange:e=>{const{value:t}=e.currentTarget;l(t);const n=gD(t);fD(n,!i)===t&&(void 0===o||n>0)&&r(n)},onBlur:()=>{const e=gD(s);void 0!==o&&0===e?(r(o),l(fD(o,!i))):(l(fD(e,!i)),(void 0===o||e>0)&&r(e))},mask:i?"99:99:99":"99:99",maskChar:"0",error:a})};var yD="freyja_color-picker__container_boAwS",ED="freyja_color-picker__inputColumn_8Ju-L",wD="freyja_color-picker__paletteColumn_iqSAt",SD="freyja_color-picker__label_LjGM1",AD="freyja_color-picker__inputWrapper_CY4V9",CD="freyja_color-picker__currentItem_gq-NB",kD="freyja_color-picker__input_xcXPK",PD="freyja_color-picker__currentPaletteItem_xL3Pc",ID="freyja_color-picker__palette_rA3Sr",TD="freyja_color-picker__paletteItem_p0qou",xD="freyja_color-picker__active_qc9mT";const RD=e=>{let{label:n,onColorChanged:r}=e;const[i,o]=(0,t.useState)(Tx),a=(0,t.useCallback)((e=>{const t="#".concat(e.replace("#",""));Lx(t)&&(null==r||r(t)),o(t)}),[r]),s=(0,t.useCallback)((()=>{Lx(i)||(o(Tx),null==r||r(Tx))}),[i,r]);return t.createElement("div",{className:yD},t.createElement("div",{className:ED},t.createElement("span",{className:SD},n),t.createElement("div",{className:AD},t.createElement(dD,{type:"text",maxLength:7,showLength:!1,value:i,title:"Ð¦Ð²ÐµÑ‚",onChange:e=>{var t;e.preventDefault(),a(null===(t=e.target)||void 0===t?void 0:t.value)},onBlur:s,className:kD}),t.createElement("div",{className:CD},t.createElement(Hx,{color:i,isDisabled:!0,itemClass:PD,hasBorder:!0})))),t.createElement("div",{className:wD},t.createElement(zx,{className:ID,itemClass:TD,itemActiveClass:xD,onItemClick:(e,t)=>{t.preventDefault(),a(e)},activeColor:i,hasIcon:!0,hasBorder:!0})))};var LD="freyja_char-embed-settings__embedSettings_RRo-g",OD="freyja_char-embed-settings__settingsRow_ZOLr1",ND="freyja_char-embed-settings__withGap_y46io",MD="freyja_char-embed-settings__blockTitle_8FKV-",DD="freyja_char-embed-settings__blockBody_OZ94v",BD="freyja_char-embed-settings__staticWidth_tZOyK",FD="freyja_char-embed-settings__cross_zx2AH",HD="freyja_char-embed-settings__warningMessage_yiiF0",VD="freyja_char-embed-settings__size_vggRS",UD="freyja_char-embed-settings__width_U54ij",jD="freyja_char-embed-settings__height_g-4mv",WD="freyja_char-embed-settings__checkbox_rKfEQ",zD={checkbox:"freyja_char-checkbox__checkbox_GDS9Y",top:"freyja_char-checkbox__top_FoOOx",bottom:"freyja_char-checkbox__bottom_3VwiW",checkboxDisabled:"freyja_char-checkbox__checkboxDisabled_Sh-1y",input:"freyja_char-checkbox__input_wGwSh",title:"freyja_char-checkbox__title_2c6tT",title__regular:"freyja_char-checkbox__title__regular_jpR6Y",title__large:"freyja_char-checkbox__title__large_-VOGq",titleDisabled:"freyja_char-checkbox__titleDisabled_zTKMQ",checkmarkWrapper:"freyja_char-checkbox__checkmarkWrapper_TM1xU"},GD={checkmark:"freyja_char-checkmark__checkmark_jhsTO",checkmark__isChecked:"freyja_char-checkmark__checkmark__isChecked_d7H6I",checkmark__isDisabled:"freyja_char-checkmark__checkmark__isDisabled_dT4c3",checkmark__isInvalid:"freyja_char-checkmark__checkmark__isInvalid_5Dj4-",checkmark__regular:"freyja_char-checkmark__checkmark__regular_MBMq8",icon:"freyja_char-checkmark__icon_xlNLv",checkmark__large:"freyja_char-checkmark__checkmark__large_2vPsT",wrapper:"freyja_char-checkmark__wrapper_LMqLH",icon__isDisabled:"freyja_char-checkmark__icon__isDisabled_JNikn"};const qD=e=>{let{isChecked:n=!1,isValid:r=!0,isDisabled:i=!1,size:o="regular"}=e;return t.createElement("span",{className:er()(GD.checkmark,GD["checkmark__".concat(o)],{[GD.checkmark__isChecked]:n,[GD.checkmark__isDisabled]:i,[GD.checkmark__isInvalid]:!r})},n?t.createElement("div",{className:GD.wrapper},t.createElement("span",{className:er()(GD.icon,{[GD.icon__isDisabled]:i})})):null)},KD=["title","checked","isValid","disabled","position","onClick","size","id"];const YD=e=>{const{title:n,checked:r,isValid:i=!0,disabled:o=!1,position:a,onClick:s,size:u="regular",id:c}=e,d=(0,V.A)(e,KD),h=(0,t.useRef)(null!=c?c:(0,xo.A)());return t.createElement("div",{className:er()(zD.checkbox,(0,l.A)({[zD.checkboxDisabled]:o},a?{[zD[a]]:a}:{})),onClick:s},t.createElement("div",{className:zD.checkmarkWrapper},t.createElement(qD,{isChecked:r,isDisabled:o,isValid:i,size:u}),t.createElement("input",(0,ai.A)({},d,{className:zD.input,type:"checkbox",id:h.current,checked:r,disabled:o}))),n?t.createElement("label",{className:er()(zD.title,zD["title__".concat(u)],{[zD.titleDisabled]:o}),htmlFor:h.current},n):null)},XD=Math.floor(171),QD=e=>{let{onEmbedCodeChanged:n,videoDuration:r,playOptions:i,url:o,showTimecode:a,defaultStartTime:s,pepper:l,videoId:u,onEmbedColorChanged:c}=e;const d=(0,__.a3)({value:r/1e3})||"",h=r>=36e5,[p,m]=t.useState(Tx),[v,_]=(0,t.useState)(720),[f,g]=(0,t.useState)(405),[b,y]=(0,t.useState)(!1),[E,w]=(0,t.useState)((()=>s)),[S,A]=(0,t.useState)(!1),[C,k]=(0,t.useState)(Math.floor(r/1e3)),[P,I]=(0,t.useState)(""),[T,x]=(0,t.useState)("");(0,t.useEffect)((()=>{const e=r&&Math.floor(r/1e3);n((e=>{var t,n,r;let{settings:i,playOptions:o,url:a,pepper:s,videoId:l}=e;const{embedStart:u,embedEnd:c,embedWidth:d,embedHeight:h,embedColor:p,embedShowAuthor:m,embedShowTitle:v}=i,_=(null==o?void 0:o.video_id)||l||"",f=Px("".concat(a,"/play/embed/").concat(_));if(!f)return"";s&&f.searchParams.append("p",s),p!==Tx&&f.searchParams.append("skinColor",p.replace("#","")),u>0&&f.searchParams.append("t",u.toString()),c>0&&f.searchParams.append("stopTime",c.toString()),f.pathname+="/";const g={videoUrl:(null==o?void 0:o.video_url)||"",title:(null==o?void 0:o.title)||"",authorUrl:(null==o||null===(t=o.author)||void 0===t?void 0:t.url)||"",name:m&&(null==o||null===(n=o.author)||void 0===n?void 0:n.name)||"",origin:"".concat((null===(r=Px(null==o?void 0:o.video_url))||void 0===r?void 0:r.origin)||"","/")};return'<iframe width="'.concat(d,'" height="').concat(h,'" src="').concat(f.toString(),'" style="border: none;" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>').concat(v?(e=>{const{videoUrl:t,title:n,authorUrl:r,name:i,origin:o}=e;return(i&&r?'\n<p><a href="VIDEO_URL">TITLE</a> Ð¾Ñ‚ <a href="AUTHOR_URL">NAME</a> Ð½Ð° <a href="ORIGIN_URL">RUTUBE</a>':'\n<p><a href="VIDEO_URL">TITLE</a> Ð½Ð° <a href="ORIGIN_URL">RUTUBE</a>').replace("VIDEO_URL",t).replace("TITLE",n).replace("AUTHOR_URL",r).replace("NAME",i).replace("ORIGIN_URL",o)})(g):"")})({settings:{embedColor:p,embedWidth:v,embedHeight:f,embedStartEnabled:b,embedStart:b&&!P?E:0,embedEndEnabled:S,embedEnd:S&&!T&&C<e?C:0,embedShowAuthor:!1,embedShowTitle:!1},playOptions:i,url:o,pepper:l,videoId:u}))}),[P,T,r,n,p,v,f,b,E,S,C,i,o,l,u]);const R=(0,t.useCallback)((e=>{const t=parseInt(e.target.value);isNaN(t)?console.warn("ÐÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð°Ñ Ð²Ñ‹ÑÐ¾Ñ‚Ð°!"):(_(t),g(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16/9;return Math.floor(e/t)}(t)))}),[]),L=(0,t.useCallback)((e=>{const t=parseInt(e.target.value);isNaN(t)?console.warn("ÐÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð°Ñ ÑˆÐ¸Ñ€Ð¸Ð½Ð°!"):(g(t),_(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16/9;return Math.floor(e*t)}(t)))}),[]),O=(0,t.useCallback)((e=>{m(e),c(e)}),[m,c]),N=e=>t=>{if("start"===e){const e=xx(t,b,r,C,S),n=Rx(t,b,r,C,S);w(t),I("".concat(e).concat(e&&r?d:"")),C>t&&x("".concat(n).concat(n&&r?d:""))}if("end"===e){const e=xx(E,b,r,t,S),n=Rx(E,b,r,t,S);k(t),x("".concat(n).concat(n&&r?d:"")),E<t&&I("".concat(e).concat(e&&r?d:""))}};return(0,t.useEffect)((()=>{const e=xx(E,b,r,C,S),t=Rx(E,b,r,C,S);I("".concat(e).concat(e&&r?d:"")),x("".concat(t).concat(t&&r?d:""))}),[b,S]),t.createElement(t.Fragment,null,t.createElement("div",{className:er()(LD)},t.createElement("div",{className:OD},t.createElement("div",{className:VD},t.createElement("div",{className:MD},"Ð Ð°Ð·Ð¼ÐµÑ€Ñ‹ Ð¿Ð»ÐµÐµÑ€Ð°, px: "),t.createElement("div",{className:DD},t.createElement("div",{className:UD},t.createElement(dD,{type:"text",maxLength:4,showLength:!1,value:v.toString(),title:"ÑˆÐ¸Ñ€Ð¸Ð½Ð°",onChange:R})),t.createElement("span",{className:FD},"Ã—"),t.createElement("div",{className:jD},t.createElement(dD,{type:"text",maxLength:4,showLength:!1,value:f.toString(),title:"Ð²Ñ‹ÑÐ¾Ñ‚Ð°",onChange:L})),(v-0<304||f-0<XD)&&t.createElement("div",{className:HD},"ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ ÑˆÐ¸Ñ€Ð¸Ð½Ð° Ð¿Ð»ÐµÐµÑ€Ð° - ".concat(304..toString(),"px"))))),t.createElement("div",{className:OD},t.createElement(RD,{label:"Ð¦Ð²ÐµÑ‚ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¿Ð»ÐµÐµÑ€Ð° (HEX)",onColorChanged:O})),a&&t.createElement(t.Fragment,null,t.createElement("div",{className:er()(OD,ND)},t.createElement("div",{className:er()(DD,BD)},t.createElement("div",{className:WD},t.createElement(YD,{id:"embed-start-checkbox",name:"embed-start-checkbox",checked:b,title:b?"Ð’Ñ€ÐµÐ¼Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°:":"Ð’Ñ€ÐµÐ¼Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°: ".concat((0,__.a3)({value:E})),onChange:e=>{const{checked:t}=e.currentTarget;y(t)}})),b&&t.createElement(bD,{showHours:h,time:E,onTimeChange:N("start")}),P&&t.createElement("div",{className:HD},P)),t.createElement("div",{className:er()(DD,BD)},t.createElement("div",{className:WD},t.createElement(YD,{id:"embed-end-checkbox",name:"embed-end-checkbox",checked:S,title:S?"Ð’Ñ€ÐµÐ¼Ñ ÐºÐ¾Ð½Ñ†Ð°:":"Ð’Ñ€ÐµÐ¼Ñ ÐºÐ¾Ð½Ñ†Ð°: ".concat(d||""),onChange:e=>{const{checked:t}=e.currentTarget;A(t)}})),S&&t.createElement(bD,{showHours:h,time:C,fallbackValue:Math.floor(r/1e3),onTimeChange:N("end")}),T&&t.createElement("div",{className:HD},T))))))};var ZD="freyja_char-share-embed__copyButton_lwq8s",JD="freyja_char-share-embed__subtitle_fGXDC",$D="freyja_char-share-embed__row_xA9Wq";const eB=e=>{let{url:n,playOptions:r,onShare:i,showTimecode:o,defaultStartTime:a,pepper:s,videoId:l,onTabChanged:u}=e;const[c,d]=(0,t.useState)(""),[h,p]=kM(!1),[m,v]=t.useState(Tx),_=(null==r?void 0:r.duration)||0,f=null==r?void 0:r.thumbnail_url,g=e=>{c&&(IM(c),p(!0),i&&i(e))};return t.createElement(t.Fragment,null,t.createElement("div",{className:$D},t.createElement(jM,{color:m,thumbnailUrl:null!=f?f:"https://static.rutube.ru/static/img/png/player-stubs/countdown-default-bg.png"})),t.createElement("div",{className:$D},t.createElement(LM,{currentTab:CM.EMBED_CODE,onTabChanged:u})),t.createElement("div",{className:$D},t.createElement("p",{className:JD},"ÐšÐ¾Ð´"),t.createElement(hD,{isCopied:h,value:c,onClick:g,isEmbedPage:!0})),t.createElement("div",{className:$D},t.createElement(QD,{onEmbedCodeChanged:d,videoDuration:_,playOptions:r,defaultStartTime:a,url:n,showTimecode:o,pepper:s,videoId:l,onEmbedColorChanged:v})),t.createElement("button",{className:ZD,onClick:()=>g(PM.EMBED_COPY_BUTTON)},h?"ÐšÐ¾Ð´ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½":"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"))};var tB={title:"freyja_char-share-url__title_JGTVm",buttons:"freyja_char-share-url__buttons_hXICr",icon:"freyja_char-share-url__icon_STA8s",subtitle:"freyja_char-share-url__subtitle_5gKp5",startTime:"freyja_char-share-url__startTime_B7l0u",checkbox:"freyja_char-share-url__checkbox_dhucr",warningMessage:"freyja_char-share-url__warningMessage_Z2jUZ",shareIcon:"freyja_char-share-url__shareIcon_l1YQv","shareIcon--type-facebook":"freyja_char-share-url__shareIcon--type-facebook_6Lw6b","shareIcon--type-ok":"freyja_char-share-url__shareIcon--type-ok_pHl9d","shareIcon--type-mail":"freyja_char-share-url__shareIcon--type-mail_MHq1n","shareIcon--type-telegram":"freyja_char-share-url__shareIcon--type-telegram_LofQ7","shareIcon--type-viber":"freyja_char-share-url__shareIcon--type-viber_g0rX9","shareIcon--type-vk":"freyja_char-share-url__shareIcon--type-vk_Xuj7P","shareIcon--type-whatsapp":"freyja_char-share-url__shareIcon--type-whatsapp_KpBct",copyButton:"freyja_char-share-url__copyButton_z0wx9",row:"freyja_char-share-url__row_qyBWD"},nB="freyja_char-share-button__charShareButton_bEsry";const rB=["windowPosition","width","height"],iB=(e,t)=>{let{windowPosition:n,width:r,height:i}=t,o=(0,V.A)(t,rB);const a=(0,l.A)((0,l.A)({location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes",width:r,height:i},o),"windowCenter"===n?((e,t)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}))(r,i):((e,t)=>({top:(window.screen.height-t)/2,left:(window.screen.width-e)/2}))(r,i));window.open(e,"",Object.entries(a).map((e=>{let[t,n]=e;return"".concat(t,"=").concat(n)})).join(", "))},oB=["children","className","disabled","onClick","link","windowHeight","windowWidth","windowPosition"],aB=e=>{let{children:n,className:r,disabled:i,onClick:o,link:a,windowHeight:s=400,windowWidth:l=550,windowPosition:u="windowCenter"}=e,c=(0,V.A)(e,oB);return t.createElement("button",(0,ai.A)({},c,{className:er()(nB,r),disabled:i,onClick:e=>{iB(a,{height:s,width:l,windowPosition:u}),null==o||o(e,a)}}),n)},sB=e=>{const t=Object.entries(e).filter((e=>{let[,t]=e;return null!=t})).map((e=>{let[t,n]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(n)))}));return t.length>0?"?".concat(t.join("&")):""},lB=["url","title","image","noParse","noVkLinks"];function uB(e,t){let{title:n,image:r,noParse:i,noVkLinks:o}=t;return"https://vk.com/share.php".concat(sB({url:e,title:n,image:r,noparse:i?1:0,no_vk_links:o?1:0}))}const cB={windowWidth:660,windowHeight:460},dB=["url","title","description","image"];function hB(e,t){let{title:n,description:r,image:i}=t;return"https://connect.ok.ru/offer".concat(sB({url:e,title:n,description:r,imageUrl:i}))}const pB={windowWidth:588,windowHeight:480,windowPosition:"screenCenter"},mB=["url","title"];function vB(e,t){let{title:n}=t;return"https://telegram.me/share/url".concat(sB({url:e,title:n}))}const _B={windowWidth:550,windowHeight:400},fB=["url","title","separator"];function gB(e,t){let{title:n,separator:r=" "}=t;const i="https://".concat(/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)?"api":"web",".whatsapp.com/send");return"".concat(i).concat(sB({text:n?"".concat(n).concat(r).concat(e):e}))}const bB={windowWidth:550,windowHeight:400},yB=[{SocialButton:e=>{let{url:n,title:r,image:i,noParse:o,noVkLinks:a}=e,s=(0,V.A)(e,lB);return t.createElement(aB,(0,ai.A)({link:uB(n,{title:r,image:i,noParse:o,noVkLinks:a})},cB,s))},icon:"vk",type:PM.VK},{SocialButton:e=>{let{url:n,title:r,description:i,image:o}=e,a=(0,V.A)(e,dB);return t.createElement(aB,(0,ai.A)({link:hB(n,{title:r,description:i,image:o})},pB,a))},icon:"ok",type:PM.OK},{SocialButton:e=>{let{url:n,title:r}=e,i=(0,V.A)(e,mB);return t.createElement(aB,(0,ai.A)({link:vB(n,{title:r})},_B,i))},icon:"telegram",type:PM.TELEGRAM},{SocialButton:e=>{let{url:n,title:r,separator:i}=e,o=(0,V.A)(e,fB);return t.createElement(aB,(0,ai.A)({link:gB(n,{title:r,separator:i})},bB,o))},icon:"whatsapp",type:PM.WHATS_APP}],EB=e=>{let{type:n}=e;return t.createElement("span",{className:er()(tB.shareIcon,tB["shareIcon--type-".concat(n)])})},wB=e=>{let{url:n,location:r,isMobile:i,playOptions:o,pepper:a,onShare:s,showTimecode:l,defaultStartTime:u,urlParams:c,onTabChanged:d,hideEmbedCode:h}=e;const p=(null==o?void 0:o.duration)||0,m=(0,__.a3)({value:p/1e3})||"",v=p>=36e5,_="ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ ÑÑ‚Ð¾ Ð²Ð¸Ð´ÐµÐ¾ Ð½Ð° RUTUBE: Â«".concat((null==o?void 0:o.title)||"","Â»"),[f,g]=kM(!1),[b,y]=(0,t.useState)(!1),[E,w]=(0,t.useState)((()=>u)),[S,A]=(0,t.useState)(""),C=(0,t.useCallback)((()=>Ix({url:"".concat(n).concat(r),pepper:a,isMobile:i,startTime:b?E:null,urlParams:c})),[n,r,a,i,b,E,c]),[k,P]=(0,t.useState)(C()),I=e=>{s&&s(e)},T=e=>{k&&(IM(k),g(!0),I(e))},x=(0,t.useMemo)((()=>((e,t,n)=>encodeURI("mailto:?subject=".concat(t,"&body=").concat((null==n?void 0:n.title)||""," â€” ").concat(e)))("".concat(n).concat(r),_,o)),[n,r,_,o]);(0,t.useEffect)((()=>{if(S&&b)P("");else{const e={url:"".concat(n).concat(r),pepper:a,isMobile:i,startTime:!S&&b?E:null,urlParams:c},t=Ix(e);P(t)}}),[i,r,E,n,a,S,b,c,g]);return t.createElement(t.Fragment,null,t.createElement("div",{className:tB.buttons},yB.map(((e,n)=>{let{SocialButton:r,icon:i,type:o}=e;return t.createElement(t.Fragment,{key:n},t.createElement(r,{url:k,title:_,className:tB.icon,onClick:()=>I(o)},t.createElement(EB,{type:i})))})),t.createElement("a",{href:x,className:tB.icon,onClick:()=>I(PM.EMAIL)},t.createElement(EB,{type:"mail"}))),t.createElement("div",{className:tB.row},t.createElement(LM,{hideEmbedCode:h,currentTab:CM.SHARE_URL,onTabChanged:d})),t.createElement("div",{className:tB.row},t.createElement("p",{className:tB.subtitle},"Ð¡ÑÑ‹Ð»ÐºÐ°"),t.createElement(hD,{isCopied:f,value:k,onClick:T,isEmbedPage:!1})),l&&t.createElement(t.Fragment,null,t.createElement("div",{className:er()(tB.startTime,tB.row)},t.createElement("div",{className:tB.checkbox},t.createElement(YD,{id:"embed-start-checkbox",name:"embed-start-checkbox",checked:b,title:b?"Ð’Ñ€ÐµÐ¼Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°:":"Ð’Ñ€ÐµÐ¼Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°: ".concat((0,__.a3)({value:E})),onChange:e=>{const{checked:t}=e.currentTarget;y(t)}})),b&&t.createElement(bD,{showHours:v,time:E,onTimeChange:e=>{w(e);const t=xx(e,b,p);A("".concat(t).concat(t&&p?m:""))}}),S&&b&&t.createElement("div",{className:tB.warningMessage},S))),t.createElement("button",{className:tB.copyButton,onClick:()=>T(PM.COPY_BUTTON)},f?"Ð¡ÑÑ‹Ð»ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°":"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"))};var SB="freyja_char-share-panel__wrapper_u1aTw",AB="freyja_char-share-panel__header_rdIGJ",CB="freyja_char-share-panel__title_-LaTW",kB="freyja_char-share-panel__closeButton_vmcK4";const PB=e=>{let{url:n,location:r,isMobile:i,showTimecode:o,playOptions:a,pepper:s,urlParams:l,onShare:u,onClickOutside:c,currentTime:d=0,anchorRef:h,containerRef:p,hideEmbedCode:m=!1,videoId:v}=e;const[_,f]=(0,t.useState)(CM.SHARE_URL),g=(0,t.useRef)(null),b=p||g,y=e=>{u&&u(e)};var E,w,S;return E=[b,h],w=c,(0,t.useEffect)((()=>{const e=e=>{if(Array.isArray(E)){if(E.some((t=>{var n;return null===(n=t.current)||void 0===n?void 0:n.contains(e.target)})))return}else if(!E.current||E.current.contains(e.target))return;w&&w(e)};return document.addEventListener("mousedown",e,null==S?void 0:S.mouseHandlerOptions),()=>{document.removeEventListener("mousedown",e)}}),[E,w,S]),t.createElement("div",{ref:b,className:er()(SB)},t.createElement("div",{className:AB},t.createElement("h3",{className:CB},"ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ"),t.createElement("div",{className:kB,onClick:c},t.createElement(AM,{color:"var(--pen-secondary100)",size:"14"}))),_===CM.SHARE_URL&&t.createElement(wB,{url:n,location:r,urlParams:l,isMobile:i,playOptions:a,pepper:s,onShare:y,showTimecode:o,defaultStartTime:d,onTabChanged:f,hideEmbedCode:m}),_===CM.EMBED_CODE&&t.createElement(eB,{url:n,pepper:s,playOptions:a,onShare:y,showTimecode:o,defaultStartTime:d,videoId:v,onTabChanged:f}))},IB="share-popup-module__playerShareBtnPopup___Xmz0t",TB="share-popup-module__raichuPlayerShareScrollContainer___yCQfn",xB="share-popup-module__sharePopupWrapper___jJXVw",RB=(0,Jn.PA)((()=>{const{isSharePanelOpen:e,setActivePanel:n,currentTime:r,videoUrl:i,isLive:o,playOptions:a,pepper:s,onShare:l,isEmbed:u}=hb(),c=(0,t.useRef)(null),d=Math.round(r),h=(0,t.useMemo)((()=>{if(i)try{return new URL(i)}catch(e){return console.warn("share-popup:",e),{origin:"",pathname:""}}return{origin:"",pathname:""}}),[i]);return(0,Zn.Wr)(c,(()=>{c.current&&e&&n("")})),e?t.createElement("div",{className:xB},t.createElement("div",(0,ai.A)({ref:c,className:IB},Em.Ln),t.createElement("div",{className:TB},t.createElement(PB,{currentTime:d,url:window.location.origin,location:h.pathname,urlParams:(0,O.VZ)(H.B.isMobile),onClickOutside:()=>n(""),isMobile:H.B.isMobile,playOptions:a,showTimecode:!o,pepper:s,anchorRef:c,onShare:l,hideEmbedCode:Boolean(u)})))):null}));var LB;let OB,NB;class MB extends I.j8{static get ShareButton(){return null!==pt.ControlsPlugin&&void 0!==pt.ControlsPlugin&&pt.ControlsPlugin.IsNewControls?wM:vM}static get SharePopup(){return RB}constructor(e,t,n,r,i,o,a,s){super(),this._data=void 0,this._playback=void 0,this._appearance=void 0,this._controls=void 0,this._layout=void 0,this._counterHelper=void 0,this._isEmbed=void 0,this._banner=void 0,this.__pepper=P.sH.box(""),this._data=e,this._playback=t,this._appearance=n,this._controls=r,this._layout=i,this._counterHelper=a instanceof ol?a.counterHelper:void 0,this._isEmbed=o.value,this._banner=s,this.setActivePanel=this.setActivePanel.bind(this),this.onShare=this.onShare.bind(this),(0,P.Gn)(this,{pepper:P.EW})}get isShowingShareBtn(){const e=this._appearance.showShareButton&&this._isEmbed,t=this._appearance.showShareButton&&!this._isEmbed,n=this._layout.isTouchDevice&&t&&this._layout.isFullScreen,r=this._playback.ended&&!this._layout.isTouchDevice;return(e||n)&&!r}get isHidedShareBtn(){var e;return Boolean(null===(e=this._banner)||void 0===e?void 0:e.isShowBanner)}get isEmbed(){return this._isEmbed}get isSharePanelOpen(){return"share"===this._controls.activePanel}get title(){var e;return(null===(e=this._data)||void 0===e?void 0:e.title)||""}get videoUrl(){var e;return(null===(e=this._data)||void 0===e?void 0:e.videoUrl)||""}get currentTime(){return this._playback.currentTime}get playOptions(){var e;return null!==(e=this._data)&&void 0!==e&&e.data?this._data.data:null}get isLive(){var e;return Boolean(null===(e=this._data)||void 0===e?void 0:e.isLive)}get pepper(){return this.__pepper.get()}set pepper(e){this.__pepper.set(e)}get counterHelper(){return this._counterHelper}onShare(e){var t;null===(t=this._counterHelper)||void 0===t||t.get("mainSharingShare")({socialNetwork:e})}setActivePanel(e){this._controls.activePanel=e}}var DB,BB;let FB,HB,VB;var UB;let jB,WB,zB;LB=MB,[NB,OB]=(0,k.A)(LB,[(0,I.k_)({implement:"ISharePlugin",ctor_args:[{implement:"IDataPlugin",optional:!0},"IPlayback","IAppearancePlugin","IControlsPlugin","IVideoLayoutPlugin","IsEmbed",{implement:"IStatisticState",optional:!0},{implement:"ICommunicationBannerPlugin",optional:!0}]})],[],0,void 0,I.j8).c,OB(),new(BB=class extends I.j8{constructor(e,t,n,r){super(),this._data=e,this._playerSize=t,this._playback=n,this._isEmbedResolvable=r,(0,P.Gn)({isPosterVisible:P.EW,isPlayButtonVisible:P.EW})}get title(){return this._data.title||""}get thumbnailUrl(){return this._data.poster||""}get playerWidth(){var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}get isPosterVisible(){var e;const{isPlaying:t,wasStarted:n,waiting:r}=this._playback;return!t&&this._data.isTVStream&&!(n&&r)||"rtba"===(null===(e=this._data.data)||void 0===e?void 0:e.origin_type)&&this.thumbnailUrl}get isPlayButtonVisible(){return Boolean(this._playback.paused&&this._playback.wasStarted&&!this._playback.ended&&this._isEmbedResolvable.value)}},[VB,FB]=(0,k.A)(BB,[(0,I.k_)({implement:"IPosterPlugin",ctor_args:["IDataPlugin","IPlayerSizePlugin","IPlayback","IsEmbed"]})],[],0,void 0,I.j8).c,HB=BB,(DB=class extends ft{constructor(){super(VB),this.Poster=n_,FB()}})[HB]=void 0,DB);class GB extends I.j8{constructor(e,t,n){var r;super(),this._playbackPlugin=void jB(this),this._eventBus=void 0,this.config=n,this._eventBus=null!==(r=null==t?void 0:t.value)&&void 0!==r?r:va.Ug,this._playbackPlugin=e}init(){const e=(0,P.mJ)((()=>this._playbackPlugin.duration),(e=>{this._eventBus.emit(zi.L2.DURATION_CHANGE,{duration:e})})),t=this.subscribePlaybackEvent(ii.p.volumeChange,Yi((e=>{this._eventBus.emit(zi.L2.VOLUME_CHANGE,{volume:e,muted:this._playbackPlugin.muted})}),500)),n=this.subscribePlaybackEvent(ii.p.mute,(e=>{this._eventBus.emit(zi.L2.VOLUME_CHANGE,{volume:this._playbackPlugin.volume,muted:e})})),r=(0,P.mJ)((()=>this._playbackPlugin.buffering),this.handleBuffering.bind(this)),i=(0,P.mJ)((()=>({currentTime:this._playbackPlugin.currentTime,duration:this._playbackPlugin.duration})),(e=>{var t;return this._eventBus.emit(zi.L2.CURRENT_TIME,{videoId:null===(t=this.config)||void 0===t?void 0:t.get("videoId"),time:e.currentTime,currentTime:e.currentTime,duration:e.duration})})),o=(0,P.mJ)((()=>this._playbackPlugin.ended),(e=>{e&&this._endHandler()})),a=this.subscribePlaybackEvent(ii.p.error,(()=>{this._eventBus.emit(zi.L2.ERROR,{fatal:!1,type:"playback",message:"Some playback error"})}));return()=>[e,t,n,r,i,o,a].forEach((e=>e()))}handleBuffering(){const[e]=this._playbackPlugin.getBuffered();this._eventBus.emit(zi.L2.BUFFERING,{range:e})}subscribePlaybackEvent(e,t){return this._playbackPlugin.on(e,t),()=>{this._playbackPlugin.off(e,t)}}_endHandler(){this._eventBus.emit(zi.L2.PLAY_COMPLETE,{})}}UB=GB,({e:[jB],c:[zB,WB]}=(0,k.A)(UB,[(0,I.k_)({implement:"IAutoPostMessagesPlugin",ctor_args:["IPlayback",{implement:"EventBus",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0}]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),WB();let qB=function(e){return e.START="start",e.OPTIONS_REQUEST="options_request",e.BL_REQUEST="bl_request",e.PLAY_START="play_start",e.REWIND="rewind",e.PAUSE="pause",e.UNPAUSE="unpause",e.CHANGE_SM="change_sm",e.CHANGE_Q="change_q",e.CHANGE_QM="change_qm",e.CHANGE_V="change_v",e.TEN_SEC="10sec",e.A_REQUEST="a_request",e.A_START="a_start",e.A_END="a_end",e.END="end",e.BUFFERING_START="buffering_start",e.BUFFERING_END="buffering_end",e.ERROR="error",e}({});var KB;let YB,XB,QB;KB=class extends zB{constructor(e,t,n,r,i,o,a,s,l,u,c){super(e,c,a),this._providerPlugin=void YB(this),this._playOptions=void 0,this._statisticStore=void 0,this._layoutPlugin=void 0,this._advertPlugin=void 0,this._config=void 0,this._pip=void 0,this._cinema=void 0,this._fullscreen=void 0,this._playingHandled=!1,this._providerPlugin=t,this._layoutPlugin=i,this._playOptions=n,this._statisticStore=r,this._advertPlugin=o,this._config=a,this._pip=s,this._cinema=l,this._fullscreen=u}getCommonParameters(){return{currentTime:this._playbackPlugin.currentTime||0,duration:this._playbackPlugin.duration||0}}emit(e,t){this._eventBus.emit(e,(0,l.A)((0,l.A)({},this.getCommonParameters()),t))}initVideo(){const e=(0,P.mJ)((()=>this._playbackPlugin.isPlaying),(e=>{e&&!this._playingHandled&&(this.sendPlayStart(),this._playingHandled=!0)})),t=this.subscribeAdvertEvent(Va.load,this.handleAdvertLoad.bind(this)),n=this.subscribeAdvertEvent(Va.start,this.handleAdvertStart.bind(this)),r=this.subscribeAdvertEvent(Va.end,this.handleAdvertEnd.bind(this)),i=this.subscribeAdvertEvent(Va.skippable,this.handleAdvertSkippable.bind(this)),o=this.subscribeAdvertEvent(Va.error,this.handleAdvertError.bind(this));return()=>[e,t,n,r,i,o].forEach((e=>e()))}pipChangeState(){if(this._pip)return(0,P.mJ)((()=>{var e;return null===(e=this._pip)||void 0===e?void 0:e.isInPiP}),(e=>{this.emit(zi.L2.IS_IN_PIP,{isInPiP:Boolean(e)})}))}cinemaChangeState(){if(this._cinema)return(0,P.mJ)((()=>{var e;return null===(e=this._cinema)||void 0===e?void 0:e.isCinema}),(e=>{this.emit(zi.L2.IS_CINEMA,{isCinema:Boolean(e)})}))}fullscreenChangeState(){if(this._fullscreen)return(0,P.mJ)((()=>{var e;return null===(e=this._fullscreen)||void 0===e?void 0:e.isFullscreen}),(e=>{this.emit(zi.L2.IS_FULLSCREEN,{isFullscreen:Boolean(e)})}))}sendPlayStart(){var e,t,n;const r={video_id:this._config.get("videoId"),qa:this._providerPlugin.autoQuality,sm:this._layoutPlugin.playerMode,yclid:jn(),viewid:(null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.view_id)||"",user:this._config.get("userId")||"",cid:this._statisticStore.uuid,pid:this._statisticStore.guid||"",referer:(0,O.If)(),v:this._playbackPlugin.volume};var i,o;null!==(t=this._providerPlugin.activeQuality)&&void 0!==t&&t.width&&(r.q_w=null===(i=this._providerPlugin.activeQuality)||void 0===i?void 0:i.width);null!==(n=this._providerPlugin.activeQuality)&&void 0!==n&&n.height&&(r.q_h=null===(o=this._providerPlugin.activeQuality)||void 0===o?void 0:o.height);this._providerPlugin.type&&(r.tr=this._providerPlugin.type),this._statisticStore.followedLink&&(r.referral_rutube=this._statisticStore.followedLink),this.emit(zi.L2.PLAY_START,r)}handleAdvertSkippable(t){let{name:n,urlTemplate:r}=t;this.emit(zi.L2.AD_SKIPPABLE,{aformat:n,did:(0,e.kJ)(),videoId:this._config.get("videoId"),e:qB.A_REQUEST,axurl:r})}handleAdvertLoad(t){let{name:n,urlTemplate:r}=t;this.emit(zi.L2.AD_REQUEST,{aformat:n,did:(0,e.kJ)(),videoId:this._config.get("videoId"),e:qB.A_REQUEST,axurl:r})}handleAdvertError(t){let{name:n,urlTemplate:r,errorMessage:i}=t;this.emit(zi.L2.AD_ERROR,{aformat:n,did:(0,e.kJ)(),videoId:this._config.get("videoId"),e:qB.ERROR,axurl:r,errorMessage:i})}handleAdvertStart(t){let{name:n,urlTemplate:r}=t;this.emit(zi.L2.ROLL_STATE,{state:"play",type:n}),this.emit(zi.L2.AD_START,{aformat:n,did:(0,e.kJ)(),videoId:this._config.get("videoId"),e:qB.A_START,axurl:r})}handleAdvertEnd(t){let{name:n,urlTemplate:r}=t;this.emit(zi.L2.ROLL_STATE,{state:"complete",type:n}),this.emit(zi.L2.AD_END,{aformat:n,did:(0,e.kJ)(),videoId:this._config.get("videoId"),e:qB.A_END,axurl:r})}subscribeAdvertEvent(e,t){var n;return null===(n=this._advertPlugin)||void 0===n||n.on(e,t),()=>{var n;null===(n=this._advertPlugin)||void 0===n||n.off(e,t)}}},({e:[YB],c:[QB,XB]}=(0,k.A)(KB,[(0,I.k_)({implement:"IAutoPostMessagesPlugin",ctor_args:["IPlayback","IProviderPlugin",{implement:"IDataPlugin",optional:!0},"IStatisticValues","IVideoLayoutPlugin",{implement:"IAdvertPlugin",optional:!0},"IPlayerConfigPlugin",{implement:"PictureInPicturePlugin",optional:!0},{implement:"CinemaModePlugin",optional:!0},{implement:"IFullscreenPlugin",optional:!0},{implement:"EventBus",optional:!0}]})],[[(0,I.o7)(),2,"initVideo"],[(0,I.o7)(),2,"pipChangeState"],[(0,I.o7)(),2,"cinemaChangeState"],[(0,I.o7)(),2,"fullscreenChangeState"]],0,void 0,zB)),XB();const ZB="SCREEN_ORIENTATION_LOCK",JB=String(!0);function $B(e){if(!function(){var e;const t=navigator.userAgent.toLowerCase().includes("android"),n=Boolean(null===(e=window)||void 0===e||null===(e=e.screen.orientation)||void 0===e?void 0:e.lock);return t&&n}())return null;return window.screen.orientation.lock(e).then((()=>(fo.setItem(ZB,JB),!0))).catch((()=>!1))}var eF;let tF,nF,rF;class iF extends I.j8{constructor(e,t,n){super(),this._isFullscreen=(tF(this),P.sH.box(!1)),this._screenfullElement=P.sH.box(null),this._counterHelper=void 0,this._playback=e,this._pip=n,(0,P.Gn)(this,{screenfullElement:P.EW,isFullscreen:P.EW,handleFullscreen:P.XI,fullScreenEventListener:P.XI,iOsFullScreenListener:P.XI}),this.fullScreenEventListener=this.fullScreenEventListener.bind(this),this.iOsFullScreenListener=this.iOsFullScreenListener.bind(this),this.handleFullscreen=this.handleFullscreen.bind(this),this._counterHelper=t&&t instanceof ol?t.counterHelper:void 0,this.enterFullscreen=this.enterFullscreen.bind(this),this.exitFullscreen=this.exitFullscreen.bind(this)}init(){return T()?(this._playback.player.addEventListener("webkitbeginfullscreen",this.iOsFullScreenListener),this._playback.player.addEventListener("webkitendfullscreen",this.iOsFullScreenListener)):null!==gd()&&void 0!==gd()&&gd().isEnabled&&gd().on("change",this.fullScreenEventListener),()=>{T()?(this._playback.player.removeEventListener("webkitbeginfullscreen",this.iOsFullScreenListener),this._playback.player.removeEventListener("webkitendfullscreen",this.iOsFullScreenListener)):null!==gd()&&void 0!==gd()&&gd().isEnabled&&gd().off("change",this.fullScreenEventListener)}}fullScreenEventListener(){var e;this.screenfullElement&&document.fullscreenElement&&document.fullscreenElement!==this.screenfullElement||(this._isFullscreen.set(null===gd()||void 0===gd()?void 0:gd().isFullscreen),null===(e=this._counterHelper)||void 0===e||e.get("mainPlayerModeFullscreen")({isFullScreen:null===gd()||void 0===gd()?void 0:gd().isFullscreen}),this.handleFullscreenLock(null===gd()||void 0===gd()?void 0:gd().isFullscreen),this.handleFramelessMode(null===gd()||void 0===gd()?void 0:gd().isFullscreen))}iOsFullScreenListener(){var e;const t=this._playback.player,n=Boolean("webkitDisplayingFullscreen"in t&&t.webkitDisplayingFullscreen);this._isFullscreen.set(n),null===(e=this._counterHelper)||void 0===e||e.get("mainPlayerModeFullscreen")({isFullScreen:n}),this.handleFullscreenLock(n),this.handleFramelessMode(n)}handleFullscreen(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(!e&&(null===gd()||void 0===gd()||!gd().isFullscreen)||e&&!0===t){const e=this._playback.player;if(T()&&e.webkitEnterFullScreen)e.webkitEnterFullScreen();else if(null!==gd()&&void 0!==gd()&&gd().isEnabled&&this.screenfullElement){var n,r;if(null!==(n=this._pip)&&void 0!==n&&n.isInPiP)this._isFullscreen.set(!0),this._pip.exitFromPiP().then((()=>{var e;gd().request(null!==(e=this.screenfullElement)&&void 0!==e?e:void 0).catch((e=>console.warn(e)))}));else gd().request(null!==(r=this.screenfullElement)&&void 0!==r?r:void 0).catch((e=>console.warn(e)))}}else(!e&&gd().isFullscreen||e&&!1===t)&&this.exitFullscreen();e||va.Ug.emit(zi.L2.CHANGE_FULLSCREEN,{isFullScreen:gd().isFullscreen})}get isFullscreen(){return this._isFullscreen.get()}get screenfullElement(){return this._screenfullElement.get()}set screenfullElement(e){this._screenfullElement.set(e)}handleFullscreenLock(e){if(e){const{isVertical:e}=this._playback;!function(){$B(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"portrait":"landscape")}(e)}else fo.getItem(ZB)===JB&&(null===(t=window)||void 0===t||null===(t=t.screen)||void 0===t||null===(t=t.orientation)||void 0===t||t.unlock(),fo.removeItem(ZB));var t}handleFramelessMode(e){var t,n;e||(null===(t=(n=this._playback).toggleFramelessMode)||void 0===t||t.call(n,!1,!1))}async exitFullscreen(){if(this.isFullscreen)return gd().exit().catch((e=>console.warn(e)))}async enterFullscreen(){if(!this.isFullscreen){const n=this._playback.player;if(T()&&n.webkitEnterFullScreen)n.webkitEnterFullScreen();else if(null!==gd()&&void 0!==gd()&&gd().isEnabled&&this.screenfullElement){var e,t;return null!==(e=this._pip)&&void 0!==e&&e.isInPiP?this._pip.exitFromPiP().then((()=>{var e;gd().request(null!==(e=this.screenfullElement)&&void 0!==e?e:void 0).catch((e=>console.warn(e)))})):gd().request(null!==(t=this.screenfullElement)&&void 0!==t?t:void 0).catch((e=>console.warn(e)))}}}}eF=iF,({e:[tF],c:[rF,nF]}=(0,k.A)(eF,[(0,I.k_)({implement:"IFullscreenPlugin",ctor_args:["IPlayback",{implement:"IStatisticState",optional:!0},{implement:"PictureInPicturePlugin",optional:!0}]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),nF();const oF=async e=>{let{url:t}=e;const n=await fetch(t),r=await n.json();return 204===n.status?{message:Gf}:r};var aF,sF,lF;let uF,cF,dF,hF;new(lF=class extends(aF=AS){constructor(e,t,n,r,i){super(),this._invalidDefaultSeason=(uF(this),P.sH.box(!1)),this.counterHelper=void 0,this._next=null,this._previous=null,this._loadingDirection=P.sH.box(null),this._isEmbed=void 0,this.onClick=e=>{var t;this._seasons.updateCurrentSeason(),null===(t=this.counterHelper)||void 0===t||t.get("mainSeasonsClick")({clicked_url:e.video_url}),this.trackingLinks&&this._isEmbed?window.open(this.trackingLinks.generateTrackingLink({id:e.id,campaign:"serial"})):va.Ug.emit(zi.L2.RECOMMENDED_VIDEO,{video:e,resourceId:Xf})},this._config=t,this._seasons=n,this.trackingLinks=r,this._isEmbed=e.value,this.counterHelper=i&&i instanceof ol?i.counterHelper:void 0,(0,P.Gn)(this,{selectedSeason:P.EW,invalidDefaultSeason:P.EW,loadingDirection:P.EW,onClick:P.XI,loadPrev:P.$Z,loadNext:P.$Z,loadItems:P.$Z})}init(){return(0,P.mJ)((()=>({currentSeason:this._seasons.selectedSeason,videoId:this._config.get("videoId")})),(()=>{(0,P.h5)((async()=>{this.cleanCollection(),await this.loadItems()}))}))}cleanCollection(){this.items=[],this.hasNext=!1,this.hasPrev=!1,this.loadedPages=[],this.loadingDirection=null}async loadItems(){try{this.loading.status=!0;const e=await this.fetch();(0,P.h5)((()=>{"detail"in e||"message"in e?this.error="message"in e?e.message:zf:(this.error=null,this.items=e.results,this.hasPrev=Boolean(e.has_previous),this.hasNext=Boolean(e.has_next),this.next=e.next,this.previous=e.previous,this.loadedPages.push(e.page))}))}catch(e){(0,P.h5)((()=>{this.error=zf}))}finally{(0,P.h5)((()=>{this.loading.status=!1}))}return Boolean(!this.error)}async loadNext(){if(null!==this.next){this.loading.status=!0,this.loadingDirection="next";try{const e=await oF({url:this.next});(0,P.h5)((()=>{"message"in e?this.error=e.message:(this.items=[...this.items,...e.results],this.hasNext=Boolean(e.has_next),this.next=e.next)}))}catch(e){(0,P.h5)((()=>{this.error=zf}))}finally{(0,P.h5)((()=>{this.loading.status=!1}))}}}async loadPrev(){if(null!==this.previous){this.loading.status=!0,this.loadingDirection="prev";try{const e=await oF({url:this.previous});(0,P.h5)((()=>{"message"in e?this.error=e.message:(this.items=[...e.results,...this.items],this.hasPrev=Boolean(e.has_previous),this.previous=e.previous)}))}catch(e){(0,P.h5)((()=>{this.error=zf}))}finally{(0,P.h5)((()=>{this.loading.status=!1}))}}}get isEmbed(){return this._isEmbed}set next(e){this._next=e}get next(){return this._next}set previous(e){this._previous=e}get previous(){return this._previous}get selectedSeason(){return this._seasons.selectedSeason}set selectedSeason(e){this._seasons.selectedSeason=e}get invalidDefaultSeason(){return this._invalidDefaultSeason.get()}set invalidDefaultSeason(e){this._invalidDefaultSeason.set(e)}set loadingDirection(e){this._loadingDirection.set(e)}get loadingDirection(){return this._loadingDirection.get()}fetch(){if(null===this.selectedSeason)throw new Error("Invalid params to fetch episodes");return(async e=>{let{videoId:t,season:n,offset:i,limit:o=10}=e;const a=(0,r.Kj)({limit:o,offset:i}),s=await fetch("".concat(tv(),"/serial/").concat(t,"/").concat(n,"/?").concat(a.toString())),l=await s.json();return 204===s.status?{message:Gf}:l})({season:this.selectedSeason,limit:19,offset:-2,videoId:this._config.get("videoId")})}},({e:[uF],c:[hF,cF]}=(0,k.A)(lF,[(0,I.k_)({implement:"ISeasonsEpisodesPlugin",ctor_args:["IsEmbed","IPlayerConfigPlugin","ISeasonsPlugin",{implement:"ITrackingLinksPlugin",optional:!0},"IStatisticState"]})],[[(0,I.o7)(),2,"init"]],0,void 0,aF)),dF=lF,(sF=class extends ft{constructor(){super(hF),this.useSeasonsEpisodes=()=>(0,fr.Ks)("ISeasonsEpisodesPlugin"),this.getSeasonsEpisodes=e=>e("ISeasonsEpisodesPlugin"),cF()}})[dF]=void 0,sF);const pF=()=>(0,fr.Ks)("ISeasonsPlugin"),mF=()=>(0,fr.Ks)("ISeasonsViewPlugin"),vF=()=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},t.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M6.62 7c0-.21.17-.38.38-.38h13c.21 0 .38.17.38.38v8c0 .2-.17.38-.38.38h-1.76V10.4c0-.9-.73-1.62-1.62-1.62h-10V7ZM5.38 8.78V7c0-.9.73-1.62 1.62-1.62h13c.9 0 1.62.72 1.62 1.62v8c0 .9-.73 1.62-1.62 1.62h-1.76v1.81c0 .9-.73 1.62-1.62 1.62h-12c-.9 0-1.62-.72-1.62-1.62V10.4c0-.9.73-1.62 1.62-1.62h.76Zm-.76 1.24a.38.38 0 0 0-.38.38v8.03c0 .21.17.38.38.38h12c.21 0 .38-.17.38-.38V10.4a.38.38 0 0 0-.38-.38h-12Zm7.87 4.84c.12-.09.2-.23.2-.4 0-.15-.08-.3-.2-.39l-2.12-1.52a.41.41 0 0 0-.45-.03.48.48 0 0 0-.24.42V16c0 .18.1.34.24.42.14.08.31.08.45-.02l2.12-1.53Zm-1.93.25v-1.28l.89.64-.89.64Z",clipRule:"evenodd"})),_F="seasons-toggle-button-module__wrapper___B2sYK",fF="seasons-toggle-button-module__button___cOhB0",gF="seasons-toggle-button-module__label___yR_fr",bF="seasons-toggle-button-module__isVisible___DHVDL",yF="seasons-toggle-button-module__isFullscreen___klPK_",EF="Ð¡ÐµÐ·Ð¾Ð½Ñ‹ Ð¸ ÑÐµÑ€Ð¸Ð¸",wF=t.createElement(t.Fragment,null,"Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ ÑÐµÑ€Ð¸ÑŽ Ð¸Ð»Ð¸ ÑÐµÐ·Ð¾Ð½",t.createElement("br",null),"Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‚ÑƒÑ‚"),SF=(0,Jn.PA)((0,t.forwardRef)(((e,n)=>{let{buttonSize:r}=e;const i=(0,Zn.Ju)(),o=mF(),{isWidgetVisible:a,isToggleLabelVisible:s,isFullscreen:l,size:u}=mF(),{hasSeasons:c}=pF(),{activeOnboarding:d,isShowOnboarding:h}=cw()||{},p=(null==u?void 0:u.width)||0,m="seasons"===d&&h,v=(0,t.useRef)(null);return(0,t.useEffect)((()=>{o.onShowToggleButton()}),[]),c?t.createElement("div",{ref:v,className:_F},t.createElement(ss.r,{ref:n,"data-testid":"ui-seasons",tabIndex:0,role:"button","aria-label":(0,as.T)("ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ".concat(EF)),"aria-expanded":a,"aria-controls":"raichuSeasonsPanel",action:"seasons",icon:vF,onClick:()=>{a?o.hide():o.show()},tooltipTitle:t.createElement("div",null,EF),tooltipPlacement:"top",tooltipZIndex:wn.m_.ControlsTooltipZIndex,label:t.createElement("div",{className:er()(gF,{[bF]:s,[yF]:l})},EF),size:r,className:m?fF:void 0}),m&&t.createElement(Yw,{isTouchDevice:i,playerWidth:p,wrapperRef:v,title:wF})):null}))),AF=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsCategorySerials",__value:'<path fill="currentColor" d="m8.975 11.417 3.394 2.262c.1.066.186.124.25.177a.56.56 0 0 1 .178.217.54.54 0 0 1 0 .411.56.56 0 0 1-.177.217c-.065.053-.152.11-.25.177L8.974 17.14a4 4 0 0 1-.31.196.6.6 0 0 1-.307.085.54.54 0 0 1-.396-.212.57.57 0 0 1-.1-.302 4 4 0 0 1-.008-.353v-4.537c0-.146 0-.27.009-.367a.6.6 0 0 1 .1-.302.54.54 0 0 1 .395-.212.57.57 0 0 1 .307.085c.086.046.19.115.31.196" /><path fill="currentColor" fill-rule="evenodd" d="M5.442 7.044c0-2.395 1.942-4.442 4.337-4.442h8.884A4.337 4.337 0 0 1 23 6.94v5.68c0 2.28-1.857 4.157-4.093 4.331 0 2.395-1.942 4.448-4.337 4.448H5.337A4.337 4.337 0 0 1 1 17.06v-5.68c0-2.395 2.047-4.337 4.442-4.337m2.01 0c0-1.284 1.042-2.43 2.327-2.43h8.884a2.326 2.326 0 0 1 2.326 2.325v5.68c0 1.16-.971 2.141-2.082 2.316V11.38a4.337 4.337 0 0 0-4.337-4.337zM3.011 11.38a2.326 2.326 0 0 1 2.326-2.326h9.233a2.326 2.326 0 0 1 2.326 2.326v5.68a2.326 2.326 0 0 1-2.326 2.326H5.337a2.326 2.326 0 0 1-2.326-2.326z" clip-rule="evenodd" /><path fill="currentColor" fill-rule="evenodd" d="M5.442 7.044c0-2.395 1.942-4.442 4.337-4.442h8.884A4.337 4.337 0 0 1 23 6.94v5.68c0 2.28-1.857 4.157-4.093 4.331 0 2.395-1.942 4.448-4.337 4.448H5.337A4.337 4.337 0 0 1 1 17.06v-5.68c0-2.395 2.047-4.337 4.442-4.337m2.01 0h7.118a4.337 4.337 0 0 1 4.337 4.337v3.554c1.11-.175 2.082-1.156 2.082-2.316v-5.68a2.326 2.326 0 0 0-2.326-2.326H9.779c-1.285 0-2.326 1.147-2.326 2.431M5.338 9.055a2.326 2.326 0 0 0-2.326 2.326v5.68a2.326 2.326 0 0 0 2.326 2.326h9.233a2.326 2.326 0 0 0 2.326-2.326v-5.68a2.326 2.326 0 0 0-2.326-2.326zm7.032 4.624-3.394-2.262a4 4 0 0 0-.31-.196.57.57 0 0 0-.307-.085.54.54 0 0 0-.396.212.6.6 0 0 0-.1.302 4 4 0 0 0-.008.367v4.537c0 .14 0 .259.009.353.009.099.03.21.1.302a.53.53 0 0 0 .395.212.6.6 0 0 0 .307-.085 4 4 0 0 0 .31-.196l3.394-2.262c.1-.066.186-.124.25-.177a.56.56 0 0 0 .178-.217.54.54 0 0 0 0-.41.56.56 0 0 0-.177-.218 4 4 0 0 0-.25-.177" clip-rule="evenodd" />'})),CF=(0,t.forwardRef)(AF),kF="seasons-toggle-button-module__wrapper___lY6GQ",PF="seasons-toggle-button-module__button___YjLPi",IF="seasons-toggle-button-module__label___msE3m",TF="seasons-toggle-button-module__S___XOHUe",xF="seasons-toggle-button-module__M___gzO26",RF="seasons-toggle-button-module__L____xecG",LF="seasons-toggle-button-module__isVisible___pKDEz",OF="seasons-toggle-button-module__isFullscreen___YXIqP",NF="Ð¡ÐµÐ·Ð¾Ð½Ñ‹ Ð¸ ÑÐµÑ€Ð¸Ð¸",MF=t.createElement(t.Fragment,null,"Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ ÑÐµÑ€Ð¸ÑŽ Ð¸Ð»Ð¸ ÑÐµÐ·Ð¾Ð½",t.createElement("br",null),"Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‚ÑƒÑ‚"),DF=(0,Jn.PA)((0,t.forwardRef)(((e,n)=>{const r=(0,Zn.Ju)(),i=mF(),{isWidgetVisible:o,isToggleLabelVisible:a,isFullscreen:s,size:l}=mF(),{iconSizeValue:u,tabIndex:c,isShowPreview:d,container:h}=(0,pt.useControls)(),{hasSeasons:p}=pF(),m=(null==l?void 0:l.width)||0,{activeOnboarding:v,isShowOnboarding:_,hideOnboarding:f,onboardingTour:g}=cw()||{},b="seasons"===v&&_&&(!d||!r),y=(0,t.useRef)(null);if((0,t.useEffect)((()=>{i.onShowToggleButton()}),[]),!p)return null;const E=t.createElement(Uh.S,{ref:n,"data-testid":"ui-seasons",tabIndex:c,role:"button","aria-label":(0,as.T)("ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ".concat(NF)),"aria-expanded":o,"aria-controls":"raichuSeasonsPanel",action:"seasons",onClick:()=>{o?i.hide():i.show()},tooltipTitle:NF,label:H.B.isMobile?null:t.createElement("div",{className:er()(IF,{[LF]:a,[OF]:s,[TF]:"S"===u,[xF]:"M"===u,[RF]:"L"===u})},NF),size:u,className:b&&!pt.ControlsPlugin.isCurrentRedesignStageAvailable?PF:void 0},t.createElement(CF,null));return t.createElement("div",{ref:y,className:kF},pt.ControlsPlugin.isCurrentRedesignStageAvailable&&g?t.createElement(g,{active:Boolean(b),onActiveChange:e=>(e=>{e||null==f||f()})(e),overlay:"none",finishButtonText:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"},t.createElement(g.Step,{index:1,tooltipProps:{placement:m<hS?"bottom":"top-end",placementSequence:m<hS?["bottom","bottom-end","bottom-start"]:["top-end"],container:h}},t.createElement(g.Anchor,null,t.createElement("div",null,E)),t.createElement(g.Content,{heading:NF,description:MF}))):t.createElement(t.Fragment,null,E,b&&t.createElement(Yw,{isTouchDevice:r,playerWidth:m,wrapperRef:y,title:MF})))}))),BF=e=>{let{listRef:n,items:r,loadingDirection:i,direction:o}=e;const a=(0,t.useRef)(0),s="vertical"===o?"scrollHeight":"scrollWidth",l="vertical"===o?"scrollTop":"scrollLeft";(0,t.useLayoutEffect)((()=>{"prev"===i&&a.current&&n.current&&(n.current[l]=n.current[s]-a.current)}),[r,i,n,s,l]);return{handleScroll:()=>{const e=null==n?void 0:n.current;e&&(a.current=e[s]-e[l])}}},FF="shared-module__panel___pJscd",HF="shared-module__panelHidden___PHl8j",VF="shared-module__panelList___LOBfq",UF="shared-module__panelItem___TULYV",jF="shared-module__panelItemStretched___XC5Bg",WF="shared-module__panelItemHover___rnO0N",zF="shared-module__panelError___PaTPG",GF="shared-module__header___Ftk4s",qF="shared-module__close___omwb6",KF="shared-module__icon___ndIbd",YF="episodes-list-module__back___pekd1",XF=e=>{let{hasNext:n,loading:r,loadMore:i}=e;const o=(0,t.useRef)(null),a=(0,t.useCallback)((e=>{var t,a;o.current&&(null===(t=o.current)||void 0===t||t.disconnect());e&&n&&!r&&(o.current=new IntersectionObserver((e=>{var t;null!==(t=e[0])&&void 0!==t&&t.isIntersecting&&i()}),{threshold:0,rootMargin:"100%"}),null===(a=o.current)||void 0===a||a.observe(e))}),[n,r,i]);return(0,t.useEffect)((()=>()=>{var e;o.current&&(null===(e=o.current)||void 0===e||e.disconnect())}),[]),a},QF=(e,t)=>{if(!e||!t||e<0||t<0)return 0;if(e>=t)return 100;return(e<100?100:e)/t*100},ZF=398,JF=(0,Jn.PA)((e=>{let{maxHeight:n=ZF}=e;const r=hw().get("videoId"),i=mF(),{isWidgetVisible:o,dropdownPanel:a,hide:s}=i,l=o&&"episodes"===a,u=hF.useSeasonsEpisodes(),{items:c,error:d,loading:h,hasPrev:p,hasNext:m,scrollToCurrent:v,isEmpty:_,selectedSeason:f,loadingDirection:g,loadPrev:b,loadNext:y,onClick:E}=u,w=(0,t.useRef)(null),S=(0,t.useRef)(null),[,A]=(0,t.useState)(!1),C=XF({hasNext:p,loading:h.status,loadMore:b}),k=XF({hasNext:m,loading:h.status,loadMore:y}),{viewedItems:P,resetViewed:I}=Xb({wrapper:w.current,items:c,enabled:!_,options:{rootMargin:"0px 0px 165px 0px"}}),{handleScroll:T}=BF({listRef:S,items:c,loadingDirection:g,direction:"vertical"});return(0,t.useEffect)((()=>{l||I()}),[l,I]),(0,t.useEffect)((()=>{if(!_&&i.scrollToCurrent){var e,t;const o=(null===(e=S.current)||void 0===e?void 0:e.querySelector('[data-id="'.concat(r,'"]')))||(null===(t=S.current)||void 0===t?void 0:t.querySelector("[data-id]"));var n;if(o)null===(n=S.current)||void 0===n||n.scrollTo({top:o.offsetTop});i.scrollToCurrent=!1}}),[_,i.scrollToCurrent]),Xx({listRef:w,enabled:l,items:c}),t.createElement("div",{className:er()(FF,{[HF]:!l}),ref:e=>{w.current=e,e&&A(!0)},"aria-hidden":!l,"aria-disabled":!l},t.createElement("div",{className:er()(jF,GF)},t.createElement("button",{tabIndex:0,className:YF,onClick:()=>{i.dropdownPanel="seasons"},"aria-label":"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ðº ÑÐ¿Ð¸ÑÐºÑƒ ÑÐµÐ·Ð¾Ð½Ð¾Ð²"},t.createElement(Pu,null),t.createElement("span",null,"".concat(f||0," ÑÐµÐ·Ð¾Ð½"))),t.createElement(ss.r,{tabIndex:0,className:qF,icon:Gg,onClick:s,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐµÐ·Ð¾Ð½Ñ‹ Ð¸ ÑÐµÑ€Ð¸Ð¸","data-close":"true"})),t.createElement("div",{ref:S,className:VF,style:{maxHeight:Math.min(n,ZF)},onScroll:T},h&&_?t.createElement(gy,{count:3,loading:!0,mode:"vertical_list",className:UF}):t.createElement(t.Fragment,null,!v&&p&&t.createElement("div",{ref:C,"aria-hidden":!0},t.createElement(gy,{count:1,loading:"prev"===h.direction,mode:"vertical_list",className:UF})),c.map((e=>t.createElement(Kb,{key:e.id,id:e.id,title:"".concat(e.episode||0," ÑÐµÑ€Ð¸Ñ"),description:e.title,descriptionRows:3,thumbnailUrl:e.thumbnail_url,age:e.pg_rating.age,duration:(0,__.a3)({value:e.duration}),progress:QF(e.view_position||0,e.duration),className:er()(UF,WF),hidden:!P[e.id],mode:"vertical_list",ariaLabel:e.id===r?qf:"".concat(e.episode||0," ÑÐµÑ€Ð¸Ñ").concat(null!==f?" ".concat(f," ÑÐµÐ·Ð¾Ð½"):""),currentLabel:e.id===r?qf:"",onClick:()=>{E(e),s()}}))),!v&&m&&t.createElement("div",{ref:k,"aria-hidden":!0},t.createElement(gy,{count:1,loading:"next"===h.direction,mode:"vertical_list",className:UF})),!_&&d&&t.createElement("div",{className:er()(UF,zF)},d))))})),$F="seasons-list-module__seasonsItem___Jd7o0",eH=390,tH=(0,Jn.PA)((e=>{let{maxHeight:n=eH}=e;const r=pF(),i=mF(),{selectedSeason:o,currentSeason:a,seasons:s}=r,{isDropdownPanelSeason:l}=i,u=(0,t.useRef)(null),c=(0,t.useRef)(null);Xx({listRef:u,enabled:l}),(0,t.useEffect)((()=>{if(l&&u.current&&c.current){u.current.focus();const e=c.current.querySelector('[data-current-season="true"]')||c.current.querySelector("button");e&&c.current.scrollTo({top:e.offsetTop})}}),[l]);return t.createElement("div",{ref:u,className:er()(FF,{[HF]:!l}),"aria-hidden":!l,"aria-disabled":!l,tabIndex:0},t.createElement("div",{className:er()(UF,jF,GF)},t.createElement("span",null,"Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐµÐ·Ð¾Ð½Ð°"),t.createElement(ss.r,{className:qF,icon:Gg,onClick:i.hide,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐµÐ·Ð¾Ð½Ñ‹ Ð¸ ÑÐµÑ€Ð¸Ð¸","data-close":"true"})),t.createElement("div",{ref:c,className:VF,style:{maxHeight:Math.min(n,eH)}},s.map((e=>t.createElement("button",{key:e.number,"aria-label":"".concat(e.number," ÑÐµÐ·Ð¾Ð½").concat(o===e.number?" Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹":""),className:er()(UF,WF,jF,$F),"data-current-season":o===e.number,onClick:()=>(e=>{i.dropdownPanel="episodes",r.selectedSeason=e.number})(e)},t.createElement("span",null,e.number," ÑÐµÐ·Ð¾Ð½"),a===e.number&&t.createElement("span",{className:KF},t.createElement(hi,null)))))))})),nH="dropdown-panel-module__wrapper___uuWoz",rH="dropdown-panel-module__wrapperInner___C82Wo",iH="dropdown-panel-module__showEpisodes___r_IP5",oH=(0,Jn.PA)((()=>{const e=(0,t.useRef)(null),{size:n,dropdownPanel:r}=mF(),{controlBlockHeight:i}=(0,pt.useControls)(),o=null!=n&&n.height?n.height-(i+40):void 0;return t.createElement("div",(0,ai.A)({className:nH,id:Kf},Em.Ln,{onMouseDown:e=>{e.preventDefault()}}),t.createElement("div",{ref:e,className:er()(rH,{[iH]:"episodes"===r})},t.createElement(tH,{maxHeight:o}),t.createElement(JF,{maxHeight:o})),t.createElement("div",{tabIndex:0,onFocus:()=>{var t;const n=null===(t=e.current)||void 0===t?void 0:t.querySelectorAll("button[data-close]")["seasons"===r?0:1];n&&n.focus()}}))})),aH=(0,Jn.PA)((e=>{let{buttonSize:n}=e;const r=mF(),{isWidgetVisible:i,size:o,coordinates:a}=r,s=(0,Fr._)(),l=(0,t.useMemo)((()=>({placement:"top",modifiers:[{name:"offset",options:{offset:[0,pt.ControlsPlugin.IsNewControls?48:23]}},{name:"preventOverflow",options:{boundary:s||document.body}},{name:"flip",options:{flipVariations:!1,fallbackPlacements:["top"]}}]})),[s]);return t.createElement(oL,{popperOptions:l,visible:i,hidePanel:()=>{r.hide()},renderButton:e=>pt.ControlsPlugin.IsNewControls?t.createElement(DF,{ref:e,buttonSize:n}):t.createElement(SF,{ref:e,buttonSize:n}),renderPanel:()=>t.createElement(oH,null),size:o,coordinates:a})})),sH=(0,Jn.PA)((e=>{let{buttonSize:n}=e;const{viewMode:r}=mF(),{hasSeasons:i}=pF();return i?"fullscreen"===r?t.createElement(SF,{buttonSize:n}):t.createElement(aH,{buttonSize:n}):null})),lH=(0,Jn.PA)((e=>{const{viewMode:n}=mF(),{hasSeasons:r}=pF(),{iconSizeValue:i}=(0,pt.useControls)();return r?"fullscreen"===n?t.createElement(DF,{buttonSize:i}):t.createElement(aH,{buttonSize:i}):null})),uH="episodes-list-module__noScrollbar___FnPh4",cH="episodes-list-module__episodes___b6CkE",dH="episodes-list-module__episodesInner___yllCO",hH="episodes-list-module__noScroll___MbhUY",pH="episodes-list-module__episodesItem___EiLDC",mH="episodes-list-module__episodesPrevLoader___Kampf",vH="episodes-list-module__error___ph4uq",_H=(0,Jn.PA)((e=>{let{visible:n}=e;const r=hw().get("videoId"),i=mF(),o=hF.useSeasonsEpisodes(),{items:a,error:s,loading:l,hasPrev:u,hasNext:c,scrollToCurrent:d,loadPrev:h,loadNext:p,isEmpty:m,selectedSeason:v,onClick:_}=o,[f,g]=(0,t.useState)(!1),b=(0,t.useRef)(null),{handleScroll:y}=BF({listRef:b,items:a,loadingDirection:l.direction,direction:"horizontal"}),E=XF({hasNext:u,loading:l.status,loadMore:h}),w=XF({hasNext:c,loading:l.status,loadMore:p}),{viewedItems:S,resetViewed:A}=Xb({wrapper:b,items:a,enabled:!m&&f,options:{rootMargin:"100%"}});return(0,t.useEffect)((()=>{A()}),[v,A]),(0,t.useEffect)((()=>{m&&g(!1)}),[m]),(0,t.useEffect)((()=>{var e,t;const n=(null===(e=b.current)||void 0===e?void 0:e.querySelector('[data-id="'.concat(r,'"]')))||(null===(t=b.current)||void 0===t?void 0:t.querySelector("[data-id]"));if(n&&b.current){const e=parseInt(window.getComputedStyle(b.current).paddingLeft,10);b.current.scrollTo({left:n.offsetLeft-e})}i.scrollToCurrent=!1}),[i.scrollToCurrent]),t.createElement("div",{className:cH},m&&l.status?t.createElement(jo,null):t.createElement(t.Fragment,null,m?t.createElement("div",{className:vH},s):t.createElement("div",{ref:e=>{b.current=e,e&&g(!0)},className:er()(uH,dH,{[hH]:!n}),onScroll:y},u&&t.createElement("div",{ref:d?void 0:E,className:er()(pH,mH),style:{gridColumnGap:"".concat(8,"px")}},t.createElement(gy,{count:1,loading:"prev"===l.direction,mode:"horizontal_list",className:pH,width:"100%"})),a.map((e=>t.createElement(Kb,{key:e.id,id:e.id,title:"".concat(e.episode||0," ÑÐµÑ€Ð¸Ñ"),description:e.title,descriptionRows:2,thumbnailUrl:e.thumbnail_url,age:e.pg_rating.age,duration:(0,__.a3)({value:e.duration}),progress:QF(e.view_position||0,e.duration),className:pH,hidden:!S[e.id],mode:"horizontal_list",ariaLabel:e.id===r?qf:"".concat(e.episode||0," ÑÐµÑ€Ð¸Ñ").concat(null!==v?" ".concat(v," ÑÐµÐ·Ð¾Ð½"):""),currentLabel:e.id===r?qf:"",onClick:()=>{_(e),i.hide()}}))),!d&&c&&t.createElement(t.Fragment,null,t.createElement("div",{ref:w}),"next"===l.direction&&t.createElement(gy,{count:19,loading:!0,mode:"horizontal_list",className:pH})))))})),fH="seasons-fullscreen-module__fullSizeOverlay___bPunR",gH="seasons-fullscreen-module__wrapper___vrs7G",bH="seasons-fullscreen-module__fadeIn___qeswH",yH="seasons-fullscreen-module__hidden___l1okr",EH="seasons-fullscreen-module__wrapperInner___i1ti_",wH="seasons-fullscreen-module__btnClose___pTgmB",SH="seasons-list-module__noScrollbar___Hor5S",AH="seasons-list-module__seasons___xRzhB",CH="seasons-list-module__noScroll____s77C",kH="seasons-list-module__seasonsItem___kO9xI",PH="seasons-list-module__disabled___b3rQ2",IH=(0,Jn.PA)((e=>{let{visible:n}=e;const r=mF(),i=pF(),{seasons:o,currentSeason:a}=i,s=(0,t.useRef)(null),l=(0,t.useRef)(null),u=(0,t.useCallback)((e=>{if(!s.current)return;const t=e.offsetLeft,n=e.offsetLeft+e.offsetWidth,r=s.current.scrollLeft,i=s.current.scrollLeft+s.current.offsetWidth-140,o=parseInt(window.getComputedStyle(s.current).paddingLeft,10);let a=0;n>i?a=r+n-i:t<r&&(a=Math.min(t-40,0)),s.current.scroll({left:a-o})}),[]),c=e=>{u(e.target)},d=(0,t.useCallback)((e=>{const t=Number(e.target.id);i.currentSeason=t,i.selectedSeason=t}),[i]);return(0,t.useEffect)((()=>{if(r.scrollToCurrent){if(s.current){const t=s.current.querySelector('[data-current-season="true"]')||s.current.querySelector("button");var e;if(t)null===(e=s.current)||void 0===e||e.scrollTo({left:t.offsetLeft})}r.scrollToCurrent=!1}}),[r]),t.createElement("div",{ref:s,className:er()(SH,AH,{[CH]:!n}),onScroll:()=>{var e;s.current&&l.current&&(null===(e=s.current)||void 0===e||e.scrollTo({left:l.current.offsetLeft}))}},o.map((e=>t.createElement("button",{key:e.number,id:String(e.number),"data-current-season":a===e.number,"aria-label":"".concat(e.number," ÑÐµÐ·Ð¾Ð½").concat(a===e.number?" Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹":""),tabIndex:0,className:er()(kH,{[PH]:a===e.number}),onClick:d,onFocus:c},e.number," ÑÐµÐ·Ð¾Ð½"))))})),TH=(0,Jn.PA)((()=>{const e=(0,t.useRef)(null),n=(0,t.useRef)(null),{isWidgetVisible:r,hide:i,size:o}=mF(),{tabIndex:a}=(0,pt.useControls)(),s=Math.min(Math.ceil(((null==o?void 0:o.width)||0)/zi.$c),(null==o?void 0:o.height)||0),{fadeIn:l,setFadeIn:u,isAnimating:c}=(e=>{let{defaultValue:n,time:r,onStart:i,onEnd:o}=e;const[a,s]=(0,t.useState)(n),[l,u]=(0,t.useState)(!1);return Yb((()=>{let e=setTimeout((()=>{u(!1),o&&o(!0),e=null}),r);return u(!0),i&&i(),()=>{e&&(clearTimeout(e),o&&o(!1))}}),[a]),{isAnimating:l,fadeIn:a,setFadeIn:s}})({defaultValue:r,time:200,onEnd:()=>{l||i()}}),d=(0,t.useCallback)((e=>{e.stopPropagation()}),[]);return(0,t.useEffect)((()=>{u(r),r&&setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}),200)}),[r,u]),t.createElement("div",{tabIndex:a,role:"document","aria-label":"Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐµÐ·Ð¾Ð½Ð° Ð¸ ÑÐµÑ€Ð¸Ð¸",ref:e,id:Kf},t.createElement("div",(0,ai.A)({className:er()(gH,fH,{[yH]:!r,[bH]:l})},Em.aQ,{onTouchEnd:d}),t.createElement("div",{className:EH,style:{height:"".concat(s,"px")}},t.createElement(ss.r,{ref:n,tabIndex:0,className:er()(wH),icon:Gg,onClick:()=>{u(!1);const e=document.querySelector('button[aria-controls="'.concat(Kf,'"]'));e&&e.focus()},"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ ÑÐµÐ·Ð¾Ð½Ñ‹ Ð¸ ÑÐµÑ€Ð¸Ð¸"}),t.createElement(IH,{visible:l&&!c}),t.createElement(_H,{visible:l&&!c}))),t.createElement("div",{tabIndex:0,onFocus:()=>{var t;const r=null===(t=e.current)||void 0===t||null===(t=t.querySelector('[data-current-season="true"]'))||void 0===t?void 0:t.nextElementSibling;var i;r?(r.click(),r.focus()):null===(i=n.current)||void 0===i||i.focus()}}))})),xH=(0,Jn.PA)((()=>{const{viewMode:e}=mF();return"fullscreen"===e?t.createElement(TH,null):null}));var RH,LH;let OH,NH,MH,DH;var BH;let FH,HH,VH;new(LH=class extends I.j8{static get SeasonsWidget(){return pt.ControlsPlugin.IsNewControls?lH:sH}constructor(e){super(),this._error=(OH(this),P.sH.box("")),this._loading=P.sH.box(!1),this._seasons=P.sH.box([]),this._selectedSeason=P.sH.box(null),this._currentSeason=P.sH.box(null),this._config=e,(0,P.Gn)(this,{error:P.EW,loading:P.EW,seasons:P.EW,handleSuccess:P.XI,handleError:P.XI,fetchSeasons:P.XI,resetSeasons:P.XI,selectedSeason:P.EW,currentSeason:P.EW}),this.fetchSeasons=this.fetchSeasons.bind(this)}refetchSeasons(){return(0,P.mJ)((()=>this._config.get("videoId")),(()=>{this.fetchSeasons()}))}init(){this.fetchSeasons()}fetchSeasons(){this.resetSeasons(),this.loading=!0,(async e=>{let{videoId:t}=e;const n=await fetch("".concat(tv(),"/serial/").concat(t));return 204===n.status?{message:"Ð¡ÐµÑ€Ð¸Ð¹Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½"}:await n.json()})({videoId:this._config.get("videoId")}).then((e=>{"message"in e?this.handleError():this.handleSuccess(e)})).catch((()=>this.handleError()))}handleSuccess(e){const t=e.current_season;this._selectedSeason.set(t),this._currentSeason.set(t),this._seasons.set(e.results),this.loading=!1}handleError(e){this._error.set(e||zf),this.loading=!1}updateCurrentSeason(){this.currentSeason=this.selectedSeason}resetSeasons(){this.error="",this.selectedSeason=null,this.currentSeason=null,this._seasons.set([])}set loading(e){this._loading.set(e)}get loading(){return this._loading.get()}get error(){return this._error.get()}set error(e){this._error.set(e)}set selectedSeason(e){this._selectedSeason.set(e)}get selectedSeason(){return this._selectedSeason.get()}set currentSeason(e){this._currentSeason.set(e)}get currentSeason(){return this._currentSeason.get()}get seasons(){return this._seasons.get()}get hasSeasons(){return null!==this.selectedSeason&&this.seasons.length}},({e:[OH],c:[DH,NH]}=(0,k.A)(LH,[(0,I.k_)({implement:"ISeasonsPlugin",ctor_args:["IPlayerConfigPlugin"]})],[[(0,I.o7)(),2,"refetchSeasons"],[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),MH=LH,(RH=class extends ft{constructor(){super(DH),this.SeasonsFullScreen=xH,NH()}})[MH]=void 0,RH);class UH extends I.j8{constructor(e,t,n,r,i,o,a,s,l){super(),this._isWidgetVisible=(FH(this),P.sH.box(!1)),this._dropdownPanel=P.sH.box("episodes"),this._viewMode=P.sH.box("dropdown"),this._toggleButtonShowed=!1,this._scrollToCurrent=!1,this._isEmbed=void 0,this.counterHelper=void 0,this.onShowToggleButton=()=>{var e;this._toggleButtonShowed||(this._toggleButtonShowed=!0,null===(e=this.counterHelper)||void 0===e||e.get("mainSeasonsButtonShow")())},this.props=e,this._playerSize=t,this._playback=n,this._controls=r,this._advert=i,this._fullscreen=o,this._layout=a,this._seasonsList=s,(0,P.Gn)(this,{isWidgetVisible:P.EW,viewMode:P.EW,dropdownPanel:P.EW,allowOnboarding:P.EW,show:P.XI,hide:P.XI}),this._isEmbed=this.props.value,this.counterHelper=l&&l instanceof ol?l.counterHelper:void 0,this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.onShowToggleButton=this.onShowToggleButton.bind(this)}initViewMode(){var e=this;return(0,P.mJ)((()=>{var e;return null===(e=this._playerSize.size)||void 0===e?void 0:e.width}),(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t<500||H.B.isMobile&&t<1024?e.viewMode="fullscreen":e.viewMode="dropdown"}))}selectSeason(){return(0,P.mJ)((()=>this._seasonsList.currentSeason),(()=>{this.dropdownPanel="episodes"}))}show(){var e;this.isWidgetVisible=!0,this.scrollToCurrent=!0,this.dropdownPanel="episodes",null===(e=this.counterHelper)||void 0===e||e.get("mainSeasonsShow")(),this._controls.preventHideControls=!0}hide(){this.isWidgetVisible=!1,this._controls.preventHideControls=!1}set isWidgetVisible(e){this._isWidgetVisible.set(e)}get isWidgetVisible(){return this._isWidgetVisible.get()}set dropdownPanel(e){this._dropdownPanel.set(e)}get dropdownPanel(){return this._dropdownPanel.get()}set viewMode(e){this._viewMode.set(e)}get viewMode(){return this._viewMode.get()}get isDropdownPanelSeason(){return"seasons"===this.dropdownPanel}set scrollToCurrent(e){this._scrollToCurrent=e}get scrollToCurrent(){return this._scrollToCurrent}get size(){return this._playerSize.size}get coordinates(){return this._playerSize.coordinates}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}get isEmbed(){return this._isEmbed}get isShowControls(){return this._controls.isShowControls}get showOnboardingBeforeEndscreen(){return this._layout.isUserInteracted&&this._playback.progress>80&&this._playback.progress<99}get isToggleLabelVisible(){return this._fullscreen.isFullscreen||!this._isEmbed&&this._layout.isCinema}get isFullscreen(){return this._fullscreen.isFullscreen}get allowOnboarding(){var e;return(null===(e=this._seasonsList.seasons)||void 0===e?void 0:e.length)>0&&!this.isWidgetVisible}}var jH;let WH,zH,GH;BH=UH,({e:[FH],c:[VH,HH]}=(0,k.A)(BH,[(0,I.k_)({implement:"ISeasonsViewPlugin",ctor_args:["IsEmbed","IPlayerSizePlugin","IPlayback","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},"IFullscreenPlugin","IVideoLayoutPlugin","ISeasonsPlugin","IStatisticState"]})],[[(0,I.o7)(),2,"initViewMode"],[(0,I.o7)(),2,"selectSeason"]],0,void 0,I.j8)),HH();class qH extends I.j8{constructor(){super(),this.__hasBeenInteracted=(WH(this),P.sH.box(!1)),this.__isSaveMode=P.sH.box(!1),(0,P.Gn)(this,{hasBeenInteracted:P.EW,isSaveMode:P.EW})}init(){const e=()=>{this.hasBeenInteracted=!0};return document.addEventListener("keydown",e),document.addEventListener("mousedown",e),document.addEventListener("pointerup",e),document.addEventListener("touchend",e),()=>{document.removeEventListener("keydown",e),document.removeEventListener("mousedown",e),document.removeEventListener("pointerup",e),document.removeEventListener("touchend",e)}}get hasBeenInteracted(){return this.__hasBeenInteracted.get()}set hasBeenInteracted(e){this.__hasBeenInteracted.set(e)}get isSaveMode(){return this.__isSaveMode.get()}set isSaveMode(e){this.__isSaveMode.set(e)}}function KH(){return(0,fr.Ks)("ReplayWidgetPlugin")}jH=qH,({e:[WH],c:[GH,zH]}=(0,k.A)(jH,[(0,I.k_)("ISaveModePlugin")],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),zH();const YH="replay-widget-module__startButton___jRKJ_",XH=(0,Jn.PA)((()=>{const[e,n]=(0,t.useState)(zi.Ih),r=KH(),{bottomPosition:i}=r;if((0,t.useEffect)((()=>{r.showReplayControl();const e=setInterval((()=>{n((t=>{const n=t-1e3;return n||(clearInterval(e),r.isReplayWidgetAlreadyShowed=!0),n}))}),1e3);return()=>{clearInterval(e)}}),[r]),!e)return null;return t.createElement(Hy,{"data-testid":"replay-button",className:YH,onClick:()=>{r.seekToStart(),r.isReplayWidgetAlreadyShowed=!0},style:{bottom:i}},"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° (",Math.round(e/1e3),")")})),QH=(0,Jn.PA)((()=>{const{isReplayWidgetAvailable:e}=KH();return e?t.createElement(XH,null):null}));var ZH,JH;let $H,eV,tV,nV;var rV;let iV,oV,aV;new(JH=class extends I.j8{constructor(e,t,n,r,i,o,a){super(),this._isReplayWidgetAlreadyShowed=($H(this),P.sH.box(!1)),this._isReplayWidgetAvailable=P.sH.box(!1),this._initialTime=P.sH.box(0),this._isShowReplayControlMetricsSent=!1,this._counterHelper=void 0,this._data=e,this._playback=t,this._playerStatus=n,this._controls=r,this._advert=i,this._config=a,this._counterHelper=o&&o instanceof ol?o.counterHelper:void 0,(0,P.Gn)(this,{isReplayWidgetAvailable:P.EW,isReplayWidgetAlreadyShowed:P.EW,initialTime:P.EW}),this.seekToStart=this.seekToStart.bind(this)}initialVideoId(){let e;return(0,P.mJ)((()=>this._playback.currentVideoId),(()=>{var t;null===(t=e)||void 0===t||t(),e=(0,P.mJ)((()=>({currentTime:this._playback.currentTime,wasStarted:this._playback.wasStarted,isPlaying:this._playback.isPlaying})),(t=>{let{currentTime:n,wasStarted:r,isPlaying:i}=t;r&&(this.initialTime=n,this.isReplayWidgetAlreadyShowed=!1),r&&i&&n>0&&e()}))}),{fireImmediately:!0})}hideControlsTooltips(){return(0,P.mJ)((()=>({isReplayWidgetAvailable:this.isReplayWidgetAvailable,isReplayWidgetAlreadyShowed:this.isReplayWidgetAlreadyShowed})),(e=>{let{isReplayWidgetAvailable:t,isReplayWidgetAlreadyShowed:n}=e;this._controls.needToHideTooltips=t&&!n}))}seekToStart(){var e,t;this._playback.isPlaying||this._playback.play(),this._playback.progress<100&&this._playback.seek(0),null===(e=this._counterHelper)||void 0===e||e.get("mainReplayWidgetClick")(),null===(t=this._counterHelper)||void 0===t||t.get("mainWatchFromStartClick")()}resetIsShowReplayMetrics(){return(0,P.mJ)((()=>this._controls.data.video_id),(()=>this._isShowReplayControlMetricsSent=!1))}observeAvailableParams(){(0,P.mJ)((()=>{var e;return{isLive:this._data.isLive,duration:this._playback.duration,readyState:this._playback.readyState,initialTime:this.initialTime,wasFirstPlay:this._playerStatus.wasFirstPlay,isReplayWidgetAlreadyShowed:this.isReplayWidgetAlreadyShowed,isAdLoaded:null===(e=this._advert)||void 0===e?void 0:e.isLoaded}}),(e=>{let{isLive:t,duration:n,readyState:r,initialTime:i,wasFirstPlay:o,isReplayWidgetAlreadyShowed:a,isAdLoaded:s}=e;const l=!H.B.isMobile&&!t&&i>60&&n>300&&n-i>=zi.Ih/1e3+3&&r>=2;this.isReplayWidgetAvailable=l&&!o&&!a&&!s}))}showReplayControlMetrics(){var e;null===(e=this._counterHelper)||void 0===e||e.get("mainWatchFromStartShow")(),this._isShowReplayControlMetricsSent=!0}showReplayControl(){this._isShowReplayControlMetricsSent||this.showReplayControlMetrics()}set isReplayWidgetAlreadyShowed(e){this._isReplayWidgetAlreadyShowed.set(e)}get isReplayWidgetAlreadyShowed(){return this._isReplayWidgetAlreadyShowed.get()}get isShowControls(){return this._controls.isShowControls}get initialTime(){return this._initialTime.get()}set initialTime(e){this._initialTime.set(e)}get isReplayWidgetAvailable(){return this._isReplayWidgetAvailable.get()}set isReplayWidgetAvailable(e){this._isReplayWidgetAvailable.set(e)}get bottomPosition(){const e=this._controls.controlBlockHeight;return pt.ControlsPlugin.IsNewControls?e>0?e:12:e+16}},({e:[$H],c:[nV,eV]}=(0,k.A)(JH,[(0,I.k_)({implement:"ReplayWidgetPlugin",ctor_args:["IDataPlugin","IPlayback","IPlayerStatusState","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IPlayerConfigPlugin",optional:!0}]})],[[(0,I.o7)(),2,"initialVideoId"],[(0,I.o7)(),2,"hideControlsTooltips"],[(0,I.o7)(),2,"resetIsShowReplayMetrics"],[(0,I.o7)(),2,"observeAvailableParams"],[I.zm,2,"showReplayControl"]],0,void 0,I.j8)),tV=JH,(ZH=class extends ft{constructor(){super(nV),this.ReplayWidget=QH,eV()}})[tV]=void 0,ZH);rV=class extends Oi{constructor(e,t,n,r,i,o,a,s){iV((super(e,t,n,r,i,o),this.playback=t,this.advert=a,this._cinema=s,this))}initEvents(){const e=[];return e.push((0,P.mJ)((()=>{var e,t,n,r;return{state:null===(e=this.advert)||void 0===e?void 0:e.currentState,hasItems:!(null===(t=this.advert)||void 0===t||!t.currentItems.length),loaded:null===(n=this.advert)||void 0===n?void 0:n.isLoaded,ended:this.playback.ended,isAdvertEnded:null===(r=this.advert)||void 0===r?void 0:r.isAdvertEnded}}),(e=>{let{state:t,hasItems:n,loaded:r,ended:i,isAdvertEnded:o}=e;o?this.isInfoPrevented=!0:t?(!n&&!i||"show"===t&&r)&&(this.isInfoPrevented=!0):this.isInfoPrevented=!1}))),e.push((0,P.mJ)((()=>{var e;return null===(e=this._cinema)||void 0===e?void 0:e.isCinema}),(()=>{this.setActiveInfo(null)}))),()=>e.forEach((e=>e()))}initVideoInfo(){const e=this.setNextTimeMark(),t=this.setPreviousTimeMark(),n=this.percentRewind();return()=>[e,t,n].forEach((e=>e()))}setNextTimeMark(){return this.subscribeShortcutsEvent(oi.nextTimeMark,(e=>{let{label:t}=e;this.setActiveInfo({icon:ki.SEEK_TO_NEXT_TIME_MARK,label:t})}))}setPreviousTimeMark(){return this.subscribeShortcutsEvent(oi.previousTimeMark,(e=>{let{label:t}=e;this.setActiveInfo({icon:ki.SEEK_TO_PREV_TIME_MARK,label:t})}))}percentRewind(){return this.subscribeShortcutsEvent(oi.percentRewind,(e=>{let{label:t}=e;this.setActiveInfo({label:t})}))}},({e:[iV],c:[aV,oV]}=(0,k.A)(rV,[(0,I.k_)({implement:"IInfoLayerPlugin",ctor_args:["IPlayerSizePlugin","IPlayback","IShortcutsPlugin",{implement:"IExtraActionsPlugin",optional:!0},"IDataPlugin","IVisibilityStatePlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"CinemaModePlugin",optional:!0}]})],[[(0,I.o7)(),2,"initEvents"],[(0,I.o7)(),2,"initVideoInfo"]],0,void 0,Oi)),oV();const sV=()=>(0,fr.Ks)("Video360Plugin"),lV=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none"},t.createElement("path",{d:"M1 7L7 1L13 7",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},uV=e=>{let{color:n="white"}=e;return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"14",viewBox:"0 0 8 14",fill:"none"},t.createElement("path",{d:"M1 13L7 7L0.999999 1",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},cV="video360-controls-module__wrapper___OKeP5",dV="video360-controls-module__wrapperHover___kVjMS",hV="video360-controls-module__arrowWrapper___dgCe3",pV="video360-controls-module__arrowWrapperTop___cMFZg",mV="video360-controls-module__arrowWrapperRight___xSb9r",vV="video360-controls-module__arrowWrapperBottom___ArWub",_V="video360-controls-module__arrowWrapperLeft___sqU4A",fV=(0,Jn.PA)((()=>{const e=sV(),[n,r]=(0,t.useState)(!1),i=n?"rgb(90, 104, 119)":"rgba(27, 41, 56, .45)",o=t=>e.rotationDirection=t,a=()=>e.rotationDirection=null;return t.createElement("div",{onPointerDown:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onMouseMove:()=>r(!0),onMouseLeave:()=>r(!1),className:er()(cV,{[dV]:n})},t.createElement("div",{className:er()(hV,pV),onMouseDown:()=>o("up"),onMouseLeave:a,onMouseUp:a},t.createElement(lV,{color:i})),t.createElement("div",{className:er()(hV,mV),onMouseDown:()=>o("right"),onMouseLeave:a,onMouseUp:a},t.createElement(uV,{color:i})),t.createElement("div",{className:er()(hV,vV),onMouseDown:()=>o("down"),onMouseLeave:a,onMouseUp:a},t.createElement(lV,{color:i})),t.createElement("div",{className:er()(hV,_V),onMouseDown:()=>o("left"),onMouseLeave:a,onMouseUp:a},t.createElement(uV,{color:i})))})),gV="video360-module__video360___YtrBS",bV="video360-module__wrapper___rPwFo",yV="video360-module__video___oF36F",EV=(0,Jn.PA)((()=>{const{windowResize:e,initView:n,player:r,playerMode:i,onPointerDown:o,onPointerMove:a,onPointerUp:s,onTouchEnd:l,onTouchMove:u,onTouchStart:c,isTouchDevice:d}=sV(),h=(0,t.useRef)(null),p=(0,t.useRef)(null),m=(0,t.useRef)(null),[v,_]=(0,t.useState)(!1),f=(0,t.useCallback)((async e=>{const t=h.current;try{await n(h.current,p.current),t&&(t.addEventListener("pointerdown",o),window.addEventListener("pointermove",a),window.addEventListener("pointerup",s),window.addEventListener("resize",e),window.addEventListener("fullscreenchange",e))}catch(e){console.warn(e)}}),[n,o,a,s]);return(0,t.useEffect)((()=>{if(!r)return;const e=()=>_(!0);return r.addEventListener("loadeddata",e),()=>{if(r)return r.removeEventListener("loadeddata",e)}}),[r]),(0,t.useEffect)((()=>{const t=h.current,n=m.current;if(null==t||!t.clientWidth)return;const r=()=>e(t);return"ResizeObserver"in window&&!m.current&&(m.current=new ResizeObserver(r),m.current.observe(t)),v&&f(r),()=>{t&&(t.removeEventListener("pointerdown",o),window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",s),window.removeEventListener("resize",r),window.removeEventListener("fullscreenchange",r),n&&(n.unobserve(t),n.disconnect()),m.current=null)}}),[r,v,h,e,n,o,a,s,f]),(0,t.useEffect)((()=>{const e=h.current;return e&&(e.addEventListener("touchend",l),e.addEventListener("touchstart",c),e.addEventListener("touchmove",u)),()=>{e&&(e.removeEventListener("touchend",l),e.removeEventListener("touchstart",c),e.removeEventListener("touchmove",u))}}),[h,l,c,u]),t.createElement("div",{"data-testid":"video-360",className:gV},t.createElement("div",{className:bV,ref:h},t.createElement("div",{className:yV,ref:p})),!d&&"mini"!==i&&t.createElement(fV,null))}));function wV(e){e.preventDefault(),e.stopImmediatePropagation()}const SV="https://".concat("static.rutube.ru","/static/player_sdk/three.min.js"),AV=1e3/60;class CV{constructor(e,t){this.renderer=null,this.scene=null,this.camera=null,this.wrapper=e,this.player=t}async loadLib(){await Wa(SV,"THREE")}initCanvas(){const{clientWidth:e=0,clientHeight:t=1}=this.wrapper;return this.camera=new window.THREE.PerspectiveCamera(75,e/t,1,1100),this.renderer=new window.THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,t),this.initScene(),this.renderer.domElement}updateCameraPosition(e){if(this.camera){const{x:t,y:n,z:r}=e;this.camera.position.set(t,n,r),this.camera.lookAt(0,0,0)}}render(){this.scene&&this.camera&&this.renderer&&this.renderer.render(this.scene,this.camera)}processClientResize(){try{if(this.camera&&this.renderer&&this.wrapper){const{clientWidth:e=0,clientHeight:t=1}=this.wrapper;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}}catch(e){console.warn(e)}}initScene(){this.scene=new window.THREE.Scene;const e=new window.THREE.SphereGeometry(500,60,40);e.scale(-1,1,1);const t=this.player&&new window.THREE.VideoTexture(this.player);t&&(t.needsUpdate=!0);const n=new window.THREE.MeshBasicMaterial({map:t});n.needsUpdate=!0;const r=new window.THREE.Mesh(e,n);this.scene.add(r)}}var kV;let PV,IV,TV;class xV extends I.j8{static get Video360(){return EV}constructor(e,t,n,r){super(),this.threeManager=(PV(this),null),this.isViewInited=!1,this.lastTimeOfAnimation=0,this.isTouchMoving=!1,this.isUserInteracting=!1,this.pointerDownGeoCoords={lat:0,lon:0},this.pointerDownCoords={x:0,y:0,z:0},this.geoCoords={lon:0,lat:0},this._player=P.sH.box(null),this._playerMode=P.sH.box(null),this._rotationDirection=P.sH.box(null),this._hasPlayerControls=P.sH.box(!0),this._isTouchDevice=P.sH.box(!1),this._playback=e,this._videoLayout=t,this._controls=n,this._isEmbed=r,(0,P.Gn)({player:P.EW,playerMode:P.EW,rotationDirection:P.EW,hasPlayerControls:P.EW,isTouchDevice:P.EW})}init(){this.player=this._playback.player;const e=[(0,P.mJ)((()=>this._videoLayout.playerMode),(e=>this.playerMode=e)),(0,P.mJ)((()=>this._videoLayout.isTouchDevice),(e=>this.isTouchDevice=e)),(0,P.mJ)((()=>({isFullScreen:this._controls.isFullScreen,isShowDisclaimers:this._videoLayout.isShowDisclaimers,isShowControls:this._controls.isShowControls,wasStarted:this._playback.wasStarted,ended:this._playback.ended})),(e=>{let{isFullScreen:t,isShowDisclaimers:n,isShowControls:r,wasStarted:i,ended:o}=e;const a=i&&!o,s=this._isEmbed.value&&r;this.hasPlayerControls=a&&(s||n||t)}))];return()=>e.forEach((e=>e()))}get player(){return this._player.get()}set player(e){this._player.set(e)}get playerMode(){return this._playerMode.get()}set playerMode(e){this._playerMode.set(e)}get rotationDirection(){return this._rotationDirection.get()}set rotationDirection(e){this._rotationDirection.set(e)}get isTouchDevice(){return this._isTouchDevice.get()}set isTouchDevice(e){this._isTouchDevice.set(e)}get hasPlayerControls(){return this._hasPlayerControls.get()}set hasPlayerControls(e){this._hasPlayerControls.set(e)}windowResize(){var e;null===(e=this.threeManager)||void 0===e||e.processClientResize()}async initView(e,t){this.threeManager=new CV(e,this.player),await this.threeManager.loadLib();const n=this.threeManager.initCanvas();t&&n&&(t.appendChild(n),this._playback.setMount(!0)),this.renderView()}onPointerDown(e){this.isUserInteracting=!0,this._videoLayout.isPlayPauseSwitchingAvailable=!0,this.pointerDownCoords={x:e.clientX,y:e.clientY,z:0},this.pointerDownGeoCoords=this.geoCoords}onPointerMove(e){if(!this.isUserInteracting)return;const t={x:this.pointerDownCoords.x-e.clientX,y:this.pointerDownCoords.y-e.clientY,z:0};(Math.abs(t.x)>=5||Math.abs(t.y)>=5)&&(this._videoLayout.isPlayPauseSwitchingAvailable=!1,this.geoCoords={lon:.1*t.x+this.pointerDownGeoCoords.lon,lat:.1*t.y+this.pointerDownGeoCoords.lat})}onPointerUp(){this.isUserInteracting=!1}onTouchStart(e){wV(e)}onTouchMove(e){this.isTouchMoving=!0,wV(e)}onTouchEnd(e){this.isTouchMoving||(this._controls.showControls(),this._controls.setHideControlsTimer()),this.isTouchMoving=!1,wV(e)}renderView(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e-this.lastTimeOfAnimation>=AV){var t;const r=this.isViewInited?this.getCameraCoordsForInteraction():this.calculateCameraCoords();var n;if(r)null===(n=this.threeManager)||void 0===n||n.updateCameraPosition(r),this.isViewInited=!0;this.lastTimeOfAnimation=e,null===(t=this.threeManager)||void 0===t||t.render()}requestAnimationFrame((e=>this.renderView(e)))}getCameraCoordsForInteraction(){return this.rotationDirection&&this.rotate(),this.isUserInteracting||this.rotationDirection||this.isTouchMoving?this.calculateCameraCoords():null}calculateCameraCoords(){const{lon:e}=this.geoCoords;let{lat:t}=this.geoCoords;t=Math.max(-85,Math.min(85,t));const n=window.THREE.MathUtils.degToRad(90-t),r=window.THREE.MathUtils.degToRad(e);return this.geoCoords={lon:e,lat:t},{x:50*Math.sin(n)*Math.cos(r),y:50*Math.cos(n),z:50*Math.sin(n)*Math.sin(r)}}rotate(){let{lon:e,lat:t}=this.geoCoords;switch(this.rotationDirection){case"up":t-=1;break;case"down":t+=1;break;case"right":e+=1;break;case"left":e-=1}this.geoCoords={lon:e,lat:t}}}kV=xV,({e:[PV],c:[TV,IV]}=(0,k.A)(kV,[(0,I.k_)({implement:"Video360Plugin",ctor_args:["IPlayback","IVideoLayoutPlugin","IControlsPlugin","IsEmbed"]})],[[(0,I.o7)(),2,"init"],[I.zm,2,"windowResize"],[I.zm,2,"initView"],[I.zm,2,"onPointerDown"],[I.zm,2,"onPointerMove"],[I.zm,2,"onPointerUp"],[I.zm,2,"onTouchStart"],[I.zm,2,"onTouchMove"],[I.zm,2,"onTouchEnd"]],0,void 0,I.j8)),IV();const RV="communicationBanner";function LV(){return(0,fr.p5)().resolve("ICommunicationBannerPlugin")}const OV="communication-banner-module__container___ekv7l",NV="communication-banner-module__redesigned___RYfDK",MV="communication-banner-module__hidden___LmVJF",DV="communication-banner-module__small___HFu_l",BV="communication-banner-module__isFull___kCIUG",FV="communication-banner-module__mobile___xN5zP",HV={buttons:"banner-buttons-module__buttons___NfBuk",btn:"banner-buttons-module__btn___OLrUG",gray:"banner-buttons-module__gray___NM31r"},VV=e=>{var n;let{data:r,onboardingId:i,handleClick:o}=e;const{getButtonClass:a,getButtonStyles:s}=LV();return r.length?t.createElement("div",{className:HV.buttons},null===(n=[...r])||void 0===n?void 0:n.sort(((e,t)=>e.sortOrder-t.sortOrder)).map((e=>{const{title:n=""}=e;return!e.isFullBody&&t.createElement("button",{id:"".concat(e.actionId),key:"".concat(e.url||"","_").concat(e.type||"","_").concat(e.actionId,"_").concat(e.sortOrder),tabIndex:0,title:"ÐÐ°Ð¶Ð°Ñ‚ÑŒ ".concat(n," ÐºÐ½Ð¾Ð¿ÐºÑƒ"),className:a(e),style:s(e),"aria-label":"ÐÐ°Ð¶Ð°Ñ‚ÑŒ ".concat(n," ÐºÐ½Ð¾Ð¿ÐºÑƒ"),onClick:t=>((e,t)=>{e.stopPropagation();const{id:n}=e.currentTarget,[r]=n.split("-"),a="cancel_button"===t.type;o({actionId:Number(r),onboardingId:i,isClose:a})})(t,e)},n)}))):null},UV="close-banner-module__close___szhz2",jV="close-banner-module__small___uhv95",WV=()=>t.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9999 21.4142L14.707 26.7071L13.2928 25.2928L18.5857 20L13.2928 14.7071L14.707 13.2928L19.9999 18.5857L25.2928 13.2928L26.707 14.7071L21.4141 20L26.707 25.2928L25.2928 26.7071L19.9999 21.4142Z",fill:"#F6F6F6"})),zV=e=>{let{handleClearWatchedBanner:n,onboardingId:r,handleClick:i,width:o}=e;return t.createElement("button",{tabIndex:0,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð±Ð°Ð½Ð½ÐµÑ€",title:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ð±Ð°Ð½Ð½ÐµÑ€",className:er()(HV.btn,UV,{[jV]:o<=768}),onClick:e=>{e.stopPropagation(),i({onboardingId:r,isClose:!0}),n()}},t.createElement(WV,null))},GV=e=>{const t=e.match(/\d+/);return t?parseInt(t[0],10):0};const qV="banner-picture-module__img___wB8E7",KV=e=>{var n;let{pictures:r,width:i}=e;const[o,a]=(0,t.useState)(!1);if(!r.length)return null;const s=r.map((e=>{const t=GV(e.type);return t?Number(t):0})).sort(((e,t)=>e-t)),l=r.filter((e=>GV(e.type)===function(e,t){if(t>e[e.length-1])return e[e.length-1];for(let n=0;n<e.length;n++)if(t<=e[n])return e[n];return null}(s,i)));return null===(n=l[0])||void 0===n||!n.url||o?null:t.createElement("img",{loading:"lazy","aria-label":"ÐžÐ±Ð»Ð¾Ð¶ÐºÐ°",onError:()=>a(!0),alt:"ÐžÐ±Ð»Ð¾Ð¶ÐºÐ°",src:l[0].url,className:qV})},YV="banner-timeout-module__progress___I380Z",XV=e=>{let{progress:n}=e;const{color:r}=LV();return t.createElement("div",{className:YV,"aria-label":"ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ Ð´Ð¾ ÑÐºÑ€Ñ‹Ñ‚Ð¸Ñ Ð±Ð°Ð½Ð½ÐµÑ€Ð°"},t.createElement("span",{style:{background:"".concat(r),opacity:1,width:"".concat(n,"%"),transition:"width .1s ease-in-out"}}))},QV="banner-titles-module__titles___YX5Wf",ZV="banner-titles-module__title___ZTiaM",JV="banner-titles-module__subtitle___jNYmc",$V="banner-titles-module__small___Z0fcJ",eU="banner-titles-module__withImg___JvCj_",tU=e=>{let{title:n,subtitle:r,picture:i,width:o}=e;if(!n&&!r)return null;const a=!H.B.isMobile&&o>768,s=n?Gh(n,["b","i","strong","em"]):null,l=r?Gh(r,["b","i","strong","em"]):null;return t.createElement("div",{"aria-label":"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸",className:er()(QV,{[$V]:o<=768})},s?t.createElement("p",{className:ZV,"aria-label":"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº",dangerouslySetInnerHTML:{__html:s}}):null,l&&a?t.createElement("p",{className:er()(JV,{[eU]:i}),"aria-label":"ÐŸÐ¾Ð´Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº",dangerouslySetInnerHTML:{__html:l}}):null)},nU=(0,Jn.PA)((()=>{var e,n,r,i;const{isBannersHidden:o,handleClick:a,handleBannerClick:s,currentBanner:l,isPaused:u,isBannersAllowed:c,isFullElement:d,timeoutToEnd:h,playerWidth:p,handleClearWatchedBanner:m,isShowButtons:v}=LV(),_=H.B.isMobile,{progress:f}=(e=>{let{initialTime:n,isPaused:r,onEnd:i}=e;const[o,a]=(0,t.useState)(0),s=(0,t.useRef)(null);return(0,t.useEffect)((()=>{0===o&&s.current&&clearInterval(s.current)}),[o]),(0,t.useEffect)((()=>{a(n)}),[n]),(0,t.useEffect)((()=>()=>{s.current&&clearInterval(s.current)}),[]),(0,t.useEffect)((()=>{if(!(n<=0))return s.current=setInterval((()=>{!r&&o>0&&a((e=>{const t=Math.max(e-.1,0);return 0===t&&i(),t}))}),100),()=>{s.current&&clearInterval(s.current)}})),{progress:o/n*100}})({initialTime:h,isPaused:u||!!o,onEnd:m});(()=>{const e=LV();(0,t.useLayoutEffect)((()=>{var t,n;e.isShowBanner||(e.bannerHeight=0),null!==(t=document.getElementById(RV))&&void 0!==t&&t.offsetHeight&&(e.bannerHeight=(null===(n=document.getElementById(RV))||void 0===n?void 0:n.offsetHeight)||0)}))})(),(e=>{let{isBannersAllowed:n,isBannersHidden:r,currentBanner:i,isPaused:o}=e;const a=(0,t.useRef)(!1),{counterHelper:s,handleBannerShow:l}=LV();(0,t.useLayoutEffect)((()=>{n&&!r&&!a.current&&n&&null!=i&&i.onboardingId&&(a.current=!0,null==s||s.get("mainCommunicationBannerShow")({onboardingId:String(null==i?void 0:i.onboardingId),anumsLp:i.elements[0].actions.map((e=>e.sortOrder))}),l())}),[r,o]),(0,t.useLayoutEffect)((()=>{null!=i&&i.onboardingId&&(a.current=!1)}),[null==i?void 0:i.onboardingId])})({isBannersAllowed:c,isBannersHidden:!!o,currentBanner:l,isPaused:u||!!o});const g=(0,t.useMemo)((()=>{var e;if(l)return!(null==l||null===(e=l.elements[0].actions)||void 0===e||!e.find((e=>e.isFullBody)))||(null==l?void 0:l.elements[0].actions.length)<=0}),[l]);return c&&l?t.createElement("div",{tabIndex:d?0:void 0,"aria-label":"ÐšÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ Ð±Ð°Ð½Ð½ÐµÑ€",id:RV,className:er()(OV,{[MV]:o,[FV]:_,[DV]:p&&p<=768,[BV]:!!g&&p&&p>768,[NV]:MO.o.IsNewControls}),onClick:s,style:{cursor:d&&!_&&(null===(e=l.elements[0].actions)||void 0===e?void 0:e.length)>0?"pointer":"default"}},t.createElement(tU,{title:(null==l?void 0:l.elements[0].title)||"",subtitle:(null==l?void 0:l.elements[0].subtitle)||"",picture:!(null==l||null===(n=l.elements[0])||void 0===n||!n.pictures.length),width:p||0}),t.createElement(KV,{pictures:(null==l||null===(r=l.elements[0])||void 0===r?void 0:r.pictures)||[],width:p||0}),t.createElement(zV,{handleClearWatchedBanner:m,onboardingId:null==l?void 0:l.onboardingId,handleClick:a,width:p||0}),v&&t.createElement(VV,{data:null===(i=l.elements[0])||void 0===i?void 0:i.actions,onboardingId:null==l?void 0:l.onboardingId,removeWatchedElement:m,handleClick:a}),!!l.timeout&&!!f&&"on_pause"!==l.startCondition&&t.createElement(XV,{progress:f})):null}));function rU(e){return/^([^/:]*\/|\.\/|\.\.\/)/.test(e)}function iU(e){if("?"===e[0])return e;if(rU(e))return e.startsWith("/")?e:"/".concat(e);try{const t=new URL(e.startsWith("//")?"https:".concat(e):e);return"".concat(t.pathname).concat(t.search).concat(t.hash)}catch(e){return""}}var oU,aU;let sU;class lU extends(oU=I.j8){constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];super(),this._banners=(sU(this),P.sH.box()),this._hasPassedTime=P.sH.box(!1),this._bannerHeight=P.sH.box(0),this._counterHelper=void 0,this.playerData=e,this.playback=t,this.playerSize=n,this.staticticStore=r,this.appearance=i,this.isEmbed=o,(0,P.Gn)(this,{banners:P.EW,isBannersAllowed:P.EW,isAdvertShowing:P.EW,isBannersHidden:P.EW,isShowBanner:P.EW,isPaused:P.EW,timeoutToEnd:P.EW,isFullElement:P.EW,hasPassedTime:P.EW,bannerHeight:P.EW,handleClick:P.XI.bound,handleBannerShow:P.XI.bound,handleClearWatchedBanner:P.XI.bound,handleBannerClick:P.XI.bound})}init(){const e=[];return e.push((0,P.mJ)((()=>this.playback.currentTime),(e=>{var t,n;const r=null===(t=this.banners)||void 0===t?void 0:t.find((e=>{var t;return null===(t=e.startCondition)||void 0===t?void 0:t.includes("after")}));if(this.hasPassedTime||!r||!this.playback.wasStarted)return;const i=Number(null===(n=r.startCondition)||void 0===n?void 0:n.split("_")[1]);e/this.playback.duration*100>=i&&(this.hasPassedTime=!0)}))),e.push((0,P.mJ)((()=>this.hasPassedTime),(e=>{var t,n,r,i;null!==(t=this.banners)&&void 0!==t&&t.length&&(null===(n=this.banners)||void 0===n?void 0:n.length)<=1||!this.playback.wasStarted||!e||null===(r=this.banners)||void 0===r||!r.length||null!==(i=this.banners[0].startCondition)&&void 0!==i&&i.includes("after")||this.banners.reverse()}))),()=>e.forEach((e=>e()))}handleBannerShow(){var e;if(!this.currentBanner)return;const t=null===(e=this.playerData.viewer)||void 0===e?void 0:e.toString(),n=this.staticticStore.getCid(),r=this.currentBanner.elements[0],i={actionId:void 0,userId:t,cid:n,onboardingId:this.currentBanner.onboardingId,elements:[{elementId:r.elementId,isShown:!0,isFinished:!1,actions:r.actions.map((e=>({actionId:e.actionId,isPressed:!1})))}]};this.sendBannerShowEvent(i)}async handleClick(e){try{var t;const o=null===(t=this.playerData.viewer)||void 0===t?void 0:t.toString(),a=this.staticticStore.getCid(),{onboardingId:s,actionId:u,isClose:c}=e;if(!this.currentBanner)return;const d=this.currentBanner.elements[0],h=d.elementId,p=d.actions,m=p.find((e=>e.actionId===u)),v=p.filter((e=>e.actionId!==u)).map((e=>({actionId:e.actionId,isPressed:!1}))),_=null==m?void 0:m.sortOrder;if(c||m&&["external_link","internal_link","cancel_button"].includes(m.type)){const e=[...v,...m&&!c?[{actionId:u,isPressed:!0}]:[]],t={actionId:u,userId:o,cid:a,onboardingId:s,elements:[{elementId:h,isShown:!!c,isFinished:!0,actions:e}],url:null==m?void 0:m.url};var n,r,i;if(c||null!=m&&m.type.includes("internal")||this.playback.pause(),u&&!c)null===(n=this._counterHelper)||void 0===n||n.get("mainCommunicationBannerClick")((0,l.A)({onboardingId:String(s),numLp:String(u),anumsLp:this.currentBanner.elements[0].actions.map((e=>e.actionId))||[]},_&&{indLp:String(_)}));if(c)null===(r=this._counterHelper)||void 0===r||r.get("mainCommunicationBannerClose")({onboardingId:String(s),anumsLp:this.currentBanner.elements[0].actions.map((e=>e.actionId))||[]});if(null!=m&&m.url)if(null!==(i=m.type)&&void 0!==i&&i.includes("internal")){const e=iU(m.url);this.playback.pause(),va.Ug.emit(zi.L2.INTERNAL_BTN_BANNER,(0,l.A)((0,l.A)({},t),{},{url:e}))}else window.open((e=>{try{const t=new URL(e);return t.protocol="https:",t.toString()}catch(t){try{return new URL("https://"+e).toString()}catch(t){return console.error("Invalid URL passed to ensureHttps:",e),""}}})(m.url),"_blank");this.handleClearWatchedBanner(),await this.successClickCallback(t)}}catch(e){console.error(e)}}handleClearWatchedBanner(){var e;null===(e=this.banners)||void 0===e||e.splice(0,1)}handleBannerClick(){var e,t;if(!this.isFullElement||!this.currentBanner)return;const n=this.playerWidth>768?null===(e=this.currentBanner)||void 0===e||null===(e=e.elements[0])||void 0===e?void 0:e.actions.find((e=>e.isFullBody)):null===(t=this.currentBanner)||void 0===t||null===(t=t.elements[0])||void 0===t?void 0:t.actions[0];this.handleClick({actionId:Number(null==n?void 0:n.actionId),onboardingId:this.currentBanner.onboardingId}),this.playback.pause()}generateFetchArgs(){var e,t,n,r;return{videoId:String(null===(e=this.playerData)||void 0===e?void 0:e.video_id)||null,category:(null===(t=this.playerData.data)||void 0===t||null===(t=t.category)||void 0===t?void 0:t.short_name)||null,subscribe:"",userId:null===(n=this.playerData.viewer)||void 0===n?void 0:n.toString(),cid:this.staticticStore.getCid(),channelId:String(null===(r=this.playerData.data)||void 0===r||null===(r=r.author)||void 0===r?void 0:r.id)||null}}get timeoutToEnd(){var e,t,n,r,i;if(!this.currentBanner||null!==(e=this.currentBanner.startCondition)&&void 0!==e&&e.includes("on_pause"))return 0;const o=this.playback.duration-1e3;return null===(null===(t=this.currentBanner)||void 0===t?void 0:t.timeout)&&null!==(n=this.currentBanner.startCondition)&&void 0!==n&&n.includes("after")?o:this.currentBanner.timeout&&this.playback.duration<=(null===(r=this.currentBanner)||void 0===r?void 0:r.timeout)+this.playback.duration/Number(null===(i=this.currentBanner)||void 0===i||null===(i=i.startCondition)||void 0===i?void 0:i.split("_")[1])?Math.round(this.playback.duration-this.playback.currentTime):this.currentBanner.timeout||0}get banners(){return this._banners.get()||null}set banners(e){this._banners.set(e)}get bannerHeight(){return this._bannerHeight.get()}set bannerHeight(e){this._bannerHeight.set(e)}get isAdvertShowing(){return!1}get isInPiP(){return!1}get playerWidth(){var e,t;return null!==(e=null===(t=this.playerSize.size)||void 0===t?void 0:t.width)&&void 0!==e?e:this.playerSize.windowWidth}get currentBanner(){return this.banners&&this.banners.length?this.banners[0]:null}get counterHelper(){return this._counterHelper}get isBannersAllowed(){return this.playback.wasStarted&&!this.playback.ended}get isShowBanner(){return this.isBannersAllowed&&!!this.currentBanner&&!this.isBannersHidden}get isPaused(){return this.playback.paused}get isShowButtons(){var e;return!(!(this.currentBanner&&(null===(e=this.currentBanner)||void 0===e||null===(e=e.elements[0].actions)||void 0===e?void 0:e.length)>0&&this.playerWidth>768)||this.isFullElement)}get isBannersHidden(){var e,t;return this.playback.isCommunicationBannerPrevented||!this.playback.wasStarted||this.isAdvertShowing||this.isInPiP||(null===(e=this.currentBanner)||void 0===e||null===(e=e.startCondition)||void 0===e?void 0:e.includes("on_pause"))&&!this.isPaused||(null===(t=this.currentBanner)||void 0===t||null===(t=t.startCondition)||void 0===t?void 0:t.includes("after"))&&!this.hasPassedTime}get isFullElement(){var e,t;if(this.currentBanner)return Boolean(!(null===(e=this.currentBanner.elements[0])||void 0===e||!e.actions.find((e=>e.isFullBody)))||!(null!==(t=this.currentBanner.elements[0])&&void 0!==t&&t.actions.length)||this.playerWidth&&this.playerWidth<=768)}get hasPassedTime(){return this._hasPassedTime.get()}set hasPassedTime(e){this._hasPassedTime.set(e)}get color(){return this.appearance.color||"var(--pen-accent)"}get buttonTextColor(){return"#fff"}get communicationStyles(){return HV}getButtonClass(e){return er()(this.communicationStyles.btn,{[this.communicationStyles.gray]:"cancel_button"===e.type})}getButtonStyles(e){return{background:"external_link"===e.type||"internal_link"===e.type?"".concat(this.color):void 0,color:this.buttonTextColor}}}aU=lU,[sU]=(0,k.A)(aU,[],[[(0,I.o7)(),2,"init"],[I.zm,2,"getButtonClass"],[I.zm,2,"getButtonStyles"]],0,void 0,oU).e,lU.CommunicationBanner=nU,lU.BannerButtons=VV,lU.getCommunicationBanner=e=>e("ICommunicationBannerPlugin");a(4924);var uU,cU;let dU,hU,pU;class mU extends(uU=lU){constructor(e,t,n,r,i,o,a,s,l,u,c,d){dU((super(e,n,a,r,l,u.value),this.playerData=e,this._config=t,this.playback=n,this.statisticsStore=r,this.advert=i,this.pip=o,this.playerSize=a,this.embedPlugin=c,this.embedExternalConfig=d,this)),this._counterHelper=s instanceof ol?s.counterHelper:void 0,(0,P.Gn)(this,{fetchBanners:P.L3})}initBanners(){return(0,P.mJ)((()=>({videoId:this.playerData.video_id,isPlayOptionsLoaded:this.playerData.isPlayOptionsLoaded,_:this.playerData.viewer})),(e=>{var t;let{videoId:n,isPlayOptionsLoaded:r}=e;if(this.banners=null,(null===(t=this.embedPlugin)||void 0===t||!t.isEmbedYaos)&&n){if(this.hasPassedTime=!1,this.isSafeMode||!r)return;this.fetchBanners()}}))}*fetchBanners(){const e=yield(async e=>{const t=new URLSearchParams;t.append("platform",H.B.isMobile?"browser_mobile":"browser");for(const[n,r]of Object.entries(e))"string"==typeof r&&"null"!==r&&t.append(n,r);return fetch("".concat(ev(),"/api/premier/app/v2.1/onboardings/config/rutube?").concat(t.toString())).then((e=>e.ok&&200===e.status?e.json():null)).catch((e=>(console.warn(e),null)))})((0,l.A)({},this.generateFetchArgs()));null!=e&&e.result?this.banners=(e=>{const t=[];let n,r;if(!e.length||!e)return[];for(let s=0;s<=e.length;s++){var i,o,a;"player_banner"===(null===(i=e[s])||void 0===i?void 0:i.type)&&(null!==(o=e[s])&&void 0!==o&&null!==(o=o.startCondition)&&void 0!==o&&o.includes("on_pause")&&!r&&(r=!0,t.unshift(e[s])),null!==(a=e[s])&&void 0!==a&&null!==(a=a.startCondition)&&void 0!==a&&a.includes("after")&&!n&&(n=!0,t.push(e[s])))}return t})(e.result):this.banners=null}get isSafeMode(){const{minAge:e,maxAge:t}=this._config.get("safeModeConfig")||{};return null!=e&&null!=t}get isInPiP(){return!(!this.pip||!this.pip.isInPiP)}get isAdvertShowing(){var e;return!(null===(e=this.advert)||void 0===e||!e.currentAdvert)}async successClickCallback(e){if(this.isEmbed&&e.url){var t;let n=iU(e.url);const r=String(null===(t=this.playerData)||void 0===t?void 0:t.video_id);this.playback.pause(),"?"===n[0]?n=function(e){return"".concat(zi.V2,"/video/").concat(e)}(r)+n:rU(n)&&(n=zi.V2+n),window.open(function(e,t,n){const r=(0,O.Qv)(e);if(!r)return;const i=new URLSearchParams(r.search),o=new URLSearchParams([...i,...Jr({utm_campaign:"communication_banner",utm_content:t,type:"video",dist:$r(!0),utm_term:$r(),onboarding_id:n},"",!1)]);return r.search="?"+String(o),String(r)}(n,r,String(e.onboardingId)))}await(async(e,t)=>fetch("".concat(ev(),"/api/premier/app/v1/onboardings/count/").concat(t||"rutube"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,l.A)({},e))}).catch(console.warn))(e)}sendBannerShowEvent(e){}generateFetchArgs(){const e=super.generateFetchArgs(),t=this._config.get("userPaidSubscription")||[];return e.subscribe=t.find((e=>e.is_active))?"is_subscribed":"is_not_subscribed",e}get isBannersAllowed(){var e;return!0!==(null==this||null===(e=this.embedExternalConfig)||void 0===e?void 0:e.communicationBannerSkip)&&super.isBannersAllowed}}var vU;let _U,fU,gU;cU=mU,({e:[dU],c:[pU,hU]}=(0,k.A)(cU,[(0,I.k_)({implement:"ICommunicationBannerPlugin",ctor_args:["IDataPlugin","IPlayerConfigPlugin","IPlayback","IStatisticStore",{implement:"IAdvertPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},"IPlayerSizePlugin",{implement:"IStatisticState",optional:!0},"IAppearancePlugin","IsEmbed",{implement:"IEmbedPlugin",optional:!0},{implement:"IEmbedExternalConfigPlugin",optional:!0}]})],[[(0,I.o7)(),2,"initBanners"]],0,void 0,uU)),hU();vU=class extends SA{constructor(e,t){_U((super(e),this._dataPlugin=t,this))}initIntervalCounter(){return(0,P.mJ)((()=>this._dataPlugin.data),(e=>{if(!e)return this.stat=[],void(this.statApi=[]);null!=e&&e.stat&&(this.stat=e.stat||[]),null!=e&&e.stat_api&&(this.statApi=e.stat_api||[],Un(Fn(e.stat_api||[])))}),{fireImmediately:!0})}},({e:[_U],c:[gU,fU]}=(0,k.A)(vU,[(0,I.k_)({implement:"IStatisticStore",ctor_args:["Resolve","IDataPlugin"]})],[[(0,I.o7)(),2,"initIntervalCounter"]],0,void 0,SA)),fU();const bU=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=3735928559^t,r=1103547991^t;for(let t,i=0;i<e.length;i++)t=e.charCodeAt(i),n=Math.imul(n^t,2654435761),r=Math.imul(r^t,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),String(4294967296*(2097151&r)+(n>>>0))},yU={production:{embed:{android:"47f3",ios:"5d5d",default:"7fd0"},web:{android:"29b0",ios:"a7d6",default:"fe73"}},development:{embed:{android:"8b85",ios:"d002",default:"592a"},web:{android:"a7cf",ios:"4294",default:"3921"}}},EU=[0,144,240,360,480,720,1080,1440,2160,3072];class wU{constructor(){this._vigoPromise=void 0,this._sdkLoaderPromise=void 0,this._vigoResolver=void 0,this._started=!1,this._sdkLoaderPromise=Wa("https://api.vigo.one/html5/Vigo.min.js","initVigo"),this._vigoPromise=new Promise((e=>{this._vigoResolver=e}))}init(e,t){this._sdkLoaderPromise.then((n=>{this._vigoResolver&&this._vigoResolver(n(e,t))})).catch((e=>console.warn(e)))}startPlayback(){this._started=!0,this._vigoPromise.then((e=>e.startPlayback())).catch((e=>console.warn(e)))}bitrateChange(e){this._vigoPromise.then((t=>t.bitrateChange(e))).catch((e=>console.warn(e)))}error(e){this._vigoPromise.then((t=>t.error(e))).catch((e=>console.warn(e)))}suspendCollecting(){this._started&&this._vigoPromise.then((e=>e.suspendCollecting())).catch((e=>console.warn(e)))}resumeCollecting(){this._started&&this._vigoPromise.then((e=>e.resumeCollecting())).catch((e=>console.warn(e)))}endPlayback(){this._started=!1,this._vigoPromise.then((e=>e.endPlayback())).catch((e=>console.warn(e)))}updateHost(e){this._vigoPromise.then((t=>t.updateHost(e))).catch((e=>console.warn(e)))}}a(2946);const SU=(e,t)=>e&&e.find((e=>e.level===t)),AU=(e,t,n)=>{var r;const i=SU(n,t),o=null==i||null===(r=i.codec)||void 0===r?void 0:r.includes("av01");if(e)return o?120:100;const a=parseInt((null==i?void 0:i.value)||"0");if(!a)return 0;const s=EU.findLastIndex((e=>e<=a));return o?s+20:s},CU=e=>{if(!e)return"";const t=("function"==typeof e.levels?e.levels():e.levels)[e.currentLevel];!t||null!=t&&t.url||(t.url="");const{edge:n=""}=rO(t);return n};var kU;let PU,IU,TU;class xU extends I.j8{constructor(e,t,n,r,i){super(),this._dataPlugin=void PU(this),this._playback=void 0,this._provider=void 0,this._vigo=void 0,this._isEmbed=void 0,this._playerVersion=i,this._dataPlugin=e,this._playback=t,this._provider=n,this._vigo=new wU,this._isEmbed=r.value}_initVigo(t){var n;const r=(0,l.A)((0,l.A)({},{player:"HTML5",appVersion:this._playerVersion.value}),{},{svcid:(i=this._isEmbed,yU.production[i?"embed":"web"][T()?"ios":R()?"android":"default"]),cid:(0,e.yk)().replaceAll("-",""),wid:(0,xo.A)().replaceAll("-",""),quality:AU(this._provider.autoQuality,this._provider.activeQualityLevel,this._provider.qualities),host:CU(null===(n=this._provider.provider)||void 0===n?void 0:n.instance),getBytes:()=>this._provider.bytesToVigo,getBitrate:()=>((e,t)=>{const n=SU(t,e),r=(null==n?void 0:n.bitrate)||0;return Math.floor(r/100)})(this._provider.activeQualityLevel,this._provider.qualities),contentId:t,deviceId:bU(window.navigator.userAgent)});var i;this._vigo.init(this._playback.player,r)}init(){const e=[];return e.push((0,P.mJ)((()=>({videoId:this._dataPlugin.video_id})),(e=>{let{videoId:t}=e;return t&&this._initVigo(t)}))),e.push((0,P.mJ)((()=>({isPlaying:this._playback.isPlaying})),(e=>{let{isPlaying:t}=e;t?this._vigo.resumeCollecting():this._vigo.suspendCollecting()}))),e.push((0,P.mJ)((()=>({isAutoQuality:this._provider.autoQuality,activeQuality:this._provider.activeQualityLevel,qualities:this._provider.qualities})),(e=>{var t;let{isAutoQuality:n,activeQuality:r,qualities:i}=e;const o=AU(n,r,i);this._vigo.bitrateChange(o);const a=CU(null===(t=this._provider.provider)||void 0===t?void 0:t.instance);a&&this._vigo.updateHost(a)}))),e.push((0,P.mJ)((()=>({wasStarted:this._playback.wasStarted})),(e=>{let{wasStarted:t}=e;t&&this._vigo.startPlayback()}))),e.push((0,P.mJ)((()=>({ended:this._playback.ended})),(e=>{let{ended:t}=e;t&&this._vigo.endPlayback()}))),()=>e.forEach((e=>e()))}}kU=xU,({e:[PU],c:[TU,IU]}=(0,k.A)(kU,[(0,I.k_)({implement:"IVigoPlugin",ctor_args:["IDataPlugin","IPlayback","IProviderPlugin","IsEmbed","PlayerVersion"]})],[[(0,I.o7)(),2,"init"]],0,void 0,I.j8)),IU();const RU=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.62988 5.99988C4.62988 5.65747 4.90747 5.37988 5.24988 5.37988H11.9999H18.7499C19.0923 5.37988 19.3699 5.65747 19.3699 5.99988V10.4999C19.3699 10.8423 19.0923 11.1199 18.7499 11.1199C18.4075 11.1199 18.1299 10.8423 18.1299 10.4999V6.61988H11.9999H5.86988V17.3799H9.74988C10.0923 17.3799 10.3699 17.6575 10.3699 17.9999C10.3699 18.3423 10.0923 18.6199 9.74988 18.6199H5.24988C4.90747 18.6199 4.62988 18.3423 4.62988 17.9999V5.99988Z",fill:n}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1299 13.4999C12.1299 13.1575 12.4075 12.8799 12.7499 12.8799H18.7499C19.0923 12.8799 19.3699 13.1575 19.3699 13.4999V17.9999C19.3699 18.3423 19.0923 18.6199 18.7499 18.6199H12.7499C12.4075 18.6199 12.1299 18.3423 12.1299 17.9999V13.4999Z",fill:n}),t.createElement("g",{clipPath:"url(#clip0_4430_35593)"},t.createElement("path",{d:"M7.48962 10.8137C7.83479 10.8137 8.11462 10.5339 8.11462 10.1887L8.11462 9.74788L10.2297 11.8629C10.4737 12.107 10.8695 12.107 11.1135 11.8629C11.3576 11.6188 11.3576 11.2231 11.1135 10.979L8.9985 8.86399L9.43936 8.86399C9.78454 8.86399 10.0644 8.58417 10.0644 8.23899C10.0644 7.89382 9.78454 7.61399 9.43936 7.61399L7.48962 7.61399C7.14444 7.61399 6.86462 7.89382 6.86462 8.23899L6.86462 10.1887C6.86462 10.5339 7.14444 10.8137 7.48962 10.8137Z",fill:n})),t.createElement("defs",null,t.createElement("clipPath",{id:"clip0_4430_35593"},t.createElement("rect",{width:"6.8995",height:"6.8995",fill:n,transform:"translate(5.62988 6.37988)"}))))},LU=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.62988 5.99988C4.62988 5.65747 4.90747 5.37988 5.24988 5.37988H11.9999H18.7499C19.0923 5.37988 19.3699 5.65747 19.3699 5.99988V10.4999C19.3699 10.8423 19.0923 11.1199 18.7499 11.1199C18.4075 11.1199 18.1299 10.8423 18.1299 10.4999V6.61988H11.9999H5.86988V17.3799H9.74988C10.0923 17.3799 10.3699 17.6575 10.3699 17.9999C10.3699 18.3423 10.0923 18.6199 9.74988 18.6199H5.24988C4.90747 18.6199 4.62988 18.3423 4.62988 17.9999V5.99988Z",fill:n}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1299 13.4999C12.1299 13.1575 12.4075 12.8799 12.7499 12.8799H18.7499C19.0923 12.8799 19.3699 13.1575 19.3699 13.4999V17.9999C19.3699 18.3423 19.0923 18.6199 18.7499 18.6199H12.7499C12.4075 18.6199 12.1299 18.3423 12.1299 17.9999V13.4999Z",fill:n}),t.createElement("path",{d:"M10.6705 8.84544C10.3254 8.84544 10.0455 9.12526 10.0455 9.47044L10.0455 9.9113L7.9305 7.79626C7.68642 7.55219 7.29069 7.55219 7.04662 7.79626C6.80254 8.04034 6.80254 8.43607 7.04662 8.68015L9.16166 10.7952L8.72079 10.7952C8.37561 10.7952 8.09579 11.075 8.09579 11.4202C8.09579 11.7654 8.37561 12.0452 8.72079 12.0452L10.6705 12.0452C11.0157 12.0452 11.2955 11.7654 11.2955 11.4202L11.2955 9.47044C11.2955 9.12526 11.0157 8.84544 10.6705 8.84544Z",fill:n}))},OU=()=>(0,fr.p5)().resolve("PictureInPicturePlugin"),NU="picture-in-picture-button-module__button___GFhUk",MU=t.createElement(t.Fragment,null,"ÐœÐ¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ",t.createElement("br",null),"Ð¿Ð¾Ð²ÐµÑ€Ñ… Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¾ÐºÐ¾Ð½, Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰Ð°Ñ‚ÑŒ",t.createElement("br",null),"Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ ÐµÐ³Ð¾ Ñ€Ð°Ð·Ð¼ÐµÑ€"),DU=(0,Jn.PA)((e=>{let{size:n,placement:r,onboardingPlacement:i}=e;const{togglePiP:o,isInPiP:a,enterPipClickStat:s}=OU(),{isShowPiPButton:l,isTouchDevice:u,size:c}=mm(),d=(null==c?void 0:c.width)||0,h=(0,t.useRef)(null),{activeOnboarding:p,isShowOnboarding:m}=cw()||{},v="pip"===p&&m,{tabIndex:_}=(0,pt.useControls)();if(!l)return null;const f="top"===r?{tooltipTitle:wn.m_.MiniPlayer,tooltipPlacement:"top",tooltipHideOnClick:!0,tooltipZIndex:wn.m_.ControlsTooltipZIndex}:{};return t.createElement(t.Fragment,null,t.createElement(ss.r,(0,ai.A)({ref:h,"data-testid":"ui-mini",tabIndex:_,"aria-label":(0,as.T)("ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ Ð¼Ð¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€Ð°","I",!0),role:"button",action:"miniPlayer",icon:a?RU:LU,onClick:()=>{o(),a||s()},size:n,className:v?NU:void 0},f)),v&&t.createElement(Yw,{wrapperRef:h,playerWidth:d,isTouchDevice:u,title:MU,placement:i}))})),BU=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerPictureInPictureClose",__value:'<path fill="currentColor" d="M21.026 11.025c1.09 0 1.974.884 1.974 1.975v6.769c0 1.09-.884 1.974-1.974 1.974H12a1.975 1.975 0 0 1-1.975-1.974v-6.77c0-1.09.885-1.974 1.975-1.974zM12 12.718a.28.28 0 0 0-.282.282v6.769c0 .156.126.282.282.282h9.026a.28.28 0 0 0 .282-.282v-6.77a.28.28 0 0 0-.282-.281zM17.641 2a3.103 3.103 0 0 1 3.103 3.102v3.95H19.05v-3.95a1.41 1.41 0 0 0-1.41-1.41H4.102a1.41 1.41 0 0 0-1.41 1.41v9.026c0 .778.632 1.41 1.41 1.41h3.95v1.693h-3.95A3.103 3.103 0 0 1 1 14.128V5.102A3.103 3.103 0 0 1 4.102 2zM7.49 5.39a.846.846 0 0 1-.004 1.692h-.202l1.371 1.37A.846.846 0 0 1 7.458 9.65L6.08 8.273l.001.212a.847.847 0 0 1-1.693.004l-.005-2.257a.846.846 0 0 1 .848-.847z" />'})),FU=(0,t.forwardRef)(BU),HU=(e,n)=>t.createElement(W.A,(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{},{ref:n,name:"IconDsPlayerPictureInPicture",__value:'<path fill="currentColor" fill-rule="evenodd" d="M4.103 3.692a1.41 1.41 0 0 0-1.41 1.41v9.026c0 .779.63 1.41 1.41 1.41H8.05v1.692H4.103A3.103 3.103 0 0 1 1 14.128V5.102A3.103 3.103 0 0 1 4.103 2H17.64a3.103 3.103 0 0 1 3.103 3.102v3.949H19.05V5.102a1.41 1.41 0 0 0-1.41-1.41z" clip-rule="evenodd" /><path fill="currentColor" fill-rule="evenodd" d="M12 12.718a.28.28 0 0 0-.282.282v6.769c0 .156.126.282.282.282h9.026a.28.28 0 0 0 .282-.282v-6.77a.28.28 0 0 0-.282-.281zM10.026 13c0-1.09.884-1.975 1.974-1.975h9.026c1.09 0 1.974.884 1.974 1.975v6.769c0 1.09-.884 1.974-1.974 1.974H12a1.974 1.974 0 0 1-1.974-1.974zM4.632 5.632a.846.846 0 0 1 1.197 0L7.206 7.01v-.213a.846.846 0 1 1 1.691-.003l.005 2.256a.846.846 0 0 1-.848.848l-2.256-.005A.846.846 0 1 1 5.802 8.2h.202L4.632 6.83a.846.846 0 0 1 0-1.197" clip-rule="evenodd" />'})),VU=(0,t.forwardRef)(HU),UU="picture-in-picture-button-module__button___SFUDt",jU="picture-in-picture-button-module__onboarding___rR23s",WU=t.createElement(t.Fragment,null,"Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½ÑÑ‚ÑŒ",t.createElement("br",null),"ÐµÐ³Ð¾ Ñ€Ð°Ð·Ð¼ÐµÑ€, Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰Ð°Ñ‚ÑŒ",t.createElement("br",null),"Ð¸ ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¿Ð¾Ð²ÐµÑ€Ñ… Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¾ÐºÐ¾Ð½"),zU=(0,Jn.PA)((e=>{var n;let{placement:r="bottom",onboardingPlacement:i="bottom",size:o,modifier:a}=e;const{togglePiP:s,isInPiP:l,enterPipClickStat:u}=OU(),{iconSizeValue:c,endScreen:d,isShowPreview:h,tabIndex:p,container:m}=(0,pt.useControls)(),{isShowPiPButton:v,isTouchDevice:_,size:f}=mm(),g=(null==f?void 0:f.width)||0,b=(0,t.useRef)(null),{activeOnboarding:y,isShowOnboarding:E,hideOnboarding:w,onboardingTour:S}=cw()||{},A="pip"===y&&E&&(!h||!_),[C,k]=(0,t.useState)(!1),{isShowMobilePiPButton:P}=vm()||{},I=pm();if(!v||_&&(!P||h)||I||null!=d&&d.visible)return null;const T="top"===r?{tooltipTitle:wn.m_.MiniPlayer}:{},x=t.createElement(Uh.S,(0,ai.A)({ref:b,"data-testid":"ui-mini",tabIndex:p,"aria-label":(0,as.T)("ÐœÐ¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€","I",!0),role:"button",action:"miniPlayer",size:null!==(n=o)&&void 0!==n?n:c,onClick:()=>{s(),l||u(),k(!0)},className:er()(UU,a,{[jU]:A&&!pt.ControlsPlugin.isCurrentRedesignStageAvailable})},T),l?t.createElement(FU,null):t.createElement(VU,null));return pt.ControlsPlugin.isCurrentRedesignStageAvailable&&S?t.createElement(S,{active:Boolean(A&&!C),onActiveChange:e=>(e=>{e||null==w||w()})(e),overlay:"none",finishButtonText:"ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾"},t.createElement(S.Step,{index:1,tooltipProps:{placement:_||g<mS?"bottom":"top-end",placementSequence:_?["bottom","bottom-start"]:g<mS?["bottom","bottom-end","bottom-start"]:["top-end"],container:m}},t.createElement(S.Anchor,null,t.createElement("div",null,x)),t.createElement(S.Content,{heading:"ÐœÐ¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€",description:WU}))):t.createElement(t.Fragment,null,x,A&&t.createElement(Yw,{wrapperRef:b,playerWidth:g,isTouchDevice:_,title:WU,placement:i}))})),GU=e=>{let{color:n="white"}=e;return t.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.3486 16C12.3486 15.0869 13.0889 14.3467 14.002 14.3467H32.002H50.002C50.9151 14.3467 51.6553 15.0869 51.6553 16V28C51.6553 28.9131 50.9151 29.6533 50.002 29.6533C49.0889 29.6533 48.3486 28.9131 48.3486 28V17.6533H32.002H15.6553V46.3467H26.002C26.9151 46.3467 27.6553 47.0869 27.6553 48C27.6553 48.9131 26.9151 49.6533 26.002 49.6533H14.002C13.0889 49.6533 12.3486 48.9131 12.3486 48V16Z",fill:n}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.3486 36C32.3486 35.0869 33.0889 34.3467 34.002 34.3467H50.002C50.9151 34.3467 51.6553 35.0869 51.6553 36V48C51.6553 48.9131 50.9151 49.6533 50.002 49.6533H34.002C33.0889 49.6533 32.3486 48.9131 32.3486 48V36Z",fill:n}))},qU="picture-in-picture-overlay-module__overlay___sQhJa",KU="picture-in-picture-overlay-module__overlayInfo___Qd9Z_",YU="picture-in-picture-overlay-module__overlayInfoIcon___Za37e",XU="picture-in-picture-overlay-module__overlayInfoText___uWtJe",QU="picture-in-picture-overlay-module__overlayInfoButton___Kxddt",ZU="picture-in-picture-overlay-module__backButton___Swrcp",JU="picture-in-picture-overlay-module__hidden___z_7l2",$U=(0,Jn.PA)((()=>{const{goBack:e,showBackStat:n}=OU();return(0,t.useEffect)((()=>{n()}),[n]),t.createElement(ss.r,{tabIndex:0,role:"button","aria-label":"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð° Ð³Ð»Ð°Ð²Ð½ÑƒÑŽ",icon:hy,onClick:e})})),ej=(0,Jn.PA)((()=>{const e=OU(),n=(0,pt.useControls)(),r=uy.useEndScreen(),{isShowControls:i}=(0,pt.useControls)(),o=!i,{isInPiP:a,togglePiP:s}=e;return!a||r.visible?null:t.createElement(t.Fragment,null,t.createElement("div",{className:er()(ZU,{[JU]:o})},a&&t.createElement($U,null)),t.createElement("div",{className:qU,onClick:()=>{H.B.isMobile&&(n.isShowControls=!n.isShowControls)}},t.createElement("div",{className:KU},t.createElement("div",{className:YU},t.createElement(GU,null)),t.createElement("div",{className:XU},"Ð’Ð¸Ð´ÐµÐ¾ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾ Ð² Ð¼Ð¸Ð½Ð¸-Ð¿Ð»ÐµÐµÑ€Ðµ"),t.createElement("div",{className:QU},t.createElement("button",{type:"button",onClick:e=>{e.stopPropagation(),s()}},"Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð² Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼")))))}));var tj;let nj,rj,ij;class oj extends I.j8{static get PictureInPictureButton(){return pt.ControlsPlugin.IsNewControls?zU:DU}static get PictureInPictureOverlay(){return ej}constructor(e,t,n,r,i){super(),this._isInPiP=(nj(this),P.sH.box(!1)),this._isEnterToPiPForbidden=P.sH.box(!1),this.counterHelper=void 0,this._config=e,this._data=t,this._userSettings=n,this._playback=r,this.counterHelper=i&&i instanceof ol?i.counterHelper:void 0,(0,P.Gn)({isInPiP:P.EW,isEnterToPiPForbidden:P.EW}),this.enterToPiP=this.enterToPiP.bind(this),this.togglePiP=this.togglePiP.bind(this),this.goBack=this.goBack.bind(this),this.showBackStat=this.showBackStat.bind(this),this.enterPipClickStat=this.enterPipClickStat.bind(this),this.exitPipClickStat=this.exitPipClickStat.bind(this)}initPiPHandlers(){const e=()=>{if(document.pictureInPictureElement){(0,P.h5)((()=>this._isInPiP.set(!0)));const e=document.pictureInPictureElement,t=()=>{(0,P.h5)((()=>this._isInPiP.set(!1))),this._playback.paused&&this._playback.pausedViaPlugin||this._rafPlay(3),this.exitPipClickStat(),this.isWebkitPiPSupported||this._playback.movePlayerBackToContainer()};x()?this._playback.player.addEventListener("webkitpresentationmodechanged",t,{once:!0}):e.addEventListener("leavepictureinpicture",t,{once:!0})}};return document.addEventListener("enterpictureinpicture",e),()=>{document.removeEventListener("enterpictureinpicture",e)}}exitFromPiPonDestroy(){return()=>{this.exitFromPiP()}}_rafPlay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window.requestAnimationFrame((()=>{this._playback.play().catch((()=>{})),e&&this._rafPlay(e-1)}))}goBack(){var e;va.Ug.emit(zi.L2.PIP_BACK,null),null===(e=this.counterHelper)||void 0===e||e.get("mainPictureInPictureBackClick")()}showBackStat(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainPictureInPictureBackShow")()}enterPipClickStat(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainPictureInPictureEnterClick")()}exitPipClickStat(){var e;null===(e=this.counterHelper)||void 0===e||e.get("mainPictureInPictureExitClick")()}async enterToPiP(){if(this.isPiPAllowed&&this._userSettings.isUserAdult&&!this.isEnterToPiPForbidden)return this.isWebkitPiPSupported?T()?(this._playback.player.webkitSetPresentationMode("picture-in-picture"),new Promise((e=>e()))):this._playback.player.requestPictureInPicture().catch((()=>{console.warn("Video failed to enter Picture-in-picture mode"),this.exitFromPiP(),(0,P.h5)((()=>this._isInPiP.set(!1)))})):(this._playback.movePlayerToBody(),new Promise((e=>window.requestAnimationFrame((()=>{e(this._playback.player.requestPictureInPicture().catch((()=>{console.warn("Video failed to enter Picture-in-picture mode"),this._playback.movePlayerBackToContainer(),this.exitFromPiP(),(0,P.h5)((()=>this._isInPiP.set(!1)))})))})))))}exitFromPiP(){try{if(document.pictureInPictureElement){if(!T()||!this.isWebkitPiPSupported)return document.exitPictureInPicture();this._playback.player.webkitSetPresentationMode("inline")}}catch(e){console.warn(e)}return new Promise((e=>e()))}async togglePiP(){if("pictureInPictureElement"in document)return this.isInPiP?this.exitFromPiP():this.enterToPiP()}get isPiPAllowed(){var e;return!this._config.get("interactiveFragments")&&("pictureInPictureElement"in document&&Boolean(null===(e=this._data.appearance)||void 0===e?void 0:e.mini_player))}get isInPiP(){return this._isInPiP.get()&&this._playback.isInPiP()}get isWebkitPiPSupported(){const e=this._playback.player;return e.webkitSupportsPresentationMode&&e.webkitSupportsPresentationMode("picture-in-picture")&&"function"==typeof e.webkitSetPresentationMode}handlePauseInPiP(){return(0,P.mJ)((()=>({paused:this._playback.paused,isInPiP:this.isInPiP})),(e=>{let{paused:t,isInPiP:n}=e;n&&(x()?"picture-in-picture"===this._playback.player.webkitPresentationMode&&(this._playback.pausedViaPlugin=t):this._playback.pausedViaPlugin=t)}))}get isEnterToPiPForbidden(){return this._isEnterToPiPForbidden.get()}set isEnterToPiPForbidden(e){this._isEnterToPiPForbidden.set(e)}handleLogin(){return(0,P.mJ)((()=>this._config.get("userPaidSubscription")),(e=>{var t;e&&(null===(t=e.filter((e=>e.is_active)))||void 0===t?void 0:t.length)>0&&(this.isEnterToPiPForbidden=!1)}))}}var aj,sj;let lj,uj,cj;tj=oj,({e:[nj],c:[ij,rj]}=(0,k.A)(tj,[(0,I.k_)({implement:"PictureInPicturePlugin",ctor_args:["IPlayerConfigPlugin","IDataPlugin","IUserSettingsPlugin","IPlayback",{implement:"IStatisticState",optional:!0}]})],[[(0,I.o7)(),2,"initPiPHandlers"],[(0,I.o7)(),2,"exitFromPiPonDestroy"],[(0,I.o7)(),2,"handlePauseInPiP"],[(0,I.o7)(),2,"handleLogin"]],0,void 0,I.j8)),rj();class dj extends(aj=I.j8){constructor(e,t,n,r,i){super(),this._isTouchDevice=(lj(this),P.sH.box(!1)),this._pip=e,this._fullscreen=t,this._playerSize=n,this._notifications=r,this._playback=i,this.isTouchDevice=H.B.isMobile,(0,P.Gn)(this,{allowOnboarding:P.EW,isShowMobilePiPButton:P.EW,isShowPiPButton:P.EW,isTouchDevice:P.EW})}get allowOnboarding(){return this.isTouchDevice?this.isShowMobilePiPButton:this.isShowPiPButton}get size(){return this._playerSize.size}get isShowMobilePiPButton(){return this.isTouchDevice&&this._pip.isPiPAllowed&&!this._fullscreen.isFullscreen&&!this.isInPiP&&"Enabled"!==this._notifications.autoPlayWithMute&&(this._playback.ended||"NotInitialized"!==this._notifications.autoPlayWithMute)}get isShowPiPButton(){return this._pip.isPiPAllowed&&!this._fullscreen.isFullscreen}set isTouchDevice(e){this._isTouchDevice.set(e)}get isTouchDevice(){return this._isTouchDevice.get()}get isInPiP(){return Boolean(this._pip.isInPiP)}togglePiP(){var e;null===(e=this._pip)||void 0===e||e.togglePiP()}}sj=dj,({e:[lj],c:[cj,uj]}=(0,k.A)(sj,[(0,I.k_)({implement:"IPictureInPictureViewPlugin",ctor_args:["PictureInPicturePlugin","IFullscreenPlugin","IPlayerSizePlugin","IDisclaimersPlugin","IPlayback"]})],[[I.zm,2,"togglePiP"]],0,void 0,aj)),uj();class hj{constructor(e,t,n,r){this.__start=void 0,this.__delay=void 0,this.__count=void 0,this.__send=void 0,this.__startTimer=null,this.__start=e,this.__delay=t,this.__count=n,this.__send=r}start(){this.__delay>0&&0===this.__count&&this.handleInfiniteEvent(),this.__count>0&&this.handleEvent()}handleInfiniteEvent(){this.__startTimer&&clearTimeout(this.__startTimer),this.__startTimer=setTimeout((()=>{this.__send(),this.__start=this.__delay,this.handleInfiniteEvent()}),1e3*this.__start)}handleEvent(){this.__startTimer&&clearTimeout(this.__startTimer),this.__count<=0||(this.__startTimer=setTimeout((()=>{this.__send(),this.handleEvent(),this.__start=this.__delay}),1e3*this.__start),this.__count-=1)}stop(){this.__startTimer&&(clearTimeout(this.__startTimer),this.__startTimer=null)}}class pj{constructor(e,t){this.__statistic=void 0,this.__statisticStore=void 0,this.__schedulers=[],this.isStarted=!1,this.isStarted=!1,this.__statistic=e,this.__statisticStore=t}start(e){this.isStarted=!0,this.__statisticStore.intervalEvents.forEach((t=>{try{const n=t.name===wn.jI.WATCHTIME&&0!==e?parseFloat((t.delay-e%t.delay).toFixed(3)):t.start,r=new hj(n,t.delay,t.count,(()=>{this.send(t)}));this.__schedulers.push(r),r.start()}catch(e){console.warn("Error event parameter",e,t)}}))}send(e){try{var t,n;if(e.name===wn.jI.WATCHTIME)null===(t=this.__statistic)||void 0===t||t.counterHelper.get("mainIntervalWatchtime")({urlTemplate:e.url_template});if(e.name===wn.jI.HEARTBEAT)null===(n=this.__statistic)||void 0===n||n.counterHelper.get("mainIntervalHeartbeat")({urlTemplate:e.url_template})}catch(e){console.warn(e)}}stop(){try{this.__schedulers.forEach((e=>e.stop())),this.__schedulers=[],this.isStarted=!1}catch(e){console.warn(e)}}dispose(){this.stop()}}var mj;let vj,_j,fj;class gj extends I.j8{constructor(e,t,n,r){super(),this.__statisticStore=void vj(this),this.__playerStore=void 0,this.__intervalEventsCounter=void 0,this.__statistic=void 0,this.__wt=void 0,this.__reachedQuartiles={first:!1,second:!1,third:!1},this.__statisticStore=t,this.__wt=r,this.__playerStore=n,this.__statistic=e instanceof Xn?e:null,this.__intervalEventsCounter=new pj(this.__statistic,this.__statisticStore)}initIntervalEvents(){return(0,P.mJ)((()=>this.__playerStore.isPlaying),(e=>{e?this.__intervalEventsCounter.isStarted||this.__intervalEventsCounter.start(this.__playerStore.currentTime):this.__intervalEventsCounter.stop()}))}intiEvents(){return(0,P.mJ)((()=>{var e,t;return Math.floor((null!==(e=null===(t=this.__wt)||void 0===t?void 0:t.watchTime)&&void 0!==e?e:0)/1e3)}),(e=>{this.__statisticStore.statEvents.filter((t=>{if(t.start===e)return!0;if(0!==t.delay&&void 0!==e){const n=(e-t.start)%t.delay;try{return Object.is(n,0)}catch(e){return!1}}return!1})).forEach((e=>{if(e.count){var t;const n="method_str"in e?e.method_str:e.url_template;null===(t=this.__statistic)||void 0===t||t.counterHelper.get("mainStateventEvent")({urlTemplate:n})}e.count-=1}))}))}initPlaybackQuartileEvents(){return(0,P.mJ)((()=>this.__playerStore.progress),(e=>{var t,n,r;e>=25&&e<50&&!this.__reachedQuartiles.first&&(this.__reachedQuartiles.first=!0,null===(t=this.__statistic)||void 0===t||t.counterHelper.get("mainContentPlaybackFirstQuartile")());e>=50&&e<75&&!this.__reachedQuartiles.second&&(this.__reachedQuartiles.second=!0,null===(n=this.__statistic)||void 0===n||n.counterHelper.get("mainContentPlaybackSecondQuartile")());e>=75&&!this.__reachedQuartiles.third&&(this.__reachedQuartiles.third=!0,null===(r=this.__statistic)||void 0===r||r.counterHelper.get("mainContentPlaybackThirdQuartile")())}))}clear(){return()=>{this.__intervalEventsCounter.dispose()}}}var bj;let yj,Ej,wj;mj=gj,({e:[vj],c:[fj,_j]}=(0,k.A)(mj,[(0,I.k_)({implement:"IStatisticEventsPlugin",ctor_args:["IStatisticState","IStatisticStore","IPlayback",{implement:"IStatisticWatchTimePlugin",optional:!0}]})],[[(0,I.o7)(),2,"initIntervalEvents"],[(0,I.o7)(),2,"intiEvents"],[(0,I.o7)(),2,"initPlaybackQuartileEvents"],[(0,I.o7)(),2,"clear"]],0,void 0,I.j8)),_j();bj=class extends fj{constructor(e,t,n,r,i,o,a){super(e,t,n,a),this.__data=void yj(this),this.__config=void 0,this.__isEmbed=void 0,this.isStatLoadSent=!1,this.__statistic=void 0,this.__statistic=e instanceof ol?e:null,this.__data=r,this.__config=i,this.__isEmbed=o.value}initChangeVideo(){return(0,P.mJ)((()=>this.__config.get("videoId")),(()=>{this.isStatLoadSent=!1}))}initAdRuleResponseEvent(){return(0,P.mJ)((()=>({data:this.__data.data})),(e=>{let{data:t}=e;var n,r;t&&(null===(n=this.__statistic)||void 0===n||n.counterHelper.get("mainAdvertRuleResponse")({section:(null==t||null===(r=t.advert)||void 0===r?void 0:r.length)>0?1:0}))}))}initLoadEvent(){return(0,P.mJ)((()=>({data:this.__data.data,loadEvents:this.__statisticStore.loadEvents})),(e=>{let{data:t,loadEvents:n}=e;const r=(null==n?void 0:n.length)>0;if(t&&r&&!this.isStatLoadSent){var i,o;if(null===(i=this.__statistic)||void 0===i||i.counterHelper.get("mainStatusLoad")(),this.__isEmbed)null===(o=this.__statistic)||void 0===o||o.counterHelper.get("mainStatusEmbedLoad")();this.isStatLoadSent=!0}}))}},({e:[yj],c:[wj,Ej]}=(0,k.A)(bj,[(0,I.k_)({implement:"IStatisticEventsPlugin",ctor_args:["IStatisticState","IStatisticStore","IPlayback","IDataPlugin","IPlayerConfigPlugin","IsEmbed",{implement:"IStatisticWatchTimePlugin",optional:!0}]})],[[(0,I.o7)(),2,"initChangeVideo"],[(0,I.o7)(),2,"initAdRuleResponseEvent"],[(0,I.o7)(),2,"initLoadEvent"]],0,void 0,fj)),Ej();const Sj="activity-button-module__button___YCcD5",Aj="activity-button-module__buttonSkip___fnCiE",Cj="activity-button-module__buttonSmall___KqDt3",kj="activity-button-module__label___UwdY8",Pj="activity-button-module__progressFill___R7spf",Ij=(0,Jn.PA)((e=>{var n;let{activity:r,isTriggerActivity:i,durationProgress:o,isSmallButton:a,onButtonClick:s}=e;const{params:l}=r;return t.createElement("button",{id:null==r?void 0:r.activity_id,className:er()(Sj,{[Aj]:"HIDE"!==(null===(n=l.on_click)||void 0===n?void 0:n.strategy),[Cj]:a}),onClick:()=>s(null==l?void 0:l.on_click,null==r?void 0:r.annotation_type)},Boolean(i&&o>0)&&t.createElement("div",{className:er()(Pj),style:{"--progress":o.toString()}}),t.createElement("span",{className:er()(kj)},null==l?void 0:l.text))})),Tj="interactive-layer-module__overlay___Lr5OS",xj="interactive-layer-module__wrapper___UDACb",Rj="interactive-layer-module__timeline___tVK3s",Lj="interactive-layer-module__progressBar___cYKJv",Oj="interactive-layer-module__title___lB3fa",Nj="interactive-layer-module__buttons___qjSbm",Mj="interactive-layer-module__autoChoiceAnimation___traWT";function Dj(e){let{buttons:n,countdownValue:r,onIdle:i}=e;const o=s_(),{hideControlsWithForce:a}=o,[s,l]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),r-600),t=setTimeout((()=>{i()}),r);return()=>{l(!1),clearTimeout(t),clearTimeout(e)}}),[i,r]),(0,t.useEffect)((()=>(a(),()=>{o.forceHideControls=!1})),[o,a]),t.createElement("div",{className:Tj},t.createElement("div",{className:xj},t.createElement("div",{className:Oj},"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð°Ð»ÑŒÑˆÐµ"),t.createElement("div",{className:er()(Nj,{[Mj]:s})},n),t.createElement("div",{className:Rj},t.createElement("div",{style:{animationDuration:"".concat(r,"ms")},className:Lj}))))}const Bj="activities-module__buttonsContainer___RvZg7",Fj="activities-module__redesigned___vrcr_",Hj="activities-module__withControls___B76Uc",Vj="activities-module__fullscreenWithControls___nDoSs",Uj="activities-module__columnLayout___hgBix",jj=(0,Jn.PA)((()=>{const{currentActivities:e,controls:n,isFullscreen:r,isActivitiesForcedHidden:i,isSmallPlayer:o,isInteractiveVideo:a,handleButtonClick:s,handleInteractiveTimeout:l,durationProgress:u,triggerActivity:c,isSmallButton:d}=(0,fr.Ks)("IActivitiesPlugin"),{isShowControls:h}=n;var p,m;if(null!=e&&e.length&&!i)return a?t.createElement(Dj,{buttons:(p=e=>s(e,"INTERACTIVE"),m=e,m.map((e=>{let{params:{text:n,on_click:r}}=e;return t.createElement("button",{onClick:()=>p(r)},n)}))),countdownValue:1e4,onIdle:()=>l(e[0].params.on_click)}):t.createElement("div",{className:er()(Bj,{[Hj]:h,[Vj]:h&&r,[Uj]:o&&r,[Fj]:pt.ControlsPlugin.IsNewControls})},null==e?void 0:e.map((e=>e.params&&!i?t.createElement(Ij,{activity:e,durationProgress:u,isTriggerActivity:(null==c?void 0:c.activity_id)===e.activity_id,isSmallButton:d,onButtonClick:s}):t.createElement(t.Fragment,null))))})),Wj="anon",zj=(e,t)=>!(!t||!e)&&(t[0]<=e&&e<=t[1]);var Gj;let qj,Kj;let Yj;class Xj extends I.j8{static get Activities(){return jj}constructor(e,t,n,r,i,o,a,s,l,u,c,d,h){var p;super(),this._activities=(qj(this),P.sH.box()),this._currentActivities=P.sH.box([]),this._currentTimeStamp=P.sH.box(null),this._isSkipButtonVisible=P.sH.box(!1),this._isActivitiesForcedHidden=P.sH.box(!1),this._durationProgress=P.sH.box(0),this._triggerActivity=P.sH.box(null),this._isSmallButton=P.sH.box(!1),this._interactiveActivities=P.sH.box(),this._interactiveFragment=P.sH.box(null),this._interactiveStage=P.sH.box(1),this.isEmbed=void 0,this._counterHelper=void 0,this._timeStampsArr=[],this._isSkipForbidden=!1,this._eventBus=void 0,this._videoId=void 0,this._userId=void 0,this._authorId=void 0,this._triggerButtonDisplayTime=0,this._playOptions=t,this._playback=n,this._controls=r,this._playerSize=i,this._fullscreen=o,this._config=a,this._advert=l,this._endscreen=u,this._platformSubscription=c,this._pip=d,this.isEmbed=Boolean(null==e?void 0:e.value),this._eventBus=null!==(p=null==h?void 0:h.value)&&void 0!==p?p:va.Ug,this._counterHelper=s&&s instanceof ol?s.counterHelper:void 0,(0,P.Gn)(this,{activities:P.EW,currentActivities:P.EW,currentTimeStamp:P.EW,isSkipButtonVisible:P.EW,playerWidth:P.EW,isFullscreen:P.EW,isInteractiveVideo:P.EW,interactiveFragment:P.EW,isSmallPlayer:P.EW,isSmallButton:P.EW,triggerActivity:P.EW,interactiveStage:P.EW,durationProgress:P.EW,isActivitiesForcedHidden:P.EW,interactiveActivities:P.EW})}observeVideoId(){return(0,P.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("videoId")}),(()=>this.clearTrigger()),{fireImmediately:!0})}observeIds(){return(0,P.mJ)((()=>{var e,t;return{videoId:null===(e=this._config)||void 0===e?void 0:e.get("videoId"),userId:null===(t=this._config)||void 0===t?void 0:t.get("userId"),author:this._playOptions.author}}),(e=>{let{videoId:t,userId:n,author:r}=e;this._videoId=t,this._userId=n,this._authorId=null==r?void 0:r.id,t&&(0,P.h5)(this.fetchActivities.bind(this))}),{fireImmediately:!0})}observePlayerWidth(){return(0,P.mJ)((()=>({activities:this.currentActivities,playerWidth:this.playerWidth,isFullscreen:this._fullscreen.isFullscreen,isSmallPlayer:this.isSmallPlayer})),(e=>{let{activities:t,playerWidth:n,isFullscreen:r,isSmallPlayer:i}=e;const o=null==t?void 0:t.length;this.isSmallButton=!i&&o?!((e,t)=>{const n=e.length;return!n||(t-12*(e.length+1))/n>10*e.reduce(((e,t)=>{var n,r;let{params:i}=t;const o=null!==(n=null==i||null===(r=i.text)||void 0===r?void 0:r.length)&&void 0!==n?n:0;return o>e?o:e}),0)+48})(t,n)||i:i&&!r}),{fireImmediately:!0})}initControlsVisible(){return(0,P.mJ)((()=>{var e,t,n,r;return{isShowControls:this.controls.isShowControls,isShowAdvertTimer:Boolean(null===(e=this._advert)||void 0===e?void 0:e.isShowAdvertTimer),isEndscreenVisible:Boolean(null===(t=this._endscreen)||void 0===t?void 0:t.visible),isInPiP:Boolean(null===(n=this._pip)||void 0===n?void 0:n.isInPiP),isFullscreen:this._fullscreen.isFullscreen,playerSize:null===(r=this._playerSize)||void 0===r?void 0:r.size}}),(e=>{let{isShowControls:t,isShowAdvertTimer:n,isEndscreenVisible:r,isInPiP:i}=e;if(this.isInteractiveVideo)return;i&&this.clearTrigger();const o=t&&(pt.ControlsPlugin.IsNewControls&&H.B.isMobile||this.isSmallPlayer),a=T()&&this._fullscreen.isFullscreen;this.isActivitiesForcedHidden=o||n||r||i||a}))}observeKeyDowns(){const e=()=>this.clearTrigger();return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}get isInteractiveVideo(){var e;return Boolean(null===(e=this.activities)||void 0===e?void 0:e.some((e=>{let{annotation_type:t}=e;return"INTERACTIVE"===t})))}get interactiveFragment(){return this._interactiveFragment.get()}set interactiveFragment(e){this._interactiveFragment.set(e)}get interactiveStage(){return this._interactiveStage.get()}set interactiveStage(e){this._interactiveStage.set(e)}get isSmallButton(){return this._isSmallButton.get()}set isSmallButton(e){this._isSmallButton.set(e)}resetInteractiveFragment(){this._playback.isInteractiveEnded=!1,this.interactiveFragment=1,this.interactiveStage=1,this.currentActivities=[],this.currentTimeStamp=null}initCurrentTimeReaction(){return(0,P.mJ)((()=>1e3*this._playback.currentTime),(e=>{var t,n;null!==(t=this.activities)&&void 0!==t&&t.length?this.interactiveFragment&&this.currentTimeStamp||(zj(e,this.currentTimeStamp)?window.requestAnimationFrame((()=>this.updateAutoTriggerState(e))):this.isActivitiesForcedHidden?this.currentTimeStamp=null:this.currentTimeStamp=null!==(n=this._timeStampsArr.find(((t,n)=>{var r,i;return"INTERACTIVE"===(null===(r=this.activities)||void 0===r?void 0:r[n].annotation_type)&&(null===(i=this.activities)||void 0===i?void 0:i[n].interactive_fragment)===this.interactiveFragment?e>t[0]:zj(e,t)})))&&void 0!==n?n:null):this.currentTimeStamp=null}))}initTimestampsReaction(){return(0,P.mJ)((()=>this.currentTimeStamp),(e=>{var t;if(this.isSkipButtonVisible=!1,null===(t=this.activities)||void 0===t||!t.length||null==e||!e.length)return void(this.currentActivities=[]);const n=1e3*this._playback.currentTime;let r=!1;this.currentActivities=this.activities.filter((t=>{var i,o,a;const s=t.params,l=null==s?void 0:s.show,u=null==s||null===(i=s.on_click)||void 0===i?void 0:i.strategy,c=t.annotation_type;if(this.interactiveFragment)return!(!e||t.interactive_fragment!==this.interactiveFragment||r)&&("SEEK_TO"===t.activity_type&&(r=!0),function(e,t){let{handleInteractive:n,handlePause:r,handleEnd:i,handleSeekTo:o,sendStatShow:a}=t;switch(e){case"BUTTON":return n(),a(),r();case"SEEK_TO":return o();case"INTERACTIVE_END":return r(),i()}}(t.activity_type,this.getInteractiveHandlers(null==s?void 0:s.on_click)));if(!zj(n,[null!==(o=l.start_position_ms)&&void 0!==o?o:0,null!==(a=l.end_position_ms)&&void 0!==a?a:0]))return!1;if(u&&c){var d,h;this.sendStat(u,c,"show",{nextItemId:null===(d=s.on_click)||void 0===d?void 0:d.video_id}),this.isSkipButtonVisible=!!this.isSkipButton(u,c)||this.isSkipButtonVisible;const e=null===(h=t.params)||void 0===h?void 0:h.progress;"AUTO_TRIGGER"===(null==e?void 0:e.strategy)&&null!=e&&e.duration_ms&&!this.isEmbed&&requestAnimationFrame((()=>this.setTrigger(t,n)))}return!0}))}))}get activities(){const e=this._activities.get(),t=this._interactiveActivities.get(),n=[];return e&&n.push(...e),t&&n.push(...t),n}set activities(e){this._activities.set(e)}get interactiveActivities(){return this._interactiveActivities.get()}set interactiveActivities(e){this._interactiveActivities.set(e)}get currentActivities(){return this._currentActivities.get()}set currentActivities(e){this._currentActivities.set(e)}get currentTimeStamp(){return this._currentTimeStamp.get()}set currentTimeStamp(e){this._currentTimeStamp.set(e)}get durationProgress(){return this._durationProgress.get()}set durationProgress(e){this._durationProgress.set(e)}get triggerActivity(){return this._triggerActivity.get()}set triggerActivity(e){this._triggerActivity.set(e)}get controls(){return this._controls}set isSkipButtonVisible(e){this._isSkipButtonVisible.set(e)}get isSkipButtonVisible(){return this._isSkipButtonVisible.get()}set isActivitiesForcedHidden(e){this._isActivitiesForcedHidden.set(e)}get isActivitiesForcedHidden(){return this._isActivitiesForcedHidden.get()}get playerWidth(){var e,t;return null!==(e=null===(t=this._playerSize.size)||void 0===t?void 0:t.width)&&void 0!==e?e:0}get isFullscreen(){return this._fullscreen.isFullscreen}get isSmallPlayer(){return this.playerWidth<=375}get hasPartnerHint(){var e,t;return null!==(e=null===(t=this.activities)||void 0===t?void 0:t.some((e=>{let{annotation_type:t}=e;return"PARTNER_HINT"===t})))&&void 0!==e&&e}async fetchActivities(){if(this._videoId&&this._authorId){this._timeStampsArr=[];try{var e,t,n;const r=await((e,t,n)=>{const r=(0,O.Qv)(ev());return r?fetch("".concat(r.origin,"/pangolin/api/web/video/").concat(e,"/annotation?client=web&featureUseCount=").concat(t,"&author_id=").concat(n),{headers:$m(),credentials:"same-origin"}).then((e=>e.json())).catch((e=>(console.warn(e),null))):Promise.reject()})(this._videoId,((e,t)=>{if(!e||!t)return 0;try{var n,r,i;const o=_o.getItem(zi.Ok.ACTIVITIES_USAGE);return null!==(i=(null!==(r=(null!==(n=JSON.parse(o))&&void 0!==n?n:{})[null!=e?e:Wj])&&void 0!==r?r:{})[t])&&void 0!==i?i:0}catch(e){return console.error(e),0}})(null!==(e=null===(t=this._userId)||void 0===t?void 0:t.toString())&&void 0!==e?e:Wj,this._videoId),null!==(n=this._authorId.toString())&&void 0!==n?n:"");this.activities=null==r?void 0:r.activities,this._eventBus.emit(zi.L2.ACTIVITY_CONFIG,{activities:this.activities}),this.prepareActivities()}catch(e){console.warn("Player fail to fetch Activities",e),this.prepareActivities()}}else this.prepareActivities()}refetchInteractiveFragments(){return(0,P.mJ)((()=>{var e;return null===(e=this._config)||void 0===e?void 0:e.get("interactiveFragments")}),this.fetchInteractiveFragments.bind(this))}fetchInteractiveFragments(){const e=this.getInteractiveFragments();e.length?this.interactiveFragment=1:this.interactiveFragment=null,this.interactiveActivities=e}getInteractiveFragments(){var e;const t=null===(e=this._config)||void 0===e?void 0:e.get("interactiveFragments");return t?function(e){const t=(e,t)=>{let{posMs:n,targetMs:r,isButton:i,next:o,num:a}=t;return{annotation_id:"",annotation_type:"INTERACTIVE",activity_id:"",activity_type:i?"BUTTON":"SEEK_TO",interactive_fragment:a,params:{text:e,show:{strategy:i?"INTERACTIVE_SEEK":"INTERACTIVE_SKIP",start_position_ms:n,end_position_ms:n,target_position_ms:r,url:void 0},on_click:{strategy:i?"INTERACTIVE_SEEK":"INTERACTIVE_SKIP",start_position_ms:n,end_position_ms:n,target_position_ms:r,url:void 0,next_interactive_fragment:o},progress:void 0}}};return e.reduce((function(e,r){let{next:i,end:o,num:a,name:s}=r;if(i&&Array.isArray(i)){const r=i.length>1;i.forEach((i=>{if("number"==typeof i){const s=n(i);s&&e.push(t(s.name||"",{posMs:o,targetMs:s.start,isButton:r,next:i,num:a}))}}))}else e.push({annotation_id:"",annotation_type:"INTERACTIVE",activity_id:"",activity_type:"INTERACTIVE_END",interactive_fragment:a,params:{text:s||"",show:{strategy:"AT_TIME",start_position_ms:o}}});return e}),[]);function n(t){return e.find((e=>{let{num:n}=e;return n===t}))}}(t):[]}getInteractiveHandlers(e){return{handleInteractive:()=>(this._playback.isInteractiveActive=!0,!1),handlePause:()=>(this._controls.playback.isPlaying&&(this._playback.isInfoPrevented=!0,this._controls.playback.pause()),!0),handleEnd:()=>(this._playback.isInteractiveEnded=!0,!1),handleSeekTo:()=>(this.handleButtonClick(e,"INTERACTIVE"),!1),sendStatShow:()=>(e&&e.next_interactive_fragment&&this.interactiveFragment,!1)}}skipButtonClick(){var e;const t=null===(e=this.currentActivities)||void 0===e?void 0:e.find((e=>{var t;const n=null===(t=e.params)||void 0===t||null===(t=t.on_click)||void 0===t?void 0:t.strategy,r=e.annotation_type;return this.isSkipButton(n,r)}));var n;t&&this.handleButtonClick(null==t||null===(n=t.params)||void 0===n?void 0:n.on_click,t.annotation_type,!1)}handleInteractiveSeek(e){let{targetMs:t,frag:n}=e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0!==t&&!isNaN(t)&&n&&((0,P.Rn)((()=>{this.currentActivities=[],this.interactiveFragment=n,this.interactiveStage++,this.seek(t/1e3),this.currentTimeStamp=null,this._playback.isInteractiveActive=!1})),r||(this._playback.isInfoPrevented=!0,this._playback.play()),this._controls.hideControls())}handleButtonClick(e,t,n){if(this.clearTrigger(),!e)return;const r=e.strategy,i=this.isSkipButton(r,t);var o,a;(r&&t&&this.sendStat(r,t,n?"auto":"click",{nextItemId:e.video_id}),i)&&((e,t)=>{if(e&&t)try{var n,r;const i=_o.getItem(zi.Ok.ACTIVITIES_USAGE),o=null!==(n=JSON.parse(i))&&void 0!==n?n:{},a=null!==(r=o[e])&&void 0!==r?r:{},s=a[t],u=(0,l.A)((0,l.A)({},o),{},{[e]:(0,l.A)((0,l.A)({},a),{},{[t]:s+1})});_o.setItem(zi.Ok.ACTIVITIES_USAGE,JSON.stringify(u))}catch(e){console.error(e)}})(null!==(o=null===(a=this._userId)||void 0===a?void 0:a.toString())&&void 0!==o?o:Wj,this._videoId);switch(r){case"HIDE":this.currentActivities=[];break;case"SEEK_EXACTLY":{const t=null==e?void 0:e.target_position_ms;t&&t>=0&&this.seek(t/1e3);break}case"SEEK_TO_START":this.seek(0);break;case"SEEK_TO_END":this.seek(this._playback.duration);break;case"OPEN_EXTERNAL_URL":case"OPEN_INTERNAL_URL":{const t=e.url;t&&requestAnimationFrame((()=>window.location.assign(t)));break}case"INTERACTIVE_SEEK":return this.handleInteractiveSeek(s());case"INTERACTIVE_SKIP":return this.handleInteractiveSeek(s(),!0);case"SWITCH_VIDEO":{const t=e.video_id;if(t){const e="".concat(window.location.origin,"/video/").concat(t);requestAnimationFrame((()=>this.isEmbed?window.location.assign(e):va.Ug.emit(zi.L2.NEXT_VIDEO,{video:{id:t,video_url:e,thumbnail_url:"",title:"",is_audio:!1}})))}break}default:return}function s(){return{targetMs:null==e?void 0:e.target_position_ms,frag:null==e?void 0:e.next_interactive_fragment}}}handleInteractiveTimeout(e){e&&e.next_interactive_fragment&&this.interactiveFragment&&this.handleInteractiveSeek({targetMs:null==e?void 0:e.target_position_ms,frag:null==e?void 0:e.next_interactive_fragment})}sendStat(e,t,n,r){const i=((e,t,n)=>{const r="HIDE"===e,i="click"===n,o="show"===n,a="auto"===n;if("SKIP_INTRO"===t){const t=!["HIDE"].includes(e);if(r&&i)return"mainActivitiesClickIntroWatchButton";if(r&&o)return"mainActivitiesShowIntroWatchButton";if(t&&i)return"mainActivitiesClickIntroSkipButton";if(t&&o)return"mainActivitiesShowIntroSkipButton"}else if("SKIP_TITLES"===t){const t=!["HIDE","SWITCH_VIDEO"].includes(e),n="SWITCH_VIDEO"===e;if(r&&i)return"mainActivitiesClickCreditsWatchButton";if(r&&o)return"mainActivitiesShowCreditsWatchButton";if(n&&i)return"mainActivitiesClickNextEpisodeButton";if(n&&o)return"mainActivitiesShowNextEpisodeButton";if(n&&a)return"mainActivitiesAutoNextEpisodeButton";if(t&&i)return"mainActivitiesClickCreditsSkipButton";if(t&&o)return"mainActivitiesShowCreditsSkipButton"}return null})(e,t,n);var o,a,s,l,u,c,d;i&&(null===(o=this._counterHelper)||void 0===o||null===(a=o.get(i))||void 0===a||a({nextItemId:null==r?void 0:r.nextItemId,userSubscriptionId:null!==(s=null==r?void 0:r.userSubscriptionId)&&void 0!==s?s:(u=null===(l=this._platformSubscription)||void 0===l?void 0:l.activeSubscriptions,null!==(c=null==u||null===(d=u.map((e=>e.subscription_id)))||void 0===d?void 0:d.join(","))&&void 0!==c?c:"")}))}clearTrigger(){this.triggerActivity=null,this.durationProgress=0,this._triggerButtonDisplayTime=0}prepareActivities(){var e,t;this.fetchInteractiveFragments(),this._timeStampsArr=null!==(e=null===(t=this.activities)||void 0===t?void 0:t.map((e=>{var t,n,r,i;const o=null===(t=e.params)||void 0===t?void 0:t.show,a=null===(n=e.params)||void 0===n?void 0:n.progress,s=null!==(r=null==o?void 0:o.start_position_ms)&&void 0!==r?r:0,l=null!==(i=o.end_position_ms)&&void 0!==i?i:s,u=null==a?void 0:a.duration_ms;return[s,u>0?s+u:l]})))&&void 0!==e?e:[]}seek(e){this._isSkipForbidden?va.Ug.emit(zi.L2.SUBSCRIPTION_REQUEST,{productCode:zi.JZ.PRY}):(this._playback.seek(e,"skip"),this.checkSkipForbidden())}setTrigger(e,t){this._triggerButtonDisplayTime=t,this.durationProgress=0,this.triggerActivity=e}updateAutoTriggerState(e){var t,n;if(!this.triggerActivity||this.isActivitiesForcedHidden)return;const r=null===(t=this.triggerActivity)||void 0===t?void 0:t.params,i=null==r?void 0:r.show,o=null==r?void 0:r.progress,a=null==i?void 0:i.start_position_ms,s=null==i?void 0:i.end_position_ms,l=null==o?void 0:o.duration_ms,u=null===(n=this.triggerActivity)||void 0===n?void 0:n.annotation_type;if(!(u&&r&&a&&l&&this._triggerButtonDisplayTime))return;const c=this._triggerButtonDisplayTime+l;c<=e&&!(s&&e>s)?(this.handleButtonClick(r.on_click,u,!0),this.clearTrigger(),this.currentActivities=this.currentActivities.filter((e=>e.annotation_type!==u))):this._triggerButtonDisplayTime<=e&&e<c?this.durationProgress=(e-this._triggerButtonDisplayTime)/(c-this._triggerButtonDisplayTime):this.clearTrigger()}checkSkipForbidden(){this._isSkipForbidden=!1}isSkipButton(e,t){return!(!e||!t)&&(["SKIP_TITLES","SKIP_INTRO"].includes(t)&&"HIDE"!==e)}}Gj=Xj,({e:[qj],c:[Yj,Kj]}=(0,k.A)(Gj,[(0,I.k_)({implement:"IActivitiesPlugin",ctor_args:[{implement:"IsEmbed",optional:!0},"IDataPlugin","IPlayback","IControlsPlugin","IPlayerSizePlugin","IFullscreenPlugin",{implement:"IPlayerConfigPlugin",optional:!0},{implement:"IStatisticState",optional:!0},{implement:"IAdvertPlugin",optional:!0},{implement:"IEndScreenPlugin",optional:!0},{implement:"IPlatformSubscriptionPlugin",optional:!0},{implement:"PictureInPicturePlugin",optional:!0},{implement:"EventBus",optional:!0}]})],[[(0,I.o7)(),2,"observeVideoId"],[(0,I.o7)(),2,"observeIds"],[(0,I.o7)(),2,"observePlayerWidth"],[(0,I.o7)(),2,"initControlsVisible"],[(0,I.o7)(),2,"observeKeyDowns"],[I.zm,2,"resetInteractiveFragment"],[(0,I.o7)(),2,"initCurrentTimeReaction"],[(0,I.o7)(),2,"initTimestampsReaction"],[(0,I.o7)(),2,"refetchInteractiveFragments"],[I.zm,2,"getInteractiveHandlers"],[I.zm,2,"skipButtonClick"],[I.zm,2,"handleInteractiveSeek"],[I.zm,2,"handleButtonClick"],[I.zm,2,"handleInteractiveTimeout"],[I.zm,2,"sendStat"],[I.zm,2,"clearTrigger"]],0,void 0,I.j8)),Kj();const Qj=150,Zj=250,Jj={RADIUS:16,OFFSET:8},$j=e=>{const{isOpenControlled:n,container:r,anchor:i,closeOnEscape:o=!1,open:a,defaultOpen:s=!1,onOpenChange:u}=e,c=i&&"current"in i?i.current:i,[d,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[v,_]=jC({value:n?a:void 0,defaultValue:s,onChange:u}),f=(0,U.n)(r),g=(0,BI.Z)(c),b=typeof window>"u",y=b?0:window.innerWidth,E=b?0:window.innerHeight,w="0 0 ".concat(y," ").concat(E),S=(0,t.useCallback)((()=>{b||h(c?(e=>{const{node:t,radius:n=Jj.RADIUS,offset:r=Jj.OFFSET}=e;if(typeof window>"u")return"";const{innerWidth:i,innerHeight:o}=window,{x:a,y:s,width:l,height:u}=t.getBoundingClientRect(),c=l+2*r,d=u+2*r,h=Math.min(n,c/2,d/2),p=Math.floor(Math.max(h,0)),m=a-r+p,v=s-r,_=c-2*p,f=d-2*p;return"M".concat(i,",0L0,0L0,").concat(o,"L").concat(i,",").concat(o,"L").concat(i,",0Z\n    M").concat(m,",").concat(v," h").concat(_," a").concat(p,",").concat(p," 0 0 1 ").concat(p,",").concat(p," v").concat(f," a").concat(p,",").concat(p," 0 0 1 -").concat(p,",").concat(p," h-").concat(_," a").concat(p,",").concat(p," 0 0 1 -").concat(p,",-").concat(p," v-").concat(f," a").concat(p,",").concat(p," 0 0 1 ").concat(p,",-").concat(p," z")})({node:c}):"")}),[c,b]),A=(0,t.useMemo)((()=>({name:"updateOverlay",options:[c],fn(e){return null==S||S(),e}})),[c,S]),C=(0,kC.we)({open:v,onOpenChange:_,strategy:"fixed",middleware:c?[A]:[],whileElementsMounted:kP.ll}),k=C.context,P=C.refs,I=(0,kC.s9)(k,{escapeKey:o,outsidePress:!1}),T=(0,kC.bv)([I]),{status:x}=(0,kC.$X)(k,{duration:Qj}),{isMounted:R,styles:L}=(0,kC.DL)(k,{duration:Qj,initial:{opacity:0},open:{opacity:1,transitionTimingFunction:"ease-in"},close:{opacity:0,transitionTimingFunction:"ease-out"}});(0,fm.E)((()=>{if(R&&c)return P.setPositionReference(c),()=>{P.setPositionReference(null)}}),[c,R,P]),(0,fm.E)((()=>{let e;if(g&&c&&"open"===x)return g!==c&&(m(!0),e=window.setTimeout((()=>{m(!1)}),Zj)),()=>{window.clearTimeout(e)}}),[g,c,x]);const O=(0,t.useCallback)((()=>{_(!0)}),[_]),N=(0,t.useCallback)((()=>{_(!1)}),[_]);return(0,t.useMemo)((()=>(0,l.A)((0,l.A)((0,l.A)({},C),T),{},{viewBox:w,path:d,isPathAnimated:p,status:x,isMounted:R,overlayContainer:f,transitionStyles:L,openOverlay:O,closeOverlay:N})),[N,C,T,R,O,f,d,p,x,L,w])},eW="_root_e63571_v1-27-0",tW="_animated_e63571_v1-27-0",nW="_path_e63571_v1-27-0",rW="_interactive_e63571_v1-27-0",iW="_wrapper_e63571_v1-27-0",oW=(0,t.forwardRef)(((e,t)=>{const{style:n,className:r,container:i,anchor:o,closeOnEscape:a=!1,interactiveHighlight:s=!1,open:u,defaultOpen:c,onOpenChange:d}=e,{refs:h,getFloatingProps:p,isMounted:m,transitionStyles:v,overlayContainer:_,viewBox:f,path:g,isPathAnimated:b}=$j({isOpenControlled:"open"in e,container:i,anchor:o,closeOnEscape:a,open:u,defaultOpen:c,onOpenChange:d}),y=(0,kC.SV)([h.setFloating,t]);if(!m)return null;const E=p({tabIndex:void 0,style:(0,l.A)((0,l.A)({},n),v)}),w=(0,ve.c)(r,eW,{[tW]:b,[rW]:s});return(0,S.jsx)(kC.XF,{root:_,children:(0,S.jsxs)("div",(0,l.A)((0,l.A)({ref:y,className:w},E),{},{children:[(0,S.jsx)(kC.zR,{lockScroll:!0}),(0,S.jsx)("div",{className:iW,children:(0,S.jsx)("svg",{viewBox:f,xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",preserveAspectRatio:"xMinYMin slice",children:(0,S.jsx)("path",{className:nW,d:g})})})]}))})}));oW.displayName="HighlightOverlay";var aW=a(2925);const sW=(0,t.createContext)(null),lW=()=>{const e=(0,t.useContext)(sW);if(!e)throw new Error("[@rutube/freyr] OnboardingTourStep.Context does not exist.");return e},uW=(0,t.forwardRef)(((e,t)=>{const{children:n,getRootContext:r}=e,{disabled:i,registerAnchor:o}=r(),{index:a}=lW(),s=(0,kC.SV)([t,o(a)]);return i?n:(0,S.jsx)(aW.m.Anchor,{ref:s,children:n})}));uW.displayName="InternalOnboardingTour.Anchor";const cW={root:"_root_e1598f_v1-27-0",single:"_single_e1598f_v1-27-0",finishButton:"_finishButton_e1598f_v1-27-0",header:"_header_e1598f_v1-27-0",button:"_button_e1598f_v1-27-0",footer:"_footer_e1598f_v1-27-0",counter:"_counter_e1598f_v1-27-0"},dW=e=>{const{style:n,className:r,zIndex:i,children:o,heading:a,description:s,getRootContext:l}=e,{disabled:u,steps:c,overlay:d,moveNextStep:h,movePrevStep:p,cancel:m,finish:v,isFirstStep:_,isLastStep:f,finishButtonText:g}=l(),{index:b}=lW(),y=c.findIndex((e=>e===b)),E=c.length,w=1===E,C=_(b),k=f(b),P=!w,I=!w&&!C,T=!w&&!k,x=w||k,R=(0,t.useCallback)((()=>{null==p||p()}),[p]),L=(0,t.useCallback)((()=>{null==h||h()}),[h]),O=(0,t.useCallback)((()=>{m(b)}),[m,b]),N=(0,t.useCallback)((()=>{null==v||v()}),[v]),M=(0,ve.c)(r,cW.root,{[cW.single]:w});return u?null:(0,S.jsx)(A.N,{theme:"light",scoped:!0,children:(0,S.jsxs)(aW.m.Content,{style:n,className:M,zIndex:i,enableFocusManager:!0,focusManagerProps:{outsideElementsInert:"none"!==d},children:[(0,S.jsxs)(XP,{className:cW.header,justify:"space-between",columnGap:"2x",children:[(0,S.jsxs)(XP,{className:cW.heading,direction:"column",rowGap:"2x",children:[(0,S.jsx)(me.o,{variant:"body-l-medium",wordBreak:"break-all",children:a}),(0,S.jsx)(me.o,{variant:"body-m-regular",wordBreak:"break-all",children:s})]}),(0,S.jsx)(Rk,{className:cW.button,startIcon:(0,S.jsx)(ot,{size:24,"aria-hidden":"true"}),size:"s",variant:"tertiary",onClick:O,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"})]}),o,(0,S.jsxs)(XP,{className:cW.footer,justify:"space-between",align:"center",columnGap:"4x",children:[P?(0,S.jsxs)(me.o,{className:cW.counter,as:"span",variant:"caption-s-regular",color:"secondary",children:[y+1," / ",E]}):null,I?(0,S.jsx)(Rk,{variant:"secondary",onClick:R,children:"ÐÐ°Ð·Ð°Ð´"}):null,T?(0,S.jsx)(Rk,{onClick:L,children:"Ð”Ð°Ð»ÐµÐµ"}):null,x?(0,S.jsx)(Rk,{className:cW.finishButton,onClick:N,children:g}):null]})]})})};dW.displayName="InternalOnboardingTour.Content";const hW={DELAY_DURATION:250,TOOLTIP_OFFSET:{mainAxis:14},TOOLTIP_OFFSET_OVERLAY:{mainAxis:26},ENABLE_OVERLAY:!0,OVERLAY:"default",INTERACTIVE_HIGHLIGHT:!1,FINISH_TEXT:"Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾"},pW=e=>"[@rutube/freyr] OnboardingTour.Service: Step with index ".concat(e," already exists."),mW=e=>"[@rutube/freyr] OnboardingTour.Service: Step with index ".concat(e," not found."),vW=e=>{const{children:n,index:r,getRootContext:i,tooltipProps:o}=e,{disabled:a,active:s,activeStep:u,instantToggle:c,overlay:d,registerStep:h,removeStep:p,cancel:m}=i(),v=(0,l.A)({offsetOptions:"default"===d?hW.TOOLTIP_OFFSET_OVERLAY:hW.TOOLTIP_OFFSET},o),{active:_}=(e=>{const{index:n,registerStep:r,removeStep:i,disabled:o,instantToggle:a,active:s}=e,[l,u]=(0,t.useState)(!1),c=a?0:hW.DELAY_DURATION;return(0,t.useEffect)((()=>{if(!o)return r(n),()=>{i(n)}}),[o,n,r,i]),(0,t.useEffect)((()=>{if(o)return;let e;return s?e=window.setTimeout((()=>{u(!0)}),c):u(!1),()=>{window.clearTimeout(e)}}),[o,s,c]),{active:l}})({active:s&&u===r,disabled:a,index:r,instantToggle:c,registerStep:h,removeStep:p}),f=(0,t.useCallback)(((e,t)=>{!e&&"escape-key"===(null==t?void 0:t.reason)&&m(r)}),[m,r]),g=(0,t.useMemo)((()=>({index:r})),[r]);return(0,S.jsx)(sW.Provider,{value:g,children:a?n:(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(aW.m,(0,l.A)((0,l.A)({open:_,onOpenChange:f,closeOnEscape:!0},v),{},{children:n}))})})};vW.displayName="InternalOnboardingTour.Step";const _W=()=>{const{OnboardingTourContext:e,withOnboardingTourContext:n}=(()=>{const e=(0,t.createContext)(null);e.displayName="OnboardingTour.Context";const n=()=>{const n=(0,t.useContext)(e);if(!n)throw new Error("[OnboardingTour.Context] OnboardingTour.* Components must be used within a OnboardingTour.");return n};return{OnboardingTourContext:e,withOnboardingTourContext:e=>(0,t.memo)((t=>(0,S.jsx)(e,(0,l.A)((0,l.A)({},t),{},{getRootContext:n}))))}})(),r=(0,t.memo)((n=>{const{children:r,active:i,disabled:o,startStep:a,enableOverlay:s=hW.ENABLE_OVERLAY,overlay:l=hW.OVERLAY,interactiveHighlight:u=hW.INTERACTIVE_HIGHLIGHT,finishButtonText:c=hW.FINISH_TEXT,onActiveChange:d,onActiveStepChange:h,onCancel:p,onFinish:m}=n,v="overlay"in n?l:"enableOverlay"in n?s?"default":"transparent":"default",{active:_,showOverlay:f,instantToggle:g,getSortedSteps:b,activeStep:y,activeAnchor:E,registerAnchor:w,registerStep:A,removeStep:C,finish:k,cancel:P,moveNextStep:I,movePrevStep:T,isFirstStep:x,isLastStep:R}=(e=>{const{active:n,disabled:r,startStep:i,onActiveChange:o,onActiveStepChange:a,onCancel:s,onFinish:l}=e,u=(0,t.useRef)(null),[c,d]=(0,t.useState)(new Set),[h,p]=(0,t.useState)(null),[m,v]=jC({value:n,defaultValue:!1,onChange:o}),_=(0,BI.Z)(h),f=(0,t.useCallback)((()=>[...c].sort(((e,t)=>e-t))),[c]),g=(0,t.useCallback)((()=>(u.current||(u.current=new Map),u.current)),[]),b=(0,t.useCallback)((e=>t=>{const n=g();return n.set(e,t),()=>{n.delete(e)}}),[g]),y=(0,t.useCallback)((e=>{d((t=>{if(t.has(e))return console.warn(pW(e)),t;const n=new Set(t);return n.add(e),n}))}),[]),E=(0,t.useCallback)((e=>{d((t=>{if(!t.has(e))return console.warn(mW(e)),t;const n=new Set(t);return n.delete(e),n}))}),[]),w=(0,t.useCallback)((e=>{null===e||c.has(e)?p((t=>t!==e?(null==a||a(e),e):t)):console.warn(mW(e))}),[a,c]),S=(0,t.useCallback)((()=>{if(!c.size||!h)return;const e=f(),t=e.findIndex((e=>e===h));t!==e.length-1&&w(e[t+1])}),[h,f,w,c.size]),A=(0,t.useCallback)((()=>{if(!c.size||!h)return;const e=f(),t=e.findIndex((e=>e===h));0!==t&&w(e[t-1])}),[h,f,w,c.size]),C=(0,t.useCallback)((e=>!(0===c.size||!c.has(e))&&e===f()[0]),[f,c]),k=(0,t.useCallback)((e=>{if(0===c.size||!c.has(e))return!1;const t=f();return e===t[t.length-1]}),[f,c]),P=(0,t.useCallback)((()=>{v(!1),null==l||l()}),[l,v]),I=(0,t.useCallback)((e=>{v(!1),null==s||s(e)}),[s,v]);(0,t.useEffect)((()=>{r||h&&!c.has(h)&&w(null)}),[h,r,w,c]),(0,t.useEffect)((()=>{var e;r||(m&&!h&&w(null!==(e=null!=i?i:f()[0])&&void 0!==e?e:null),m||w(null))}),[m,h,r,f,w,i]);const T=!r&&m,x=!_,R=h?g().get(h):null;return{active:m,showOverlay:T,instantToggle:x,getSortedSteps:f,activeStep:h,activeAnchor:R,registerAnchor:b,registerStep:y,removeStep:E,finish:P,cancel:I,setActiveStep:w,moveNextStep:S,movePrevStep:A,isFirstStep:C,isLastStep:k}})({active:i,disabled:o,startStep:a,onActiveChange:d,onActiveStepChange:h,onCancel:p,onFinish:m}),L=(0,t.useMemo)((()=>({active:_,disabled:o,steps:b(),activeStep:y,overlay:l,registerAnchor:w,registerStep:A,removeStep:C,finish:k,cancel:P,moveNextStep:I,movePrevStep:T,isFirstStep:x,isLastStep:R,instantToggle:g,finishButtonText:c})),[_,y,P,o,l,k,c,b,g,x,R,I,T,w,A,C]);return(0,S.jsx)(e.Provider,{value:L,children:o?r:(0,S.jsxs)(S.Fragment,{children:[(()=>{switch(v){default:case"default":return(0,S.jsx)(oW,{anchor:E,open:f,interactiveHighlight:u});case"transparent":return f&&(0,S.jsx)(kC.zR,{lockScroll:!0});case"none":return null}})(),r]})})})),i=n(uW),o=n(vW),a=n(dW);return r.displayName="OnboardingTour",i.displayName="OnboardingTour.Anchor",o.displayName="OnboardingTour.Step",a.displayName="OnboardingTour.Content",Object.freeze(Object.assign(r,{Step:o,Anchor:i,Content:a}))};var fW;let gW,bW;let yW;class EW extends I.j8{constructor(e,t,n,r,i,o,a,s,l,u,c,d){super(),this._isShowOnboarding=(gW(this),P.sH.box(!1)),this._activeOnboarding=P.sH.box(null),this._showOnboardingTimeout=null,this._seasonsProgressDisposer=null,this._onboardingTour=null,this._isEmbed=void 0,this._isTouchDevice=P.sH.box(!1),this.props=e,this._seasonsView=t,this._seasons=n,this._chapters=r,this._controls=i,this._playback=o,this._pipView=a,this._notifications=s,this._config=l,this._advert=u,this._longPress=c,this._endScreen=d,this._isEmbed=this.props.value,this.isTouchDevice=H.B.isMobile,(0,P.Gn)(this,{activeOnboarding:P.EW,isShowOnboarding:P.EW,isTouchDevice:P.EW})}initVideoId(){return(0,P.mJ)((()=>this._config.get("videoId")),(()=>{this.activeOnboarding=null,this.hideOnboarding(),this.clearSeasonsProgressOnboarding()}))}initActiveOnboarding(){return(0,P.mJ)((()=>({isChaptersAllowed:this._chapters.allowOnboarding,isSeasonsAllowed:this._seasonsView.allowOnboarding,isSeasonsLoading:this._seasons.loading,isPiPAllowed:this._pipView.allowOnboarding,allowOnboarding:this.allowOnboarding})),(e=>{let{isChaptersAllowed:t,isSeasonsAllowed:n,isSeasonsLoading:r,isPiPAllowed:i,allowOnboarding:o}=e;!r&&o&&null===this.activeOnboarding&&(n?this.activeOnboarding="seasons":t?this.activeOnboarding="chapters":i&&(this.activeOnboarding="pip"))}))}initOnboarding(){return(0,P.mJ)((()=>({activeOnboarding:this.activeOnboarding})),(e=>{let{activeOnboarding:t}=e;if(!t)return;"seasons"===t&&this.startSeasonsProgressOnboarding();const n="".concat(this.activeOnboarding,"-onboarding");this.showOnboarding(n)}))}disposeSeasonsProgressOnboarding(){return()=>{this.clearSeasonsProgressOnboarding()}}initLongPress(){return(0,P.mJ)((()=>this._longPress.isLongPress),(e=>{e&&(this._controls.preventHideControls=!1,this.hideOnboarding())}))}initSeasonsWidget(){return(0,P.mJ)((()=>this._seasonsView.isWidgetVisible),(e=>{e&&this.hideOnboarding()}))}isOpenSettingsPanel(){return(0,P.mJ)((()=>this._controls.isShowSettingsPannel),(e=>{pt.ControlsPlugin.isCurrentRedesignStageAvailable||e&&this.hideOnboarding()}))}isOpenEndscreenPanel(){return(0,P.mJ)((()=>{var e;return null===(e=this._endScreen)||void 0===e?void 0:e.visible}),(e=>{e&&this.hideOnboarding()}))}startSeasonsProgressOnboarding(){this._seasonsProgressDisposer=(0,P.mJ)((()=>({activeOnboarding:this.activeOnboarding,showOnboardingBeforeEndscreen:this._seasonsView.showOnboardingBeforeEndscreen})),(e=>{let{activeOnboarding:t,showOnboardingBeforeEndscreen:n}=e;if(!t||!n)return;const r="".concat(this.activeOnboarding,"-onboarding-end-screen");this.showOnboarding(r),this.clearSeasonsProgressOnboarding()}))}clearSeasonsProgressOnboarding(){this._seasonsProgressDisposer&&(this._seasonsProgressDisposer(),this._seasonsProgressDisposer=null)}showOnboarding(e){const t=_o.getItem(e);null!=t||(this.isShowOnboarding=!0,_o.setItem(e,"1"),this._controls.preventHideControls=!0,this.setHideOnboardingTimer())}hideOnboarding(){this.isShowOnboarding=!1,this.clearHideOnboardingTimer(),this._controls.preventHideControls=!1,this._controls.setHideControlsTimer()}set activeOnboarding(e){this._activeOnboarding.set(e)}get activeOnboarding(){return this._activeOnboarding.get()}set isShowOnboarding(e){this._isShowOnboarding.set(e)}get isShowOnboarding(){return this._isShowOnboarding.get()&&this._controls.isShowControls}get isShowAdvert(){var e;return"show"===(null===(e=this._advert)||void 0===e?void 0:e.currentState)}set isTouchDevice(e){this._isTouchDevice.set(e)}get isTouchDevice(){return this._isTouchDevice.get()}get allowOnboarding(){const e=!this._isEmbed&&this._controls.isShowControls&&this._playback.isPlaying&&!this.isShowAdvert;return this.isTouchDevice?e&&"Enabled"!==this._notifications.autoPlayWithMute:e}get onboardingTour(){return this._onboardingTour||(this._onboardingTour=_W()),this._onboardingTour}setHideOnboardingTimer(){this.clearHideOnboardingTimer();const e=setTimeout((()=>{this._controls.preventHideControls=!1,this._controls.setHideControlsTimer(),this.isShowOnboarding=!1}),6500);this._showOnboardingTimeout=e}clearHideOnboardingTimer(){const e=this._showOnboardingTimeout;e&&(clearTimeout(e),this._showOnboardingTimeout=null)}}var wW,SW,AW;let CW,kW,PW;var IW;let TW,xW,RW;fW=EW,({e:[gW],c:[yW,bW]}=(0,k.A)(fW,[(0,I.k_)({implement:"IOnboardingPlugin",ctor_args:["IsEmbed","ISeasonsViewPlugin","ISeasonsPlugin","IChaptersPlugin","IControlsPlugin","IPlayback","IPictureInPictureViewPlugin","IDisclaimersPlugin","IPlayerConfigPlugin",{implement:"IAdvertPlugin",optional:!0},"ILongPressSeekPlugin",{implement:"IEndScreenPlugin",optional:!0}]})],[[(0,I.o7)(),2,"initVideoId"],[(0,I.o7)(),2,"initActiveOnboarding"],[(0,I.o7)(),2,"initOnboarding"],[(0,I.o7)(),2,"disposeSeasonsProgressOnboarding"],[(0,I.o7)(),2,"initLongPress"],[(0,I.o7)(),2,"initSeasonsWidget"],[(0,I.o7)(),2,"isOpenSettingsPanel"],[(0,I.o7)(),2,"isOpenEndscreenPanel"],[[P.XI,P.XI.bound],18,"showOnboarding"],[[P.XI,P.XI.bound],18,"hideOnboarding"],[[P.XI,P.XI.bound],18,"setHideOnboardingTimer"],[[P.XI,P.XI.bound],18,"clearHideOnboardingTimer"]],0,void 0,I.j8)),bW(),new(AW=class extends(wW=wh){constructor(e,t,n,r){super(n,t instanceof ol?t.counterHelper:void 0),this._domNodeTracker=e,this._pip=r}initDisposerHandler(){return(0,P.mJ)((()=>this._domNodeTracker.isConnected),(e=>{e?(this.isInPiP&&(this.isHalfVisible=!0,this.isFullVisible=!0),this.initObserver(this._domNodeTracker.node)):this.disconnectObserver()}))}sendMetric(e){var t;e in PW.EVENTS&&(null===(t=this._counterHelper)||void 0===t||t.get(PW.EVENTS[e])())}get isInPiP(){var e;return null===(e=this._pip)||void 0===e?void 0:e.isInPiP}},[PW,CW]=(0,k.A)(AW,[(0,I.k_)({implement:"IVideoStatisticMRCPlugin",ctor_args:["IDomNodeTrackerPlugin","IStatisticState","IVisibilityStatePlugin",{implement:"PictureInPicturePlugin",optional:!0}]})],[],0,void 0,wW).c,kW=AW,(SW=class extends ft{constructor(){super(PW),this.EVENTS={[vh]:"mainMrcHalfVisibleOneSec",[_h]:"mainMrcHalfVisibleTwoSec",[fh]:"mainMrcFullVisibleOneSec",[gh]:"mainMrcFullVisibleTwoSec"},CW()}})[kW]=void 0,SW);IW=class extends Nv{constructor(e,t,n,r){TW((super(e,t,n,void 0,void 0,void 0,void 0,void 0,r),this._config=e,this)),this.player.muted=!0}loadDataCallback(){const e=()=>{const e=this._config.get("onLoadedData");e&&e()};return this.player.addEventListener("loadeddata",e),()=>{this.player.removeEventListener("loadeddata",e)}}initProv(){return(0,P.mJ)((()=>{var e;return{mount:this.mount,link:null===(e=this.data)||void 0===e?void 0:e.link,player:this.player}}),(e=>{let{mount:t,link:n}=e;t&&n&&this.initProvider(n)}))}startPlayReaction(){return(0,P.mJ)((()=>({isPlayerReady:this.isPlayerReady})),(e=>{let{isPlayerReady:t}=e;t&&this.playWithHandlePermissions()}))}initProvider(e){this.provider.isProviderInit&&this.provider.destroy(),e&&this.player&&!this.provider.isProviderInit&&this.provider.initProvider(e,this,{})}get children(){return this._config.get("children")}},({e:[TW],c:[RW,xW]}=(0,k.A)(IW,[(0,I.k_)({implement:"IPlayback",ctor_args:["IPlayerConfigPlugin",{implement:"IDataPlugin",optional:!0},"IProviderPlugin","IDomNodeTrackerPlugin"]})],[[(0,I.o7)(),2,"loadDataCallback"],[(0,I.o7)(),2,"initProv"],[(0,I.o7)(),2,"startPlayReaction"]],0,void 0,Nv)),xW();(0,Jn.PA)((e=>{var n;let{stubComponent:r,playbackComponent:i}=e;return t.createElement(r,null,(null===(n=function(){const e=(0,fr.p5)().resolve("IPlayback");if(!(e instanceof RW))throw new Error("PlayerPreviewPlaybackPlugin not found in current player configuration");return e}())||void 0===n?void 0:n.waiting)&&t.createElement(jo,null),t.createElement(i,null))}));var LW;let OW,NW,MW;var DW;let BW,FW;LW=class extends M{constructor(e,t,n,r){super(e,t.get("videoId"),t.get("userId"),{startTime:t.get("startTime"),stopTime:void 0},n.isLive,r,t),this._videoHistory=void OW(this),this.config=t,this.data=n,this._videoHistory=r}initVideoId(){return(0,P.mJ)((()=>this.config.get("videoId")),(e=>{this.videoId=e,this._hrefParams=this.getHRefParams()}))}initUserId(){return(0,P.mJ)((()=>this.config.get("userId")),(e=>{this.userId=e}),{fireImmediately:!0})}initTimeFromHistoryDisposerHandler(){return(0,P.mJ)((()=>{var e;return{videoId:this.videoId,userId:this.userId,duration:null===(e=this.data)||void 0===e?void 0:e.duration}}),(e=>{var t;let{videoId:n,userId:r,duration:i}=e;this.config.get("interactiveFragments")||(this._timeWasSet=!1,null!==(t=this._videoHistory)&&void 0!==t&&t.fetchVideoProgress&&i&&(0,P.gP)(this._videoHistory.fetchVideoProgress(n,i,r)).then((e=>this._timeFromHistory=null!=e?e:0)).catch((e=>{console.warn("fetchVideoProgress error: ",e)})))}),{fireImmediately:!0})}},({e:[OW],c:[MW,NW]}=(0,k.A)(LW,[(0,I.k_)({implement:"ITimeControllerPlugin",ctor_args:["IPlayback","IPlayerConfigPlugin","IDataPlugin","IVideoHistoryPlugin"]})],[[(0,I.o7)(),2,"initVideoId"],[(0,I.o7)(),2,"initUserId"]],0,void 0,M)),NW();DW=class extends Ji{initPlayerSize(){return(0,P.mJ)((()=>{var e;return{playerWidth:null===(e=this.size)||void 0===e?void 0:e.width}}),(e=>{let{playerWidth:t=0}=e;this.playerSizeValue=Ki(t,H.B.isMobile),this.iconSizeValue=zi.Ev[this.playerSizeValue]}))}},[FW,BW]=(0,k.A)(DW,[(0,I.k_)({implement:"IPlayerSizePlugin",ctor_args:["IsEmbed"]})],[],0,void 0,Ji).c,BW();const HW="stats-for-nerds-module__root___lh_AP",VW="stats-for-nerds-module__content___eRZl7",UW="stats-for-nerds-module__closeButton___WXchp",jW="stats-for-nerds-module__name___WtPU5",WW="stats-for-nerds-module__value___BZUvr",zW="stats-for-nerds-module__copyButton___P26xz",GW=(0,Jn.PA)((()=>{const[e,n]=(0,Zn.cV)(!1,2e3),{hide:r,copyStatsInBuffer:i,visible:o,getPlayerStats:a}=vI(),s=a();return o?t.createElement("div",{className:HW},t.createElement("div",{className:VW},t.createElement("div",{className:UW,onClick:()=>{r()}},"[x]"),s.map((e=>{let{label:n,value:r}=e;return t.createElement("div",{key:n},t.createElement("div",{className:jW},n,":"),t.createElement("span",{className:WW},r))})),t.createElement("div",{className:zW,onClick:()=>{i().then((()=>n(!0))).catch((e=>console.info(e)))}},"[",e?"Copied":"Copy","]"))):null})),qW=(0,Jn.PA)((()=>{const{visible:e}=vI();return e&&t.createElement(GW,null)})),KW=e=>{if(!e)return"undefined";const[t=[],n,r]=e,i=t.map((e=>{let{start:t,end:n}=e;return"(".concat(Math.round(t),", ").concat(Math.round(n),")")})).join(", ");return"".concat(i," | ").concat(Math.round(n)," | ").concat(Math.round(r))},YW=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.round(e*t)/t};function XW(){var e;const t=navigator.userAgent.toLowerCase().includes("android"),n=Boolean(null===(e=window)||void 0===e||null===(e=e.screen.orientation)||void 0===e?void 0:e.lock);return t&&n}var QW,ZW;let JW,$W,ez,tz;new(ZW=class extends I.j8{constructor(e,t,n,r,i,o,a){super(),this.__dataPlugin=void JW(this),this.__videoLayout=void 0,this.__playback=void 0,this.__provider=void 0,this.__extraActions=void 0,this._visible=P.sH.box(!1),this._playerVersion=o,this._activites=a,this.__dataPlugin=e,this.__videoLayout=t,this.__playback=n,this.__provider=r,this.__extraActions=i,(0,P.Gn)(this,{visible:P.EW,interactiveFragment:P.EW,providerInstance:P.EW,hide:P.XI}),this.copyStatsInBuffer=this.copyStatsInBuffer.bind(this),this.hide=this.hide.bind(this)}hide(){this.visible=!1}init(){var e,t;const n=()=>this.visible=!this.visible,r=()=>{this.copyStatsInBuffer()};return null===(e=this.__extraActions)||void 0===e||e.on(yr.copyTechInfo,r),null===(t=this.__extraActions)||void 0===t||t.on(yr.toggleTechInfo,n),()=>{var e,t;null===(e=this.__extraActions)||void 0===e||e.off(yr.copyTechInfo,r),null===(t=this.__extraActions)||void 0===t||t.off(yr.toggleTechInfo,n)}}copyStatsInBuffer(){const e=this.getPlayerStats();return nA(JSON.stringify(e))}get visible(){return this._visible.get()}set visible(e){this._visible.set(e)}get videoId(){return this.__dataPlugin.video_id||""}get playerMode(){return this.__videoLayout.playerMode}get playerWrapperElement(){return this.__videoLayout.wrapperRef}get bufferedData(){return this.__playback.getBuffered()}get duration(){return this.__playback.duration}get currentTime(){return this.__playback.currentTime}get progress(){return this.__playback.progress}get bandwidthEstimate(){var e;const t=null===(e=this.providerInstance)||void 0===e?void 0:e.bandwidthEstimate;return"function"==typeof t?t():t}get providerInstance(){var e;return null===(e=this.__provider.provider)||void 0===e?void 0:e.instance}getCurrentLevel(){var e,t;const n=null===(e=this.providerInstance)||void 0===e?void 0:e.levels,r=null===(t=this.providerInstance)||void 0===t?void 0:t.currentLevel;if("number"!=typeof r||!n)return{};const i="function"==typeof n?n()[r]:n[r];return!i||null!=i&&i.url||(i.url=""),i}get isLive(){return this.__dataPlugin.isLive}get isDVR(){return this.__dataPlugin.isDVR}get isAutoQuality(){return this.__provider.autoQuality}get activeQuality(){return this.__provider.activeQualityValue}get volume(){return this.__playback.volume}get muted(){return this.__playback.muted}get versionName(){return this._playerVersion.value}get interactiveFragment(){var e;return"".concat((null===(e=this._activites)||void 0===e?void 0:e.interactiveFragment)||null," ").concat(this.__playback.isInteractiveEnded?"end":"")}getPlayerStats(){var e,t;const n=this.getCurrentLevel(),r=void 0!==(null==n?void 0:n.bitrate)?"".concat(Math.round(n.bitrate/1024)," kb"):"undefined",{edge:i,dive:o}=rO(n),[a,s]=(()=>{var e,t;if(null===(e=window)||void 0===e||null===(e=e.navigator)||void 0===e||!e.userAgent)return["",""];const n=null===(t=window)||void 0===t||null===(t=t.navigator)||void 0===t||null===(t=t.userAgent)||void 0===t?void 0:t.split(") ");return["".concat(n[0],")"),n.slice(1).join(") ")]})(),l=[{label:"Video Id",value:this.videoId},{label:"Bandwidth",value:this.bandwidthEstimate?"".concat(Math.round(this.bandwidthEstimate/1048576)," mbps"):"undefined"},{label:"Codecs",value:"".concat(String(null==n?void 0:n.videoCodec)," | ").concat(String(null==n?void 0:n.audioCodec))},{label:"Buffer",value:KW(this.bufferedData)},{label:"Screen Resolution",value:"".concat(null===(e=window)||void 0===e||null===(e=e.screen)||void 0===e?void 0:e.width,"x").concat(null===(t=window)||void 0===t||null===(t=t.screen)||void 0===t?void 0:t.height)},{label:"Video Quality",value:"".concat(String(null==n?void 0:n.width),"x").concat(String(null==n?void 0:n.height)," | ").concat(r)},{label:"Edge | Dive",value:"".concat(String(i)," | ").concat(String(o))},{label:"isLive | isDVR",value:"".concat(String(this.isLive)," | ").concat(String(this.isDVR))},{label:"Auto Quality Enabled",value:this.isAutoQuality.toString()},{label:"Current Quality",value:this.activeQuality},{label:"Playback Position",value:"".concat(this.currentTime," / ").concat(this.duration)},{label:"Volume | Muted",value:"".concat(YW(this.volume),"% | ").concat(this.muted.toString())},{label:"Current Domain",value:(0,O.IN)()},{label:"Player Version",value:this.versionName},{label:"Current Date",value:(new Date).toString()},{label:"User Agent",value:"".concat(a," ").concat(s)},{label:"Screen Lock API",value:String(XW())}];return null!==this.interactiveFragment&&l.push({label:"Interactive fragment",value:String(this.interactiveFragment)}),l}},({e:[JW],c:[tz,$W]}=(0,k.A)(ZW,[(0,I.k_)({implement:"IStatsForNerdsPlugin",ctor_args:["IDataPlugin","IVideoLayoutPlugin","IPlayback","IProviderPlugin",{implement:"IExtraActionsPlugin",optional:!0},"PlayerVersion",{implement:"IActivitiesPlugin",optional:!0}]})],[[(0,I.o7)(),2,"init"],[I.zm,2,"getCurrentLevel"],[I.zm,2,"getPlayerStats"]],0,void 0,I.j8)),ez=ZW,(QW=class extends ft{constructor(){super(tz),this.StatsForNerds=qW,$W()}})[ez]=void 0,QW);const nz="loader-template-module__wrapper___Rm6Ns",rz="loader-template-module__wrapperLoaded___ALoXk",iz="loader-template-module__wrapperNoControls___Ve8pL",oz="loader-template-module__posterWrapper___v1GIp",az=(0,Jn.PA)((0,t.forwardRef)(((e,n)=>{let{children:r,mount:i}=e;const o=(0,pt.useControls)(),{isPlayerReady:a,waiting:s,isPlaying:l,playWithHandlePermissions:u}=o.playback,c=Fp(),{showPoster:d,isTouchDevice:h,data:p,isFullScreen:m}=c,v=(0,$a.a)(),{handlers:_}=t_({}),f=i_();if(d)return t.createElement("div",{className:er()([nz,oz]),style:{backgroundImage:"url(".concat(p.poster,")")}},t.createElement("div",{style:{width:"48px",height:"48px"},onClick:()=>u()},t.createElement(hi,null)));if(!a)return t.createElement("div",{className:nz,style:{display:"flex",alignItems:"center",justifyContent:"center"}},t.createElement(jo,null));return t.createElement("div",{className:er()(nz,rz,{[iz]:!o.isShowControls}),style:{display:i?"flex":"none",justifyContent:"center"},ref:e=>{e&&(c.wrapperRef=e,v.wrapperRef=e,f.node=e)},tabIndex:0,"aria-label":"'Ð’Ð¸Ð´ÐµÐ¾Ð¿Ð»ÐµÐµÑ€ ".concat(m?" Ð² Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð¼ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ":""),onMouseMove:()=>{h||(o.showControls(),l&&""===o.activePanel&&o.setHideControlsTimer())},onMouseLeave:()=>{l&&o.hideControls()},onMouseDown:_.onMouseDown,onTouchStart:_.onTouchStart,onTouchEnd:_.onTouchEnd,onTouchCancel:_.onTouchEnd},s&&t.createElement(jo,null),r)}))),sz=((0,Jn.PA)((e=>{let{controlsComponent:n,controlsInputComponents:r,playbackComponent:i,endScreenComponent:o,settingsComponent:a,captionsComponent:s,pauseScreenComponent:u,seasonsFullScreenComponent:c,stubComponent:d,infoLayerComponent:h,captionsButtonComponent:p,statsForNerdsComponent:m,notificationsComponent:v,counterHelper:_,children:f}=e;const[g,b]=(0,t.useState)(!1),{isTouchDevice:y,isControlsForcedHidden:E}=Fp(),{isPlayOptionsLoaded:w}=lm(),S=(0,t.useCallback)((()=>{null==_||_.get("mainStatusUnload")()}),[_]);return(0,t.useEffect)((()=>(w&&(null==_||_.get("mainStatusLoad")()),window.addEventListener("beforeunload",S),()=>{window.removeEventListener("beforeunload",S)})),[_,S,w]),(0,t.useEffect)((()=>{b(!0)}),[]),t.createElement(d,null,t.createElement(az,{_allowVerticalTouchScroll:!1,mount:g},t.createElement(_m,null,t.createElement(G_,{settingsButton:a})),t.createElement(r_,null,t.createElement(i,null)),s&&t.createElement(s,null),u&&!y&&t.createElement(u,null),n&&!E&&t.createElement(n,{components:(0,l.A)((0,l.A)({},r),{},{settingsComponent:a,captionsButtonComponent:p})}),c&&t.createElement(c,null),o&&t.createElement(o,null),t.createElement(v,null),t.createElement(h,null),t.createElement(m,null),f))})),["startScreenComponent","highlightRutube"]),lz=e=>{let{startScreenComponent:n,highlightRutube:r}=e,i=(0,V.A)(e,sz);return t.createElement(zS,null,t.createElement(pw,i,t.createElement(n,null),t.createElement(r,null)))},uz=pn.builder().use(Sn).group("embedChannelSubscription").group("click").event("subscribe").message((()=>({methodName:wn.jI.EMBED_SUBSCRIBE_CLICK}))).commit().event("author").message((()=>({methodName:wn.jI.EMBED_AUTHOR_CLICK}))).commit().endGroup().event("subscribe").params().message((e=>{let{params:{channelId:t,subscribe:n}}=e;return{methodName:wn.t_.EMBED_SUBSCRIBE,resolvers:[{names:["{{channel_id}}"],value:t},{names:["{{subscribe}}"],value:n}]}})).commit().endGroup().build(),cz=pn.builder().use(Sn).group("watchOnRutube").event("clickOld").params().message((e=>{let{params:{clickedUrl:t}}=e;return{methodName:wn.jI.WATCH_ON_RUTUBE_CLICK,resolvers:[{names:["{{clicked_url}}"],value:t}]}})).commit().event("showOld").message((()=>({methodName:wn.jI.WATCH_ON_RUTUBE_VIEW}))).commit().event("show").message((()=>({methodName:wn.t_.WATCH_ON_RUTUBE,action:"show"}))).commit().event("click").params().message((e=>{let{params:{clickedUrl:t}}=e;return{methodName:wn.t_.WATCH_ON_RUTUBE,resolvers:[{names:["{{clicked_url}}"],value:t}],action:"click"}})).commit().endGroup().build();var dz;let hz,pz;dz=class extends ol{constructor(e,t,n,r){super(e,t,n,r),this._counterHelper=void 0,this._counterHelper=this.buildCounter()}getCounter(){return super.getCounter().extends(cz).extends(uz)}buildCounter(){return this.getCounter().build()}get counterHelper(){return this._counterHelper}},[pz,hz]=(0,k.A)(dz,[(0,I.k_)({implement:"IStatisticState",ctor_args:["StatisticNamespace","IStatisticStore","Resolve","IPlaceholdersState"]})],[],0,void 0,ol).c,hz();var mz;let vz,_z,fz;var gz;let bz,yz;mz=class extends uM{constructor(e,t,n,r,i,o,a,s,l,u,c,d){super(e,t,n,r,i,o,a,s,l,u,c),this._embedCounterHelper=void vz(this),this.trackingLinks=d,this._embedCounterHelper=u&&u instanceof pz?u.counterHelper:void 0}get isShowSubscribe(){var e,t;const n=null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_subscription,r=null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.appearance)||void 0===t?void 0:t.show_author;return Boolean(r&&n&&this._isEmbed&&!this._controls.isControlsForcedHidden)}get isSubscriptionHidden(){var e,t;return Boolean(this._isEmbed&&H.B.isMobile&&this.isShowControls||Boolean(null===(e=this._advert)||void 0===e?void 0:e.isShowAdvertTimer)||this._playback.ended||(null===(t=this._pauseScreen)||void 0===t?void 0:t.visible))}subscribeClick(){var e;null===(e=this._embedCounterHelper)||void 0===e||e.get("mainEmbedChannelSubscriptionClickSubscribe"),window.open(this.trackingLinks.generateTrackingLink({campaign:"subscribe",type:"channel"}))}},({e:[vz],c:[fz,_z]}=(0,k.A)(mz,[(0,I.k_)({implement:"IChannelSubscriptionPlugin",ctor_args:["IDataPlugin","IControlsPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IPauseScreenPlugin",optional:!0},"IFullscreenPlugin","IPlayerConfigPlugin","IPlayerSizePlugin","IPlayback",{implement:"IActivitiesPlugin",optional:!0},"IStatisticState","IsEmbed","ITrackingLinksPlugin"]})],[[I.zm,2,"subscribeClick"]],0,void 0,uM)),_z();var Ez;let wz,Sz;gz=class extends ew{static get InputControls(){return{progressBarComponent:pt.ControlsPlugin.IsNewControls?QE:hf,mobileButtonsBlockComponent:pt.ControlsPlugin.IsNewControls?Tg:rg,buttonsBlockComponent:pt.ControlsPlugin.IsNewControls?iE:Jy,logoButtonComponent:pt.ControlsPlugin.IsNewControls?yE:pE,liveBadgeComponent:pt.ControlsPlugin.IsNewControls?M_:v_,tvTimeBlockComponent:pt.ControlsPlugin.IsNewControls?void 0:j_}}constructor(e,t,n,r,i,o,a,s,l,u,c,d,h){super(e,t,n,r,i,void 0,o,a,s,l,c,d,void 0),this.playback=e,this.data=t,this._isEmbedResolvable=a,this._startScreen=u,this.previewPlugin=c,this._embed=h}getIsShowSettings(){return super.getIsShowSettings()&&!this._startScreen.isShowStartScreen}getIsHideControls(){return super.getIsHideControls()||this._startScreen.isShowStartScreen}get isControlsForcedHidden(){var e;return Boolean(super.isControlsForcedHidden||(null===(e=this._embed)||void 0===e?void 0:e.isNakedMode))}},[yz,bz]=(0,k.A)(gz,[(0,I.k_)({implement:"IControlsPlugin",ctor_args:["IPlayback","IDataPlugin","IFullscreenPlugin","IPlayerSizePlugin","IAppearancePlugin","IStatisticState","IsEmbed",{implement:"IAdvertPlugin",optional:!0},"IQualitiesPlugin","IStartScreenPlugin",{implement:"IPreviewPlugin",optional:!0},{implement:"IPosterPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0}]})],[],0,void 0,ew).c,bz();Ez=class extends gw{constructor(e,t,n,r,i,o,a,s,l,u,c,d,h,p,m,v){super(e,t,void 0,n,r,i,o,a,u,c,d,h,void 0,p,m,void 0,void 0,v),this._startScreen=s,this._highlightRutube=l}get isShowDisclaimers(){return super.isShowDisclaimers&&!this._startScreen.isShowStartScreen}get isShowStartScreen(){return this._startScreen.isShowStartScreen}get hideAvatarOnFullScreenForSubscribers(){return!1}get showAvatar(){return super.showAvatar||this.isShowStartScreen}},[Sz,wz]=(0,k.A)(Ez,[(0,I.k_)({implement:"IVideoLayoutPlugin",ctor_args:["IDataPlugin","IPlayback","IPlayerSizePlugin","IAppearancePlugin","IFullscreenPlugin",{implement:"IChannelSubscriptionPlugin",optional:!0},{implement:"IAdvertPlugin",optional:!0},"IStartScreenPlugin","IHighlightRutubePlugin",{implement:"IPreviewPlugin",optional:!0},"IStatisticState","IsEmbed","ISaveModePlugin",{implement:"IControlsPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0},{implement:"IActivitiesPlugin",optional:!0}]})],[],0,void 0,gw).c,wz();const Az="highlight-rutube-module__button___N448K",Cz="highlight-rutube-module__isTouch___niKtS",kz="highlight-rutube-module__controls___ZnKGu",Pz="highlight-rutube-module__hidden___dtdlD",Iz="highlight-rutube-module__slideVertical___LSyU2",Tz="highlight-rutube-module__slideHorizontal___ZX5k1",xz=e=>{let{className:n}=e;return t.createElement("svg",{className:n,width:"92",height:"16",viewBox:"0 0 92 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8.77552V13.9309H1.35119H2.70238V12.1195V10.3081L6.05813 10.3159L9.78766 10.3236L9.93544 10.4115C10.1133 10.5173 10.2075 10.6779 10.2523 10.9516C10.2704 11.0615 10.2835 11.729 10.2837 12.5362L10.2839 13.9309H11.6351H12.9863L12.9859 12.1273C12.9855 10.1946 12.9858 10.1979 12.8276 9.8656C12.727 9.65419 12.4522 9.3751 12.236 9.26483C12.1393 9.21547 11.9457 9.15162 11.8059 9.12291L11.5516 9.07071L11.7087 9.01933C12.0927 8.89376 12.5209 8.50782 12.7501 8.08075C13.0849 7.4567 13.1634 6.44662 12.9408 5.62471C12.6649 4.60595 11.9543 3.97685 10.7943 3.7244C10.3793 3.63408 9.58103 3.62067 4.59827 3.62041L0 3.62012V8.77552ZM14.6953 7.33697C14.7081 11.4319 14.6988 11.2278 14.8995 11.8043C15.27 12.868 16.0826 13.5497 17.2827 13.8033C17.8582 13.9249 17.6105 13.9291 20.75 13.9291C23.5152 13.9291 23.6409 13.925 24.2172 13.8034C24.865 13.6668 25.45 13.3679 25.863 12.9626C26.3736 12.4616 26.584 12.0369 26.7439 11.1853C26.7836 10.9735 26.7924 10.3996 26.8038 7.27856L26.8171 3.62012H25.4488H24.0806V6.91885C24.0806 10.5434 24.0847 10.4553 23.8968 10.8259C23.7576 11.1005 23.4873 11.305 23.0816 11.4425C22.9581 11.4844 22.6557 11.4909 20.8516 11.4992C18.1405 11.5095 18.5041 11.5089 18.1329 11.333C17.9176 11.231 17.6994 11.0244 17.5888 10.8178C17.4181 10.4985 17.4205 10.5537 17.4199 6.94265L17.4194 3.62012H16.0515H14.6836L14.6953 7.33697ZM28.1891 4.81769V6.01526H30.937H33.6849V9.97309V13.9309H35.112H36.5391V9.97309V6.01526H39.2719H42.0046V4.81769V3.62012H35.0969H28.1891V4.81769ZM43.39 7.27856C43.4013 10.3897 43.4102 10.9741 43.4496 11.1853C43.6036 12.0108 43.8211 12.4588 44.297 12.9309C44.5591 13.1909 44.8071 13.3613 45.1565 13.5217C45.6173 13.7332 45.8731 13.8028 46.503 13.8878C46.97 13.9509 51.9029 13.9515 52.3967 13.8886C53.3072 13.7725 53.9683 13.5057 54.4949 13.0417C54.8557 12.7237 55.1123 12.3266 55.2942 11.8043C55.495 11.2278 55.4856 11.4319 55.4985 7.33697L55.5101 3.62012H54.1429H52.7758L52.7665 7.03028C52.7578 10.2224 52.7537 10.4503 52.7026 10.5943C52.5785 10.9441 52.3383 11.2126 52.0252 11.3515C51.6731 11.5077 51.6349 11.5095 49.3414 11.5004L47.2518 11.492L47.0508 11.4166C46.5504 11.2291 46.3299 11.0034 46.183 10.5281C46.1326 10.3651 46.1283 10.1177 46.1204 6.98647L46.1119 3.62012H44.7443H43.3766L43.39 7.27856ZM57.6724 8.77418V13.9309H62.9851C67.696 13.9309 68.3348 13.9256 68.6245 13.8842C69.619 13.7421 70.2667 13.3889 70.7247 12.7388C71.1643 12.1149 71.3253 11.0501 71.1031 10.236C70.9842 9.80044 70.6819 9.34782 70.3544 9.11508C70.1794 8.99068 69.8982 8.84767 69.7188 8.79176L69.6047 8.75619L69.8835 8.62565C70.484 8.34445 70.8898 7.77464 71.0352 7.00837C71.089 6.72478 71.0804 6.04912 71.019 5.73851C70.8439 4.85248 70.2457 4.15397 69.4231 3.87491C69.1271 3.77446 69.007 3.74356 68.6944 3.68739C68.4665 3.64647 67.8066 3.63966 63.0543 3.62923L57.6724 3.61743V8.77418ZM72.9548 8.77552V13.9309H79.1325H86.0522L86.0541 12.7334L86.056 11.5358H80.4704H75.6268V10.7471V9.95849H80.4698H85.2616V8.77552V7.59255H80.4698H75.6268V6.80391V6.01526H80.4698H86.0547V4.81769V3.62012H79.1338H72.9548V8.77552ZM67.7013 5.95749C68.0471 6.0056 68.2114 6.11548 68.3331 6.38026C68.4321 6.59556 68.4435 6.86855 68.3641 7.1203C68.2927 7.34629 68.1934 7.4645 67.9849 7.57179L67.8594 7.63637L64.1019 7.64423L60.3444 7.65208V6.78986V5.92764L63.9197 5.92822C66.0968 5.92857 67.5757 5.94002 67.7013 5.95749ZM9.86466 6.1255C10.209 6.28857 10.3369 6.56311 10.3066 7.07403C10.2818 7.49418 10.0863 7.77777 9.74418 7.89028C9.65564 7.91937 8.83794 7.92928 5.97982 7.93585L2.70238 7.9442V6.97928V6.01436L5.99564 6.0221L9.66274 6.02987L9.86466 6.1255ZM68.0871 9.96906C68.2372 10.0459 68.3882 10.19 68.4383 10.3043C68.5201 10.491 68.5498 10.7521 68.512 10.9525C68.4513 11.2746 68.3216 11.4458 68.0568 11.5533C67.9254 11.6067 67.7753 11.6091 64.1322 11.6167L60.3444 11.6245V10.7617V9.89876L64.1626 9.90673C67.8194 9.91433 67.9854 9.91698 68.0871 9.96906Z",fill:"#F6F6F6"}),t.createElement("ellipse",{cx:"89.3677",cy:"1.80872",rx:"1.86901",ry:"1.80872",fill:"#FF2D2D"}))},Rz="watch-on-rutube-link-module__button___rR_M3",Lz="watch-on-rutube-link-module__label___k7Mhp",Oz="watch-on-rutube-link-module__logo___btg6U",Nz=["onShow","className"],Mz=(0,Jn.PA)((e=>{let{onShow:n,className:r}=e,i=(0,V.A)(e,Nz);return(0,t.useEffect)((()=>{n()}),[]),t.createElement("a",(0,ai.A)({tabIndex:0,title:"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE","aria-label":"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE",className:er()(Rz,r),target:"_blank",rel:"noreferrer noopener"},i),t.createElement("span",{className:Lz},"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð°"),t.createElement(xz,{className:Oz}))})),Dz=(0,Jn.PA)((()=>{const[e,n]=(0,t.useState)(!0),{isShowControls:r,url:i,pause:o,isShowWORButton:a,counterHelper:s}=(0,fr.Ks)("IHighlightRutubePlugin"),l=(0,t.useCallback)((()=>{n(!1)}),[]),u=(0,t.useCallback)((()=>{null==s||s.get("mainWatchOnRutubeShow")(),null==s||s.get("mainWatchOnRutubeShowOld")()}),[]);return e&&a?t.createElement(Mz,(0,ai.A)({onShow:u,onClick:()=>{null==s||s.get("mainWatchOnRutubeClick")({clickedUrl:i}),null==s||s.get("mainWatchOnRutubeClickOld")({clickedUrl:i}),o()}},Em.ED,{onAnimationEnd:l,href:i,className:er()(Az,{[Pz]:r&&H.B.isMobile,[Cz]:H.B.isMobile,[kz]:r,[Iz]:e&&!H.B.isMobile,[Tz]:e&&H.B.isMobile})})):null}));var Bz,Fz;let Hz,Vz,Uz;new(Fz=class extends I.j8{constructor(e,t,n,r,i,o){super(),this.__counterHelper=void 0,this._watchData=e,this._data=t,this._controls=n,this._playback=r,this.trackingLinks=o,this.__counterHelper=i instanceof pz?i.counterHelper:void 0,this.pause=this.pause.bind(this)}get url(){return this.trackingLinks.generateTrackingLink({campaign:"main_logo"})}pause(){return this._playback.pause()}get isShowControls(){return this._controls.isShowControls}get isShowWORButton(){var e;return!(null===(e=this._data.appearance)||void 0===e||!e.show_logo_with_controls)&&this._watchData.watchTime>=zi.wA&&!this._controls.isControlsForcedHidden}get counterHelper(){return this.__counterHelper}},[Uz,Hz]=(0,k.A)(Fz,[(0,I.k_)({implement:"IHighlightRutubePlugin",ctor_args:["IStatisticWatchTimePlugin","IDataPlugin","IControlsPlugin","IPlayback","IStatisticState","ITrackingLinksPlugin"]})],[],0,void 0,I.j8).c,Vz=Fz,(Bz=class extends ft{constructor(){super(Uz),this.HighlightRutube=Dz,Hz()}})[Vz]=void 0,Bz);a(1557);function jz(e,t){void 0===t&&(t="Illegal state"),e||function(e){throw new Error("[mobx-utils] "+e)}(t)}var Wz=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(Wz(Object.getPrototypeOf(e))||[])},zz=function(e){return function(e){var t=Wz(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))},Gz="pending",qz="fulfilled",Kz="rejected";function Yz(e){switch(this.state){case Gz:return e.pending&&e.pending(this.value);case Kz:return e.rejected&&e.rejected(this.value);case qz:return e.fulfilled?e.fulfilled(this.value):this.value}}function Xz(e,t){if(jz(arguments.length<=2,"fromPromise expects up to two arguments"),jz("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then((0,P.XI)("observableFromPromise-resolve",(function(e){n.value=e,n.state=qz})),(0,P.XI)("observableFromPromise-reject",(function(e){n.value=e,n.state=Kz}))),n.isPromiseBasedObservable=!0,n.case=Yz;var r=!t||t.state!==qz&&t.state!==Gz?void 0:t.value;return(0,P.kt)(n,{value:r,state:Gz},{},{deep:!1}),n}!function(e){e.reject=(0,P.XI)("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=Kz,n.value=t,n})),e.resolve=(0,P.XI)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=qz,n.value=t,n}))}(Xz||(Xz={}));var Qz=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};!function(){function e(e,t){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,P.Gn)(this),(0,P.h5)((function(){n.current=t,n.subscription=e.subscribe(n)}))}Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(e.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(e.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(e.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),Qz([P.sH.ref],e.prototype,"current",void 0),Qz([P.XI.bound],e.prototype,"next",null),Qz([P.XI.bound],e.prototype,"complete",null),Qz([P.XI.bound],e.prototype,"error",null)}();var Zz=function(){return Zz=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zz.apply(this,arguments)},Jz=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},$z=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];!function(){function e(e){var t=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:P.sH.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:P.sH.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return t.localValues.has(e)}}),(0,P.Gn)(this),jz((0,P.OB)(e),"createViewModel expects an observable object");var n=zz(this);zz(e).forEach((function(r){var i;if(!n.includes(r)&&r!==P.BQ&&"__mobxDidRunLazyInitializers"!==r){if(jz(-1===$z.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),(0,P.H8)(e,r)){var o=(0,P.Mr)(e,r),a=o.derivation.bind(t),s=null===(i=o.setter_)||void 0===i?void 0:i.bind(t);t.localComputedValues.set(r,(0,P.EW)(a,{set:s}))}var l=Object.getOwnPropertyDescriptor(e,r),u=l?{enumerable:l.enumerable}:{};Object.defineProperty(t,r,Zz(Zz({},u),{configurable:!0,get:function(){return(0,P.H8)(e,r)?t.localComputedValues.get(r).get():t.isPropertyDirty(r)?t.localValues.get(r):t.model[r]},set:(0,P.XI)((function(n){(0,P.H8)(e,r)?t.localComputedValues.get(r).set(n):n!==t.model[r]?t.localValues.set(r,n):t.localValues.delete(r)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;(0,P.HP)(this.localValues).forEach((function(t){var n=e.localValues.get(t),r=e.model[t];(0,P.Fq)(r)?r.replace(n):(0,P.uz)(r)?(r.clear(),r.merge(n)):(0,P.YQ)(n)||(e.model[t]=n)})),this.localValues.clear()}}),Object.defineProperty(e.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(e.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),Jz([P.EW],e.prototype,"isDirty",null),Jz([P.EW],e.prototype,"changedValues",null),Jz([P.XI.bound],e.prototype,"submit",null),Jz([P.XI.bound],e.prototype,"reset",null),Jz([P.XI.bound],e.prototype,"resetProperty",null)}();var eG,tG=(eG=function(e,t){return eG=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},eG(e,t)},function(e,t){function n(){this.constructor=e}eG(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),nG=(function(e){function t(t,n,r){var i=void 0===r?{}:r,o=i.name,a=void 0===o?"ogm"+(1e3*Math.random()|0):o,s=i.keyToName,l=void 0===s?function(e){return""+e}:s,u=e.call(this)||this;Object.defineProperty(u,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),u._keyToName=l,u._groupBy=n,u._ogmInfoKey=Symbol("ogmInfo"+a),u._base=t;for(var c=0;c<t.length;c++)u._addItem(t[c]);return u._disposeBaseObserver=(0,P.lB)(u._base,(function(e){if("splice"===e.type)(0,P.Rn)((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];u._removeItem(r)}for(var i=0,o=e.added;i<o.length;i++){var a=o[i];u._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");(0,P.Rn)((function(){u._removeItem(e.oldValue),u._addItem(e.newValue)}))}})),u}tG(t,e),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}}}),Object.defineProperty(t.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=(0,P.sH)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n}}),Object.defineProperty(t.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)}}),Object.defineProperty(t.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=this._groupBy(e),r=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:r.length,reaction:(0,P.mJ)((function(){return t._groupBy(e)}),(function(n,r){var i=e[t._ogmInfoKey];t._removeFromGroupArr(i.groupByValue,i.groupArrIndex);var o=t._getGroupArr(n),a=o.length;o.push(e),i.groupByValue=n,i.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),r.push(e)}}),Object.defineProperty(t.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}})}(P.Es),function(){function e(e,t,n,r){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"versionChecker",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0});for(var i=this.closest=this.root=e,o=0;o<this.args.length-1&&(i=i.get(t[o]));o++)this.closest=i;this.closestIdx=o}return Object.defineProperty(e.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertCurrentVersion();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(e.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertCurrentVersion(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertCurrentVersion();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var i=new Map;n.set(this.args[r],i),n=i}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertCurrentVersion(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1])}}),Object.defineProperty(e.prototype,"assertCurrentVersion",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.versionChecker(this.version))throw new Error("Concurrent modification exception")}}),e}()),rG=function(){function e(){var e=this;Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"currentVersion",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"checkVersion",{enumerable:!0,configurable:!0,writable:!0,value:function(t){return e.currentVersion===t}})}return Object.defineProperty(e.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.currentVersion>=Number.MAX_SAFE_INTEGER&&(this.currentVersion=0),this.currentVersion++,new nG(this.store,e,this.currentVersion,this.checkVersion)}}),e}(),iG=function(){return iG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iG.apply(this,arguments)},oG=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};const aG=function(e,t){if(void 0===t&&(t=!1),(0,P.ve)(e))throw new Error("computedFn shouldn't be used on actions");var n=!1,r=0,i="boolean"==typeof t?{keepAlive:t}:t,o=new rG;return function(){for(var t,a=this,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u,c=o.entry(s);if(c.exists())return c.get().get();if(!i.keepAlive&&!(0,P.Tx)()){!n&&(null!==(t=i.requiresReaction)&&void 0!==t?t:(0,P.sG)().computedRequiresReaction)&&(console.warn("Invoking a computedFn from outside a reactive context won't be memoized and is cleaned up immediately, unless keepAlive is set."),n=!0);var d=e.apply(this,s);return i.onCleanup&&i.onCleanup.apply(i,oG([d],s)),d}var h=(0,P.EW)((function(){return u=e.apply(a,s)}),iG(iG({},i),{name:"computedFn("+(i.name||e.name)+"#"+ ++r+")"}));return c.set(h),i.keepAlive||(0,P.q$)(h,(function(){o.entry(s).delete(),i.onCleanup&&i.onCleanup.apply(i,oG([u],s)),u=void 0})),h.get()}}(((e,t)=>(t.forEach((t=>{const n=JSON.stringify(t.names),r=e.findIndex((e=>JSON.stringify(e.names)===n));-1!==r&&(e[r]=(0,l.A)({},t))})),e)));class sG extends aC{getPlaceholders(){const e=super.getPlaceholders().concat([{names:["{{anc}}"],selector:e=>{var t,n;return null!==(t=null===(n=kS(e).params)||void 0===n?void 0:n.anc)&&void 0!==t?t:""}},{names:["{{is_embed}}"],selector:()=>"1"}]);return aG(e,[{names:["{{id_website}}"],selector:e=>{var t,n;return null!==(t=null===(n=kS(e).params)||void 0===n?void 0:n.idWebsite)&&void 0!==t?t:""}},{names:["{{id_distribution}}"],selector:e=>{var t,n;return null!==(t=null===(n=kS(e).params)||void 0===n?void 0:n.idDistribution)&&void 0!==t?t:""}},{names:["{{yclid_p}}"],selector:e=>{var t,n;return null!==(t=null===(n=kS(e).params)||void 0===n?void 0:n.yclidP)&&void 0!==t?t:""}}])}}const lG="remove-ads-module__button___RnD7G",uG="remove-ads-module__small___Yw3D7",cG=(0,Jn.PA)((e=>{let{isCustom:n=!1,className:r}=e;const{requestSubscription:i,buttonProps:{isSmall:o,position:a},canDisableAds:s,disableAdsButtonTitle:l,registerSubscriptionCTAShow:u,currentAdvertName:c}=zA(),d=(0,t.useRef)(void 0);if((0,t.useEffect)((()=>{s&&c!==d.current&&(u(),d.current=c)}),[s,c,u]),!s)return null;const h=e=>{e.preventDefault(),i()};return n?t.createElement("button",{className:r,onClick:h},l):t.createElement("button",{style:{bottom:a},className:er()(lG,{[uG]:o}),onClick:h},l)})),dG=["preroll","midroll","postroll","mobilepreroll","mobilmidroll","mobilpostroll","midpostroll","mobilemidpostroll"],hG={"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ":"adoff_player","Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð±ÐµÐ· Ñ€ÐµÐºÐ»Ð°Ð¼Ñ‹ Ð½Ð° RUTUBE":"button_watch_no_ad","Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° RUTUBE":"button_watch_on_rutube"};var pG;let mG,vG,_G;pG=class extends nC{static get RemoveAdsButton(){return cG}constructor(e,t,n,r,i,o,a,s,l){mG((super(e,t,n,r,i,o,a,s),this._trackingLinks=l,this)),(0,P.Gn)(this,{disableAdsButtonTitle:P.EW,canDisableAds:P.EW})}get hasRelevantAdvert(){var e,t;const n=null!==(e=null===(t=this._playOptions)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.advert)&&void 0!==e?e:[],r=this.currentAdvertName,i=r?dG.find((e=>r.startsWith(e))):null,o=n.length>0,a=Boolean(this.currentAdvertName),s=Boolean(i);return o&&a&&s}get hasVisibleAdvert(){var e,t,n,r;const i=(null===(e=this._advert)||void 0===e?void 0:e.currentAdvert)&&"show"===(null===(t=this._advert)||void 0===t?void 0:t.currentState)&&(null===(n=this._advert)||void 0===n?void 0:n.isLoaded)&&!(null!==(r=this._advert)&&void 0!==r&&r.isAdvertEnded);return Boolean(i)&&this.hasRelevantAdvert}get disableAdsButtonTitle(){var e;return(null===(e=this._playOptions)||void 0===e||null===(e=e.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.disable_ads_button_title)||null}get canDisableAds(){return super.canDisableAds&&this.hasVisibleAdvert&&null!==this.disableAdsButtonTitle}requestSubscription(){var e,t,n;if(!this.videoUrl)return;var r;null!==(e=this._advertStat)&&void 0!==e&&e.advert&&(null===(r=this._counterHelper)||void 0===r||r.get("mainPlatformSubscriptionClickRemoveAdsButton")(this._advertStat.getCommonParams(this._advertStat.advert)));const i=String(this.disableAdsButtonTitle),o=null===(t=this._trackingLinks)||void 0===t?void 0:t.generateTrackingLink({campaign:hG[i],id:null===(n=this._playOptions)||void 0===n?void 0:n.video_id,additionalParameters:{popup:"premium_purchase",productCode:zi.JZ.RUTUBE},noMobileRedirect:!0});window.open(o,"_blank")}},({e:[mG],c:[_G,vG]}=(0,k.A)(pG,[(0,I.k_)({implement:"IPlatformSubscriptionPlugin",ctor_args:["IPlayerConfigPlugin","IStatisticState","IFullscreenPlugin",{implement:"IAdvertPlugin",optional:!0},{implement:"IAdvertStatPlugin",optional:!0},"IPlayerSizePlugin",{implement:"IDataPlugin",optional:!0},{implement:"IEmbedPlugin",optional:!0},{implement:"ITrackingLinksPlugin",optional:!0}]})],[[I.zm,2,"requestSubscription"]],0,void 0,nC)),vG();function fG(e,t){const{width:n,height:r}=e.canvas,{videoWidth:i,videoHeight:o}=t,a=Math.max(n/i,r/o),s=n/a,l=r/a,u=Math.max(0,.5*(i-s)),c=Math.max(0,.5*(o-l));e.drawImage(t,u,c,s,l,0,0,n,r)}async function gG(e,t){const n=document.createElement("canvas"),r=n.getContext("2d"),i=e.videoWidth,o=e.videoHeight;if(!r)return console.info("canvas.getContext(2d) === null"),Promise.reject("canvas.getContext(2d) === null");if(n.width=i,n.height=o,i<=o){r.filter="brightness(30%)",fG(r,e),r.filter="brightness(100%)";const t=i/o*n.height;r.drawImage(e,n.width/2-t/2,0,t,n.height)}else fG(r,e);const a=(e=>{try{let t;t=-1!==e.split(",")[0].indexOf("base64")?window.atob(e.split(",")[1]):decodeURI(e.split(",")[1]);const n=e.split(",")[0].split(":")[1].split(";")[0],r=[];for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return new window.Blob([new Uint8Array(r)],{type:n})}catch(e){return new window.Blob}})(n.toDataURL("image/jpeg",.7)),s=new FormData;s.append("file",a);const l=await(async(e,t)=>{const n=await fetch("/api/video/".concat(e,"/thumbnail/"),{method:"POST",body:t});return await n.json()})(t,s);return null==l?void 0:l.thumbnail_url}const bG=()=>t.createElement("svg",{width:"220px",height:"150px",viewBox:"0 0 220 150",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{fill:"red",stroke:"red",strokeWidth:"1",transform:"scale(1,-1) translate(0,-150)",d:" M112.730712890625 55.846142578125C113.76005859375 54.875830078125 114.40107421875 53.503125 114.40107421875 51.980712890625S113.760205078125 49.085595703125 112.733349609375 48.1177734375L112.730712890625 48.115283203125C111.715576171875 47.13603515625 110.33203125 46.532666015625 108.807568359375 46.532666015625S105.89970703125 47.13603515625 104.8828125 48.11689453125L80.769140625 70.03828125C79.76923828125 71.02265625 79.149755859375 72.3908203125 79.149755859375 73.9037109375S79.76923828125 76.784765625 80.768408203125 77.768408203125L80.769140625 77.769140625C81.79541015625 78.722900390625 83.175439453125 79.308251953125 84.69228515625 79.308251953125S87.58916015625 78.722900390625 88.6189453125 77.765771484375z M114.346142578125 49.6154296875C112.730712890625 47.077001953125 110.07685546875 48.230859375 107.422998046875 49.6154296875V49.6154296875C105.666357421875 50.53681640625 104.488623046875 52.34765625 104.488623046875 54.433740234375C104.488623046875 55.662890625 104.8974609375 56.79638671875 105.586669921875 57.705908203125L133.96142578125 101.884716796875C134.998095703125 103.522265625 136.8 104.59365234375 138.852099609375 104.59365234375C139.89609375 104.59365234375 140.875341796875 104.316357421875 141.720263671875 103.83134765625L141.692138671875 103.846142578125C143.337451171875 102.894140625 144.4265625 101.14248046875 144.4265625 99.1365234375C144.4265625 98.106005859375 144.13916015625 97.142724609375 143.640087890625 96.322265625z M208.3845703125 150H10.846142578125C10.56357421875 150.028564453125 10.23544921875 150.04482421875 9.903515625 150.04482421875C4.423095703125 150.04482421875 -0.01962890625 145.602099609375 -0.01962890625 140.1216796875C-0.01962890625 139.902978515625 -0.01259765625 139.685888671875 0.001318359375 139.470556640625L-0.000146484375 10.03828125C-0.010107421875 9.87451171875 -0.0158203125 9.68291015625 -0.0158203125 9.49013671875C-0.0158203125 4.20087890625 4.271923828125 -0.08671875 9.56103515625 -0.08671875C10.014111328125 -0.08671875 10.460009765625 -0.055224609375 10.89638671875 0.00556640625L208.384423828125 -0.000146484375C208.77041015625 -0.055224609375 209.216162109375 -0.08671875 209.669384765625 -0.08671875C214.958642578125 -0.08671875 219.246240234375 4.201025390625 219.246240234375 9.49013671875C219.246240234375 9.68291015625 219.24052734375 9.87451171875 219.229248046875 10.064501953125L219.230419921875 139.499853515625C219.24287109375 139.6857421875001 219.24990234375 139.90283203125 219.24990234375 140.1216796875C219.24990234375 145.602099609375 214.807177734375 150.04482421875 209.3267578125 150.04482421875C208.99482421875 150.04482421875 208.66669921875 150.028564453125 208.34326171875 149.996630859375zM150.69228515625 138.461572265625H173.07685546875V126.92314453125H150.922998046875zM161.538427734375 115.3845703125V34.615283203125H57.69228515625V115.3845703125zM92.30771484375 138.461572265625H126.92314453125V126.92314453125H92.30771484375zM47.07685546875 138.461572265625H69.230712890625V126.92314453125H47.07685546875zM46.153857421875 34.6154296875H11.538427734375V115.384716796875H46.153857421875zM69.230712890625 11.538427734375H47.07685546875V23.07685546875H69.230712890625zM126.92314453125 11.538427734375H92.30771484375V23.07685546875H126.92314453125zM173.07685546875 11.538427734375H150.922998046875V23.07685546875H173.07685546875zM207.69228515625 34.6154296875H173.07685546875V115.384716796875H207.69228515625z"})),yG="snapshot-button-module__wrapperSnapshot___tjQ6b",EG=(0,Jn.PA)((()=>{const{sendSnapshot:e,blackRabbit:n}=(0,fr.Ks)("ISnapshotPlugin");if(n)return t.createElement("button",{type:"button",className:yG,onClick:()=>{e()}},t.createElement(bG,null))}));var wG,SG;let AG,CG,kG;new(SG=class extends I.j8{constructor(e,t){super(),this._playback=e,this._playOptions=t,this.sendSnapshot=this.sendSnapshot.bind(this)}get blackRabbit(){var e;return null===(e=this._playOptions)||void 0===e?void 0:e.black_rabbit}sendSnapshot(){var e;return null!==(e=this._playOptions)&&void 0!==e&&e.video_id?gG(this._playback.player,this._playOptions.video_id):null}},[kG,AG]=(0,k.A)(SG,[(0,I.k_)({implement:"ISnapshotPlugin",ctor_args:["IPlayback","IDataPlugin"]})],[],0,void 0,I.j8).c,CG=SG,(wG=class extends ft{constructor(){super(kG),this.SendSnapshotButton=EG,AG()}})[CG]=void 0,wG);const PG=()=>(0,fr.Ks)("IStartScreenPlugin"),IG="background-image-module__poster___cOxTl",TG=(0,Jn.PA)((()=>{const{thumbnailUrl:e,title:n,playerWidth:r,play:i}=PG();if(e)return t.createElement(zv,{"data-testid":"ui-poster",id:"raichuVideoPoster",src:e,className:IG,playerWidth:r,alt:n,onClick:()=>{i()}})})),xG="play-button-module__controlBtn___g38Bi",RG="play-button-module__controlBtnStartScreen___bGXZV",LG="play-button-module__startScreen___mHIFK",OG=(0,Jn.PA)((()=>{const{color:e}=Sx(),n=PG();return t.createElement("div",{className:er()(xG,RG)},t.createElement(us,{action:"play",bgColor:e,withBg:!0,big:!0,onClick:()=>{n.play()},className:"front-control",tooltipDisabled:!0,wrapperClassName:LG}))})),NG="start-screen-module__startScreenWrapper___jRKa_",MG=(0,Jn.PA)((()=>{const{isShowStartScreen:e,videoRedirectUrl:n,needToShowLogo:r,counterHelper:i}=PG(),o=(0,t.useCallback)((()=>{null==i||i.get("mainWatchOnRutubeShow")(),null==i||i.get("mainWatchOnRutubeShowOld")()}),[]);return e?t.createElement("div",{className:er()(NG),"data-testid":"start-screen"},t.createElement(TG,null),r&&t.createElement(Mz,{href:n,onClick:()=>{null==i||i.get("mainWatchOnRutubeClick")({clickedUrl:n}),null==i||i.get("mainWatchOnRutubeClickOld")({clickedUrl:n})},onShow:o}),t.createElement(OG,null)):null}));var DG,BG;let FG,HG,VG;new(BG=class extends I.j8{constructor(e,t,n,r,i){super(),this.__data=void 0,this.__playbackPlugin=void 0,this.__playerSize=void 0,this.__counterHelper=void 0,this.trackingLinks=i,this.__data=e,this.__playbackPlugin=t,this.__playerSize=n,this.__counterHelper=r instanceof pz?r.counterHelper:void 0,this.play=this.play.bind(this)}play(){return this.__playbackPlugin.play()}get videoUrl(){var e,t;return null!==(e=null===(t=this.__data.data)||void 0===t?void 0:t.video_url)&&void 0!==e?e:""}get needToShowLogo(){var e;return Boolean(null===(e=this.__data.data)||void 0===e||null===(e=e.appearance)||void 0===e?void 0:e.show_logotype)}get videoRedirectUrl(){return this.trackingLinks.generateTrackingLink({campaign:"main_logo"})}get title(){return this.__data.title||""}get thumbnailUrl(){return this.__data.poster||""}get playerWidth(){var e;return null===(e=this.__playerSize.size)||void 0===e?void 0:e.width}get wasStarted(){return this.__playbackPlugin.wasStarted}get isShowStartScreen(){var e;return Boolean(this.thumbnailUrl)&&!this.wasStarted&&!(null!==(e=this.__data.appearance)&&void 0!==e&&e.auto_start)}get counterHelper(){return this.__counterHelper}},[VG,FG]=(0,k.A)(BG,[(0,I.k_)({implement:"IStartScreenPlugin",ctor_args:["IDataPlugin","IPlayback","IPlayerSizePlugin","IStatisticState","ITrackingLinksPlugin"]})],[],0,void 0,I.j8).c,HG=BG,(DG=class extends ft{constructor(){super(VG),this.StartScreen=MG,FG()}})[HG]=void 0,DG);const UG=function(e,n){function r(n,r){const i=Object.assign({onInitStarted:Function.prototype,onInitCompleted:Function.prototype},null==e?void 0:e.hooks);function o(e,r){const i=function(e){const n=t.useRef();return t.useEffect((()=>{n.current=e})),n.current}(e);t.useEffect((()=>{var t;i&&r&&(null===(t=n.update)||void 0===t||t.call(n,r.resolve,e,i))}),[e])}const a=t.memo((function(e){const a=function(e){const[r,o]=t.useState();return t.useEffect((()=>{i.onInitStarted(e);const t=new I.sy;return n.create(t,e),(async()=>{try{await t.boot(),o(t)}catch(e){console.error(e)}})(),i.onInitCompleted(e),()=>{(async()=>{try{await t.shutdown()}catch(e){console.error(e)}})()}}),[]),r}(e);return o(e,a),a?t.createElement(Ta.o.Provider,{value:a},t.createElement(r)):null}));return a.displayName="".concat(n.name,"PlayerPluginContainer"),a}return e&&n?r(e,n):e&&!n?function(t){return r(e,t)}:!e&&n?function(e){return r(e,n)}:"makeDiRoot: invalid arguments"}({name:"EmbedPlayer",create:function(e,t){e.registerConstant("Resolve",e.resolve).registerConstant("InitialProps",(0,l.A)((0,l.A)({},t),{},{ts:Date.now(),userPaidSubscription:[]})).registerConstant("StatisticNamespace","Raichu Metrics").registerConstant("ExternalEventsNamespace","player").registerConstant("IsEmbed",!0).registerConstant("IsPreview",!1).registerConstant("LoggerNamespace","player-embed").registerPlugin(lh).registerPlugin(ph).registerPlugin(Ih).registerPlugin(vt).registerPlugin(dp).registerPlugin(wS).registerPlugin(qr).registerPlugin(Qr).registerPlugin(fz).registerPlugin(yz).registerPlugin(sG).registerPlugin(Sz).registerPlugin(xS).registerPlugin(ni).registerPlugin(F).registerPlugin(uy).registerPlugin(gO).registerPlugin(uA).registerPlugin(rF).registerPlugin(Oi).registerPlugin(pO).registerPlugin(Jv).registerPlugin(Bi).registerPlugin(kN).registerPlugin(Yy).registerPlugin(ji).registerPlugin(Ji).registerPlugin(qL).registerPlugin(VA).registerPlugin(QB).registerPlugin(gu).registerPlugin(ao).registerPlugin(VB).registerPlugin(Eo).registerPlugin(GH).registerPlugin(hF).registerPlugin(DH).registerPlugin(VH).registerPlugin(NB).registerPlugin(VG).registerPlugin(US).registerPlugin(pz).registerPlugin(gU).registerPlugin(ko).registerPlugin(tz).registerPlugin(No).registerPlugin(pa).registerPlugin(RL).registerPlugin(ga).registerPlugin(eA).registerPlugin(jL).registerPlugin(nO).registerPlugin(_G).registerPlugin(Nv).registerPlugin(dL).registerPlugin(wL).registerPlugin(Iw).registerPlugin(wj).registerPlugin(PW).registerPlugin(Uz).registerPlugin(TV).registerPlugin(TU).registerPlugin(kG).registerPlugin(Yj).registerPlugin(Sa).registerPlugin(Pa).registerPlugin(ct).registerConstant("PlayerVersion","".concat("2.102.0","-embed"))},update:function(e,t){const n=e("IPlayerConfigPlugin"),r=n.get("videoId");ji.assertInstance(n),r!==t.videoId&&n.set("ts",Date.now()),n.setBulk([{key:"videoId",value:t.videoId},{key:"userId",value:t.userId}])},hooks:{onInitStarted:t=>{let{videoId:n}=t;va.Ug.emit(zi.L2.INIT,{videoId:n,clientId:(0,e.yk)()})},onInitCompleted:t=>{let{videoId:n}=t;va.Ug.emit(zi.L2.READY,{videoId:n,clientId:(0,e.yk)()})}}}),jG=UG((()=>{var e;return t.createElement(w,{forceThemeId:"dark2021"},t.createElement(C,{theme:"dark"},t.createElement(lz,{playbackComponent:Nv.Playback,controlsComponent:yz.Controls,settingsComponent:dL.VideoSettings,controlsInputComponents:(0,l.A)((0,l.A)({},yz.InputControls),{},{captionsButtonComponent:dp.CaptionButton,seasonsWidgetComponent:DH.SeasonsWidget,chaptersButtonComponent:wS.ChapterButton}),captionsComponent:dp.Captions,endScreenComponent:uy.EndScreen,pauseScreenComponent:Yy.PauseScreen,seasonsFullScreenComponent:DH.SeasonsFullScreen,stubComponent:pa.StubPluginView,infoLayerComponent:Oi.InfoLayerPluginView,advertComponent:lh.Advert,contextMenuComponent:pt.ControlsPlugin.IsNewControls?dL.ContextMenuSettings:qr.ContextMenu,video360Component:TV.Video360,activitiesComponent:Yj.Activities,statsForNerdsComponent:tz.StatsForNerds,notificationsComponent:CN.Notifications,sharePopupComponent:NB.SharePopup,shareButtonComponent:NB.ShareButton,counterHelper:null===(e=al())||void 0===e?void 0:e.counterHelper,channelSubscriptionComponent:fz.ChannelSubscription,removeAdsButtonComponent:_G.RemoveAdsButton,startScreenComponent:VG.StartScreen,highlightRutube:Uz.HighlightRutube,posterComponent:VB.Poster,snapshotButton:kG.SendSnapshotButton})))})),WG=()=>{const[e,n]=(0,t.useState)((0,r.uT)()),i=(()=>{const[e,n]=(0,t.useState)((0,r.DU)());return(0,t.useEffect)((()=>{const e=e=>{var t;if("string"!=typeof e.data)return;let r;try{r=JSON.parse(e.data)}catch(e){return}if("player:changeVideo"!==(null===(t=r)||void 0===t?void 0:t.type))return;const{id:i,params:o}=r.data,{hash:a}=o||{};n(i||a)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),e})(),o=()=>{n(!1)};return i?e?t.createElement(s,{handleStubPlay:o,backgroundImage:i?"/api/video/".concat(i,"/thumbnail/?redirect=1"):""}):t.createElement(jG,{videoId:i}):null};!function(e,t,n,r,i,o,a){e[r]=e[r]||[],null===(o=e[r])||void 0===o||o.push({"gtm.start":(new Date).getTime(),event:"gtm.js"});const s=t.getElementsByTagName(n)[0],l=t.createElement(n);l.async=!0,l.src="https://www.googletagmanager.com/gtm.js?id=".concat("GTM-PS8LV5W"),null===(a=s.parentNode)||void 0===a||a.insertBefore(l,s)}(window,document,"script","dataLayer"),console.info("Version: ".concat("2.102.0","-embed"));const zG=document.getElementById("app");(0,e.Vy)().catch((e=>console.info("initFingerprint catch",e))).then((()=>{if(zG){(0,n.H)(zG).render(t.createElement(WG,null))}})).catch((e=>console.info("Embed init failed",e)))})()})();